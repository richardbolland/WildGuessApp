(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function Op(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jm={exports:{}},sc={};var Nv;function HE(){if(Nv)return sc;Nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var b in l)b!=="key"&&(h[b]=l[b])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:h}}return sc.Fragment=t,sc.jsx=n,sc.jsxs=n,sc}var kv;function FE(){return kv||(kv=1,jm.exports=HE()),jm.exports}var E=FE(),Um={exports:{}},Kt={};var Lv;function GE(){if(Lv)return Kt;Lv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.iterator;function et(j){return j===null||typeof j!="object"?null:(j=k&&j[k]||j["@@iterator"],typeof j=="function"?j:null)}var at={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ct=Object.assign,pt={};function Lt(j,nt,dt){this.props=j,this.context=nt,this.refs=pt,this.updater=dt||at}Lt.prototype.isReactComponent={},Lt.prototype.setState=function(j,nt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,nt,"setState")},Lt.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Ut(){}Ut.prototype=Lt.prototype;function kt(j,nt,dt){this.props=j,this.context=nt,this.refs=pt,this.updater=dt||at}var Wt=kt.prototype=new Ut;Wt.constructor=kt,ct(Wt,Lt.prototype),Wt.isPureReactComponent=!0;var Re=Array.isArray;function le(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function V(j,nt,dt){var mt=dt.ref;return{$$typeof:r,type:j,key:nt,ref:mt!==void 0?mt:null,props:dt}}function H(j,nt){return V(j.type,nt,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function F(j){var nt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(dt){return nt[dt]})}var P=/\/+/g;function se(j,nt){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):nt.toString(36)}function Ke(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(le,le):(j.status="pending",j.then(function(nt){j.status==="pending"&&(j.status="fulfilled",j.value=nt)},function(nt){j.status==="pending"&&(j.status="rejected",j.reason=nt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,nt,dt,mt,Tt){var bt=typeof j;(bt==="undefined"||bt==="boolean")&&(j=null);var Ht=!1;if(j===null)Ht=!0;else switch(bt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(j.$$typeof){case r:case t:Ht=!0;break;case I:return Ht=j._init,K(Ht(j._payload),nt,dt,mt,Tt)}}if(Ht)return Tt=Tt(j),Ht=mt===""?"."+se(j,0):mt,Re(Tt)?(dt="",Ht!=null&&(dt=Ht.replace(P,"$&/")+"/"),K(Tt,nt,dt,"",function(cn){return cn})):Tt!=null&&(U(Tt)&&(Tt=H(Tt,dt+(Tt.key==null||j&&j.key===Tt.key?"":(""+Tt.key).replace(P,"$&/")+"/")+Ht)),nt.push(Tt)),1;Ht=0;var ke=mt===""?".":mt+":";if(Re(j))for(var Pe=0;Pe<j.length;Pe++)mt=j[Pe],bt=ke+se(mt,Pe),Ht+=K(mt,nt,dt,bt,Tt);else if(Pe=et(j),typeof Pe=="function")for(j=Pe.call(j),Pe=0;!(mt=j.next()).done;)mt=mt.value,bt=ke+se(mt,Pe++),Ht+=K(mt,nt,dt,bt,Tt);else if(bt==="object"){if(typeof j.then=="function")return K(Ke(j),nt,dt,mt,Tt);throw nt=String(j),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function _t(j,nt,dt){if(j==null)return j;var mt=[],Tt=0;return K(j,mt,"","",function(bt){return nt.call(dt,bt,Tt++)}),mt}function ft(j){if(j._status===-1){var nt=j._result;nt=nt(),nt.then(function(dt){(j._status===0||j._status===-1)&&(j._status=1,j._result=dt)},function(dt){(j._status===0||j._status===-1)&&(j._status=2,j._result=dt)}),j._status===-1&&(j._status=0,j._result=nt)}if(j._status===1)return j._result.default;throw j._result}var re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},xt={map:_t,forEach:function(j,nt,dt){_t(j,function(){nt.apply(this,arguments)},dt)},count:function(j){var nt=0;return _t(j,function(){nt++}),nt},toArray:function(j){return _t(j,function(nt){return nt})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Kt.Activity=N,Kt.Children=xt,Kt.Component=Lt,Kt.Fragment=n,Kt.Profiler=l,Kt.PureComponent=kt,Kt.StrictMode=a,Kt.Suspense=v,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Kt.cache=function(j){return function(){return j.apply(null,arguments)}},Kt.cacheSignal=function(){return null},Kt.cloneElement=function(j,nt,dt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var mt=ct({},j.props),Tt=j.key;if(nt!=null)for(bt in nt.key!==void 0&&(Tt=""+nt.key),nt)!M.call(nt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&nt.ref===void 0||(mt[bt]=nt[bt]);var bt=arguments.length-2;if(bt===1)mt.children=dt;else if(1<bt){for(var Ht=Array(bt),ke=0;ke<bt;ke++)Ht[ke]=arguments[ke+2];mt.children=Ht}return V(j.type,Tt,mt)},Kt.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},Kt.createElement=function(j,nt,dt){var mt,Tt={},bt=null;if(nt!=null)for(mt in nt.key!==void 0&&(bt=""+nt.key),nt)M.call(nt,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(Tt[mt]=nt[mt]);var Ht=arguments.length-2;if(Ht===1)Tt.children=dt;else if(1<Ht){for(var ke=Array(Ht),Pe=0;Pe<Ht;Pe++)ke[Pe]=arguments[Pe+2];Tt.children=ke}if(j&&j.defaultProps)for(mt in Ht=j.defaultProps,Ht)Tt[mt]===void 0&&(Tt[mt]=Ht[mt]);return V(j,bt,Tt)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(j){return{$$typeof:b,render:j}},Kt.isValidElement=U,Kt.lazy=function(j){return{$$typeof:I,_payload:{_status:-1,_result:j},_init:ft}},Kt.memo=function(j,nt){return{$$typeof:x,type:j,compare:nt===void 0?null:nt}},Kt.startTransition=function(j){var nt=D.T,dt={};D.T=dt;try{var mt=j(),Tt=D.S;Tt!==null&&Tt(dt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(le,re)}catch(bt){re(bt)}finally{nt!==null&&dt.types!==null&&(nt.types=dt.types),D.T=nt}},Kt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Kt.use=function(j){return D.H.use(j)},Kt.useActionState=function(j,nt,dt){return D.H.useActionState(j,nt,dt)},Kt.useCallback=function(j,nt){return D.H.useCallback(j,nt)},Kt.useContext=function(j){return D.H.useContext(j)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(j,nt){return D.H.useDeferredValue(j,nt)},Kt.useEffect=function(j,nt){return D.H.useEffect(j,nt)},Kt.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Kt.useId=function(){return D.H.useId()},Kt.useImperativeHandle=function(j,nt,dt){return D.H.useImperativeHandle(j,nt,dt)},Kt.useInsertionEffect=function(j,nt){return D.H.useInsertionEffect(j,nt)},Kt.useLayoutEffect=function(j,nt){return D.H.useLayoutEffect(j,nt)},Kt.useMemo=function(j,nt){return D.H.useMemo(j,nt)},Kt.useOptimistic=function(j,nt){return D.H.useOptimistic(j,nt)},Kt.useReducer=function(j,nt,dt){return D.H.useReducer(j,nt,dt)},Kt.useRef=function(j){return D.H.useRef(j)},Kt.useState=function(j){return D.H.useState(j)},Kt.useSyncExternalStore=function(j,nt,dt){return D.H.useSyncExternalStore(j,nt,dt)},Kt.useTransition=function(){return D.H.useTransition()},Kt.version="19.2.4",Kt}var Mv;function Pp(){return Mv||(Mv=1,Um.exports=GE()),Um.exports}var gt=Pp();const ZE=Op(gt);var Bm={exports:{}},rc={},qm={exports:{}},Hm={};var Ov;function KE(){return Ov||(Ov=1,(function(r){function t(K,_t){var ft=K.length;K.push(_t);t:for(;0<ft;){var re=ft-1>>>1,xt=K[re];if(0<l(xt,_t))K[re]=_t,K[ft]=xt,ft=re;else break t}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var _t=K[0],ft=K.pop();if(ft!==_t){K[0]=ft;t:for(var re=0,xt=K.length,j=xt>>>1;re<j;){var nt=2*(re+1)-1,dt=K[nt],mt=nt+1,Tt=K[mt];if(0>l(dt,ft))mt<xt&&0>l(Tt,dt)?(K[re]=Tt,K[mt]=ft,re=mt):(K[re]=dt,K[nt]=ft,re=nt);else if(mt<xt&&0>l(Tt,ft))K[re]=Tt,K[mt]=ft,re=mt;else break t}}return _t}function l(K,_t){var ft=K.sortIndex-_t.sortIndex;return ft!==0?ft:K.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var v=[],x=[],I=1,N=null,k=3,et=!1,at=!1,ct=!1,pt=!1,Lt=typeof setTimeout=="function"?setTimeout:null,Ut=typeof clearTimeout=="function"?clearTimeout:null,kt=typeof setImmediate<"u"?setImmediate:null;function Wt(K){for(var _t=n(x);_t!==null;){if(_t.callback===null)a(x);else if(_t.startTime<=K)a(x),_t.sortIndex=_t.expirationTime,t(v,_t);else break;_t=n(x)}}function Re(K){if(ct=!1,Wt(K),!at)if(n(v)!==null)at=!0,le||(le=!0,F());else{var _t=n(x);_t!==null&&Ke(Re,_t.startTime-K)}}var le=!1,D=-1,M=5,V=-1;function H(){return pt?!0:!(r.unstable_now()-V<M)}function U(){if(pt=!1,le){var K=r.unstable_now();V=K;var _t=!0;try{t:{at=!1,ct&&(ct=!1,Ut(D),D=-1),et=!0;var ft=k;try{e:{for(Wt(K),N=n(v);N!==null&&!(N.expirationTime>K&&H());){var re=N.callback;if(typeof re=="function"){N.callback=null,k=N.priorityLevel;var xt=re(N.expirationTime<=K);if(K=r.unstable_now(),typeof xt=="function"){N.callback=xt,Wt(K),_t=!0;break e}N===n(v)&&a(v),Wt(K)}else a(v);N=n(v)}if(N!==null)_t=!0;else{var j=n(x);j!==null&&Ke(Re,j.startTime-K),_t=!1}}break t}finally{N=null,k=ft,et=!1}_t=void 0}}finally{_t?F():le=!1}}}var F;if(typeof kt=="function")F=function(){kt(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,se=P.port2;P.port1.onmessage=U,F=function(){se.postMessage(null)}}else F=function(){Lt(U,0)};function Ke(K,_t){D=Lt(function(){K(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(K){switch(k){case 1:case 2:case 3:var _t=3;break;default:_t=k}var ft=k;k=_t;try{return K()}finally{k=ft}},r.unstable_requestPaint=function(){pt=!0},r.unstable_runWithPriority=function(K,_t){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=k;k=K;try{return _t()}finally{k=ft}},r.unstable_scheduleCallback=function(K,_t,ft){var re=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?re+ft:re):ft=re,K){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=ft+xt,K={id:I++,callback:_t,priorityLevel:K,startTime:ft,expirationTime:xt,sortIndex:-1},ft>re?(K.sortIndex=ft,t(x,K),n(v)===null&&K===n(x)&&(ct?(Ut(D),D=-1):ct=!0,Ke(Re,ft-re))):(K.sortIndex=xt,t(v,K),at||et||(at=!0,le||(le=!0,F()))),K},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(K){var _t=k;return function(){var ft=k;k=_t;try{return K.apply(this,arguments)}finally{k=ft}}}})(Hm)),Hm}var Pv;function YE(){return Pv||(Pv=1,qm.exports=KE()),qm.exports}var Fm={exports:{}},pi={};var Dv;function QE(){if(Dv)return pi;Dv=1;var r=Pp();function t(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)x+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,x,I){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:v,containerInfo:x,implementation:I}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pi.createPortal=function(v,x){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return h(v,x,null,I)},pi.flushSync=function(v){var x=p.T,I=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=x,a.p=I,a.d.f()}},pi.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,a.d.C(v,x))},pi.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},pi.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var I=x.as,N=b(I,x.crossOrigin),k=typeof x.integrity=="string"?x.integrity:void 0,et=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;I==="style"?a.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:N,integrity:k,fetchPriority:et}):I==="script"&&a.d.X(v,{crossOrigin:N,integrity:k,fetchPriority:et,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},pi.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var I=b(x.as,x.crossOrigin);a.d.M(v,{crossOrigin:I,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&a.d.M(v)},pi.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var I=x.as,N=b(I,x.crossOrigin);a.d.L(v,I,{crossOrigin:N,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},pi.preloadModule=function(v,x){if(typeof v=="string")if(x){var I=b(x.as,x.crossOrigin);a.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:I,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else a.d.m(v)},pi.requestFormReset=function(v){a.d.r(v)},pi.unstable_batchedUpdates=function(v,x){return v(x)},pi.useFormState=function(v,x,I){return p.H.useFormState(v,x,I)},pi.useFormStatus=function(){return p.H.useHostTransitionStatus()},pi.version="19.2.4",pi}var Vv;function XE(){if(Vv)return Fm.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Fm.exports=QE(),Fm.exports}var zv;function WE(){if(zv)return rc;zv=1;var r=YE(),t=Pp(),n=XE();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function b(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function x(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return v(m),e;if(g===c)return v(m),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,C=m.child;C;){if(C===o){T=!0,o=m,c=g;break}if(C===c){T=!0,c=m,o=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===o){T=!0,o=g,c=m;break}if(C===c){T=!0,c=g,o=m;break}C=C.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function I(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=I(e),i!==null)return i;e=e.sibling}return null}var N=Object.assign,k=Symbol.for("react.element"),et=Symbol.for("react.transitional.element"),at=Symbol.for("react.portal"),ct=Symbol.for("react.fragment"),pt=Symbol.for("react.strict_mode"),Lt=Symbol.for("react.profiler"),Ut=Symbol.for("react.consumer"),kt=Symbol.for("react.context"),Wt=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ct:return"Fragment";case Lt:return"Profiler";case pt:return"StrictMode";case Re:return"Suspense";case le:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case at:return"Portal";case kt:return e.displayName||"Context";case Ut:return(e._context.displayName||"Context")+".Consumer";case Wt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:se(e.type)||"Memo";case M:i=e._payload,e=e._init;try{return se(e(i))}catch{}}return null}var Ke=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},re=[],xt=-1;function j(e){return{current:e}}function nt(e){0>xt||(e.current=re[xt],re[xt]=null,xt--)}function dt(e,i){xt++,re[xt]=e.current,e.current=i}var mt=j(null),Tt=j(null),bt=j(null),Ht=j(null);function ke(e,i){switch(dt(bt,i),dt(Tt,e),dt(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?$y(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=$y(i),e=tv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(mt),dt(mt,e)}function Pe(){nt(mt),nt(Tt),nt(bt)}function cn(e){e.memoizedState!==null&&dt(Ht,e);var i=mt.current,o=tv(i,e.type);i!==o&&(dt(Tt,e),dt(mt,o))}function bs(e){Tt.current===e&&(nt(mt),nt(Tt)),Ht.current===e&&(nt(Ht),tc._currentValue=ft)}var Mi,ws;function Xn(e){if(Mi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Mi=i&&i[1]||"",ws=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+e+ws}var js=!1;function si(e,i){if(!e||js)return"";js=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(tt){var J=tt}Reflect.construct(e,[],lt)}else{try{lt.call()}catch(tt){J=tt}e.call(lt.prototype)}}else{try{throw Error()}catch(tt){J=tt}(lt=e())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var z=T.split(`
`),X=C.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===X.length)for(c=z.length-1,m=X.length-1;1<=c&&0<=m&&z[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==X[m]){var st=`
`+z[c].replace(" at new "," at ");return e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",e.displayName)),st}while(1<=c&&0<=m);break}}}finally{js=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Xn(o):""}function Ts(e,i){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==i&&i!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return si(e.type,!1);case 11:return si(e.type.render,!1);case 1:return si(e.type,!0);case 31:return Xn("Activity");default:return""}}function ri(e){try{var i="",o=null;do i+=Ts(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ye=Object.prototype.hasOwnProperty,on=r.unstable_scheduleCallback,Oi=r.unstable_cancelCallback,ga=r.unstable_shouldYield,ur=r.unstable_requestPaint,hn=r.unstable_now,Pi=r.unstable_getCurrentPriorityLevel,Bn=r.unstable_ImmediatePriority,bi=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,go=r.unstable_LowPriority,cr=r.unstable_IdlePriority,ns=r.log,_a=r.unstable_setDisableYieldValue,ai=null,nn=null;function Te(e){if(typeof ns=="function"&&_a(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ai,e)}catch{}}var Qe=Math.clz32?Math.clz32:_o,is=Math.log,Dr=Math.LN2;function _o(e){return e>>>=0,e===0?32:31-(is(e)/Dr|0)|0}var oi=256,Us=262144,Fe=4194304;function Jt(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wn(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?m=Jt(c):(T&=C,T!==0?m=Jt(T):o||(o=C&~e,o!==0&&(m=Jt(o))))):(C=c&~g,C!==0?m=Jt(C):T!==0?m=Jt(T):o||(o=c&~e,o!==0&&(m=Jt(o)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:m}function Gt(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Di(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(){var e=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),e}function Ti(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function ss(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hr(e,i,o,c,m,g){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,z=e.expirationTimes,X=e.hiddenUpdates;for(o=T&~o;0<o;){var st=31-Qe(o),lt=1<<st;C[st]=0,z[st]=-1;var J=X[st];if(J!==null)for(X[st]=null,st=0;st<J.length;st++){var tt=J[st];tt!==null&&(tt.lane&=-536870913)}o&=~lt}c!==0&&xs(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(T&~i))}function xs(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Qe(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function Vr(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-Qe(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function Bs(e,i){var o=i&-i;return o=(o&42)!==0?1:wn(o),(o&(e.suspendedLanes|i))!==0?0:o}function wn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function It(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tn(){var e=_t.p;return e!==0?e:(e=window.event,e===void 0?32:xv(e.type))}function fn(e,i){var o=_t.p;try{return _t.p=e,i()}finally{_t.p=o}}var li=Math.random().toString(36).slice(2),Ge="__reactFiber$"+li,sn="__reactProps$"+li,xi="__reactContainer$"+li,ui="__reactEvents$"+li,zr="__reactListeners$"+li,fr="__reactHandles$"+li,jr="__reactResources$"+li,Ei="__reactMarker$"+li;function Vi(e){delete e[Ge],delete e[sn],delete e[ui],delete e[zr],delete e[fr]}function ci(e){var i=e[Ge];if(i)return i;for(var o=e.parentNode;o;){if(i=o[xi]||o[Ge]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=ov(e);e!==null;){if(o=e[Ge])return o;e=ov(e)}return i}e=o,o=e.parentNode}return null}function Mn(e){if(e=e[Ge]||e[xi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function xn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function zi(e){var i=e[jr];return i||(i=e[jr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rn(e){e[Ei]=!0}var Xe=new Set,Ur={};function On(e,i){qn(e,i),qn(e+"Capture",i)}function qn(e,i){for(Ur[e]=i,e=0;e<i.length;e++)Xe.add(i[e])}var ji=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dr={},Ui={};function rs(e){return Ye.call(Ui,e)?!0:Ye.call(dr,e)?!1:ji.test(e)?Ui[e]=!0:(dr[e]=!0,!1)}function Qt(e,i,o){if(rs(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function ae(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function De(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qs(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function St(e){if(!e._valueTracker){var i=Pn(e)?"checked":"value";e._valueTracker=qs(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Pn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function Hn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bi=/[\n"\\]/g;function Le(e){return e.replace(Bi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hs(e,i,o,c,m,g,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Be(i)):e.value!==""+Be(i)&&(e.value=""+Be(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Si(e,T,Be(i)):o!=null?Si(e,T,Be(o)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Be(C):e.removeAttribute("name")}function Fs(e,i,o,c,m,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){St(e);return}o=o!=null?""+Be(o):"",i=i!=null?""+Be(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),St(e)}function Si(e,i,o){i==="number"&&Hn(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ce(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Be(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function qi(e,i,o){if(i!=null&&(i=""+Be(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Be(o):""}function hi(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Ke(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Be(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),St(e)}function dn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dn(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||Es.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function Ss(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&Dn(e,m,c)}else for(var g in i)i.hasOwnProperty(g)&&Dn(e,g,i[g])}function Ai(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ci=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function B(e){return Ci.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function it(){}var yt=null;function At(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $t=null,Et=null;function te(e){var i=Mn(e);if(i&&(e=i.stateNode)){var o=e[sn]||null;t:switch(e=i.stateNode,i.type){case"input":if(Hs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Le(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[sn]||null;if(!m)throw Error(a(90));Hs(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":qi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Ce(e,!!o.multiple,i,!1)}}}var Dt=!1;function ue(e,i,o){if(Dt)return e(i,o);Dt=!0;try{var c=e(i);return c}finally{if(Dt=!1,($t!==null||Et!==null)&&(Th(),$t&&(i=$t,e=Et,Et=$t=null,te(i),e)))for(i=0;i<e.length;i++)te(e[i])}}function We(e,i){var o=e.stateNode;if(o===null)return null;var c=o[sn]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Ve=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Ve)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Vn=!1}var Je=null,Zs=null,$e=null;function as(){if($e)return $e;var e,i=Zs,o=i.length,c,m="value"in Je?Je.value:Je.textContent,g=m.length;for(e=0;e<o&&i[e]===m[e];e++);var T=o-e;for(c=1;c<=T&&i[o-c]===m[g-c];c++);return $e=m.slice(e,1<c?1-c:void 0)}function mr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function os(){return!1}function En(e){function i(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?As:os,this.isPropagationStopped=os,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),i}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=En(ls),Ks=N({},ls,{view:0,detail:0}),oe=En(Ks),pr,Fn,fi,Br=N({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(pr=e.screenX-fi.screenX,Fn=e.screenY-fi.screenY):Fn=pr=0,fi=e),pr)},movementY:function(e){return"movementY"in e?e.movementY:Fn}}),yo=En(Br),Ys=N({},Br,{dataTransfer:0}),cl=En(Ys),vo=N({},Ks,{relatedTarget:0}),qr=En(vo),bo=N({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),va=En(bo),ba=N({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ii=En(ba),hl=N({},ls,{data:0}),us=En(hl),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wa(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=To[e])?!!i[e]:!1}function gr(){return wa}var Gn=N({},Ks,{key:function(e){if(e.key){var i=cs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xo=En(Gn),fl=N({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=En(fl),f=N({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),y=En(f),S=N({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=En(S),Y=N({},Br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$=En(Y),vt=N({},ls,{newState:0,oldState:0}),qt=En(vt),ve=[9,13,27,32],be=Ve&&"CompositionEvent"in window,qe=null;Ve&&"documentMode"in document&&(qe=document.documentMode);var Hi=Ve&&"TextEvent"in window&&!qe,Fi=Ve&&(!be||qe&&8<qe&&11>=qe),Ri=" ",hs=!1;function Hr(e,i){switch(e){case"keyup":return ve.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function fs(e,i){switch(e){case"compositionend":return Fr(i);case"keypress":return i.which!==32?null:(hs=!0,Ri);case"textInput":return e=i.data,e===Ri&&hs?null:e;default:return null}}function xa(e,i){if(Ta)return e==="compositionend"||!be&&Hr(e,i)?(e=as(),$e=Zs=Je=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fi&&i.locale!=="ko"?null:i.data;default:return null}}var id={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Is(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!id[e.type]:i==="textarea"}function jc(e,i,o,c){$t?Et?Et.push(c):Et=[c]:$t=c,i=Rh(i,"onChange"),0<i.length&&(o=new Cs("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var Rs=null,Eo=null;function So(e){Ky(e,0)}function Ao(e){var i=xn(e);if(ye(i))return e}function Co(e,i){if(e==="change")return i}var Uc=!1;if(Ve){var Ns;if(Ve){var Ea="oninput"in document;if(!Ea){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Ea=typeof Bc.oninput=="function"}Ns=Ea}else Ns=!1;Uc=Ns&&(!document.documentMode||9<document.documentMode)}function dl(){Rs&&(Rs.detachEvent("onpropertychange",qc),Eo=Rs=null)}function qc(e){if(e.propertyName==="value"&&Ao(Eo)){var i=[];jc(i,Eo,e,At(e)),ue(So,i)}}function Xs(e,i,o){e==="focusin"?(dl(),Rs=i,Eo=o,Rs.attachEvent("onpropertychange",qc)):e==="focusout"&&dl()}function sd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ao(Eo)}function Sa(e,i){if(e==="click")return Ao(i)}function rd(e,i){if(e==="input"||e==="change")return Ao(i)}function Ws(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Zn=typeof Object.is=="function"?Object.is:Ws;function Aa(e,i){if(Zn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ye.call(i,m)||!Zn(e[m],i[m]))return!1}return!0}function ml(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Io(e,i){var o=ml(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=ml(o)}}function pl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ro(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Hn(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=Hn(e.document)}return i}function _r(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var gl=Ve&&"documentMode"in document&&11>=document.documentMode,yr=null,_l=null,No=null,Ca=!1;function Hc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ca||yr==null||yr!==Hn(c)||(c=yr,"selectionStart"in c&&_r(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),No&&Aa(No,c)||(No=c,c=Rh(_l,"onSelect"),0<c.length&&(i=new Cs("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=yr)))}function vr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Ia={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},yl={},Fc={};Ve&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Kn(e){if(yl[e])return yl[e];if(!Ia[e])return e;var i=Ia[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Fc)return yl[e]=i[o];return e}var ko=Kn("animationend"),Gc=Kn("animationiteration"),Lo=Kn("animationstart"),ad=Kn("transitionrun"),Zc=Kn("transitionstart"),od=Kn("transitioncancel"),Ra=Kn("transitionend"),Kc=new Map,br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");br.push("scrollEnd");function Gi(e,i){Kc.set(e,i),On(i,[e])}var Mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zi=[],di=0,vl=0;function Oo(){for(var e=di,i=vl=di=0;i<e;){var o=Zi[i];Zi[i++]=null;var c=Zi[i];Zi[i++]=null;var m=Zi[i];Zi[i++]=null;var g=Zi[i];if(Zi[i++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&Na(o,m,g)}}function wr(e,i,o,c){Zi[di++]=e,Zi[di++]=i,Zi[di++]=o,Zi[di++]=c,vl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Tu(e,i,o,c){return wr(e,i,o,c),Po(e)}function ks(e,i){return wr(e,null,null,i),Po(e)}function Na(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&i!==null&&(m=31-Qe(o),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),g):null}function Po(e){if(50<Ku)throw Ku=0,um=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Gr={};function ld(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(e,i,o,c){return new ld(e,i,o,c)}function bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ls(e,i){var o=e.alternate;return o===null?(o=mi(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function xu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Do(e,i,o,c,m,g){var T=0;if(c=e,typeof e=="function")bl(e)&&(T=1);else if(typeof e=="string")T=kE(e,o,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case V:return e=mi(31,o,i,m),e.elementType=V,e.lanes=g,e;case ct:return Zr(o.children,m,g,i);case pt:T=8,m|=24;break;case Lt:return e=mi(12,o,i,m|2),e.elementType=Lt,e.lanes=g,e;case Re:return e=mi(13,o,i,m),e.elementType=Re,e.lanes=g,e;case le:return e=mi(19,o,i,m),e.elementType=le,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kt:T=10;break t;case Ut:T=9;break t;case Wt:T=11;break t;case D:T=14;break t;case M:T=16,c=null;break t}T=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=mi(T,o,i,m),i.elementType=e,i.type=c,i.lanes=g,i}function Zr(e,i,o,c){return e=mi(7,e,c,i),e.lanes=o,e}function wl(e,i,o){return e=mi(6,e,null,i),e.lanes=o,e}function Eu(e){var i=mi(18,null,null,0);return i.stateNode=e,i}function Su(e,i,o){return i=mi(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:ri(i)},s.set(e,i),i)}return{value:e,source:i,stack:ri(i)}}var d=[],_=0,w=null,A=0,O=[],Z=0,W=null,ot=1,wt="";function Ot(e,i){d[_++]=A,d[_++]=w,w=e,A=i}function ne(e,i,o){O[Z++]=ot,O[Z++]=wt,O[Z++]=W,W=e;var c=ot;e=wt;var m=32-Qe(c)-1;c&=~(1<<m),o+=1;var g=32-Qe(i)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,ot=1<<32-Qe(i)+m|o<<m|c,wt=g+e}else ot=1<<g|o<<m|c,wt=e}function zn(e){e.return!==null&&(Ot(e,1),ne(e,1,0))}function mn(e){for(;e===w;)w=d[--_],d[_]=null,A=d[--_],d[_]=null;for(;e===W;)W=O[--Z],O[Z]=null,wt=O[--Z],O[Z]=null,ot=O[--Z],O[Z]=null}function Ni(e,i){O[Z++]=ot,O[Z++]=wt,O[Z++]=W,ot=i.id,wt=i.overflow,W=e}var xe=null,Ee=null,ce=!1,Tr=null,Ki=!1,Tl=Error(a(519));function xr(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(u(i,e)),Tl}function Au(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Ge]=e,i[sn]=c,o){case"dialog":fe("cancel",i),fe("close",i);break;case"iframe":case"object":case"embed":fe("load",i);break;case"video":case"audio":for(o=0;o<Qu.length;o++)fe(Qu[o],i);break;case"source":fe("error",i);break;case"img":case"image":case"link":fe("error",i),fe("load",i);break;case"details":fe("toggle",i);break;case"input":fe("invalid",i),Fs(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":fe("invalid",i);break;case"textarea":fe("invalid",i),hi(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Wy(i.textContent,o)?(c.popover!=null&&(fe("beforetoggle",i),fe("toggle",i)),c.onScroll!=null&&fe("scroll",i),c.onScrollEnd!=null&&fe("scrollend",i),c.onClick!=null&&(i.onclick=it),i=!0):i=!1,i||xr(e,!0)}function ln(e){for(xe=e.return;xe;)switch(xe.tag){case 5:case 31:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:xe=xe.return}}function Js(e){if(e!==xe)return!1;if(!ce)return ln(e),ce=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Em(e.type,e.memoizedProps)),o=!o),o&&Ee&&xr(e),ln(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ee=av(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ee=av(e)}else i===27?(i=Ee,Fa(e.type)?(e=Rm,Rm=null,Ee=e):Ee=i):Ee=xe?Os(e.stateNode.nextSibling):null;return!0}function Kr(){Ee=xe=null,ce=!1}function Cu(){var e=Tr;return e!==null&&(Wi===null?Wi=e:Wi.push.apply(Wi,e),Tr=null),e}function Vo(e){Tr===null?Tr=[e]:Tr.push(e)}var zo=j(null),Er=null,$s=null;function ka(e,i,o){dt(zo,i._currentValue),i._currentValue=o}function Yr(e){e._currentValue=zo.current,nt(zo)}function ud(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function cd(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=m;for(var z=0;z<i.length;z++)if(C.context===i[z]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),ud(g.return,o,e),c||(T=null);break t}g=C.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(a(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),ud(T,o,e),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===e){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function xl(e,i,o,c){e=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=m.type;Zn(m.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(m===Ht.current){if(T=m.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(tc):e=[tc])}m=m.return}e!==null&&cd(i,e,o,c),i.flags|=262144}function Yc(e){for(e=e.firstContext;e!==null;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jo(e){Er=e,$s=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jn(e){return Dg(Er,e)}function Qc(e,i){return Er===null&&jo(e),Dg(e,i)}function Dg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},$s===null){if(e===null)throw Error(a(308));$s=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else $s=$s.next=i;return o}var Cx=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Ix=r.unstable_scheduleCallback,Rx=r.unstable_NormalPriority,Sn={$$typeof:kt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new Cx,data:new Map,refCount:0}}function Iu(e){e.refCount--,e.refCount===0&&Ix(Rx,function(){e.controller.abort()})}var Ru=null,fd=0,El=0,Sl=null;function Nx(e,i){if(Ru===null){var o=Ru=[];fd=0,El=pm(),Sl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return fd++,i.then(Vg,Vg),i}function Vg(){if(--fd===0&&Ru!==null){Sl!==null&&(Sl.status="fulfilled");var e=Ru;Ru=null,El=0,Sl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function kx(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var zg=K.S;K.S=function(e,i){wy=hn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Nx(e,i),zg!==null&&zg(e,i)};var Uo=j(null);function dd(){var e=Uo.current;return e!==null?e:He.pooledCache}function Xc(e,i){i===null?dt(Uo,Uo.current):dt(Uo,i.pool)}function jg(){var e=dd();return e===null?null:{parent:Sn._currentValue,pool:e}}var Al=Error(a(460)),md=Error(a(474)),Wc=Error(a(542)),Jc={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(it,it),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e;default:if(typeof i.status=="string")i.then(it,it);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e}throw qo=i,Al}}function Bo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(qo=o,Al):o}}var qo=null;function qg(){if(qo===null)throw Error(a(459));var e=qo;return qo=null,e}function Hg(e){if(e===Al||e===Wc)throw Error(a(483))}var Cl=null,Nu=0;function $c(e){var i=Nu;return Nu+=1,Cl===null&&(Cl=[]),Bg(Cl,e,i)}function ku(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function th(e,i){throw i.$$typeof===k?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Fg(e){function i(G,q){if(e){var Q=G.deletions;Q===null?(G.deletions=[q],G.flags|=16):Q.push(q)}}function o(G,q){if(!e)return null;for(;q!==null;)i(G,q),q=q.sibling;return null}function c(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function m(G,q){return G=Ls(G,q),G.index=0,G.sibling=null,G}function g(G,q,Q){return G.index=Q,e?(Q=G.alternate,Q!==null?(Q=Q.index,Q<q?(G.flags|=67108866,q):Q):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function T(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function C(G,q,Q,rt){return q===null||q.tag!==6?(q=wl(Q,G.mode,rt),q.return=G,q):(q=m(q,Q),q.return=G,q)}function z(G,q,Q,rt){var Vt=Q.type;return Vt===ct?st(G,q,Q.props.children,rt,Q.key):q!==null&&(q.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===M&&Bo(Vt)===q.type)?(q=m(q,Q.props),ku(q,Q),q.return=G,q):(q=Do(Q.type,Q.key,Q.props,null,G.mode,rt),ku(q,Q),q.return=G,q)}function X(G,q,Q,rt){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Su(Q,G.mode,rt),q.return=G,q):(q=m(q,Q.children||[]),q.return=G,q)}function st(G,q,Q,rt,Vt){return q===null||q.tag!==7?(q=Zr(Q,G.mode,rt,Vt),q.return=G,q):(q=m(q,Q),q.return=G,q)}function lt(G,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=wl(""+q,G.mode,Q),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case et:return Q=Do(q.type,q.key,q.props,null,G.mode,Q),ku(Q,q),Q.return=G,Q;case at:return q=Su(q,G.mode,Q),q.return=G,q;case M:return q=Bo(q),lt(G,q,Q)}if(Ke(q)||F(q))return q=Zr(q,G.mode,Q,null),q.return=G,q;if(typeof q.then=="function")return lt(G,$c(q),Q);if(q.$$typeof===kt)return lt(G,Qc(G,q),Q);th(G,q)}return null}function J(G,q,Q,rt){var Vt=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Vt!==null?null:C(G,q,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case et:return Q.key===Vt?z(G,q,Q,rt):null;case at:return Q.key===Vt?X(G,q,Q,rt):null;case M:return Q=Bo(Q),J(G,q,Q,rt)}if(Ke(Q)||F(Q))return Vt!==null?null:st(G,q,Q,rt,null);if(typeof Q.then=="function")return J(G,q,$c(Q),rt);if(Q.$$typeof===kt)return J(G,q,Qc(G,Q),rt);th(G,Q)}return null}function tt(G,q,Q,rt,Vt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return G=G.get(Q)||null,C(q,G,""+rt,Vt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case et:return G=G.get(rt.key===null?Q:rt.key)||null,z(q,G,rt,Vt);case at:return G=G.get(rt.key===null?Q:rt.key)||null,X(q,G,rt,Vt);case M:return rt=Bo(rt),tt(G,q,Q,rt,Vt)}if(Ke(rt)||F(rt))return G=G.get(Q)||null,st(q,G,rt,Vt,null);if(typeof rt.then=="function")return tt(G,q,Q,$c(rt),Vt);if(rt.$$typeof===kt)return tt(G,q,Q,Qc(q,rt),Vt);th(q,rt)}return null}function Nt(G,q,Q,rt){for(var Vt=null,Se=null,Mt=q,ie=q=0,me=null;Mt!==null&&ie<Q.length;ie++){Mt.index>ie?(me=Mt,Mt=null):me=Mt.sibling;var Ae=J(G,Mt,Q[ie],rt);if(Ae===null){Mt===null&&(Mt=me);break}e&&Mt&&Ae.alternate===null&&i(G,Mt),q=g(Ae,q,ie),Se===null?Vt=Ae:Se.sibling=Ae,Se=Ae,Mt=me}if(ie===Q.length)return o(G,Mt),ce&&Ot(G,ie),Vt;if(Mt===null){for(;ie<Q.length;ie++)Mt=lt(G,Q[ie],rt),Mt!==null&&(q=g(Mt,q,ie),Se===null?Vt=Mt:Se.sibling=Mt,Se=Mt);return ce&&Ot(G,ie),Vt}for(Mt=c(Mt);ie<Q.length;ie++)me=tt(Mt,G,ie,Q[ie],rt),me!==null&&(e&&me.alternate!==null&&Mt.delete(me.key===null?ie:me.key),q=g(me,q,ie),Se===null?Vt=me:Se.sibling=me,Se=me);return e&&Mt.forEach(function(Qa){return i(G,Qa)}),ce&&Ot(G,ie),Vt}function jt(G,q,Q,rt){if(Q==null)throw Error(a(151));for(var Vt=null,Se=null,Mt=q,ie=q=0,me=null,Ae=Q.next();Mt!==null&&!Ae.done;ie++,Ae=Q.next()){Mt.index>ie?(me=Mt,Mt=null):me=Mt.sibling;var Qa=J(G,Mt,Ae.value,rt);if(Qa===null){Mt===null&&(Mt=me);break}e&&Mt&&Qa.alternate===null&&i(G,Mt),q=g(Qa,q,ie),Se===null?Vt=Qa:Se.sibling=Qa,Se=Qa,Mt=me}if(Ae.done)return o(G,Mt),ce&&Ot(G,ie),Vt;if(Mt===null){for(;!Ae.done;ie++,Ae=Q.next())Ae=lt(G,Ae.value,rt),Ae!==null&&(q=g(Ae,q,ie),Se===null?Vt=Ae:Se.sibling=Ae,Se=Ae);return ce&&Ot(G,ie),Vt}for(Mt=c(Mt);!Ae.done;ie++,Ae=Q.next())Ae=tt(Mt,G,ie,Ae.value,rt),Ae!==null&&(e&&Ae.alternate!==null&&Mt.delete(Ae.key===null?ie:Ae.key),q=g(Ae,q,ie),Se===null?Vt=Ae:Se.sibling=Ae,Se=Ae);return e&&Mt.forEach(function(qE){return i(G,qE)}),ce&&Ot(G,ie),Vt}function Ue(G,q,Q,rt){if(typeof Q=="object"&&Q!==null&&Q.type===ct&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case et:t:{for(var Vt=Q.key;q!==null;){if(q.key===Vt){if(Vt=Q.type,Vt===ct){if(q.tag===7){o(G,q.sibling),rt=m(q,Q.props.children),rt.return=G,G=rt;break t}}else if(q.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===M&&Bo(Vt)===q.type){o(G,q.sibling),rt=m(q,Q.props),ku(rt,Q),rt.return=G,G=rt;break t}o(G,q);break}else i(G,q);q=q.sibling}Q.type===ct?(rt=Zr(Q.props.children,G.mode,rt,Q.key),rt.return=G,G=rt):(rt=Do(Q.type,Q.key,Q.props,null,G.mode,rt),ku(rt,Q),rt.return=G,G=rt)}return T(G);case at:t:{for(Vt=Q.key;q!==null;){if(q.key===Vt)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){o(G,q.sibling),rt=m(q,Q.children||[]),rt.return=G,G=rt;break t}else{o(G,q);break}else i(G,q);q=q.sibling}rt=Su(Q,G.mode,rt),rt.return=G,G=rt}return T(G);case M:return Q=Bo(Q),Ue(G,q,Q,rt)}if(Ke(Q))return Nt(G,q,Q,rt);if(F(Q)){if(Vt=F(Q),typeof Vt!="function")throw Error(a(150));return Q=Vt.call(Q),jt(G,q,Q,rt)}if(typeof Q.then=="function")return Ue(G,q,$c(Q),rt);if(Q.$$typeof===kt)return Ue(G,q,Qc(G,Q),rt);th(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(o(G,q.sibling),rt=m(q,Q),rt.return=G,G=rt):(o(G,q),rt=wl(Q,G.mode,rt),rt.return=G,G=rt),T(G)):o(G,q)}return function(G,q,Q,rt){try{Nu=0;var Vt=Ue(G,q,Q,rt);return Cl=null,Vt}catch(Mt){if(Mt===Al||Mt===Wc)throw Mt;var Se=mi(29,Mt,null,G.mode);return Se.lanes=rt,Se.return=G,Se}}}var Ho=Fg(!0),Gg=Fg(!1),La=!1;function pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ie&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=Po(e),Na(e,null,o),i}return wr(e,c,i,o),Po(e)}function Lu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Vr(e,o)}}function _d(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=i:g=g.next=i}else m=g=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var yd=!1;function Mu(){if(yd){var e=Sl;if(e!==null)throw e}}function Ou(e,i,o,c){yd=!1;var m=e.updateQueue;La=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var z=C,X=z.next;z.next=null,T===null?g=X:T.next=X,T=z;var st=e.alternate;st!==null&&(st=st.updateQueue,C=st.lastBaseUpdate,C!==T&&(C===null?st.firstBaseUpdate=X:C.next=X,st.lastBaseUpdate=z))}if(g!==null){var lt=m.baseState;T=0,st=X=z=null,C=g;do{var J=C.lane&-536870913,tt=J!==C.lane;if(tt?(de&J)===J:(c&J)===J){J!==0&&J===El&&(yd=!0),st!==null&&(st=st.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Nt=e,jt=C;J=i;var Ue=o;switch(jt.tag){case 1:if(Nt=jt.payload,typeof Nt=="function"){lt=Nt.call(Ue,lt,J);break t}lt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=jt.payload,J=typeof Nt=="function"?Nt.call(Ue,lt,J):Nt,J==null)break t;lt=N({},lt,J);break t;case 2:La=!0}}J=C.callback,J!==null&&(e.flags|=64,tt&&(e.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},st===null?(X=st=tt,z=lt):st=st.next=tt,T|=J;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;tt=C,C=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);st===null&&(z=lt),m.baseState=z,m.firstBaseUpdate=X,m.lastBaseUpdate=st,g===null&&(m.shared.lanes=0),ja|=T,e.lanes=T,e.memoizedState=lt}}function Zg(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Kg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Zg(o[e],i)}var Il=j(null),eh=j(0);function Yg(e,i){e=ia,dt(eh,e),dt(Il,i),ia=e|i.baseLanes}function vd(){dt(eh,ia),dt(Il,Il.current)}function bd(){ia=eh.current,nt(Il),nt(eh)}var ds=j(null),Ms=null;function Pa(e){var i=e.alternate;dt(_n,_n.current&1),dt(ds,e),Ms===null&&(i===null||Il.current!==null||i.memoizedState!==null)&&(Ms=e)}function wd(e){dt(_n,_n.current),dt(ds,e),Ms===null&&(Ms=e)}function Qg(e){e.tag===22?(dt(_n,_n.current),dt(ds,e),Ms===null&&(Ms=e)):Da()}function Da(){dt(_n,_n.current),dt(ds,ds.current)}function ms(e){nt(ds),Ms===e&&(Ms=null),nt(_n)}var _n=j(0);function nh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cm(o)||Im(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qr=0,Xt=null,ze=null,An=null,ih=!1,Rl=!1,Fo=!1,sh=0,Pu=0,Nl=null,Lx=0;function pn(){throw Error(a(321))}function Td(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Zn(e[o],i[o]))return!1;return!0}function xd(e,i,o,c,m,g){return Qr=g,Xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?L_:zd,Fo=!1,g=o(c,m),Fo=!1,Rl&&(g=Wg(i,o,c,m)),Xg(e),g}function Xg(e){K.H=zu;var i=ze!==null&&ze.next!==null;if(Qr=0,An=ze=Xt=null,ih=!1,Pu=0,Nl=null,i)throw Error(a(300));e===null||Cn||(e=e.dependencies,e!==null&&Yc(e)&&(Cn=!0))}function Wg(e,i,o,c){Xt=e;var m=0;do{if(Rl&&(Nl=null),Pu=0,Rl=!1,25<=m)throw Error(a(301));if(m+=1,An=ze=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=M_,g=i(o,c)}while(Rl);return g}function Mx(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Du(i):i,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(Xt.flags|=1024),i}function Ed(){var e=sh!==0;return sh=0,e}function Sd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Ad(e){if(ih){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ih=!1}Qr=0,An=ze=Xt=null,Rl=!1,Pu=sh=0,Nl=null}function ki(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Xt.memoizedState=An=e:An=An.next=e,An}function yn(){if(ze===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var i=An===null?Xt.memoizedState:An.next;if(i!==null)An=i,ze=e;else{if(e===null)throw Xt.alternate===null?Error(a(467)):Error(a(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},An===null?Xt.memoizedState=An=e:An=An.next=e}return An}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(e){var i=Pu;return Pu+=1,Nl===null&&(Nl=[]),e=Bg(Nl,e,i),i=Xt,(An===null?i.memoizedState:An.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?L_:zd),e}function ah(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Du(e);if(e.$$typeof===kt)return Jn(e)}throw Error(a(438,String(e)))}function Cd(e){var i=null,o=Xt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=rh(),Xt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=H;return i.index++,o}function Xr(e,i){return typeof i=="function"?i(e):i}function oh(e){var i=yn();return Id(i,ze,e)}function Id(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}i.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{i=m.next;var C=T=null,z=null,X=i,st=!1;do{var lt=X.lane&-536870913;if(lt!==X.lane?(de&lt)===lt:(Qr&lt)===lt){var J=X.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),lt===El&&(st=!0);else if((Qr&J)===J){X=X.next,J===El&&(st=!0);continue}else lt={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(C=z=lt,T=g):z=z.next=lt,Xt.lanes|=J,ja|=J;lt=X.action,Fo&&o(g,lt),g=X.hasEagerState?X.eagerState:o(g,lt)}else J={lane:lt,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(C=z=J,T=g):z=z.next=J,Xt.lanes|=lt,ja|=lt;X=X.next}while(X!==null&&X!==i);if(z===null?T=g:z.next=C,!Zn(g,e.memoizedState)&&(Cn=!0,st&&(o=Sl,o!==null)))throw o;e.memoizedState=g,e.baseState=T,e.baseQueue=z,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Rd(e){var i=yn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,g=i.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=e(g,T.action),T=T.next;while(T!==m);Zn(g,i.memoizedState)||(Cn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function Jg(e,i,o){var c=Xt,m=yn(),g=ce;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var T=!Zn((ze||m).memoizedState,o);if(T&&(m.memoizedState=o,Cn=!0),m=m.queue,Ld(e_.bind(null,c,m,e),[e]),m.getSnapshot!==i||T||An!==null&&An.memoizedState.tag&1){if(c.flags|=2048,kl(9,{destroy:void 0},t_.bind(null,c,m,o,i),null),He===null)throw Error(a(349));g||(Qr&127)!==0||$g(c,i,o)}return o}function $g(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Xt.updateQueue,i===null?(i=rh(),Xt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function t_(e,i,o,c){i.value=o,i.getSnapshot=c,n_(i)&&i_(e)}function e_(e,i,o){return o(function(){n_(i)&&i_(e)})}function n_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Zn(e,o)}catch{return!0}}function i_(e){var i=ks(e,2);i!==null&&Ji(i,e,2)}function Nd(e){var i=ki();if(typeof e=="function"){var o=e;if(e=o(),Fo){Te(!0);try{o()}finally{Te(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e},i}function s_(e,i,o,c){return e.baseState=o,Id(e,ze,typeof c=="function"?c:Xr)}function Ox(e,i,o,c,m){if(ch(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};K.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,r_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function r_(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var g=K.T,T={};K.T=T;try{var C=o(m,c),z=K.S;z!==null&&z(T,C),a_(e,i,C)}catch(X){kd(e,i,X)}finally{g!==null&&T.types!==null&&(g.types=T.types),K.T=g}}else try{g=o(m,c),a_(e,i,g)}catch(X){kd(e,i,X)}}function a_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){o_(e,i,c)},function(c){return kd(e,i,c)}):o_(e,i,o)}function o_(e,i,o){i.status="fulfilled",i.value=o,l_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,r_(e,o)))}function kd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,l_(i),i=i.next;while(i!==c)}e.action=null}function l_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function u_(e,i){return i}function c_(e,i){if(ce){var o=He.formState;if(o!==null){t:{var c=Xt;if(ce){if(Ee){e:{for(var m=Ee,g=Ki;m.nodeType!==8;){if(!g){m=null;break e}if(m=Os(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Ee=Os(m.nextSibling),c=m.data==="F!";break t}}xr(c)}c=!1}c&&(i=o[0])}}return o=ki(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:i},o.queue=c,o=R_.bind(null,Xt,c),c.dispatch=o,c=Nd(!1),g=Vd.bind(null,Xt,!1,c.queue),c=ki(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=Ox.bind(null,Xt,m,g,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function h_(e){var i=yn();return f_(i,ze,e)}function f_(e,i,o){if(i=Id(e,i,u_)[0],e=oh(Xr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Du(i)}catch(T){throw T===Al?Wc:T}else c=i;i=yn();var m=i.queue,g=m.dispatch;return o!==i.memoizedState&&(Xt.flags|=2048,kl(9,{destroy:void 0},Px.bind(null,m,o),null)),[c,g,e]}function Px(e,i){e.action=i}function d_(e){var i=yn(),o=ze;if(o!==null)return f_(i,o,e);yn(),i=i.memoizedState,o=yn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function kl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Xt.updateQueue,i===null&&(i=rh(),Xt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function m_(){return yn().memoizedState}function lh(e,i,o,c){var m=ki();Xt.flags|=e,m.memoizedState=kl(1|i,{destroy:void 0},o,c===void 0?null:c)}function uh(e,i,o,c){var m=yn();c=c===void 0?null:c;var g=m.memoizedState.inst;ze!==null&&c!==null&&Td(c,ze.memoizedState.deps)?m.memoizedState=kl(i,g,o,c):(Xt.flags|=e,m.memoizedState=kl(1|i,g,o,c))}function p_(e,i){lh(8390656,8,e,i)}function Ld(e,i){uh(2048,8,e,i)}function Dx(e){Xt.flags|=4;var i=Xt.updateQueue;if(i===null)i=rh(),Xt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function g_(e){var i=yn().memoizedState;return Dx({ref:i,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function __(e,i){return uh(4,2,e,i)}function y_(e,i){return uh(4,4,e,i)}function v_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function b_(e,i,o){o=o!=null?o.concat([e]):null,uh(4,4,v_.bind(null,i,e),o)}function Md(){}function w_(e,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Td(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function T_(e,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Td(i,c[1]))return c[0];if(c=e(),Fo){Te(!0);try{e()}finally{Te(!1)}}return o.memoizedState=[c,i],c}function Od(e,i,o){return o===void 0||(Qr&1073741824)!==0&&(de&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=xy(),Xt.lanes|=e,ja|=e,o)}function x_(e,i,o,c){return Zn(o,i)?o:Il.current!==null?(e=Od(e,o,c),Zn(e,i)||(Cn=!0),e):(Qr&42)===0||(Qr&1073741824)!==0&&(de&261930)===0?(Cn=!0,e.memoizedState=o):(e=xy(),Xt.lanes|=e,ja|=e,i)}function E_(e,i,o,c,m){var g=_t.p;_t.p=g!==0&&8>g?g:8;var T=K.T,C={};K.T=C,Vd(e,!1,i,o);try{var z=m(),X=K.S;if(X!==null&&X(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var st=kx(z,c);Vu(e,i,st,_s(e))}else Vu(e,i,c,_s(e))}catch(lt){Vu(e,i,{then:function(){},status:"rejected",reason:lt},_s())}finally{_t.p=g,T!==null&&C.types!==null&&(T.types=C.types),K.T=T}}function Vx(){}function Pd(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=S_(e).queue;E_(e,m,i,ft,o===null?Vx:function(){return A_(e),o(c)})}function S_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:ft},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function A_(e){var i=S_(e);i.next===null&&(i=e.alternate.memoizedState),Vu(e,i.next.queue,{},_s())}function Dd(){return Jn(tc)}function C_(){return yn().memoizedState}function I_(){return yn().memoizedState}function zx(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=_s();e=Ma(o);var c=Oa(i,e,o);c!==null&&(Ji(c,i,o),Lu(c,i,o)),i={cache:hd()},e.payload=i;return}i=i.return}}function jx(e,i,o){var c=_s();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ch(e)?N_(i,o):(o=Tu(e,i,o,c),o!==null&&(Ji(o,e,c),k_(o,i,c)))}function R_(e,i,o){var c=_s();Vu(e,i,o,c)}function Vu(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ch(e))N_(i,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,C=g(T,o);if(m.hasEagerState=!0,m.eagerState=C,Zn(C,T))return wr(e,i,m,0),He===null&&Oo(),!1}catch{}if(o=Tu(e,i,m,c),o!==null)return Ji(o,e,c),k_(o,i,c),!0}return!1}function Vd(e,i,o,c){if(c={lane:2,revertLane:pm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ch(e)){if(i)throw Error(a(479))}else i=Tu(e,o,c,2),i!==null&&Ji(i,e,2)}function ch(e){var i=e.alternate;return e===Xt||i!==null&&i===Xt}function N_(e,i){Rl=ih=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function k_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Vr(e,o)}}var zu={readContext:Jn,use:ah,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};zu.useEffectEvent=pn;var L_={readContext:Jn,use:ah,useCallback:function(e,i){return ki().memoizedState=[e,i===void 0?null:i],e},useContext:Jn,useEffect:p_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,lh(4194308,4,v_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return lh(4194308,4,e,i)},useInsertionEffect:function(e,i){lh(4,2,e,i)},useMemo:function(e,i){var o=ki();i=i===void 0?null:i;var c=e();if(Fo){Te(!0);try{e()}finally{Te(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=ki();if(o!==void 0){var m=o(i);if(Fo){Te(!0);try{o(i)}finally{Te(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=jx.bind(null,Xt,e),[c.memoizedState,e]},useRef:function(e){var i=ki();return e={current:e},i.memoizedState=e},useState:function(e){e=Nd(e);var i=e.queue,o=R_.bind(null,Xt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Md,useDeferredValue:function(e,i){var o=ki();return Od(o,e,i)},useTransition:function(){var e=Nd(!1);return e=E_.bind(null,Xt,e.queue,!0,!1),ki().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Xt,m=ki();if(ce){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),He===null)throw Error(a(349));(de&127)!==0||$g(c,i,o)}m.memoizedState=o;var g={value:o,getSnapshot:i};return m.queue=g,p_(e_.bind(null,c,g,e),[e]),c.flags|=2048,kl(9,{destroy:void 0},t_.bind(null,c,g,o,i),null),o},useId:function(){var e=ki(),i=He.identifierPrefix;if(ce){var o=wt,c=ot;o=(c&~(1<<32-Qe(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=sh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Lx++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Dd,useFormState:c_,useActionState:c_,useOptimistic:function(e){var i=ki();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Vd.bind(null,Xt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Cd,useCacheRefresh:function(){return ki().memoizedState=zx.bind(null,Xt)},useEffectEvent:function(e){var i=ki(),o={impl:e};return i.memoizedState=o,function(){if((Ie&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},zd={readContext:Jn,use:ah,useCallback:w_,useContext:Jn,useEffect:Ld,useImperativeHandle:b_,useInsertionEffect:__,useLayoutEffect:y_,useMemo:T_,useReducer:oh,useRef:m_,useState:function(){return oh(Xr)},useDebugValue:Md,useDeferredValue:function(e,i){var o=yn();return x_(o,ze.memoizedState,e,i)},useTransition:function(){var e=oh(Xr)[0],i=yn().memoizedState;return[typeof e=="boolean"?e:Du(e),i]},useSyncExternalStore:Jg,useId:C_,useHostTransitionStatus:Dd,useFormState:h_,useActionState:h_,useOptimistic:function(e,i){var o=yn();return s_(o,ze,e,i)},useMemoCache:Cd,useCacheRefresh:I_};zd.useEffectEvent=g_;var M_={readContext:Jn,use:ah,useCallback:w_,useContext:Jn,useEffect:Ld,useImperativeHandle:b_,useInsertionEffect:__,useLayoutEffect:y_,useMemo:T_,useReducer:Rd,useRef:m_,useState:function(){return Rd(Xr)},useDebugValue:Md,useDeferredValue:function(e,i){var o=yn();return ze===null?Od(o,e,i):x_(o,ze.memoizedState,e,i)},useTransition:function(){var e=Rd(Xr)[0],i=yn().memoizedState;return[typeof e=="boolean"?e:Du(e),i]},useSyncExternalStore:Jg,useId:C_,useHostTransitionStatus:Dd,useFormState:d_,useActionState:d_,useOptimistic:function(e,i){var o=yn();return ze!==null?s_(o,ze,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Cd,useCacheRefresh:I_};M_.useEffectEvent=g_;function jd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:N({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Ud={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=_s(),m=Ma(c);m.payload=i,o!=null&&(m.callback=o),i=Oa(e,m,c),i!==null&&(Ji(i,e,c),Lu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=_s(),m=Ma(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Oa(e,m,c),i!==null&&(Ji(i,e,c),Lu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=_s(),c=Ma(o);c.tag=2,i!=null&&(c.callback=i),i=Oa(e,c,o),i!==null&&(Ji(i,e,o),Lu(i,e,o))}};function O_(e,i,o,c,m,g,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,T):i.prototype&&i.prototype.isPureReactComponent?!Aa(o,c)||!Aa(m,g):!0}function P_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Ud.enqueueReplaceState(i,i.state,null)}function Go(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=N({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function D_(e){Mo(e)}function V_(e){console.error(e)}function z_(e){Mo(e)}function hh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function j_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Bd(e,i,o){return o=Ma(o),o.tag=3,o.payload={element:null},o.callback=function(){hh(e,i)},o}function U_(e){return e=Ma(e),e.tag=3,e}function B_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){j_(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){j_(i,o,c),typeof m!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function Ux(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&xl(i,o,m,!0),o=ds.current,o!==null){switch(o.tag){case 31:case 13:return Ms===null?xh():o.alternate===null&&gn===0&&(gn=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Jc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),fm(e,c,m)),!1;case 22:return o.flags|=65536,c===Jc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),fm(e,c,m)),!1}throw Error(a(435,o.tag))}return fm(e,c,m),xh(),!1}if(ce)return i=ds.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Tl&&(e=Error(a(422),{cause:c}),Vo(u(e,o)))):(c!==Tl&&(i=Error(a(423),{cause:c}),Vo(u(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,o),m=Bd(e.stateNode,c,m),_d(e,m),gn!==4&&(gn=2)),!1;var g=Error(a(520),{cause:c});if(g=u(g,o),Zu===null?Zu=[g]:Zu.push(g),gn!==4&&(gn=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Bd(o.stateNode,c,e),_d(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ua===null||!Ua.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=U_(m),B_(m,e,o,c),_d(o,m),!1}o=o.return}while(o!==null);return!1}var qd=Error(a(461)),Cn=!1;function $n(e,i,o,c){i.child=e===null?Gg(i,null,o,c):Ho(i,e.child,o,c)}function q_(e,i,o,c,m){o=o.render;var g=i.ref;if("ref"in c){var T={};for(var C in c)C!=="ref"&&(T[C]=c[C])}else T=c;return jo(i),c=xd(e,i,o,T,g,m),C=Ed(),e!==null&&!Cn?(Sd(e,i,m),Wr(e,i,m)):(ce&&C&&zn(i),i.flags|=1,$n(e,i,c,m),i.child)}function H_(e,i,o,c,m){if(e===null){var g=o.type;return typeof g=="function"&&!bl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,F_(e,i,g,c,m)):(e=Do(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Xd(e,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Aa,o(T,c)&&e.ref===i.ref)return Wr(e,i,m)}return i.flags|=1,e=Ls(g,c),e.ref=i.ref,e.return=i,i.child=e}function F_(e,i,o,c,m){if(e!==null){var g=e.memoizedProps;if(Aa(g,c)&&e.ref===i.ref)if(Cn=!1,i.pendingProps=c=g,Xd(e,m))(e.flags&131072)!==0&&(Cn=!0);else return i.lanes=e.lanes,Wr(e,i,m)}return Hd(e,i,o,c,m)}function G_(e,i,o,c){var m=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,i.child=null;return Z_(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xc(i,g!==null?g.cachePool:null),g!==null?Yg(i,g):vd(),Qg(i);else return c=i.lanes=536870912,Z_(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Xc(i,g.cachePool),Yg(i,g),Da(),i.memoizedState=null):(e!==null&&Xc(i,null),vd(),Da());return $n(e,i,m,o),i.child}function ju(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Z_(e,i,o,c,m){var g=dd();return g=g===null?null:{parent:Sn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&Xc(i,null),vd(),Qg(i),e!==null&&xl(e,i,c,!0),i.childLanes=m,null}function fh(e,i){return i=mh({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function K_(e,i,o){return Ho(i,e.child,null,o),e=fh(i,i.pendingProps),e.flags|=2,ms(i),i.memoizedState=null,e}function Bx(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(ce){if(c.mode==="hidden")return e=fh(i,c),i.lanes=536870912,ju(null,e);if(wd(i),(e=Ee)?(e=rv(e,Ki),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:W!==null?{id:ot,overflow:wt}:null,retryLane:536870912,hydrationErrors:null},o=Eu(e),o.return=i,i.child=o,xe=i,Ee=null)):e=null,e===null)throw xr(i);return i.lanes=536870912,null}return fh(i,c)}var g=e.memoizedState;if(g!==null){var T=g.dehydrated;if(wd(i),m)if(i.flags&256)i.flags&=-257,i=K_(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Cn||xl(e,i,o,!1),m=(o&e.childLanes)!==0,Cn||m){if(c=He,c!==null&&(T=Bs(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ks(e,T),Ji(c,e,T),qd;xh(),i=K_(e,i,o)}else e=g.treeContext,Ee=Os(T.nextSibling),xe=i,ce=!0,Tr=null,Ki=!1,e!==null&&Ni(i,e),i=fh(i,c),i.flags|=4096;return i}return e=Ls(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function dh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Hd(e,i,o,c,m){return jo(i),o=xd(e,i,o,c,void 0,m),c=Ed(),e!==null&&!Cn?(Sd(e,i,m),Wr(e,i,m)):(ce&&c&&zn(i),i.flags|=1,$n(e,i,o,m),i.child)}function Y_(e,i,o,c,m,g){return jo(i),i.updateQueue=null,o=Wg(i,c,o,m),Xg(e),c=Ed(),e!==null&&!Cn?(Sd(e,i,g),Wr(e,i,g)):(ce&&c&&zn(i),i.flags|=1,$n(e,i,o,g),i.child)}function Q_(e,i,o,c,m){if(jo(i),i.stateNode===null){var g=Gr,T=o.contextType;typeof T=="object"&&T!==null&&(g=Jn(T)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ud,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},pd(i),T=o.contextType,g.context=typeof T=="object"&&T!==null?Jn(T):Gr,g.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(jd(i,o,T,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Ud.enqueueReplaceState(g,g.state,null),Ou(i,c,g,m),Mu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var C=i.memoizedProps,z=Go(o,C);g.props=z;var X=g.context,st=o.contextType;T=Gr,typeof st=="object"&&st!==null&&(T=Jn(st));var lt=o.getDerivedStateFromProps;st=typeof lt=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,st||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||X!==T)&&P_(i,g,c,T),La=!1;var J=i.memoizedState;g.state=J,Ou(i,c,g,m),Mu(),X=i.memoizedState,C||J!==X||La?(typeof lt=="function"&&(jd(i,o,lt,c),X=i.memoizedState),(z=La||O_(i,o,z,c,J,X,T))?(st||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=X),g.props=c,g.state=X,g.context=T,c=z):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,gd(e,i),T=i.memoizedProps,st=Go(o,T),g.props=st,lt=i.pendingProps,J=g.context,X=o.contextType,z=Gr,typeof X=="object"&&X!==null&&(z=Jn(X)),C=o.getDerivedStateFromProps,(X=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==lt||J!==z)&&P_(i,g,c,z),La=!1,J=i.memoizedState,g.state=J,Ou(i,c,g,m),Mu();var tt=i.memoizedState;T!==lt||J!==tt||La||e!==null&&e.dependencies!==null&&Yc(e.dependencies)?(typeof C=="function"&&(jd(i,o,C,c),tt=i.memoizedState),(st=La||O_(i,o,st,c,J,tt,z)||e!==null&&e.dependencies!==null&&Yc(e.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,tt,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,tt,z)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=tt),g.props=c,g.state=tt,g.context=z,c=st):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,dh(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=Ho(i,e.child,null,m),i.child=Ho(i,null,o,m)):$n(e,i,o,m),i.memoizedState=g.state,e=i.child):e=Wr(e,i,m),e}function X_(e,i,o,c){return Kr(),i.flags|=256,$n(e,i,o,c),i.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(e){return{baseLanes:e,cachePool:jg()}}function Zd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=gs),e}function W_(e,i,o){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=e!==null&&e.memoizedState===null?!1:(_n.current&2)!==0),T&&(m=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(ce){if(m?Pa(i):Da(),(e=Ee)?(e=rv(e,Ki),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:W!==null?{id:ot,overflow:wt}:null,retryLane:536870912,hydrationErrors:null},o=Eu(e),o.return=i,i.child=o,xe=i,Ee=null)):e=null,e===null)throw xr(i);return Im(e)?i.lanes=32:i.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(Da(),m=i.mode,C=mh({mode:"hidden",children:C},m),c=Zr(c,m,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,c=i.child,c.memoizedState=Gd(o),c.childLanes=Zd(e,T,o),i.memoizedState=Fd,ju(null,c)):(Pa(i),Kd(i,C))}var z=e.memoizedState;if(z!==null&&(C=z.dehydrated,C!==null)){if(g)i.flags&256?(Pa(i),i.flags&=-257,i=Yd(e,i,o)):i.memoizedState!==null?(Da(),i.child=e.child,i.flags|=128,i=null):(Da(),C=c.fallback,m=i.mode,c=mh({mode:"visible",children:c.children},m),C=Zr(C,m,o,null),C.flags|=2,c.return=i,C.return=i,c.sibling=C,i.child=c,Ho(i,e.child,null,o),c=i.child,c.memoizedState=Gd(o),c.childLanes=Zd(e,T,o),i.memoizedState=Fd,i=ju(null,c));else if(Pa(i),Im(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var X=T.dgst;T=X,c=Error(a(419)),c.stack="",c.digest=T,Vo({value:c,source:null,stack:null}),i=Yd(e,i,o)}else if(Cn||xl(e,i,o,!1),T=(o&e.childLanes)!==0,Cn||T){if(T=He,T!==null&&(c=Bs(T,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,ks(e,c),Ji(T,e,c),qd;Cm(C)||xh(),i=Yd(e,i,o)}else Cm(C)?(i.flags|=192,i.child=e.child,i=null):(e=z.treeContext,Ee=Os(C.nextSibling),xe=i,ce=!0,Tr=null,Ki=!1,e!==null&&Ni(i,e),i=Kd(i,c.children),i.flags|=4096);return i}return m?(Da(),C=c.fallback,m=i.mode,z=e.child,X=z.sibling,c=Ls(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,X!==null?C=Ls(X,C):(C=Zr(C,m,o,null),C.flags|=2),C.return=i,c.return=i,c.sibling=C,i.child=c,ju(null,c),c=i.child,C=e.child.memoizedState,C===null?C=Gd(o):(m=C.cachePool,m!==null?(z=Sn._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=jg(),C={baseLanes:C.baseLanes|o,cachePool:m}),c.memoizedState=C,c.childLanes=Zd(e,T,o),i.memoizedState=Fd,ju(e.child,c)):(Pa(i),o=e.child,e=o.sibling,o=Ls(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function Kd(e,i){return i=mh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function mh(e,i){return e=mi(22,e,null,i),e.lanes=0,e}function Yd(e,i,o){return Ho(i,e.child,null,o),e=Kd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function J_(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),ud(e.return,i,o)}function Qd(e,i,o,c,m,g){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function $_(e,i,o){var c=i.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=_n.current,C=(T&2)!==0;if(C?(T=T&1|2,i.flags|=128):T&=1,dt(_n,T),$n(e,i,c,o),c=ce?A:0,!C&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J_(e,o,i);else if(e.tag===19)J_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&nh(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Qd(i,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&nh(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Qd(i,!0,o,null,g,c);break;case"together":Qd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Wr(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),ja|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(xl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=Ls(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Ls(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Xd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Yc(e)))}function qx(e,i,o){switch(i.tag){case 3:ke(i,i.stateNode.containerInfo),ka(i,Sn,e.memoizedState.cache),Kr();break;case 27:case 5:cn(i);break;case 4:ke(i,i.stateNode.containerInfo);break;case 10:ka(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Pa(i),i.flags|=128,null):(o&i.child.childLanes)!==0?W_(e,i,o):(Pa(i),e=Wr(e,i,o),e!==null?e.sibling:null);Pa(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(xl(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return $_(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),dt(_n,_n.current),c)break;return null;case 22:return i.lanes=0,G_(e,i,o,i.pendingProps);case 24:ka(i,Sn,e.memoizedState.cache)}return Wr(e,i,o)}function ty(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Cn=!0;else{if(!Xd(e,o)&&(i.flags&128)===0)return Cn=!1,qx(e,i,o);Cn=(e.flags&131072)!==0}else Cn=!1,ce&&(i.flags&1048576)!==0&&ne(i,A,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Bo(i.elementType),i.type=e,typeof e=="function")bl(e)?(c=Go(e,c),i.tag=1,i=Q_(null,i,e,c,o)):(i.tag=0,i=Hd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===Wt){i.tag=11,i=q_(null,i,e,c,o);break t}else if(m===D){i.tag=14,i=H_(null,i,e,c,o);break t}}throw i=se(e)||e,Error(a(306,i,""))}}return i;case 0:return Hd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Go(c,i.pendingProps),Q_(e,i,c,m,o);case 3:t:{if(ke(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,gd(e,i),Ou(i,c,null,o);var T=i.memoizedState;if(c=T.cache,ka(i,Sn,c),c!==g.cache&&cd(i,[Sn],o,!0),Mu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=X_(e,i,c,o);break t}else if(c!==m){m=u(Error(a(424)),i),Vo(m),i=X_(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ee=Os(e.firstChild),xe=i,ce=!0,Tr=null,Ki=!0,o=Gg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Kr(),c===m){i=Wr(e,i,o);break t}$n(e,i,c,o)}i=i.child}return i;case 26:return dh(e,i),e===null?(o=hv(i.type,null,i.pendingProps,null))?i.memoizedState=o:ce||(o=i.type,e=i.pendingProps,c=Nh(bt.current).createElement(o),c[Ge]=i,c[sn]=e,ti(c,o,e),rn(c),i.stateNode=c):i.memoizedState=hv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cn(i),e===null&&ce&&(c=i.stateNode=lv(i.type,i.pendingProps,bt.current),xe=i,Ki=!0,m=Ee,Fa(i.type)?(Rm=m,Ee=Os(c.firstChild)):Ee=m),$n(e,i,i.pendingProps.children,o),dh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&ce&&((m=c=Ee)&&(c=yE(c,i.type,i.pendingProps,Ki),c!==null?(i.stateNode=c,xe=i,Ee=Os(c.firstChild),Ki=!1,m=!0):m=!1),m||xr(i)),cn(i),m=i.type,g=i.pendingProps,T=e!==null?e.memoizedProps:null,c=g.children,Em(m,g)?c=null:T!==null&&Em(m,T)&&(i.flags|=32),i.memoizedState!==null&&(m=xd(e,i,Mx,null,null,o),tc._currentValue=m),dh(e,i),$n(e,i,c,o),i.child;case 6:return e===null&&ce&&((e=o=Ee)&&(o=vE(o,i.pendingProps,Ki),o!==null?(i.stateNode=o,xe=i,Ee=null,e=!0):e=!1),e||xr(i)),null;case 13:return W_(e,i,o);case 4:return ke(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Ho(i,null,c,o):$n(e,i,c,o),i.child;case 11:return q_(e,i,i.type,i.pendingProps,o);case 7:return $n(e,i,i.pendingProps,o),i.child;case 8:return $n(e,i,i.pendingProps.children,o),i.child;case 12:return $n(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,ka(i,i.type,c.value),$n(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,jo(i),m=Jn(m),c=c(m),i.flags|=1,$n(e,i,c,o),i.child;case 14:return H_(e,i,i.type,i.pendingProps,o);case 15:return F_(e,i,i.type,i.pendingProps,o);case 19:return $_(e,i,o);case 31:return Bx(e,i,o);case 22:return G_(e,i,o,i.pendingProps);case 24:return jo(i),c=Jn(Sn),e===null?(m=dd(),m===null&&(m=He,g=hd(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),i.memoizedState={parent:c,cache:m},pd(i),ka(i,Sn,m)):((e.lanes&o)!==0&&(gd(e,i),Ou(i,null,null,o),Mu()),m=e.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),ka(i,Sn,c)):(c=g.cache,ka(i,Sn,c),c!==m.cache&&cd(i,[Sn],o,!0))),$n(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Jr(e){e.flags|=4}function Wd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw qo=Jc,md}else e.flags&=-16777217}function ey(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gv(i))if(Cy())e.flags|=8192;else throw qo=Jc,md}function ph(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ya():536870912,e.lanes|=i,Pl|=i)}function Uu(e,i){if(!ce)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function tn(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function Hx(e,i,o){var c=i.pendingProps;switch(mn(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(i),null;case 1:return tn(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Yr(Sn),Pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Js(i)?Jr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cu())),tn(i),null;case 26:var m=i.type,g=i.memoizedState;return e===null?(Jr(i),g!==null?(tn(i),ey(i,g)):(tn(i),Wd(i,m,null,c,o))):g?g!==e.memoizedState?(Jr(i),tn(i),ey(i,g)):(tn(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Jr(i),tn(i),Wd(i,m,e,c,o)),null;case 27:if(bs(i),o=bt.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Jr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return tn(i),null}e=mt.current,Js(i)?Au(i):(e=lv(m,c,o),i.stateNode=e,Jr(i))}return tn(i),null;case 5:if(bs(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Jr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return tn(i),null}if(g=mt.current,Js(i))Au(i);else{var T=Nh(bt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Ge]=i,g[sn]=c;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;t:switch(ti(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Jr(i)}}return tn(i),Wd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Jr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=bt.current,Js(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=xe,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Ge]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Wy(e.nodeValue,o)),e||xr(i,!0)}else e=Nh(e).createTextNode(c),e[Ge]=i,i.stateNode=e}return tn(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=Js(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ge]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tn(i),e=!1}else o=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(ms(i),i):(ms(i),null);if((i.flags&128)!==0)throw Error(a(558))}return tn(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Js(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Ge]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tn(i),m=!1}else m=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(ms(i),i):(ms(i),null)}return ms(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),ph(i,i.updateQueue),tn(i),null);case 4:return Pe(),e===null&&vm(i.stateNode.containerInfo),tn(i),null;case 10:return Yr(i.type),tn(i),null;case 19:if(nt(_n),c=i.memoizedState,c===null)return tn(i),null;if(m=(i.flags&128)!==0,g=c.rendering,g===null)if(m)Uu(c,!1);else{if(gn!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=nh(e),g!==null){for(i.flags|=128,Uu(c,!1),e=g.updateQueue,i.updateQueue=e,ph(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)xu(o,e),o=o.sibling;return dt(_n,_n.current&1|2),ce&&Ot(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&hn()>bh&&(i.flags|=128,m=!0,Uu(c,!1),i.lanes=4194304)}else{if(!m)if(e=nh(g),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,ph(i,e),Uu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!ce)return tn(i),null}else 2*hn()-c.renderingStartTime>bh&&o!==536870912&&(i.flags|=128,m=!0,Uu(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=hn(),e.sibling=null,o=_n.current,dt(_n,m?o&1|2:o&1),ce&&Ot(i,c.treeForkCount),e):(tn(i),null);case 22:case 23:return ms(i),bd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(tn(i),i.subtreeFlags&6&&(i.flags|=8192)):tn(i),o=i.updateQueue,o!==null&&ph(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&nt(Uo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Yr(Sn),tn(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Fx(e,i){switch(mn(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Yr(Sn),Pe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return bs(i),null;case 31:if(i.memoizedState!==null){if(ms(i),i.alternate===null)throw Error(a(340));Kr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(ms(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Kr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(_n),null;case 4:return Pe(),null;case 10:return Yr(i.type),null;case 22:case 23:return ms(i),bd(),e!==null&&nt(Uo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Yr(Sn),null;case 25:return null;default:return null}}function ny(e,i){switch(mn(i),i.tag){case 3:Yr(Sn),Pe();break;case 26:case 27:case 5:bs(i);break;case 4:Pe();break;case 31:i.memoizedState!==null&&ms(i);break;case 13:ms(i);break;case 19:nt(_n);break;case 10:Yr(i.type);break;case 22:case 23:ms(i),bd(),e!==null&&nt(Uo);break;case 24:Yr(Sn)}}function Bu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(C){Oe(i,i.return,C)}}function Va(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var T=c.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,m=i;var z=o,X=C;try{X()}catch(st){Oe(m,z,st)}}}c=c.next}while(c!==g)}}catch(st){Oe(i,i.return,st)}}function iy(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Kg(i,o)}catch(c){Oe(e,e.return,c)}}}function sy(e,i,o){o.props=Go(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Oe(e,i,c)}}function qu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Oe(e,i,m)}}function Sr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Oe(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Oe(e,i,m)}else o.current=null}function ry(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Oe(e,e.return,m)}}function Jd(e,i,o){try{var c=e.stateNode;fE(c,e.type,o,i),c[sn]=i}catch(m){Oe(e,e.return,m)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fa(e.type)||e.tag===4}function $d(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tm(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=it));else if(c!==4&&(c===27&&Fa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(tm(e,i,o),e=e.sibling;e!==null;)tm(e,i,o),e=e.sibling}function gh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Fa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(gh(e,i,o),e=e.sibling;e!==null;)gh(e,i,o),e=e.sibling}function oy(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);ti(i,c,o),i[Ge]=e,i[sn]=o}catch(g){Oe(e,e.return,g)}}var $r=!1,In=!1,em=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function Gx(e,i){if(e=e.containerInfo,Tm=Vh,e=Ro(e),_r(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,C=-1,z=-1,X=0,st=0,lt=e,J=null;e:for(;;){for(var tt;lt!==o||m!==0&&lt.nodeType!==3||(C=T+m),lt!==g||c!==0&&lt.nodeType!==3||(z=T+c),lt.nodeType===3&&(T+=lt.nodeValue.length),(tt=lt.firstChild)!==null;)J=lt,lt=tt;for(;;){if(lt===e)break e;if(J===o&&++X===m&&(C=T),J===g&&++st===c&&(z=T),(tt=lt.nextSibling)!==null)break;lt=J,J=lt.parentNode}lt=tt}o=C===-1||z===-1?null:{start:C,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(xm={focusedElem:e,selectionRange:o},Vh=!1,Yn=i;Yn!==null;)if(i=Yn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Yn=e;else for(;Yn!==null;){switch(i=Yn,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Nt=Go(o.type,m);e=c.getSnapshotBeforeUpdate(Nt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(jt){Oe(o,o.return,jt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Am(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Am(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Yn=e;break}Yn=i.return}}function uy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ea(e,o),c&4&&Bu(5,o);break;case 1:if(ea(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){Oe(o,o.return,T)}else{var m=Go(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Oe(o,o.return,T)}}c&64&&iy(o),c&512&&qu(o,o.return);break;case 3:if(ea(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Kg(e,i)}catch(T){Oe(o,o.return,T)}}break;case 27:i===null&&c&4&&oy(o);case 26:case 5:ea(e,o),i===null&&c&4&&ry(o),c&512&&qu(o,o.return);break;case 12:ea(e,o);break;case 31:ea(e,o),c&4&&fy(e,o);break;case 13:ea(e,o),c&4&&dy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=tE.bind(null,o),bE(e,o))));break;case 22:if(c=o.memoizedState!==null||$r,!c){i=i!==null&&i.memoizedState!==null||In,m=$r;var g=In;$r=c,(In=i)&&!g?na(e,o,(o.subtreeFlags&8772)!==0):ea(e,o),$r=m,In=g}break;case 30:break;default:ea(e,o)}}function cy(e){var i=e.alternate;i!==null&&(e.alternate=null,cy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Vi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var an=null,Yi=!1;function ta(e,i,o){for(o=o.child;o!==null;)hy(e,i,o),o=o.sibling}function hy(e,i,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 26:In||Sr(o,i),ta(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:In||Sr(o,i);var c=an,m=Yi;Fa(o.type)&&(an=o.stateNode,Yi=!1),ta(e,i,o),Wu(o.stateNode),an=c,Yi=m;break;case 5:In||Sr(o,i);case 6:if(c=an,m=Yi,an=null,ta(e,i,o),an=c,Yi=m,an!==null)if(Yi)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(o.stateNode)}catch(g){Oe(o,i,g)}else try{an.removeChild(o.stateNode)}catch(g){Oe(o,i,g)}break;case 18:an!==null&&(Yi?(e=an,iv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Hl(e)):iv(an,o.stateNode));break;case 4:c=an,m=Yi,an=o.stateNode.containerInfo,Yi=!0,ta(e,i,o),an=c,Yi=m;break;case 0:case 11:case 14:case 15:Va(2,o,i),In||Va(4,o,i),ta(e,i,o);break;case 1:In||(Sr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&sy(o,i,c)),ta(e,i,o);break;case 21:ta(e,i,o);break;case 22:In=(c=In)||o.memoizedState!==null,ta(e,i,o),In=c;break;default:ta(e,i,o)}}function fy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hl(e)}catch(o){Oe(i,i.return,o)}}}function dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hl(e)}catch(o){Oe(i,i.return,o)}}function Zx(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ly),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ly),i;default:throw Error(a(435,e.tag))}}function _h(e,i){var o=Zx(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=eE.bind(null,e,c);c.then(m,m)}})}function Qi(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=e,T=i,C=T;t:for(;C!==null;){switch(C.tag){case 27:if(Fa(C.type)){an=C.stateNode,Yi=!1;break t}break;case 5:an=C.stateNode,Yi=!1;break t;case 3:case 4:an=C.stateNode.containerInfo,Yi=!0;break t}C=C.return}if(an===null)throw Error(a(160));hy(g,T,m),an=null,Yi=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)my(i,e),i=i.sibling}var tr=null;function my(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qi(i,e),Xi(e),c&4&&(Va(3,e,e.return),Bu(3,e),Va(5,e,e.return));break;case 1:Qi(i,e),Xi(e),c&512&&(In||o===null||Sr(o,o.return)),c&64&&$r&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=tr;if(Qi(i,e),Xi(e),c&512&&(In||o===null||Sr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ei]||g[Ge]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),ti(g,c,o),g[Ge]=e,rn(g),c=g;break t;case"link":var T=mv("link","href",m).get(c+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break e}}g=m.createElement(c),ti(g,c,o),m.head.appendChild(g);break;case"meta":if(T=mv("meta","content",m).get(c+(o.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break e}}g=m.createElement(c),ti(g,c,o),m.head.appendChild(g);break;default:throw Error(a(468,c))}g[Ge]=e,rn(g),c=g}e.stateNode=c}else pv(m,e.type,e.stateNode);else e.stateNode=dv(m,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?pv(m,e.type,e.stateNode):dv(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Jd(e,e.memoizedProps,o.memoizedProps)}break;case 27:Qi(i,e),Xi(e),c&512&&(In||o===null||Sr(o,o.return)),o!==null&&c&4&&Jd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Qi(i,e),Xi(e),c&512&&(In||o===null||Sr(o,o.return)),e.flags&32){m=e.stateNode;try{dn(m,"")}catch(Nt){Oe(e,e.return,Nt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Jd(e,m,o!==null?o.memoizedProps:m)),c&1024&&(em=!0);break;case 6:if(Qi(i,e),Xi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Nt){Oe(e,e.return,Nt)}}break;case 3:if(Mh=null,m=tr,tr=kh(i.containerInfo),Qi(i,e),tr=m,Xi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(Nt){Oe(e,e.return,Nt)}em&&(em=!1,py(e));break;case 4:c=tr,tr=kh(e.stateNode.containerInfo),Qi(i,e),Xi(e),tr=c;break;case 12:Qi(i,e),Xi(e);break;case 31:Qi(i,e),Xi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,_h(e,c)));break;case 13:Qi(i,e),Xi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vh=hn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,_h(e,c)));break;case 22:m=e.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,X=$r,st=In;if($r=X||m,In=st||z,Qi(i,e),In=st,$r=X,Xi(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||z||$r||In||Zo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(g=z.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=z.stateNode;var lt=z.memoizedProps.style,J=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Nt){Oe(z,z.return,Nt)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(Nt){Oe(z,z.return,Nt)}}}else if(i.tag===18){if(o===null){z=i;try{var tt=z.stateNode;m?sv(tt,!0):sv(z.stateNode,!1)}catch(Nt){Oe(z,z.return,Nt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,_h(e,o))));break;case 19:Qi(i,e),Xi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,_h(e,c)));break;case 30:break;case 21:break;default:Qi(i,e),Xi(e)}}function Xi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(ay(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,g=$d(e);gh(e,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(dn(T,""),o.flags&=-33);var C=$d(e);gh(e,C,T);break;case 3:case 4:var z=o.stateNode.containerInfo,X=$d(e);tm(e,X,z);break;default:throw Error(a(161))}}catch(st){Oe(e,e.return,st)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ea(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)uy(e,i.alternate,i),i=i.sibling}function Zo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Va(4,i,i.return),Zo(i);break;case 1:Sr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&sy(i,i.return,o),Zo(i);break;case 27:Wu(i.stateNode);case 26:case 5:Sr(i,i.return),Zo(i);break;case 22:i.memoizedState===null&&Zo(i);break;case 30:Zo(i);break;default:Zo(i)}e=e.sibling}}function na(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:na(m,g,o),Bu(4,g);break;case 1:if(na(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){Oe(c,c.return,X)}if(c=g,m=c.updateQueue,m!==null){var C=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)Zg(z[m],C)}catch(X){Oe(c,c.return,X)}}o&&T&64&&iy(g),qu(g,g.return);break;case 27:oy(g);case 26:case 5:na(m,g,o),o&&c===null&&T&4&&ry(g),qu(g,g.return);break;case 12:na(m,g,o);break;case 31:na(m,g,o),o&&T&4&&fy(m,g);break;case 13:na(m,g,o),o&&T&4&&dy(m,g);break;case 22:g.memoizedState===null&&na(m,g,o),qu(g,g.return);break;case 30:break;default:na(m,g,o)}i=i.sibling}}function nm(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Iu(o))}function im(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Iu(e))}function er(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gy(e,i,o,c),i=i.sibling}function gy(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:er(e,i,o,c),m&2048&&Bu(9,i);break;case 1:er(e,i,o,c);break;case 3:er(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Iu(e)));break;case 12:if(m&2048){er(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){Oe(i,i.return,z)}}else er(e,i,o,c);break;case 31:er(e,i,o,c);break;case 13:er(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?er(e,i,o,c):Hu(e,i):g._visibility&2?er(e,i,o,c):(g._visibility|=2,Ll(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&nm(T,i);break;case 24:er(e,i,o,c),m&2048&&im(i.alternate,i);break;default:er(e,i,o,c)}}function Ll(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,T=i,C=o,z=c,X=T.flags;switch(T.tag){case 0:case 11:case 15:Ll(g,T,C,z,m),Bu(8,T);break;case 23:break;case 22:var st=T.stateNode;T.memoizedState!==null?st._visibility&2?Ll(g,T,C,z,m):Hu(g,T):(st._visibility|=2,Ll(g,T,C,z,m)),m&&X&2048&&nm(T.alternate,T);break;case 24:Ll(g,T,C,z,m),m&&X&2048&&im(T.alternate,T);break;default:Ll(g,T,C,z,m)}i=i.sibling}}function Hu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Hu(o,c),m&2048&&nm(c.alternate,c);break;case 24:Hu(o,c),m&2048&&im(c.alternate,c);break;default:Hu(o,c)}i=i.sibling}}var Fu=8192;function Ml(e,i,o){if(e.subtreeFlags&Fu)for(e=e.child;e!==null;)_y(e,i,o),e=e.sibling}function _y(e,i,o){switch(e.tag){case 26:Ml(e,i,o),e.flags&Fu&&e.memoizedState!==null&&LE(o,tr,e.memoizedState,e.memoizedProps);break;case 5:Ml(e,i,o);break;case 3:case 4:var c=tr;tr=kh(e.stateNode.containerInfo),Ml(e,i,o),tr=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Fu,Fu=16777216,Ml(e,i,o),Fu=c):Ml(e,i,o));break;default:Ml(e,i,o)}}function yy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Gu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yn=c,by(c,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:Gu(e),e.flags&2048&&Va(9,e,e.return);break;case 3:Gu(e);break;case 12:Gu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,yh(e)):Gu(e);break;default:Gu(e)}}function yh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yn=c,by(c,e)}yy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Va(8,i,i.return),yh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,yh(i));break;default:yh(i)}e=e.sibling}}function by(e,i){for(;Yn!==null;){var o=Yn;switch(o.tag){case 0:case 11:case 15:Va(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Iu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yn=c;else t:for(o=e;Yn!==null;){c=Yn;var m=c.sibling,g=c.return;if(cy(c),c===o){Yn=null;break t}if(m!==null){m.return=g,Yn=m;break t}Yn=g}}}var Kx={getCacheForType:function(e){var i=Jn(Sn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Jn(Sn).controller.signal}},Yx=typeof WeakMap=="function"?WeakMap:Map,Ie=0,He=null,he=null,de=0,Me=0,ps=null,za=!1,Ol=!1,sm=!1,ia=0,gn=0,ja=0,Ko=0,rm=0,gs=0,Pl=0,Zu=null,Wi=null,am=!1,vh=0,wy=0,bh=1/0,wh=null,Ua=null,jn=0,Ba=null,Dl=null,sa=0,om=0,lm=null,Ty=null,Ku=0,um=null;function _s(){return(Ie&2)!==0&&de!==0?de&-de:K.T!==null?pm():Tn()}function xy(){if(gs===0)if((de&536870912)===0||ce){var e=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),gs=e}else gs=536870912;return e=ds.current,e!==null&&(e.flags|=32),gs}function Ji(e,i,o){(e===He&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Vl(e,0),qa(e,de,gs,!1)),ss(e,o),((Ie&2)===0||e!==He)&&(e===He&&((Ie&2)===0&&(Ko|=o),gn===4&&qa(e,de,gs,!1)),Ar(e))}function Ey(e,i,o){if((Ie&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||Gt(e,i),m=c?Wx(e,i):hm(e,i,!0),g=c;do{if(m===0){Ol&&!c&&qa(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!Qx(o)){m=hm(e,i,!1),g=!1;continue}if(m===2){if(g=i,e.errorRecoveryDisabledLanes&g)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var C=e;m=Zu;var z=C.current.memoizedState.isDehydrated;if(z&&(Vl(C,T).flags|=256),T=hm(C,T,!1),T!==2){if(sm&&!z){C.errorRecoveryDisabledLanes|=g,Ko|=g,m=4;break t}g=Wi,Wi=m,g!==null&&(Wi===null?Wi=g:Wi.push.apply(Wi,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){Vl(e,0),qa(e,i,0,!0);break}t:{switch(c=e,g=m,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:qa(c,i,gs,!za);break t;case 2:Wi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=vh+300-hn(),10<m)){if(qa(c,i,gs,!za),Wn(c,0,!0)!==0)break t;sa=i,c.timeoutHandle=ev(Sy.bind(null,c,o,Wi,wh,am,i,gs,Ko,Pl,za,g,"Throttled",-0,0),m);break t}Sy(c,o,Wi,wh,am,i,gs,Ko,Pl,za,g,null,-0,0)}}break}while(!0);Ar(e)}function Sy(e,i,o,c,m,g,T,C,z,X,st,lt,J,tt){if(e.timeoutHandle=-1,lt=i.subtreeFlags,lt&8192||(lt&16785408)===16785408){lt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:it},_y(i,g,lt);var Nt=(g&62914560)===g?vh-hn():(g&4194048)===g?wy-hn():0;if(Nt=ME(lt,Nt),Nt!==null){sa=g,e.cancelPendingCommit=Nt(My.bind(null,e,i,g,o,c,m,T,C,z,st,lt,null,J,tt)),qa(e,g,T,!X);return}}My(e,i,g,o,c,m,T,C,z)}function Qx(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Zn(g(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qa(e,i,o,c){i&=~rm,i&=~Ko,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var g=31-Qe(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&xs(e,o,i)}function Th(){return(Ie&6)===0?(Yu(0),!1):!0}function cm(){if(he!==null){if(Me===0)var e=he.return;else e=he,$s=Er=null,Ad(e),Cl=null,Nu=0,e=he;for(;e!==null;)ny(e.alternate,e),e=e.return;he=null}}function Vl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,pE(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),sa=0,cm(),He=e,he=o=Ls(e.current,null),de=i,Me=0,ps=null,za=!1,Ol=Gt(e,i),sm=!1,Pl=gs=rm=Ko=ja=gn=0,Wi=Zu=null,am=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-Qe(c),g=1<<m;i|=e[m],c&=~g}return ia=i,Oo(),o}function Ay(e,i){Xt=null,K.H=zu,i===Al||i===Wc?(i=qg(),Me=3):i===md?(i=qg(),Me=4):Me=i===qd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ps=i,he===null&&(gn=1,hh(e,u(i,e.current)))}function Cy(){var e=ds.current;return e===null?!0:(de&4194048)===de?Ms===null:(de&62914560)===de||(de&536870912)!==0?e===Ms:!1}function Iy(){var e=K.H;return K.H=zu,e===null?zu:e}function Ry(){var e=K.A;return K.A=Kx,e}function xh(){gn=4,za||(de&4194048)!==de&&ds.current!==null||(Ol=!0),(ja&134217727)===0&&(Ko&134217727)===0||He===null||qa(He,de,gs,!1)}function hm(e,i,o){var c=Ie;Ie|=2;var m=Iy(),g=Ry();(He!==e||de!==i)&&(wh=null,Vl(e,i)),i=!1;var T=gn;t:do try{if(Me!==0&&he!==null){var C=he,z=ps;switch(Me){case 8:cm(),T=6;break t;case 3:case 2:case 9:case 6:ds.current===null&&(i=!0);var X=Me;if(Me=0,ps=null,zl(e,C,z,X),o&&Ol){T=0;break t}break;default:X=Me,Me=0,ps=null,zl(e,C,z,X)}}Xx(),T=gn;break}catch(st){Ay(e,st)}while(!0);return i&&e.shellSuspendCounter++,$s=Er=null,Ie=c,K.H=m,K.A=g,he===null&&(He=null,de=0,Oo()),T}function Xx(){for(;he!==null;)Ny(he)}function Wx(e,i){var o=Ie;Ie|=2;var c=Iy(),m=Ry();He!==e||de!==i?(wh=null,bh=hn()+500,Vl(e,i)):Ol=Gt(e,i);t:do try{if(Me!==0&&he!==null){i=he;var g=ps;e:switch(Me){case 1:Me=0,ps=null,zl(e,i,g,1);break;case 2:case 9:if(Ug(g)){Me=0,ps=null,ky(i);break}i=function(){Me!==2&&Me!==9||He!==e||(Me=7),Ar(e)},g.then(i,i);break t;case 3:Me=7;break t;case 4:Me=5;break t;case 7:Ug(g)?(Me=0,ps=null,ky(i)):(Me=0,ps=null,zl(e,i,g,7));break;case 5:var T=null;switch(he.tag){case 26:T=he.memoizedState;case 5:case 27:var C=he;if(T?gv(T):C.stateNode.complete){Me=0,ps=null;var z=C.sibling;if(z!==null)he=z;else{var X=C.return;X!==null?(he=X,Eh(X)):he=null}break e}}Me=0,ps=null,zl(e,i,g,5);break;case 6:Me=0,ps=null,zl(e,i,g,6);break;case 8:cm(),gn=6;break t;default:throw Error(a(462))}}Jx();break}catch(st){Ay(e,st)}while(!0);return $s=Er=null,K.H=c,K.A=m,Ie=o,he!==null?0:(He=null,de=0,Oo(),gn)}function Jx(){for(;he!==null&&!ga();)Ny(he)}function Ny(e){var i=ty(e.alternate,e,ia);e.memoizedProps=e.pendingProps,i===null?Eh(e):he=i}function ky(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Y_(o,i,i.pendingProps,i.type,void 0,de);break;case 11:i=Y_(o,i,i.pendingProps,i.type.render,i.ref,de);break;case 5:Ad(i);default:ny(o,i),i=he=xu(i,ia),i=ty(o,i,ia)}e.memoizedProps=e.pendingProps,i===null?Eh(e):he=i}function zl(e,i,o,c){$s=Er=null,Ad(i),Cl=null,Nu=0;var m=i.return;try{if(Ux(e,m,i,o,de)){gn=1,hh(e,u(o,e.current)),he=null;return}}catch(g){if(m!==null)throw he=m,g;gn=1,hh(e,u(o,e.current)),he=null;return}i.flags&32768?(ce||c===1?e=!0:Ol||(de&536870912)!==0?e=!1:(za=e=!0,(c===2||c===9||c===3||c===6)&&(c=ds.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ly(i,e)):Eh(i)}function Eh(e){var i=e;do{if((i.flags&32768)!==0){Ly(i,za);return}e=i.return;var o=Hx(i.alternate,i,ia);if(o!==null){he=o;return}if(i=i.sibling,i!==null){he=i;return}he=i=e}while(i!==null);gn===0&&(gn=5)}function Ly(e,i){do{var o=Fx(e.alternate,e);if(o!==null){o.flags&=32767,he=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){he=e;return}he=e=o}while(e!==null);gn=6,he=null}function My(e,i,o,c,m,g,T,C,z){e.cancelPendingCommit=null;do Sh();while(jn!==0);if((Ie&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=vl,hr(e,o,g,T,C,z),e===He&&(he=He=null,de=0),Dl=i,Ba=e,sa=o,om=g,lm=m,Ty=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nE(wi,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,m=_t.p,_t.p=2,T=Ie,Ie|=4;try{Gx(e,i,o)}finally{Ie=T,_t.p=m,K.T=c}}jn=1,Oy(),Py(),Dy()}}function Oy(){if(jn===1){jn=0;var e=Ba,i=Dl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=_t.p;_t.p=2;var m=Ie;Ie|=4;try{my(i,e);var g=xm,T=Ro(e.containerInfo),C=g.focusedElem,z=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&pl(C.ownerDocument.documentElement,C)){if(z!==null&&_r(C)){var X=z.start,st=z.end;if(st===void 0&&(st=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(st,C.value.length);else{var lt=C.ownerDocument||document,J=lt&&lt.defaultView||window;if(J.getSelection){var tt=J.getSelection(),Nt=C.textContent.length,jt=Math.min(z.start,Nt),Ue=z.end===void 0?jt:Math.min(z.end,Nt);!tt.extend&&jt>Ue&&(T=Ue,Ue=jt,jt=T);var G=Io(C,jt),q=Io(C,Ue);if(G&&q&&(tt.rangeCount!==1||tt.anchorNode!==G.node||tt.anchorOffset!==G.offset||tt.focusNode!==q.node||tt.focusOffset!==q.offset)){var Q=lt.createRange();Q.setStart(G.node,G.offset),tt.removeAllRanges(),jt>Ue?(tt.addRange(Q),tt.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),tt.addRange(Q))}}}}for(lt=[],tt=C;tt=tt.parentNode;)tt.nodeType===1&&lt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<lt.length;C++){var rt=lt[C];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Vh=!!Tm,xm=Tm=null}finally{Ie=m,_t.p=c,K.T=o}}e.current=i,jn=2}}function Py(){if(jn===2){jn=0;var e=Ba,i=Dl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=_t.p;_t.p=2;var m=Ie;Ie|=4;try{uy(e,i.alternate,i)}finally{Ie=m,_t.p=c,K.T=o}}jn=3}}function Dy(){if(jn===4||jn===3){jn=0,ur();var e=Ba,i=Dl,o=sa,c=Ty;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jn=5:(jn=0,Dl=Ba=null,Vy(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Ua=null),It(o),i=i.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ai,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=K.T,m=_t.p,_t.p=2,K.T=null;try{for(var g=e.onRecoverableError,T=0;T<c.length;T++){var C=c[T];g(C.value,{componentStack:C.stack})}}finally{K.T=i,_t.p=m}}(sa&3)!==0&&Sh(),Ar(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===um?Ku++:(Ku=0,um=e):Ku=0,Yu(0)}}function Vy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Iu(i)))}function Sh(){return Oy(),Py(),Dy(),zy()}function zy(){if(jn!==5)return!1;var e=Ba,i=om;om=0;var o=It(sa),c=K.T,m=_t.p;try{_t.p=32>o?32:o,K.T=null,o=lm,lm=null;var g=Ba,T=sa;if(jn=0,Dl=Ba=null,sa=0,(Ie&6)!==0)throw Error(a(331));var C=Ie;if(Ie|=4,vy(g.current),gy(g,g.current,T,o),Ie=C,Yu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ai,g)}catch{}return!0}finally{_t.p=m,K.T=c,Vy(e,i)}}function jy(e,i,o){i=u(o,i),i=Bd(e.stateNode,i,2),e=Oa(e,i,2),e!==null&&(ss(e,2),Ar(e))}function Oe(e,i,o){if(e.tag===3)jy(e,e,o);else for(;i!==null;){if(i.tag===3){jy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ua===null||!Ua.has(c))){e=u(o,e),o=U_(2),c=Oa(i,o,2),c!==null&&(B_(o,c,i,e),ss(c,2),Ar(c));break}}i=i.return}}function fm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Yx;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(sm=!0,m.add(o),e=$x.bind(null,e,i,o),i.then(e,e))}function $x(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,He===e&&(de&o)===o&&(gn===4||gn===3&&(de&62914560)===de&&300>hn()-vh?(Ie&2)===0&&Vl(e,0):rm|=o,Pl===de&&(Pl=0)),Ar(e)}function Uy(e,i){i===0&&(i=ya()),e=ks(e,i),e!==null&&(ss(e,i),Ar(e))}function tE(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Uy(e,o)}function eE(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Uy(e,o)}function nE(e,i){return on(e,i)}var Ah=null,jl=null,dm=!1,Ch=!1,mm=!1,Ha=0;function Ar(e){e!==jl&&e.next===null&&(jl===null?Ah=jl=e:jl=jl.next=e),Ch=!0,dm||(dm=!0,sE())}function Yu(e,i){if(!mm&&Ch){mm=!0;do for(var o=!1,c=Ah;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-Qe(42|e)+1)-1,g&=m&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Fy(c,g))}else g=de,g=Wn(c,c===He?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Gt(c,g)||(o=!0,Fy(c,g));c=c.next}while(o);mm=!1}}function iE(){By()}function By(){Ch=dm=!1;var e=0;Ha!==0&&mE()&&(e=Ha);for(var i=hn(),o=null,c=Ah;c!==null;){var m=c.next,g=qy(c,i);g===0?(c.next=null,o===null?Ah=m:o.next=m,m===null&&(jl=o)):(o=c,(e!==0||(g&3)!==0)&&(Ch=!0)),c=m}jn!==0&&jn!==5||Yu(e),Ha!==0&&(Ha=0)}function qy(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var T=31-Qe(g),C=1<<T,z=m[T];z===-1?((C&o)===0||(C&c)!==0)&&(m[T]=Di(C,i)):z<=i&&(e.expiredLanes|=C),g&=~C}if(i=He,o=de,o=Wn(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Oi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Gt(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Oi(c),It(o)){case 2:case 8:o=bi;break;case 32:o=wi;break;case 268435456:o=cr;break;default:o=wi}return c=Hy.bind(null,e),o=on(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Oi(c),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,i){if(jn!==0&&jn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Sh()&&e.callbackNode!==o)return null;var c=de;return c=Wn(e,e===He?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Ey(e,c,i),qy(e,hn()),e.callbackNode!=null&&e.callbackNode===o?Hy.bind(null,e):null)}function Fy(e,i){if(Sh())return null;Ey(e,i,!0)}function sE(){gE(function(){(Ie&6)!==0?on(Bn,iE):By()})}function pm(){if(Ha===0){var e=El;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Ha=e}return Ha}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:B(""+e)}function Zy(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function rE(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var g=Gy((m[sn]||null).action),T=c.submitter;T&&(i=(i=T[sn]||null)?Gy(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var C=new Cs("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ha!==0){var z=T?Zy(m,T):new FormData(m);Pd(o,{pending:!0,data:z,method:m.method,action:g},null,z)}}else typeof g=="function"&&(C.preventDefault(),z=T?Zy(m,T):new FormData(m),Pd(o,{pending:!0,data:z,method:m.method,action:g},g,z))},currentTarget:m}]})}}for(var gm=0;gm<br.length;gm++){var _m=br[gm],aE=_m.toLowerCase(),oE=_m[0].toUpperCase()+_m.slice(1);Gi(aE,"on"+oE)}Gi(ko,"onAnimationEnd"),Gi(Gc,"onAnimationIteration"),Gi(Lo,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(ad,"onTransitionRun"),Gi(Zc,"onTransitionStart"),Gi(od,"onTransitionCancel"),Gi(Ra,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Ky(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var T=c.length-1;0<=T;T--){var C=c[T],z=C.instance,X=C.currentTarget;if(C=C.listener,z!==g&&m.isPropagationStopped())break t;g=C,m.currentTarget=X;try{g(m)}catch(st){Mo(st)}m.currentTarget=null,g=z}else for(T=0;T<c.length;T++){if(C=c[T],z=C.instance,X=C.currentTarget,C=C.listener,z!==g&&m.isPropagationStopped())break t;g=C,m.currentTarget=X;try{g(m)}catch(st){Mo(st)}m.currentTarget=null,g=z}}}}function fe(e,i){var o=i[ui];o===void 0&&(o=i[ui]=new Set);var c=e+"__bubble";o.has(c)||(Yy(i,e,2,!1),o.add(c))}function ym(e,i,o){var c=0;i&&(c|=4),Yy(o,e,c,i)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function vm(e){if(!e[Ih]){e[Ih]=!0,Xe.forEach(function(o){o!=="selectionchange"&&(lE.has(o)||ym(o,!1,e),ym(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ih]||(i[Ih]=!0,ym("selectionchange",!1,i))}}function Yy(e,i,o,c){switch(xv(i)){case 2:var m=DE;break;case 8:m=VE;break;default:m=Om}o=m.bind(null,i,o,e),m=void 0,!Vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function bm(e,i,o,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var C=c.stateNode.containerInfo;if(C===m)break;if(T===4)for(T=c.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;C!==null;){if(T=ci(C),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){c=g=T;continue t}C=C.parentNode}}c=c.return}ue(function(){var X=g,st=At(o),lt=[];t:{var J=Kc.get(e);if(J!==void 0){var tt=Cs,Nt=e;switch(e){case"keypress":if(mr(o)===0)break t;case"keydown":case"keyup":tt=xo;break;case"focusin":Nt="focus",tt=qr;break;case"focusout":Nt="blur",tt=qr;break;case"beforeblur":case"afterblur":tt=qr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=y;break;case ko:case Gc:case Lo:tt=va;break;case Ra:tt=R;break;case"scroll":case"scrollend":tt=oe;break;case"wheel":tt=$;break;case"copy":case"cut":case"paste":tt=Ii;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Qs;break;case"toggle":case"beforetoggle":tt=qt}var jt=(i&4)!==0,Ue=!jt&&(e==="scroll"||e==="scrollend"),G=jt?J!==null?J+"Capture":null:J;jt=[];for(var q=X,Q;q!==null;){var rt=q;if(Q=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Q===null||G===null||(rt=We(q,G),rt!=null&&jt.push(Xu(q,rt,Q))),Ue)break;q=q.return}0<jt.length&&(J=new tt(J,Nt,null,o,st),lt.push({event:J,listeners:jt}))}}if((i&7)===0){t:{if(J=e==="mouseover"||e==="pointerover",tt=e==="mouseout"||e==="pointerout",J&&o!==yt&&(Nt=o.relatedTarget||o.fromElement)&&(ci(Nt)||Nt[xi]))break t;if((tt||J)&&(J=st.window===st?st:(J=st.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(Nt=o.relatedTarget||o.toElement,tt=X,Nt=Nt?ci(Nt):null,Nt!==null&&(Ue=h(Nt),jt=Nt.tag,Nt!==Ue||jt!==5&&jt!==27&&jt!==6)&&(Nt=null)):(tt=null,Nt=X),tt!==Nt)){if(jt=yo,rt="onMouseLeave",G="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(jt=Qs,rt="onPointerLeave",G="onPointerEnter",q="pointer"),Ue=tt==null?J:xn(tt),Q=Nt==null?J:xn(Nt),J=new jt(rt,q+"leave",tt,o,st),J.target=Ue,J.relatedTarget=Q,rt=null,ci(st)===X&&(jt=new jt(G,q+"enter",Nt,o,st),jt.target=Q,jt.relatedTarget=Ue,rt=jt),Ue=rt,tt&&Nt)e:{for(jt=uE,G=tt,q=Nt,Q=0,rt=G;rt;rt=jt(rt))Q++;rt=0;for(var Vt=q;Vt;Vt=jt(Vt))rt++;for(;0<Q-rt;)G=jt(G),Q--;for(;0<rt-Q;)q=jt(q),rt--;for(;Q--;){if(G===q||q!==null&&G===q.alternate){jt=G;break e}G=jt(G),q=jt(q)}jt=null}else jt=null;tt!==null&&Qy(lt,J,tt,jt,!1),Nt!==null&&Ue!==null&&Qy(lt,Ue,Nt,jt,!0)}}t:{if(J=X?xn(X):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var Se=Co;else if(Is(J))if(Uc)Se=rd;else{Se=sd;var Mt=Xs}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&Ai(X.elementType)&&(Se=Co):Se=Sa;if(Se&&(Se=Se(e,X))){jc(lt,Se,o,st);break t}Mt&&Mt(e,J,X),e==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Si(J,"number",J.value)}switch(Mt=X?xn(X):window,e){case"focusin":(Is(Mt)||Mt.contentEditable==="true")&&(yr=Mt,_l=X,No=null);break;case"focusout":No=_l=yr=null;break;case"mousedown":Ca=!0;break;case"contextmenu":case"mouseup":case"dragend":Ca=!1,Hc(lt,o,st);break;case"selectionchange":if(gl)break;case"keydown":case"keyup":Hc(lt,o,st)}var ie;if(be)t:{switch(e){case"compositionstart":var me="onCompositionStart";break t;case"compositionend":me="onCompositionEnd";break t;case"compositionupdate":me="onCompositionUpdate";break t}me=void 0}else Ta?Hr(e,o)&&(me="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(Fi&&o.locale!=="ko"&&(Ta||me!=="onCompositionStart"?me==="onCompositionEnd"&&Ta&&(ie=as()):(Je=st,Zs="value"in Je?Je.value:Je.textContent,Ta=!0)),Mt=Rh(X,me),0<Mt.length&&(me=new us(me,e,null,o,st),lt.push({event:me,listeners:Mt}),ie?me.data=ie:(ie=Fr(o),ie!==null&&(me.data=ie)))),(ie=Hi?fs(e,o):xa(e,o))&&(me=Rh(X,"onBeforeInput"),0<me.length&&(Mt=new us("onBeforeInput","beforeinput",null,o,st),lt.push({event:Mt,listeners:me}),Mt.data=ie)),rE(lt,e,X,o,st)}Ky(lt,i)})}function Xu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Rh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=We(e,o),m!=null&&c.unshift(Xu(e,m,g)),m=We(e,i),m!=null&&c.push(Xu(e,m,g))),e.tag===3)return c;e=e.return}return[]}function uE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,i,o,c,m){for(var g=i._reactName,T=[];o!==null&&o!==c;){var C=o,z=C.alternate,X=C.stateNode;if(C=C.tag,z!==null&&z===c)break;C!==5&&C!==26&&C!==27||X===null||(z=X,m?(X=We(o,g),X!=null&&T.unshift(Xu(o,X,z))):m||(X=We(o,g),X!=null&&T.push(Xu(o,X,z)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var cE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(cE,`
`).replace(hE,"")}function Wy(e,i){return i=Xy(i),Xy(e)===i}function je(e,i,o,c,m,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||dn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&dn(e,""+c);break;case"className":ae(e,"class",c);break;case"tabIndex":ae(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ae(e,o,c);break;case"style":Ss(e,c,g);break;case"data":if(i!=="object"){ae(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=B(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&je(e,i,"name",m.name,m,null),je(e,i,"formEncType",m.formEncType,m,null),je(e,i,"formMethod",m.formMethod,m,null),je(e,i,"formTarget",m.formTarget,m,null)):(je(e,i,"encType",m.encType,m,null),je(e,i,"method",m.method,m,null),je(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=B(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=it);break;case"onScroll":c!=null&&fe("scroll",e);break;case"onScrollEnd":c!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=B(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Qt(e,"popover",c);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gs.get(o)||o,Qt(e,o,c))}}function wm(e,i,o,c,m,g){switch(o){case"style":Ss(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?dn(e,c):(typeof c=="number"||typeof c=="bigint")&&dn(e,""+c);break;case"onScroll":c!=null&&fe("scroll",e);break;case"onScrollEnd":c!=null&&fe("scrollend",e);break;case"onClick":c!=null&&(e.onclick=it);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),g=e[sn]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Qt(e,o,c)}}}function ti(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:je(e,i,g,T,o,null)}}m&&je(e,i,"srcSet",o.srcSet,o,null),c&&je(e,i,"src",o.src,o,null);return;case"input":fe("invalid",e);var C=g=T=m=null,z=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var st=o[c];if(st!=null)switch(c){case"name":m=st;break;case"type":T=st;break;case"checked":z=st;break;case"defaultChecked":X=st;break;case"value":g=st;break;case"defaultValue":C=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(a(137,i));break;default:je(e,i,c,st,o,null)}}Fs(e,g,C,z,X,T,m,!1);return;case"select":fe("invalid",e),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":c=C;default:je(e,i,m,C,o,null)}i=g,o=T,e.multiple=!!c,i!=null?Ce(e,!!c,i,!1):o!=null&&Ce(e,!!c,o,!0);return;case"textarea":fe("invalid",e),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":c=C;break;case"defaultValue":m=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:je(e,i,T,C,o,null)}hi(e,c,m,g);return;case"option":for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null)&&(z==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":je(e,i,z,c,o,null));return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(c=0;c<Qu.length;c++)fe(Qu[c],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:je(e,i,X,c,o,null)}return;default:if(Ai(i)){for(st in o)o.hasOwnProperty(st)&&(c=o[st],c!==void 0&&wm(e,i,st,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&je(e,i,C,c,o,null))}function fE(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,C=null,z=null,X=null,st=null;for(tt in o){var lt=o[tt];if(o.hasOwnProperty(tt)&&lt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":z=lt;default:c.hasOwnProperty(tt)||je(e,i,tt,null,c,lt)}}for(var J in c){var tt=c[J];if(lt=o[J],c.hasOwnProperty(J)&&(tt!=null||lt!=null))switch(J){case"type":g=tt;break;case"name":m=tt;break;case"checked":X=tt;break;case"defaultChecked":st=tt;break;case"value":T=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:tt!==lt&&je(e,i,J,tt,c,lt)}}Hs(e,T,C,z,X,st,g,m);return;case"select":tt=T=C=J=null;for(g in o)if(z=o[g],o.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":tt=z;default:c.hasOwnProperty(g)||je(e,i,g,null,c,z)}for(m in c)if(g=c[m],z=o[m],c.hasOwnProperty(m)&&(g!=null||z!=null))switch(m){case"value":J=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==z&&je(e,i,m,g,c,z)}i=C,o=T,c=tt,J!=null?Ce(e,!!o,J,!1):!!c!=!!o&&(i!=null?Ce(e,!!o,i,!0):Ce(e,!!o,o?[]:"",!1));return;case"textarea":tt=J=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:je(e,i,C,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":J=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==g&&je(e,i,T,m,c,g)}qi(e,J,tt);return;case"option":for(var Nt in o)J=o[Nt],o.hasOwnProperty(Nt)&&J!=null&&!c.hasOwnProperty(Nt)&&(Nt==="selected"?e.selected=!1:je(e,i,Nt,null,c,J));for(z in c)J=c[z],tt=o[z],c.hasOwnProperty(z)&&J!==tt&&(J!=null||tt!=null)&&(z==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":je(e,i,z,J,c,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in o)J=o[jt],o.hasOwnProperty(jt)&&J!=null&&!c.hasOwnProperty(jt)&&je(e,i,jt,null,c,J);for(X in c)if(J=c[X],tt=o[X],c.hasOwnProperty(X)&&J!==tt&&(J!=null||tt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:je(e,i,X,J,c,tt)}return;default:if(Ai(i)){for(var Ue in o)J=o[Ue],o.hasOwnProperty(Ue)&&J!==void 0&&!c.hasOwnProperty(Ue)&&wm(e,i,Ue,void 0,c,J);for(st in c)J=c[st],tt=o[st],!c.hasOwnProperty(st)||J===tt||J===void 0&&tt===void 0||wm(e,i,st,J,c,tt);return}}for(var G in o)J=o[G],o.hasOwnProperty(G)&&J!=null&&!c.hasOwnProperty(G)&&je(e,i,G,null,c,J);for(lt in c)J=c[lt],tt=o[lt],!c.hasOwnProperty(lt)||J===tt||J==null&&tt==null||je(e,i,lt,J,c,tt)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,C=m.duration;if(g&&C&&Jy(T)){for(T=0,C=m.responseEnd,c+=1;c<o.length;c++){var z=o[c],X=z.startTime;if(X>C)break;var st=z.transferSize,lt=z.initiatorType;st&&Jy(lt)&&(z=z.responseEnd,T+=st*(z<C?1:(C-X)/(z-X)))}if(--c,i+=8*(g+T)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Tm=null,xm=null;function Nh(e){return e.nodeType===9?e:e.ownerDocument}function $y(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Em(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sm=null;function mE(){var e=window.event;return e&&e.type==="popstate"?e===Sm?!1:(Sm=e,!0):(Sm=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(e){return nv.resolve(null).then(e).catch(_E)}:ev;function _E(e){setTimeout(function(){throw e})}function Fa(e){return e==="head"}function iv(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Hl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Wu(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Wu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[Ei]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Wu(e.ownerDocument.body);o=m}while(o);Hl(i)}function sv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Am(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Am(o),Vi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function yE(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ei])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Os(e.nextSibling),e===null)break}return null}function vE(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Os(e.nextSibling),e===null))return null;return e}function rv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Os(e.nextSibling),e===null))return null;return e}function Cm(e){return e.data==="$?"||e.data==="$~"}function Im(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bE(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Os(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Rm=null;function av(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return Os(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function ov(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function lv(e,i,o){switch(i=Nh(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Vi(e)}var Ps=new Map,uv=new Set;function kh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ra=_t.d;_t.d={f:wE,r:TE,D:xE,C:EE,L:SE,m:AE,X:IE,S:CE,M:RE};function wE(){var e=ra.f(),i=Th();return e||i}function TE(e){var i=Mn(e);i!==null&&i.tag===5&&i.type==="form"?A_(i):ra.r(e)}var Ul=typeof document>"u"?null:document;function cv(e,i,o){var c=Ul;if(c&&typeof i=="string"&&i){var m=Le(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),uv.has(m)||(uv.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),ti(i,"link",e),rn(i),c.head.appendChild(i)))}}function xE(e){ra.D(e),cv("dns-prefetch",e,null)}function EE(e,i){ra.C(e,i),cv("preconnect",e,i)}function SE(e,i,o){ra.L(e,i,o);var c=Ul;if(c&&e&&i){var m='link[rel="preload"][as="'+Le(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Le(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Le(o.imageSizes)+'"]')):m+='[href="'+Le(e)+'"]';var g=m;switch(i){case"style":g=Bl(e);break;case"script":g=ql(e)}Ps.has(g)||(e=N({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Ps.set(g,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Ju(g))||i==="script"&&c.querySelector($u(g))||(i=c.createElement("link"),ti(i,"link",e),rn(i),c.head.appendChild(i)))}}function AE(e,i){ra.m(e,i);var o=Ul;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Le(c)+'"][href="'+Le(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ql(e)}if(!Ps.has(g)&&(e=N({rel:"modulepreload",href:e},i),Ps.set(g,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($u(g)))return}c=o.createElement("link"),ti(c,"link",e),rn(c),o.head.appendChild(c)}}}function CE(e,i,o){ra.S(e,i,o);var c=Ul;if(c&&e){var m=zi(c).hoistableStyles,g=Bl(e);i=i||"default";var T=m.get(g);if(!T){var C={loading:0,preload:null};if(T=c.querySelector(Ju(g)))C.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Ps.get(g))&&Nm(e,o);var z=T=c.createElement("link");rn(z),ti(z,"link",e),z._p=new Promise(function(X,st){z.onload=X,z.onerror=st}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Lh(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:C},m.set(g,T)}}}function IE(e,i){ra.X(e,i);var o=Ul;if(o&&e){var c=zi(o).hoistableScripts,m=ql(e),g=c.get(m);g||(g=o.querySelector($u(m)),g||(e=N({src:e,async:!0},i),(i=Ps.get(m))&&km(e,i),g=o.createElement("script"),rn(g),ti(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function RE(e,i){ra.M(e,i);var o=Ul;if(o&&e){var c=zi(o).hoistableScripts,m=ql(e),g=c.get(m);g||(g=o.querySelector($u(m)),g||(e=N({src:e,async:!0,type:"module"},i),(i=Ps.get(m))&&km(e,i),g=o.createElement("script"),rn(g),ti(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function hv(e,i,o,c){var m=(m=bt.current)?kh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Bl(o.href),o=zi(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Bl(o.href);var g=zi(m).hoistableStyles,T=g.get(e);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,T),(g=m.querySelector(Ju(e)))&&!g._p&&(T.instance=g,T.state.loading=5),Ps.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ps.set(e,o),g||NE(m,e,o,T.state))),i&&c===null)throw Error(a(528,""));return T}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ql(o),o=zi(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Bl(e){return'href="'+Le(e)+'"'}function Ju(e){return'link[rel="stylesheet"]['+e+"]"}function fv(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function NE(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),ti(i,"link",o),rn(i),e.head.appendChild(i))}function ql(e){return'[src="'+Le(e)+'"]'}function $u(e){return"script[async]"+e}function dv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Le(o.href)+'"]');if(c)return i.instance=c,rn(c),c;var m=N({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),rn(c),ti(c,"style",m),Lh(c,o.precedence,e),i.instance=c;case"stylesheet":m=Bl(o.href);var g=e.querySelector(Ju(m));if(g)return i.state.loading|=4,i.instance=g,rn(g),g;c=fv(o),(m=Ps.get(m))&&Nm(c,m),g=(e.ownerDocument||e).createElement("link"),rn(g);var T=g;return T._p=new Promise(function(C,z){T.onload=C,T.onerror=z}),ti(g,"link",c),i.state.loading|=4,Lh(g,o.precedence,e),i.instance=g;case"script":return g=ql(o.src),(m=e.querySelector($u(g)))?(i.instance=m,rn(m),m):(c=o,(m=Ps.get(g))&&(c=N({},o),km(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),rn(m),ti(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Lh(c,o.precedence,e));return i.instance}function Lh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var C=c[T];if(C.dataset.precedence===i)g=C;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Nm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function km(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Mh=null;function mv(e,i,o){if(Mh===null){var c=new Map,m=Mh=new Map;m.set(o,c)}else m=Mh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var g=o[m];if(!(g[Ei]||g[Ge]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=e+T;var C=c.get(T);C?C.push(g):c.set(T,[g])}}return c}function pv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function kE(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function LE(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Bl(c.href),g=i.querySelector(Ju(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Oh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,rn(g);return}g=i.ownerDocument||i,c=fv(c),(m=Ps.get(m))&&Nm(c,m),g=g.createElement("link"),rn(g);var T=g;T._p=new Promise(function(C,z){T.onload=C,T.onerror=z}),ti(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Oh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Lm=0;function ME(e,i){return e.stylesheets&&e.count===0&&Dh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Dh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Lm===0&&(Lm=62500*dE());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Lm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ph=null;function Dh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ph=new Map,i.forEach(OE,e),Ph=null,Oh.call(e))}function OE(e,i){if(!(i.state.loading&4)){var o=Ph.get(e);if(o)var c=o.get(null);else{o=new Map,Ph.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=i.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=Oh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var tc={$$typeof:kt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function PE(e,i,o,c,m,g,T,C,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function _v(e,i,o,c,m,g,T,C,z,X,st,lt){return e=new PE(e,i,o,T,z,X,st,lt,C),i=1,g===!0&&(i|=24),g=mi(3,null,null,i),e.current=g,g.stateNode=e,i=hd(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},pd(g),e}function yv(e){return e?(e=Gr,e):Gr}function vv(e,i,o,c,m,g){m=yv(m),c.context===null?c.context=m:c.pendingContext=m,c=Ma(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Oa(e,c,i),o!==null&&(Ji(o,e,i),Lu(o,e,i))}function bv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Mm(e,i){bv(e,i),(e=e.alternate)&&bv(e,i)}function wv(e){if(e.tag===13||e.tag===31){var i=ks(e,67108864);i!==null&&Ji(i,e,67108864),Mm(e,67108864)}}function Tv(e){if(e.tag===13||e.tag===31){var i=_s();i=wn(i);var o=ks(e,i);o!==null&&Ji(o,e,i),Mm(e,i)}}var Vh=!0;function DE(e,i,o,c){var m=K.T;K.T=null;var g=_t.p;try{_t.p=2,Om(e,i,o,c)}finally{_t.p=g,K.T=m}}function VE(e,i,o,c){var m=K.T;K.T=null;var g=_t.p;try{_t.p=8,Om(e,i,o,c)}finally{_t.p=g,K.T=m}}function Om(e,i,o,c){if(Vh){var m=Pm(c);if(m===null)bm(e,i,c,zh,o),Ev(e,c);else if(jE(m,e,i,o,c))c.stopPropagation();else if(Ev(e,c),i&4&&-1<zE.indexOf(e)){for(;m!==null;){var g=Mn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Jt(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var z=1<<31-Qe(T);C.entanglements[1]|=z,T&=~z}Ar(g),(Ie&6)===0&&(bh=hn()+500,Yu(0))}}break;case 31:case 13:C=ks(g,2),C!==null&&Ji(C,g,2),Th(),Mm(g,2)}if(g=Pm(c),g===null&&bm(e,i,c,zh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else bm(e,i,c,null,o)}}function Pm(e){return e=At(e),Dm(e)}var zh=null;function Dm(e){if(zh=null,e=ci(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===31){if(e=b(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return zh=e,null}function xv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pi()){case Bn:return 2;case bi:return 8;case wi:case go:return 32;case cr:return 268435456;default:return 32}default:return 32}}var Vm=!1,Ga=null,Za=null,Ka=null,ec=new Map,nc=new Map,Ya=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(e,i){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":ec.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(i.pointerId)}}function ic(e,i,o,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=Mn(i),i!==null&&wv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function jE(e,i,o,c,m){switch(i){case"focusin":return Ga=ic(Ga,e,i,o,c,m),!0;case"dragenter":return Za=ic(Za,e,i,o,c,m),!0;case"mouseover":return Ka=ic(Ka,e,i,o,c,m),!0;case"pointerover":var g=m.pointerId;return ec.set(g,ic(ec.get(g)||null,e,i,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,nc.set(g,ic(nc.get(g)||null,e,i,o,c,m)),!0}return!1}function Sv(e){var i=ci(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,fn(e.priority,function(){Tv(o)});return}}else if(i===31){if(i=b(o),i!==null){e.blockedOn=i,fn(e.priority,function(){Tv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Pm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);yt=c,o.target.dispatchEvent(c),yt=null}else return i=Mn(o),i!==null&&wv(i),e.blockedOn=o,!1;i.shift()}return!0}function Av(e,i,o){jh(e)&&o.delete(i)}function UE(){Vm=!1,Ga!==null&&jh(Ga)&&(Ga=null),Za!==null&&jh(Za)&&(Za=null),Ka!==null&&jh(Ka)&&(Ka=null),ec.forEach(Av),nc.forEach(Av)}function Uh(e,i){e.blockedOn===i&&(e.blockedOn=null,Vm||(Vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UE)))}var Bh=null;function Cv(e){Bh!==e&&(Bh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===e&&(Bh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Dm(c||o)===null)continue;break}var g=Mn(o);g!==null&&(e.splice(i,3),i-=3,Pd(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Hl(e){function i(z){return Uh(z,e)}Ga!==null&&Uh(Ga,e),Za!==null&&Uh(Za,e),Ka!==null&&Uh(Ka,e),ec.forEach(i),nc.forEach(i);for(var o=0;o<Ya.length;o++){var c=Ya[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ya.length&&(o=Ya[0],o.blockedOn===null);)Sv(o),o.blockedOn===null&&Ya.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[sn]||null;if(typeof g=="function")T||Cv(o);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[sn]||null)C=T.formAction;else if(Dm(m)!==null)continue}else C=T.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),Cv(o)}}}function Iv(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function zm(e){this._internalRoot=e}qh.prototype.render=zm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=_s();vv(o,c,e,i,null,null)},qh.prototype.unmount=zm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;vv(e.current,2,null,e,null,null),Th(),i[xi]=null}};function qh(e){this._internalRoot=e}qh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Tn();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ya.length&&i!==0&&i<Ya[o].priority;o++);Ya.splice(o,0,e),o===0&&Sv(e)}};var Rv=t.version;if(Rv!=="19.2.4")throw Error(a(527,Rv,"19.2.4"));_t.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=x(i),e=e!==null?I(e):null,e=e===null?null:e.stateNode,e};var BE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{ai=Hh.inject(BE),nn=Hh}catch{}}return rc.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=D_,g=V_,T=z_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=_v(e,1,!1,null,null,o,c,null,m,g,T,Iv),e[xi]=i.current,vm(e),new zm(i)},rc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",g=D_,T=V_,C=z_,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),i=_v(e,1,!0,i,o??null,c,m,z,g,T,C,Iv),i.context=yv(null),o=i.current,c=_s(),c=wn(c),m=Ma(c),m.callback=null,Oa(o,m,c),o=c,i.current.lanes=o,ss(i,o),Ar(i),e[xi]=i.current,vm(e),new qh(i)},rc.version="19.2.4",rc}var jv;function JE(){if(jv)return Bm.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bm.exports=WE(),Bm.exports}var $E=JE();const t1=Op($E);var lc={exports:{}};var e1=lc.exports,Uv;function n1(){return Uv||(Uv=1,(function(r,t){(function(n,a){a(t)})(e1,(function(n){var a="1.9.4";function l(s){var u,d,_,w;for(d=1,_=arguments.length;d<_;d++){w=arguments[d];for(u in w)s[u]=w[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function p(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var b=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++b),s._leaflet_id}function x(s,u,d){var _,w,A,O;return O=function(){_=!1,w&&(A.apply(d,w),w=!1)},A=function(){_?w=arguments:(s.apply(d,arguments),setTimeout(O,u),_=!0)},A}function I(s,u,d){var _=u[1],w=u[0],A=_-w;return s===_&&d?s:((s-w)%A+A)%A+w}function N(){return!1}function k(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function et(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function at(s){return et(s).split(/\s+/)}function ct(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function pt(s,u,d){var _=[];for(var w in s)_.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var Lt=/\{ *([\w_ -]+) *\}/g;function Ut(s,u){return s.replace(Lt,function(d,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var kt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Wt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var Re="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function le(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var D=0;function M(s){var u=+new Date,d=Math.max(0,16-(u-D));return D=u+d,window.setTimeout(s,d)}var V=window.requestAnimationFrame||le("RequestAnimationFrame")||M,H=window.cancelAnimationFrame||le("CancelAnimationFrame")||le("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function U(s,u,d){if(d&&V===M)s.call(u);else return V.call(window,p(s,u))}function F(s){s&&H.call(window,s)}var P={__proto__:null,extend:l,create:h,bind:p,get lastId(){return b},stamp:v,throttle:x,wrapNum:I,falseFn:N,formatNum:k,trim:et,splitWords:at,setOptions:ct,getParamString:pt,template:Ut,isArray:kt,indexOf:Wt,emptyImageUrl:Re,requestFn:V,cancelFn:H,requestAnimFrame:U,cancelAnimFrame:F};function se(){}se.extend=function(s){var u=function(){ct(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return s.statics&&l(u,s.statics),s.includes&&(Ke(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,O=_._initHooks.length;A<O;A++)_._initHooks[A].call(this)}},u},se.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},se.mergeOptions=function(s){return l(this.prototype.options,s),this},se.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ke(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=kt(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=at(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=at(s);for(var w=arguments.length===1,A=0,O=s.length;A<O;A++)w?this._off(s[A]):this._off(s[A],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};_&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,u,d){var _,w,A;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,A=_.length;w<A;w++)_[w].fn=N;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var O=this._listens(s,u,d);if(O!==!1){var Z=_[O];this._firingCount&&(Z.fn=N,this._events[s]=_=_.slice()),_.splice(O,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var A=0,O=w.length;A<O;A++){var Z=w[A],W=Z.fn;Z.once&&this.off(s,W,Z.ctx),W.call(Z.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,d=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,w,d)!==!1)return!0;if(_){for(var O in this._eventParents)if(this._eventParents[O].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var w=0,A=_.length;w<A;w++)if(_[w].fn===u&&_[w].ctx===d)return w;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=at(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var _t=se.extend(K);function ft(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var re=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(s){return this.clone()._add(xt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(xt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ft(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ft(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(s){s=xt(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=xt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=xt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function xt(s,u,d){return s instanceof ft?s:kt(s)?new ft(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ft(s.x,s.y):new ft(s,u,d)}function j(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}j.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof ft||typeof s[0]=="number"||"x"in s)u=d=xt(s);else if(s=nt(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return xt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return xt(this.min.x,this.max.y)},getTopRight:function(){return xt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof ft?s=xt(s):s=nt(s),s instanceof j?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=nt(s);var u=this.min,d=this.max,_=s.min,w=s.max,A=w.x>=u.x&&_.x<=d.x,O=w.y>=u.y&&_.y<=d.y;return A&&O},overlaps:function(s){s=nt(s);var u=this.min,d=this.max,_=s.min,w=s.max,A=w.x>u.x&&_.x<d.x,O=w.y>u.y&&_.y<d.y;return A&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,w=Math.abs(u.y-d.y)*s;return nt(xt(u.x-_,u.y-w),xt(d.x+_,d.y+w))},equals:function(s){return s?(s=nt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function nt(s,u){return!s||s instanceof j?s:new j(s,u)}function dt(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}dt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,w;if(s instanceof Tt)_=s,w=s;else if(s instanceof dt){if(_=s._southWest,w=s._northEast,!_||!w)return this}else return s?this.extend(bt(s)||mt(s)):this;return!u&&!d?(this._southWest=new Tt(_.lat,_.lng),this._northEast=new Tt(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,w=Math.abs(u.lng-d.lng)*s;return new dt(new Tt(u.lat-_,u.lng-w),new Tt(d.lat+_,d.lng+w))},getCenter:function(){return new Tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Tt||"lat"in s?s=bt(s):s=mt(s);var u=this._southWest,d=this._northEast,_,w;return s instanceof dt?(_=s.getSouthWest(),w=s.getNorthEast()):_=w=s,_.lat>=u.lat&&w.lat<=d.lat&&_.lng>=u.lng&&w.lng<=d.lng},intersects:function(s){s=mt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>=u.lat&&_.lat<=d.lat,O=w.lng>=u.lng&&_.lng<=d.lng;return A&&O},overlaps:function(s){s=mt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>u.lat&&_.lat<d.lat,O=w.lng>u.lng&&_.lng<d.lng;return A&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=mt(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function mt(s,u){return s instanceof dt?s:new dt(s,u)}function Tt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}Tt.prototype={equals:function(s,u){if(!s)return!1;s=bt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+k(this.lat,s)+", "+k(this.lng,s)+")"},distanceTo:function(s){return ke.distance(this,bt(s))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return mt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new Tt(this.lat,this.lng,this.alt)}};function bt(s,u,d){return s instanceof Tt?s:kt(s)&&typeof s[0]!="object"?s.length===3?new Tt(s[0],s[1],s[2]):s.length===2?new Tt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Tt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new Tt(s,u,d)}var Ht={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new j(_,w)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?I(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?I(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new Tt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,w=u.lng-d.lng;if(_===0&&w===0)return s;var A=s.getSouthWest(),O=s.getNorthEast(),Z=new Tt(A.lat-_,A.lng-w),W=new Tt(O.lat-_,O.lng-w);return new dt(Z,W)}},ke=l({},Ht,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,w=u.lat*d,A=Math.sin((u.lat-s.lat)*d/2),O=Math.sin((u.lng-s.lng)*d/2),Z=A*A+Math.cos(_)*Math.cos(w)*O*O,W=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*W}}),Pe=6378137,cn={R:Pe,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),w=Math.sin(_*u);return new ft(this.R*s.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var u=180/Math.PI;return new Tt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Pe*Math.PI;return new j([-s,-s],[s,s])})()};function bs(s,u,d,_){if(kt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}bs.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ft((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Mi(s,u,d,_){return new bs(s,u,d,_)}var ws=l({},ke,{code:"EPSG:3857",projection:cn,transformation:(function(){var s=.5/(Math.PI*cn.R);return Mi(s,.5,-s,.5)})()}),Xn=l({},ws,{code:"EPSG:900913"});function js(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function si(s,u){var d="",_,w,A,O,Z,W;for(_=0,A=s.length;_<A;_++){for(Z=s[_],w=0,O=Z.length;w<O;w++)W=Z[w],d+=(w?"L":"M")+W.x+" "+W.y;d+=u?It.svg?"z":"x":""}return d||"M0 0"}var Ts=document.documentElement.style,ri="ActiveXObject"in window,Ye=ri&&!document.addEventListener,on="msLaunchUri"in navigator&&!("documentMode"in document),Oi=wn("webkit"),ga=wn("android"),ur=wn("android 2")||wn("android 3"),hn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pi=ga&&wn("Google")&&hn<537&&!("AudioNode"in window),Bn=!!window.opera,bi=!on&&wn("chrome"),wi=wn("gecko")&&!Oi&&!Bn&&!ri,go=!bi&&wn("safari"),cr=wn("phantom"),ns="OTransition"in Ts,_a=navigator.platform.indexOf("Win")===0,ai=ri&&"transition"in Ts,nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ur,Te="MozPerspective"in Ts,Qe=!window.L_DISABLE_3D&&(ai||nn||Te)&&!ns&&!cr,is=typeof orientation<"u"||wn("mobile"),Dr=is&&Oi,_o=is&&nn,oi=!window.PointerEvent&&window.MSPointerEvent,Us=!!(window.PointerEvent||oi),Fe="ontouchstart"in window||!!window.TouchEvent,Jt=!window.L_NO_TOUCH&&(Fe||Us),Wn=is&&Bn,Gt=is&&wi,Di=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ya=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",N,u),window.removeEventListener("testPassiveEventSupport",N,u)}catch{}return s})(),Ti=(function(){return!!document.createElement("canvas").getContext})(),ss=!!(document.createElementNS&&js("svg").createSVGRect),hr=!!ss&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),xs=!ss&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Vr=navigator.platform.indexOf("Mac")===0,Bs=navigator.platform.indexOf("Linux")===0;function wn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var It={ie:ri,ielt9:Ye,edge:on,webkit:Oi,android:ga,android23:ur,androidStock:Pi,opera:Bn,chrome:bi,gecko:wi,safari:go,phantom:cr,opera12:ns,win:_a,ie3d:ai,webkit3d:nn,gecko3d:Te,any3d:Qe,mobile:is,mobileWebkit:Dr,mobileWebkit3d:_o,msPointer:oi,pointer:Us,touch:Jt,touchNative:Fe,mobileOpera:Wn,mobileGecko:Gt,retina:Di,passiveEvents:ya,canvas:Ti,svg:ss,vml:xs,inlineSvg:hr,mac:Vr,linux:Bs},Tn=It.msPointer?"MSPointerDown":"pointerdown",fn=It.msPointer?"MSPointerMove":"pointermove",li=It.msPointer?"MSPointerUp":"pointerup",Ge=It.msPointer?"MSPointerCancel":"pointercancel",sn={touchstart:Tn,touchmove:fn,touchend:li,touchcancel:Ge},xi={touchstart:zi,touchmove:xn,touchend:xn,touchcancel:xn},ui={},zr=!1;function fr(s,u,d){return u==="touchstart"&&Mn(),xi[u]?(d=xi[u].bind(this,d),s.addEventListener(sn[u],d,!1),d):(console.warn("wrong event specified:",u),N)}function jr(s,u,d){if(!sn[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(sn[u],d,!1)}function Ei(s){ui[s.pointerId]=s}function Vi(s){ui[s.pointerId]&&(ui[s.pointerId]=s)}function ci(s){delete ui[s.pointerId]}function Mn(){zr||(document.addEventListener(Tn,Ei,!0),document.addEventListener(fn,Vi,!0),document.addEventListener(li,ci,!0),document.addEventListener(Ge,ci,!0),zr=!0)}function xn(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in ui)u.touches.push(ui[d]);u.changedTouches=[u],s(u)}}function zi(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&$e(u),xn(s,u)}function rn(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Xe=200;function Ur(s,u){s.addEventListener("dblclick",u);var d=0,_;function w(A){if(A.detail!==1){_=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var O=mr(A);if(!(O.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!O.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var Z=Date.now();Z-d<=Xe?(_++,_===2&&u(rn(A))):_=1,d=Z}}}return s.addEventListener("click",w),{dblclick:u,simDblclick:w}}function On(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var qn=Fs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ji=Fs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dr=ji==="webkitTransition"||ji==="OTransition"?ji+"End":"transitionend";function Ui(s){return typeof s=="string"?document.getElementById(s):s}function rs(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Qt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function ae(s){var u=s.parentNode;u&&u.removeChild(s)}function De(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Be(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Pn(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function qs(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=Bi(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function St(s,u){if(s.classList!==void 0)for(var d=at(u),_=0,w=d.length;_<w;_++)s.classList.add(d[_]);else if(!qs(s,u)){var A=Bi(s);Hn(s,(A?A+" ":"")+u)}}function ye(s,u){s.classList!==void 0?s.classList.remove(u):Hn(s,et((" "+Bi(s)+" ").replace(" "+u+" "," ")))}function Hn(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Bi(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Le(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Hs(s,u)}function Hs(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function Fs(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function Si(s,u,d){var _=u||new ft(0,0);s.style[qn]=(It.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Ce(s,u){s._leaflet_pos=u,It.any3d?Si(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function qi(s){return s._leaflet_pos||new ft(0,0)}var hi,dn,Es;if("onselectstart"in document)hi=function(){Et(window,"selectstart",$e)},dn=function(){Dt(window,"selectstart",$e)};else{var Dn=Fs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hi=function(){if(Dn){var s=document.documentElement.style;Es=s[Dn],s[Dn]="none"}},dn=function(){Dn&&(document.documentElement.style[Dn]=Es,Es=void 0)}}function Ss(){Et(window,"dragstart",$e)}function Ai(){Dt(window,"dragstart",$e)}var Gs,Ci;function B(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(it(),Gs=s,Ci=s.style.outlineStyle,s.style.outlineStyle="none",Et(window,"keydown",it))}function it(){Gs&&(Gs.style.outlineStyle=Ci,Gs=void 0,Ci=void 0,Dt(window,"keydown",it))}function yt(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function At(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var $t={__proto__:null,TRANSFORM:qn,TRANSITION:ji,TRANSITION_END:dr,get:Ui,getStyle:rs,create:Qt,remove:ae,empty:De,toFront:Be,toBack:Pn,hasClass:qs,addClass:St,removeClass:ye,setClass:Hn,getClass:Bi,setOpacity:Le,testProp:Fs,setTransform:Si,setPosition:Ce,getPosition:qi,get disableTextSelection(){return hi},get enableTextSelection(){return dn},disableImageDrag:Ss,enableImageDrag:Ai,preventOutline:B,restoreOutline:it,getSizedParentNode:yt,getScale:At};function Et(s,u,d,_){if(u&&typeof u=="object")for(var w in u)Ve(s,w,u[w],d);else{u=at(u);for(var A=0,O=u.length;A<O;A++)Ve(s,u[A],d,_)}return this}var te="_leaflet_events";function Dt(s,u,d,_){if(arguments.length===1)ue(s),delete s[te];else if(u&&typeof u=="object")for(var w in u)Vn(s,w,u[w],d);else if(u=at(u),arguments.length===2)ue(s,function(Z){return Wt(u,Z)!==-1});else for(var A=0,O=u.length;A<O;A++)Vn(s,u[A],d,_);return this}function ue(s,u){for(var d in s[te]){var _=d.split(/\d/)[0];(!u||u(_))&&Vn(s,_,null,null,d)}}var We={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ve(s,u,d,_){var w=u+v(d)+(_?"_"+v(_):"");if(s[te]&&s[te][w])return this;var A=function(Z){return d.call(_||s,Z||window.event)},O=A;!It.touchNative&&It.pointer&&u.indexOf("touch")===0?A=fr(s,u,A):It.touch&&u==="dblclick"?A=Ur(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(We[u]||u,A,It.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(Z){Z=Z||window.event,ls(s,Z)&&O(Z)},s.addEventListener(We[u],A,!1)):s.addEventListener(u,O,!1):s.attachEvent("on"+u,A),s[te]=s[te]||{},s[te][w]=A}function Vn(s,u,d,_,w){w=w||u+v(d)+(_?"_"+v(_):"");var A=s[te]&&s[te][w];if(!A)return this;!It.touchNative&&It.pointer&&u.indexOf("touch")===0?jr(s,u,A):It.touch&&u==="dblclick"?On(s,A):"removeEventListener"in s?s.removeEventListener(We[u]||u,A,!1):s.detachEvent("on"+u,A),s[te][w]=null}function ee(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Je(s){return Ve(s,"wheel",ee),this}function Zs(s){return Et(s,"mousedown touchstart dblclick contextmenu",ee),s._leaflet_disable_click=!0,this}function $e(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function as(s){return $e(s),ee(s),this}function mr(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function As(s,u){if(!u)return new ft(s.clientX,s.clientY);var d=At(u),_=d.boundingClientRect;return new ft((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var os=It.linux&&It.chrome?window.devicePixelRatio:It.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function En(s){return It.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/os:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ls(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var Cs={__proto__:null,on:Et,off:Dt,stopPropagation:ee,disableScrollPropagation:Je,disableClickPropagation:Zs,preventDefault:$e,stop:as,getPropagationPath:mr,getMousePosition:As,getWheelDelta:En,isExternalTarget:ls,addListener:Et,removeListener:Dt},Ks=_t.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=qi(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),Ce(this._el,d),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),oe=_t.extend({options:{crs:ws,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=ct(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(bt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ji&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,dr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(bt(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),A=s instanceof ft?s:this.latLngToContainerPoint(s),O=A.subtract(w).multiplyBy(1-1/_),Z=this.containerPointToLatLng(w.add(O));return this.setView(Z,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():mt(s);var d=xt(u.paddingTopLeft||u.padding||[0,0]),_=xt(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(s,!1,d.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var A=_.subtract(d).divideBy(2),O=this.project(s.getSouthWest(),w),Z=this.project(s.getNorthEast(),w),W=this.unproject(O.add(Z).divideBy(2).add(A),w);return{center:W,zoom:w}},fitBounds:function(s,u){if(s=mt(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=xt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!It.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),w=this.project(s),A=this.getSize(),O=this._zoom;s=bt(s),u=u===void 0?O:u;var Z=Math.max(A.x,A.y),W=Z*this.getZoomScale(O,u),ot=w.distanceTo(_)||1,wt=1.42,Ot=wt*wt;function ne(ln){var Js=ln?-1:1,Kr=ln?W:Z,Cu=W*W-Z*Z+Js*Ot*Ot*ot*ot,Vo=2*Kr*Ot*ot,zo=Cu/Vo,Er=Math.sqrt(zo*zo+1)-zo,$s=Er<1e-9?-18:Math.log(Er);return $s}function zn(ln){return(Math.exp(ln)-Math.exp(-ln))/2}function mn(ln){return(Math.exp(ln)+Math.exp(-ln))/2}function Ni(ln){return zn(ln)/mn(ln)}var xe=ne(0);function Ee(ln){return Z*(mn(xe)/mn(xe+wt*ln))}function ce(ln){return Z*(mn(xe)*Ni(xe+wt*ln)-zn(xe))/Ot}function Tr(ln){return 1-Math.pow(1-ln,1.5)}var Ki=Date.now(),Tl=(ne(1)-xe)/wt,xr=d.duration?1e3*d.duration:1e3*Tl*.8;function Au(){var ln=(Date.now()-Ki)/xr,Js=Tr(ln)*Tl;ln<=1?(this._flyToFrame=U(Au,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(ce(Js)/ot)),O),this.getScaleZoom(Z/Ee(Js),O),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Au.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=mt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,mt(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=xt(u.paddingTopLeft||u.padding||[0,0]),_=xt(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),A=this.project(s),O=this.getPixelBounds(),Z=nt([O.min.add(d),O.max.subtract(_)]),W=Z.getSize();if(!Z.contains(A)){this._enforcingBounds=!0;var ot=A.subtract(Z.getCenter()),wt=Z.extend(A).getSize().subtract(W);w.x+=ot.x<0?-wt.x:wt.x,w.y+=ot.y<0?-wt.y:wt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),w=d.divideBy(2).round(),A=_.subtract(w);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new Tt(u,d),w=_.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var O=this.getBoundsZoom(w);this.setView(_,A.maxZoom?Math.min(O,A.maxZoom):O)}var Z={latlng:_,bounds:w,timestamp:s.timestamp};for(var W in s.coords)typeof s.coords[W]=="number"&&(Z[W]=s.coords[W]);this.fire("locationfound",Z)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ae(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Qt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new dt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=mt(s),d=xt(d||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),A=this.getMaxZoom(),O=s.getNorthWest(),Z=s.getSouthEast(),W=this.getSize().subtract(d),ot=nt(this.project(Z,_),this.project(O,_)).getSize(),wt=It.any3d?this.options.zoomSnap:1,Ot=W.x/ot.x,ne=W.y/ot.y,zn=u?Math.max(Ot,ne):Math.min(Ot,ne);return _=this.getScaleZoom(zn,_),wt&&(_=Math.round(_/(wt/100))*(wt/100),_=u?Math.ceil(_/wt)*wt:Math.floor(_/wt)*wt),Math.max(w,Math.min(A,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new j(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(bt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(xt(s),u)},layerPointToLatLng:function(s){var u=xt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(bt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(bt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(mt(s))},distance:function(s,u){return this.options.crs.distance(bt(s),bt(u))},containerPointToLayerPoint:function(s){return xt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return xt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(xt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(s)))},mouseEventToContainerPoint:function(s){return As(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Ui(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Et(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,St(s,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=rs(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(s.markerPane,"leaflet-zoom-hide"),St(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){Ce(this._mapPane,new ft(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(s,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ce(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?Dt:Et;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,w=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,O=!1;A;){if(_=this._targets[v(A)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){O=!0;break}if(_&&_.listens(u,!0)&&(w&&!ls(A,s)||(d.push(_),w))||A===this._container)break;A=A.parentNode}return!d.length&&!O&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&B(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var w=this._findEventTargets(s,u);if(d){for(var A=[],O=0;O<d.length;O++)d[O].listens(u,!0)&&A.push(d[O]);w=A.concat(w)}if(w.length){u==="contextmenu"&&$e(s);var Z=w[0],W={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ot=Z.getLatLng&&(!Z._radius||Z._radius<=10);W.containerPoint=ot?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(s),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=ot?Z.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(O=0;O<w.length;O++)if(w[O].fire(u,W,!0),W.originalEvent._stopped||w[O].options.bubblingMouseEvents===!1&&Wt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return qi(this._mapPane)||new ft(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return nt([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),w=this.getSize().divideBy(2),A=new j(_.subtract(w),_.add(w)),O=this._getBoundsOffset(A,d,u);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?s:this.unproject(_.add(O),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new j(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=nt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=_.min.subtract(s.min),A=_.max.subtract(s.max),O=this._rebound(w.x,-A.x),Z=this._rebound(w.y,-A.y);return new ft(O,Z)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=It.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=qn,_=this._proxy.style[d];Si(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Si(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(w)?!1:(U(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pr(s,u){return new oe(s,u)}var Fn=se.extend({options:{position:"topright"},initialize:function(s){ct(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return St(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),fi=function(s){return new Fn(s)};oe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function _(w,A){var O=u+w+" "+u+A;s[w+A]=Qt("div",O,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ae(this._controlCorners[s]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Br=Fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){ct(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Fn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Qt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Zs(u),Je(u);var _=this._section=Qt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Et(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Qt("a",s+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Et(w,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){$e(A),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",s+"-base",_),this._separator=Qt("div",s+"-separator",_),this._overlaysList=Qt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;De(this._baseLayersList),De(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,w=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(_),_.layerId=v(s.layer),Et(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(_),A.appendChild(w);var O=s.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],w=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||w.push(d);for(A=0;A<w.length;A++)this._map.hasLayer(w[A])&&this._map.removeLayer(w[A]);for(A=0;A<_.length;A++)this._map.hasLayer(_[A])||this._map.addLayer(_[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),w=s.length-1;w>=0;w--)u=s[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Et(s,"click",$e),this.expand();var u=this;setTimeout(function(){Dt(s,"click",$e),u._preventClick=!1})}}),yo=function(s,u,d){return new Br(s,u,d)},Ys=Fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,w){var A=Qt("a",d,_);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),Zs(A),Et(A,"click",as),Et(A,"click",w,this),Et(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(St(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(St(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});oe.mergeOptions({zoomControl:!0}),oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ys,this.addControl(this.zoomControl))});var cl=function(s){return new Ys(s)},vo=Fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Qt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Qt("div",u,d)),s.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,w;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),qr=function(s){return new vo(s)},bo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',va=Fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?bo+" ":"")+"Leaflet</a>"},initialize:function(s){ct(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),Zs(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});oe.mergeOptions({attributionControl:!0}),oe.addInitHook(function(){this.options.attributionControl&&new va().addTo(this)});var ba=function(s){return new va(s)};Fn.Layers=Br,Fn.Zoom=Ys,Fn.Scale=vo,Fn.Attribution=va,fi.layers=yo,fi.zoom=cl,fi.scale=qr,fi.attribution=ba;var Ii=se.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ii.addTo=function(s,u){return s.addHandler(u,this),this};var hl={Events:K},us=It.touch?"touchstart mousedown":"mousedown",cs=_t.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){ct(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Et(this._dragStartTarget,us,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cs._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,us,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!qs(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){cs._dragging===this&&this.finishDrag();return}if(!(cs._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(cs._dragging=this,this._preventOutline&&B(this._element),Ss(),hi(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=yt(this._element);this._startPoint=new ft(u.clientX,u.clientY),this._startPos=qi(this._element),this._parentScale=At(d);var _=s.type==="mousedown";Et(document,_?"mousemove":"touchmove",this._onMove,this),Et(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new ft(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,$e(s),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ce(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),Ai(),dn();var u=this._moved&&this._moving;this._moving=!1,cs._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function wo(s,u,d){var _,w=[1,4,2,8],A,O,Z,W,ot,wt,Ot,ne;for(A=0,wt=s.length;A<wt;A++)s[A]._code=$(s[A],u);for(Z=0;Z<4;Z++){for(Ot=w[Z],_=[],A=0,wt=s.length,O=wt-1;A<wt;O=A++)W=s[A],ot=s[O],W._code&Ot?ot._code&Ot||(ne=Y(ot,W,Ot,u,d),ne._code=$(ne,u),_.push(ne)):(ot._code&Ot&&(ne=Y(ot,W,Ot,u,d),ne._code=$(ne,u),_.push(ne)),_.push(W));s=_}return s}function To(s,u){var d,_,w,A,O,Z,W,ot,wt;if(!s||s.length===0)throw new Error("latlngs not passed");ve(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ot=bt([0,0]),ne=mt(s),zn=ne.getNorthWest().distanceTo(ne.getSouthWest())*ne.getNorthEast().distanceTo(ne.getNorthWest());zn<1700&&(Ot=wa(s));var mn=s.length,Ni=[];for(d=0;d<mn;d++){var xe=bt(s[d]);Ni.push(u.project(bt([xe.lat-Ot.lat,xe.lng-Ot.lng])))}for(Z=W=ot=0,d=0,_=mn-1;d<mn;_=d++)w=Ni[d],A=Ni[_],O=w.y*A.x-A.y*w.x,W+=(w.x+A.x)*O,ot+=(w.y+A.y)*O,Z+=O*3;Z===0?wt=Ni[0]:wt=[W/Z,ot/Z];var Ee=u.unproject(xt(wt));return bt([Ee.lat+Ot.lat,Ee.lng+Ot.lng])}function wa(s){for(var u=0,d=0,_=0,w=0;w<s.length;w++){var A=bt(s[w]);u+=A.lat,d+=A.lng,_++}return bt([u/_,d/_])}var gr={__proto__:null,clipPolygon:wo,polygonCenter:To,centroid:wa};function Gn(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=y(s,d),s=Qs(s,d),s}function xo(s,u,d){return Math.sqrt(qt(s,u,d,!0))}function fl(s,u,d){return qt(s,u,d)}function Qs(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(d);w[0]=w[d-1]=1,f(s,w,u,0,d-1);var A,O=[];for(A=0;A<d;A++)w[A]&&O.push(s[A]);return O}function f(s,u,d,_,w){var A=0,O,Z,W;for(Z=_+1;Z<=w-1;Z++)W=qt(s[Z],s[_],s[w],!0),W>A&&(O=Z,A=W);A>d&&(u[O]=1,f(s,u,d,_,O),f(s,u,d,O,w))}function y(s,u){for(var d=[s[0]],_=1,w=0,A=s.length;_<A;_++)vt(s[_],s[w])>u&&(d.push(s[_]),w=_);return w<A-1&&d.push(s[A-1]),d}var S;function R(s,u,d,_,w){var A=_?S:$(s,d),O=$(u,d),Z,W,ot;for(S=O;;){if(!(A|O))return[s,u];if(A&O)return!1;Z=A||O,W=Y(s,u,Z,d,w),ot=$(W,d),Z===A?(s=W,A=ot):(u=W,O=ot)}}function Y(s,u,d,_,w){var A=u.x-s.x,O=u.y-s.y,Z=_.min,W=_.max,ot,wt;return d&8?(ot=s.x+A*(W.y-s.y)/O,wt=W.y):d&4?(ot=s.x+A*(Z.y-s.y)/O,wt=Z.y):d&2?(ot=W.x,wt=s.y+O*(W.x-s.x)/A):d&1&&(ot=Z.x,wt=s.y+O*(Z.x-s.x)/A),new ft(ot,wt,w)}function $(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function vt(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function qt(s,u,d,_){var w=u.x,A=u.y,O=d.x-w,Z=d.y-A,W=O*O+Z*Z,ot;return W>0&&(ot=((s.x-w)*O+(s.y-A)*Z)/W,ot>1?(w=d.x,A=d.y):ot>0&&(w+=O*ot,A+=Z*ot)),O=s.x-w,Z=s.y-A,_?O*O+Z*Z:new ft(w,A)}function ve(s){return!kt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function be(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ve(s)}function qe(s,u){var d,_,w,A,O,Z,W,ot;if(!s||s.length===0)throw new Error("latlngs not passed");ve(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var wt=bt([0,0]),Ot=mt(s),ne=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());ne<1700&&(wt=wa(s));var zn=s.length,mn=[];for(d=0;d<zn;d++){var Ni=bt(s[d]);mn.push(u.project(bt([Ni.lat-wt.lat,Ni.lng-wt.lng])))}for(d=0,_=0;d<zn-1;d++)_+=mn[d].distanceTo(mn[d+1])/2;if(_===0)ot=mn[0];else for(d=0,A=0;d<zn-1;d++)if(O=mn[d],Z=mn[d+1],w=O.distanceTo(Z),A+=w,A>_){W=(A-_)/w,ot=[Z.x-W*(Z.x-O.x),Z.y-W*(Z.y-O.y)];break}var xe=u.unproject(xt(ot));return bt([xe.lat+wt.lat,xe.lng+wt.lng])}var Hi={__proto__:null,simplify:Gn,pointToSegmentDistance:xo,closestPointOnSegment:fl,clipSegment:R,_getEdgeIntersection:Y,_getBitCode:$,_sqClosestPointOnSegment:qt,isFlat:ve,_flat:be,polylineCenter:qe},Fi={project:function(s){return new ft(s.lng,s.lat)},unproject:function(s){return new Tt(s.y,s.x)},bounds:new j([-180,-90],[180,90])},Ri={R:6378137,R_MINOR:6356752314245179e-9,bounds:new j([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,w=this.R_MINOR/d,A=Math.sqrt(1-w*w),O=A*Math.sin(_),Z=Math.tan(Math.PI/4-_/2)/Math.pow((1-O)/(1+O),A/2);return _=-d*Math.log(Math.max(Z,1e-10)),new ft(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,w=Math.sqrt(1-_*_),A=Math.exp(-s.y/d),O=Math.PI/2-2*Math.atan(A),Z=0,W=.1,ot;Z<15&&Math.abs(W)>1e-7;Z++)ot=w*Math.sin(O),ot=Math.pow((1-ot)/(1+ot),w/2),W=Math.PI/2-2*Math.atan(A*ot)-O,O+=W;return new Tt(O*u,s.x*u/d)}},hs={__proto__:null,LonLat:Fi,Mercator:Ri,SphericalMercator:cn},Hr=l({},ke,{code:"EPSG:3395",projection:Ri,transformation:(function(){var s=.5/(Math.PI*Ri.R);return Mi(s,.5,-s,.5)})()}),Fr=l({},ke,{code:"EPSG:4326",projection:Fi,transformation:Mi(1/180,1,-1/180,.5)}),Ta=l({},Ht,{projection:Fi,transformation:Mi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ht.Earth=ke,Ht.EPSG3395=Hr,Ht.EPSG3857=ws,Ht.EPSG900913=Xn,Ht.EPSG4326=Fr,Ht.Simple=Ta;var fs=_t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});oe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?kt(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xa=fs.extend({initialize:function(s,u){ct(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),id=function(s,u){return new xa(s,u)},Is=xa.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),xa.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),xa.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new dt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),jc=function(s,u){return new Is(s,u)},Rs=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){ct(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=xt(_),A=xt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return It.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Eo(s){return new Rs(s)}var So=Rs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof So.imagePath!="string"&&(So.imagePath=this._detectIconPath()),(this.options.imagePath||So.imagePath)+Rs.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,w){var A=_.exec(d);return A&&A[w]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Qt("div","leaflet-default-icon-path",document.body),u=rs(s,"background-image")||rs(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Ao=Ii.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new cs(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,A=qi(u._icon),O=d.getPixelBounds(),Z=d.getPixelOrigin(),W=nt(O.min._subtract(Z).add(w),O.max._subtract(Z).subtract(w));if(!W.contains(A)){var ot=xt((Math.max(W.max.x,A.x)-W.max.x)/(O.max.x-W.max.x)-(Math.min(W.min.x,A.x)-W.min.x)/(O.min.x-W.min.x),(Math.max(W.max.y,A.y)-W.max.y)/(O.max.y-W.max.y)-(Math.min(W.min.y,A.y)-W.min.y)/(O.min.y-W.min.y)).multiplyBy(_);d.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),Ce(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=U(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=qi(u._icon),w=u._map.layerPointToLatLng(_);d&&Ce(d,_),u._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Co=fs.extend({options:{icon:new So,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){ct(this,u),this._latlng=bt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=bt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),St(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(d,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),A=!1;w!==this._shadow&&(this._removeShadow(),A=!0),w&&(St(w,u),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ce(this._icon,s),this._shadow&&Ce(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ao)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ao(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Le(this._icon,s),this._shadow&&Le(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?xt(u.iconSize):xt(0,0),_=u.iconAnchor?xt(u.iconAnchor):xt(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Uc(s,u){return new Co(s,u)}var Ns=fs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return ct(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ea=Ns.extend({options:{fill:!0,radius:10},initialize:function(s,u){ct(this,u),this._latlng=bt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=bt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Ns.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new j(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bc(s,u){return new Ea(s,u)}var dl=Ea.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),ct(this,u),this._latlng=bt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ns.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===ke.distance){var w=Math.PI/180,A=this._mRadius/ke.R/w,O=d.project([u+A,s]),Z=d.project([u-A,s]),W=O.add(Z).divideBy(2),ot=d.unproject(W).lat,wt=Math.acos((Math.cos(A*w)-Math.sin(u*w)*Math.sin(ot*w))/(Math.cos(u*w)*Math.cos(ot*w)))/w;(isNaN(wt)||wt===0)&&(wt=A/Math.cos(Math.PI/180*u)),this._point=W.subtract(d.getPixelOrigin()),this._radius=isNaN(wt)?0:W.x-d.project([ot,s-wt]).x,this._radiusY=W.y-O.y}else{var Ot=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ot).x}this._updateBounds()}});function qc(s,u,d){return new dl(s,u,d)}var Xs=Ns.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){ct(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=qt,w,A,O=0,Z=this._parts.length;O<Z;O++)for(var W=this._parts[O],ot=1,wt=W.length;ot<wt;ot++){w=W[ot-1],A=W[ot];var Ot=_(s,w,A,!0);Ot<u&&(u=Ot,d=_(s,w,A))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qe(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=bt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new dt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ve(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=ve(s),_=0,w=s.length;_<w;_++)d?(u[_]=bt(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ft(s,s);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof Tt,w=s.length,A,O;if(_){for(O=[],A=0;A<w;A++)O[A]=this._map.latLngToLayerPoint(s[A]),d.extend(O[A]);u.push(O)}else for(A=0;A<w;A++)this._projectLatlngs(s[A],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,w,A,O,Z,W;for(d=0,w=0,A=this._rings.length;d<A;d++)for(W=this._rings[d],_=0,O=W.length;_<O-1;_++)Z=R(W[_],W[_+1],s,_,!0),Z&&(u[w]=u[w]||[],u[w].push(Z[0]),(Z[1]!==W[_+1]||_===O-2)&&(u[w].push(Z[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=Gn(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,w,A,O,Z,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,A=this._parts.length;d<A;d++)for(Z=this._parts[d],_=0,O=Z.length,w=O-1;_<O;w=_++)if(!(!u&&_===0)&&xo(s,Z[w],Z[_])<=W)return!0;return!1}});function sd(s,u){return new Xs(s,u)}Xs._flat=be;var Sa=Xs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return To(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Xs.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof Tt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){Xs.prototype._setLatLngs.call(this,s),ve(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ve(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new ft(u,u);if(s=new j(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,A;_<w;_++)A=wo(this._rings[_],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,w,A,O,Z,W,ot;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,W=this._parts.length;A<W;A++)for(d=this._parts[A],O=0,ot=d.length,Z=ot-1;O<ot;Z=O++)_=d[O],w=d[Z],_.y>s.y!=w.y>s.y&&s.x<(w.x-_.x)*(s.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||Xs.prototype._containsPoint.call(this,s,!0)}});function rd(s,u){return new Sa(s,u)}var Ws=Is.extend({initialize:function(s,u){ct(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=kt(s)?s:s.features,d,_,w;if(u){for(d=0,_=u.length;d<_;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var O=Zn(s,A);return O?(O.feature=gl(s),O.defaultOptions=O.options,this.resetStyle(O),A.onEachFeature&&A.onEachFeature(s,O),this.addLayer(O)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Zn(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,w=[],A=u&&u.pointToLayer,O=u&&u.coordsToLatLng||ml,Z,W,ot,wt;if(!_&&!d)return null;switch(d.type){case"Point":return Z=O(_),Aa(A,s,Z,u);case"MultiPoint":for(ot=0,wt=_.length;ot<wt;ot++)Z=O(_[ot]),w.push(Aa(A,s,Z,u));return new Is(w);case"LineString":case"MultiLineString":return W=Io(_,d.type==="LineString"?0:1,O),new Xs(W,u);case"Polygon":case"MultiPolygon":return W=Io(_,d.type==="Polygon"?1:2,O),new Sa(W,u);case"GeometryCollection":for(ot=0,wt=d.geometries.length;ot<wt;ot++){var Ot=Zn({geometry:d.geometries[ot],type:"Feature",properties:s.properties},u);Ot&&w.push(Ot)}return new Is(w);case"FeatureCollection":for(ot=0,wt=d.features.length;ot<wt;ot++){var ne=Zn(d.features[ot],u);ne&&w.push(ne)}return new Is(w);default:throw new Error("Invalid GeoJSON object.")}}function Aa(s,u,d,_){return s?s(u,d):new Co(d,_&&_.markersInheritOptions&&_)}function ml(s){return new Tt(s[1],s[0],s[2])}function Io(s,u,d){for(var _=[],w=0,A=s.length,O;w<A;w++)O=u?Io(s[w],u-1,d):(d||ml)(s[w]),_.push(O);return _}function pl(s,u){return s=bt(s),s.alt!==void 0?[k(s.lng,u),k(s.lat,u),k(s.alt,u)]:[k(s.lng,u),k(s.lat,u)]}function Ro(s,u,d,_){for(var w=[],A=0,O=s.length;A<O;A++)w.push(u?Ro(s[A],ve(s[A])?0:u-1,d,_):pl(s[A],_));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function _r(s,u){return s.feature?l({},s.feature,{geometry:u}):gl(u)}function gl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var yr={toGeoJSON:function(s){return _r(this,{type:"Point",coordinates:pl(this.getLatLng(),s)})}};Co.include(yr),dl.include(yr),Ea.include(yr),Xs.include({toGeoJSON:function(s){var u=!ve(this._latlngs),d=Ro(this._latlngs,u?1:0,!1,s);return _r(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),Sa.include({toGeoJSON:function(s){var u=!ve(this._latlngs),d=u&&!ve(this._latlngs[0]),_=Ro(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),_r(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),xa.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),_r(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var A=w.toGeoJSON(s);if(d)_.push(A.geometry);else{var O=gl(A);O.type==="FeatureCollection"?_.push.apply(_,O.features):_.push(O)}}}),d?_r(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function _l(s,u){return new Ws(s,u)}var No=_l,Ca=fs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=mt(u),ct(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Be(this._image),this},bringToBack:function(){return this._map&&Pn(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=mt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Qt("img");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=N,u.onmousemove=N,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Si(this._image,d,u)},_reset:function(){var s=this._image,u=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Ce(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Le(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Hc=function(s,u,d){return new Ca(s,u,d)},vr=Ca.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Qt("video");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=N,u.onmousemove=N,u.onloadeddata=p(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],w=0;w<d.length;w++)_.push(d[w].src);this._url=d.length>0?_:[u.src];return}kt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var O=Qt("source");O.src=this._url[A],u.appendChild(O)}}});function Ia(s,u,d){return new vr(s,u,d)}var yl=Ca.extend({_initImage:function(){var s=this._image=this._url;St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=N,s.onmousemove=N}});function Fc(s,u,d){return new yl(s,u,d)}var Kn=fs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof Tt||kt(s))?(this._latlng=bt(s),ct(this,u)):(ct(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Le(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Le(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Le(this._container,0),this._removeTimeout=setTimeout(p(ae,void 0,this._container),200)):ae(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=bt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Be(this._container),this},bringToBack:function(){return this._map&&Pn(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Is){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=xt(this.options.offset),d=this._getAnchor();this._zoomAnimated?Ce(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});oe.include({_initOverlay:function(s,u,d,_){var w=u;return w instanceof s||(w=new s(_).setContent(u)),d&&w.setLatLng(d),w}}),fs.include({_initOverlay:function(s,u,d,_){var w=d;return w instanceof s?(ct(w,_),w._source=this):(w=u&&!_?u:new s(_,this),w.setContent(d)),w}});var ko=Kn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Kn.prototype.openOn.call(this,s)},onAdd:function(s){Kn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ns||this._source.on("preclick",ee))},onRemove:function(s){Kn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ns||this._source.off("preclick",ee))},getEvents:function(){var s=Kn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Qt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",s+"-content-wrapper",u);if(this._contentNode=Qt("div",s+"-content",d),Zs(u),Je(this._contentNode),Et(u,"contextmenu",ee),this._tipContainer=Qt("div",s+"-tip-container",u),this._tip=Qt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Et(_,"click",function(w){$e(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,w=this.options.maxHeight,A="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",St(s,A)):ye(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Ce(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(rs(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,w=new ft(this._containerLeft,-d-this._containerBottom);w._add(qi(this._container));var A=s.layerPointToContainerPoint(w),O=xt(this.options.autoPanPadding),Z=xt(this.options.autoPanPaddingTopLeft||O),W=xt(this.options.autoPanPaddingBottomRight||O),ot=s.getSize(),wt=0,Ot=0;A.x+_+W.x>ot.x&&(wt=A.x+_-ot.x+W.x),A.x-wt-Z.x<0&&(wt=A.x-Z.x),A.y+d+W.y>ot.y&&(Ot=A.y+d-ot.y+W.y),A.y-Ot-Z.y<0&&(Ot=A.y-Z.y),(wt||Ot)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([wt,Ot]))}},_getAnchor:function(){return xt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gc=function(s,u){return new ko(s,u)};oe.mergeOptions({closePopupOnClick:!0}),oe.include({openPopup:function(s,u,d){return this._initOverlay(ko,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),fs.include({bindPopup:function(s,u){return this._popup=this._initOverlay(ko,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Is||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){as(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Ns)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Lo=Kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Kn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Kn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Kn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,w=this._container,A=_.latLngToContainerPoint(_.getCenter()),O=_.layerPointToContainerPoint(s),Z=this.options.direction,W=w.offsetWidth,ot=w.offsetHeight,wt=xt(this.options.offset),Ot=this._getAnchor();Z==="top"?(u=W/2,d=ot):Z==="bottom"?(u=W/2,d=0):Z==="center"?(u=W/2,d=ot/2):Z==="right"?(u=0,d=ot/2):Z==="left"?(u=W,d=ot/2):O.x<A.x?(Z="right",u=0,d=ot/2):(Z="left",u=W+(wt.x+Ot.x)*2,d=ot/2),s=s.subtract(xt(u,d,!0)).add(wt).add(Ot),ye(w,"leaflet-tooltip-right"),ye(w,"leaflet-tooltip-left"),ye(w,"leaflet-tooltip-top"),ye(w,"leaflet-tooltip-bottom"),St(w,"leaflet-tooltip-"+Z),Ce(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Le(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return xt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ad=function(s,u){return new Lo(s,u)};oe.include({openTooltip:function(s,u,d){return this._initOverlay(Lo,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),fs.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lo,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Is||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Et(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Et(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Zc=Rs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(De(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=xt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function od(s){return new Zc(s)}Rs.Default=So;var Ra=fs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){ct(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ae(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Be(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Pn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ft?s:new ft(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,w=u.length,A;_<w;_++)A=u[_].style.zIndex,u[_]!==this._container&&A&&(d=s(d,+A));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){Le(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var A=Math.min(1,(s-w.loaded)/200);Le(w.el,A),A<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(ae(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],w=this._map;return _||(_=this._levels[s]={},_.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,w.getCenter(),w.getZoom()),N(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ae(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var w=Math.floor(s/2),A=Math.floor(u/2),O=d-1,Z=new ft(+w,+A);Z.z=+O;var W=this._tileCoordsToKey(Z),ot=this._tiles[W];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),O>_?this._retainParent(w,A,O,_):!1)},_retainChildren:function(s,u,d,_){for(var w=2*s;w<2*s+2;w++)for(var A=2*u;A<2*u+2;A++){var O=new ft(w,A);O.z=d+1;var Z=this._tileCoordsToKey(O),W=this._tiles[Z];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);d+1<_&&this._retainChildren(w,A,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var A=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||A)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),w=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();It.any3d?Si(s.el,w,_):Ce(s.el,w)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),w=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(_*2);return new j(w.subtract(A),w.add(A))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(_),A=w.getCenter(),O=[],Z=this.options.keepBuffer,W=new j(w.getBottomLeft().subtract([Z,-Z]),w.getTopRight().add([Z,-Z]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var wt=this._tiles[ot].coords;(wt.z!==this._tileZoom||!W.contains(new ft(wt.x,wt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Ot=w.min.y;Ot<=w.max.y;Ot++)for(var ne=w.min.x;ne<=w.max.x;ne++){var zn=new ft(ne,Ot);if(zn.z=this._tileZoom,!!this._isValidTile(zn)){var mn=this._tiles[this._tileCoordsToKey(zn)];mn?mn.current=!0:O.push(zn)}}if(O.sort(function(xe,Ee){return xe.distanceTo(A)-Ee.distanceTo(A)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ni=document.createDocumentFragment();for(ne=0;ne<O.length;ne++)this._addTile(O[ne],Ni);this._level.el.appendChild(Ni)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return mt(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),w=_.add(d),A=u.unproject(_,s.z),O=u.unproject(w,s.z);return[A,O]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new dt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new ft(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(ae(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){St(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=N,s.onmousemove=N,It.ielt9&&this.options.opacity<1&&Le(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&U(p(this._tileReady,this,s,null,w)),Ce(w,d),this._tiles[_]={el:w,coords:s,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Le(d.el,0),F(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(St(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ft(this._wrapX?I(s.x,this._wrapX):s.x,this._wrapY?I(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new j(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Kc(s){return new Ra(s)}var br=Ra.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=ct(this,u),u.detectRetina&&It.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Et(d,"load",p(this._tileOnLoad,this,u,d)),Et(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:It.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return Ut(this._url,l(u,this.options))},_tileOnLoad:function(s,u){It.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=N,u.onerror=N,!u.complete)){u.src=Re;var d=this._tiles[s].coords;ae(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",Re),Ra.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===Re))return Ra.prototype._tileReady.call(this,s,u,d)}});function Gi(s,u){return new br(s,u)}var Mo=br.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=ct(this,u);var w=u.detectRetina&&It.retina?2:1,A=this.getTileSize();d.width=A.x*w,d.height=A.y*w,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,br.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=nt(d.project(u[0]),d.project(u[1])),w=_.min,A=_.max,O=(this._wmsVersion>=1.3&&this._crs===Fr?[w.y,w.x,A.y,A.x]:[w.x,w.y,A.x,A.y]).join(","),Z=br.prototype.getTileUrl.call(this,s);return Z+pt(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function Zi(s,u){return new Mo(s,u)}br.WMS=Mo,Gi.wms=Zi;var di=fs.extend({options:{padding:.1},initialize:function(s){ct(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),A=_.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(s,u));It.any3d?Si(this._container,A,d):Ce(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new j(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vl=di.extend({options:{tolerance:0},getEvents:function(){var s=di.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){di.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Et(s,"mousemove",this._onMouseMove,this),Et(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,ae(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){di.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=It.retina?2:1;Ce(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){di.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,w,A,O=s._parts,Z=O.length,W=this._ctx;if(Z){for(W.beginPath(),d=0;d<Z;d++){for(_=0,w=O[d].length;_<w;_++)A=O[d][_],W[_?"lineTo":"moveTo"](A.x,A.y);u&&W.closePath()}this._fillStroke(W,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||_)/_;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(St(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Oo(s){return It.canvas?new vl(s):null}var wr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Tu={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(di.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=wr("shape");St(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=wr("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;ae(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,w=s._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=s._stroke=wr("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=kt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=wr("fill")),w.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(w.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Be(s._container)},_bringToBack:function(s){Pn(s._container)}},ks=It.vml?wr:js,Na=di.extend({_initContainer:function(){this._container=ks("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ks("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){di.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Ce(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=ks("path");s.options.className&&St(u,s.options.className),s.options.interactive&&St(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ae(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,si(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,w="a"+d+","+_+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Be(s._path)},_bringToBack:function(s){Pn(s._path)}});It.vml&&Na.include(Tu);function Po(s){return It.svg||It.vml?new Na(s):null}oe.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Oo(s)||Po(s)}});var Gr=Sa.extend({initialize:function(s,u){Sa.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=mt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function ld(s,u){return new Gr(s,u)}Na.create=ks,Na.pointsToPath=si,Ws.geometryToLayer=Zn,Ws.coordsToLatLng=ml,Ws.coordsToLatLngs=Io,Ws.latLngToCoords=pl,Ws.latLngsToCoords=Ro,Ws.getFeature=_r,Ws.asFeature=gl,oe.mergeOptions({boxZoom:!0});var mi=Ii.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hi(),Ss(),this._startPoint=this._map.mouseEventToContainerPoint(s),Et(document,{contextmenu:as,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new j(this._point,this._startPoint),d=u.getSize();Ce(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ae(this._box),ye(this._container,"leaflet-crosshair")),dn(),Ai(),Dt(document,{contextmenu:as,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});oe.addInitHook("addHandler","boxZoom",mi),oe.mergeOptions({doubleClickZoom:!0});var bl=Ii.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,w=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(s.containerPoint,w)}});oe.addInitHook("addHandler","doubleClickZoom",bl),oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ls=Ii.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new cs(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=mt(this._map.options.maxBounds);this._offsetLimit=nt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+d)%s+u-d,A=(_+u+d)%s-u-d,O=Math.abs(w+d)<Math.abs(A+d)?w:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,O=d.easeLinearity,Z=w.multiplyBy(O/A),W=Z.distanceTo([0,0]),ot=Math.min(d.inertiaMaxSpeed,W),wt=Z.multiplyBy(ot/W),Ot=ot/(d.inertiaDeceleration*O),ne=wt.multiplyBy(-Ot/2).round();!ne.x&&!ne.y?u.fire("moveend"):(ne=u._limitOffset(ne,u.options.maxBounds),U(function(){u.panBy(ne,{duration:Ot,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});oe.addInitHook("addHandler","dragging",Ls),oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xu=Ii.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Et(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,w;for(_=0,w=d.left.length;_<w;_++)u[d.left[_]]=[-1*s,0];for(_=0,w=d.right.length;_<w;_++)u[d.right[_]]=[s,0];for(_=0,w=d.down.length;_<w;_++)u[d.down[_]]=[0,s];for(_=0,w=d.up.length;_<w;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,w;for(_=0,w=d.zoomIn.length;_<w;_++)u[d.zoomIn[_]]=s;for(_=0,w=d.zoomOut.length;_<w;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=xt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(xt(_),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(w)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;as(s)}}});oe.addInitHook("addHandler","keyboard",xu),oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Do=Ii.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=En(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),as(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,A=d?Math.ceil(w/d)*d:w,O=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,O&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+O):s.setZoomAround(this._lastMousePos,u+O))}});oe.addInitHook("addHandler","scrollWheelZoom",Do);var Zr=600;oe.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var wl=Ii.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ft(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Et(document,"touchend",$e),Et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Zr),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Dt(document,"touchend",$e),Dt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ft(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});oe.addInitHook("addHandler","tapHold",wl),oe.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var Eu=Ii.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),$e(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),w=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var A=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var O=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(O,this,!0),$e(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});oe.addInitHook("addHandler","touchZoom",Eu),oe.BoxZoom=mi,oe.DoubleClickZoom=bl,oe.Drag=Ls,oe.Keyboard=xu,oe.ScrollWheelZoom=Do,oe.TapHold=wl,oe.TouchZoom=Eu,n.Bounds=j,n.Browser=It,n.CRS=Ht,n.Canvas=vl,n.Circle=dl,n.CircleMarker=Ea,n.Class=se,n.Control=Fn,n.DivIcon=Zc,n.DivOverlay=Kn,n.DomEvent=Cs,n.DomUtil=$t,n.Draggable=cs,n.Evented=_t,n.FeatureGroup=Is,n.GeoJSON=Ws,n.GridLayer=Ra,n.Handler=Ii,n.Icon=Rs,n.ImageOverlay=Ca,n.LatLng=Tt,n.LatLngBounds=dt,n.Layer=fs,n.LayerGroup=xa,n.LineUtil=Hi,n.Map=oe,n.Marker=Co,n.Mixin=hl,n.Path=Ns,n.Point=ft,n.PolyUtil=gr,n.Polygon=Sa,n.Polyline=Xs,n.Popup=ko,n.PosAnimation=Ks,n.Projection=hs,n.Rectangle=Gr,n.Renderer=di,n.SVG=Na,n.SVGOverlay=yl,n.TileLayer=br,n.Tooltip=Lo,n.Transformation=bs,n.Util=P,n.VideoOverlay=vr,n.bind=p,n.bounds=nt,n.canvas=Oo,n.circle=qc,n.circleMarker=Bc,n.control=fi,n.divIcon=od,n.extend=l,n.featureGroup=jc,n.geoJSON=_l,n.geoJson=No,n.gridLayer=Kc,n.icon=Eo,n.imageOverlay=Hc,n.latLng=bt,n.latLngBounds=mt,n.layerGroup=id,n.map=pr,n.marker=Uc,n.point=xt,n.polygon=rd,n.polyline=sd,n.popup=Gc,n.rectangle=ld,n.setOptions=ct,n.stamp=v,n.svg=Po,n.svgOverlay=Fc,n.tileLayer=Gi,n.tooltip=ad,n.transformation=Mi,n.version=a,n.videoOverlay=Ia;var Su=window.L;n.noConflict=function(){return window.L=Su,this},window.L=n}))})(lc,lc.exports)),lc.exports}var i1=n1();const Fh=Op(i1),Fl={Africa:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=0&single=true&output=csv",Asia:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=1068676948&single=true&output=csv",Europe:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=1320626933&single=true&output=csv",NorthAmerica:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=1830200360&single=true&output=csv",SouthAmerica:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=1119979844&single=true&output=csv",Oceania:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=868971470&single=true&output=csv",Any:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=0&single=true&output=csv"},s1=r=>{const t=[];let n=[],a="",l=!1;for(let p=0;p<r.length;p++){const b=r[p];b==='"'?l=!l:b===","&&!l?(n.push(a.trim()),a=""):b===`
`&&!l?(n.push(a.trim()),n.length>1&&t.push(n),n=[],a=""):b===`
`&&l?a+=" ":b!=="\r"&&(a+=b)}if((a||n.length>0)&&(n.push(a.trim()),n.length>1&&t.push(n)),t.length===0)return[];const h=t[0].map(p=>p.replace(/^"|"$/g,""));return t.slice(1).map(p=>{const b={};return h.forEach((v,x)=>{b[v]=p[x]?p[x].replace(/^"|"$/g,""):""}),b})},r1=r=>{const[t,n]=gt.useState([]),[a,l]=gt.useState(!0),[h,p]=gt.useState(null),[b,v]=gt.useState(null);return gt.useEffect(()=>{(async()=>{l(!0);try{let I=[];if(r==="Any"){const at=[Fl.Africa,Fl.Asia,Fl.Europe,Fl.NorthAmerica,Fl.SouthAmerica,Fl.Oceania].filter(Boolean),ct=await Promise.all(at.map(Lt=>fetch(Lt)));(await Promise.all(ct.map(Lt=>Lt.text()))).forEach(Lt=>{I=I.concat(s1(Lt))})}const N=[],k=[],et=new Set;I.forEach(at=>{const ct=parseInt(at.Taxon_ID),pt=at.Name;pt&&ct?et.has(pt)||(et.add(pt),N.push({name:pt,correctName:pt,emoji:at.Emoji,sciName:at.SciName,displayLatin:at.SciName,id:ct,category:at["Animal Category"],clue1:at["Clue 1"],clue2:at["Clue 2"],family:"Unknown",groupEmoji:at.Emoji,region:at.region})):(pt||at.Taxon_ID)&&k.push({name:pt||"MISSING NAME",rawIdCell:at.Taxon_ID||"BLANK"})}),k.length>0&&console.warn(` FILTER CAUGHT ${k.length} BROKEN ANIMALS:`,k),n(N),v(r)}catch(I){console.error("Failed to load animal data:",I),p(I)}finally{l(!1)}})()},[r]),{animals:t,loading:a,error:h,loadedRegion:b}},a1=()=>{};var Bv={};const Cb=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},o1=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],p=r[n++],b=r[n++],v=((l&7)<<18|(h&63)<<12|(p&63)<<6|b&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[n++],p=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],p=l+1<r.length,b=p?r[l+1]:0,v=l+2<r.length,x=v?r[l+2]:0,I=h>>2,N=(h&3)<<4|b>>4;let k=(b&15)<<2|x>>6,et=x&63;v||(et=64,p||(k=64)),a.push(n[I],n[N],n[k],n[et])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Cb(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):o1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],b=l<r.length?n[r.charAt(l)]:0;++l;const x=l<r.length?n[r.charAt(l)]:64;++l;const N=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||b==null||x==null||N==null)throw new l1;const k=h<<2|b>>4;if(a.push(k),x!==64){const et=b<<4&240|x>>2;if(a.push(et),N!==64){const at=x<<6&192|N;a.push(at)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u1=function(r){const t=Cb(r);return Ib.encodeByteArray(t,!0)},ff=function(r){return u1(r).replace(/\./g,"")},Rb=function(r){try{return Ib.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h1=()=>c1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof Bv>"u")return;const r=Bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},d1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Rb(r[1]);return t&&JSON.parse(t)},Mf=()=>{try{return a1()||h1()||f1()||d1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Nb=r=>Mf()?.emulatorHosts?.[r],m1=r=>{const t=Nb(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},kb=()=>Mf()?.config,Lb=r=>Mf()?.[`_${r}`];class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function fu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mb(r){return(await fetch(r,{credentials:"include"})).ok}function g1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ff(JSON.stringify(n)),ff(JSON.stringify(p)),""].join(".")}const dc={};function _1(){const r={prod:[],emulator:[]};for(const t of Object.keys(dc))dc[t]?r.emulator.push(t):r.prod.push(t);return r}function y1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let qv=!1;function Ob(r,t){if(typeof window>"u"||typeof document>"u"||!fu(window.location.host)||dc[r]===t||dc[r]||qv)return;dc[r]=t;function n(k){return`__firebase__banner__${k}`}const a="__firebase__banner",h=_1().prod.length>0;function p(){const k=document.getElementById(a);k&&k.remove()}function b(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function v(k,et){k.setAttribute("width","24"),k.setAttribute("id",et),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function x(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{qv=!0,p()},k}function I(k,et){k.setAttribute("id",et),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function N(){const k=y1(a),et=n("text"),at=document.getElementById(et)||document.createElement("span"),ct=n("learnmore"),pt=document.getElementById(ct)||document.createElement("a"),Lt=n("preprendIcon"),Ut=document.getElementById(Lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const kt=k.element;b(kt),I(pt,ct);const Wt=x();v(Ut,Lt),kt.append(Ut,at,pt,Wt),document.body.appendChild(kt)}h?(at.innerText="Preview backend disconnected.",Ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,at.innerText="Preview backend running in this workspace."),at.setAttribute("id",et)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vi())}function b1(){const r=Mf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function T1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x1(){const r=vi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function E1(){return!b1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Db(){try{return typeof indexedDB=="object"}catch{return!1}}function Vb(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function S1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const A1="FirebaseError";class lr extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=A1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?C1(h,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new lr(l,b,a)}}function C1(r,t){return r.replace(I1,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const I1=/\{\$([^}]+)}/g;function R1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ha(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],p=t[l];if(Hv(h)&&Hv(p)){if(!ha(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Hv(r){return r!==null&&typeof r=="object"}function Ic(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function N1(r,t){const n=new k1(r,t);return n.subscribe.bind(n)}class k1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");L1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=Gm),l.error===void 0&&(l.error=Gm),l.complete===void 0&&(l.complete=Gm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Gm(){}const M1=1e3,O1=2,P1=14400*1e3,D1=.5;function Fv(r,t=M1,n=O1){const a=t*Math.pow(n,r),l=Math.round(D1*a*(Math.random()-.5)*2);return Math.min(P1,a+l)}function Ln(r){return r&&r._delegate?r._delegate:r}class ar{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qo="[DEFAULT]";class V1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new p1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(j1(t))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Qo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qo){return this.instances.has(t)}getOptions(t=Qo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(h);a===b&&p.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:z1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qo){return this.component?this.component.multipleInstances?t:Qo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z1(r){return r===Qo?void 0:r}function j1(r){return r.instantiationMode==="EAGER"}class U1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new V1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(pe||(pe={}));const B1={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},q1=pe.INFO,H1={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},F1=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=H1[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Of{constructor(t){this.name=t,this._logLevel=q1,this._logHandler=F1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?B1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const G1=(r,t)=>t.some(n=>r instanceof n);let Gv,Zv;function Z1(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zb=new WeakMap,up=new WeakMap,jb=new WeakMap,Zm=new WeakMap,Dp=new WeakMap;function Y1(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",p)},h=()=>{n(eo(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&zb.set(n,r)}).catch(()=>{}),Dp.set(t,r),t}function Q1(r){if(up.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",p),r.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",p),r.addEventListener("abort",p)});up.set(r,t)}let cp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return up.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jb.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function X1(r){cp=r(cp)}function W1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Km(this),t,...n);return jb.set(a,t.sort?t.sort():[t]),eo(a)}:K1().includes(r)?function(...t){return r.apply(Km(this),t),eo(zb.get(this))}:function(...t){return eo(r.apply(Km(this),t))}}function J1(r){return typeof r=="function"?W1(r):(r instanceof IDBTransaction&&Q1(r),G1(r,Z1())?new Proxy(r,cp):r)}function eo(r){if(r instanceof IDBRequest)return Y1(r);if(Zm.has(r))return Zm.get(r);const t=J1(r);return t!==r&&(Zm.set(r,t),Dp.set(t,r)),t}const Km=r=>Dp.get(r);function Ub(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(r,t),b=eo(p);return a&&p.addEventListener("upgradeneeded",v=>{a(eo(p.result),v.oldVersion,v.newVersion,eo(p.transaction),v)}),n&&p.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),b.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),b}const $1=["get","getKey","getAll","getAllKeys","count"],tS=["put","add","delete","clear"],Ym=new Map;function Kv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ym.get(t))return Ym.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=tS.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||$1.includes(n)))return;const h=async function(p,...b){const v=this.transaction(p,l?"readwrite":"readonly");let x=v.store;return a&&(x=x.index(b.shift())),(await Promise.all([x[n](...b),l&&v.done]))[0]};return Ym.set(t,h),h}X1(r=>({...r,get:(t,n,a)=>Kv(t,n)||r.get(t,n,a),has:(t,n)=>!!Kv(t,n)||r.has(t,n)}));class eS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nS(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function nS(r){return r.getComponent()?.type==="VERSION"}const hp="@firebase/app",Yv="0.14.7";const fa=new Of("@firebase/app"),iS="@firebase/app-compat",sS="@firebase/analytics-compat",rS="@firebase/analytics",aS="@firebase/app-check-compat",oS="@firebase/app-check",lS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",hS="@firebase/data-connect",fS="@firebase/database-compat",dS="@firebase/functions",mS="@firebase/functions-compat",pS="@firebase/installations",gS="@firebase/installations-compat",_S="@firebase/messaging",yS="@firebase/messaging-compat",vS="@firebase/performance",bS="@firebase/performance-compat",wS="@firebase/remote-config",TS="@firebase/remote-config-compat",xS="@firebase/storage",ES="@firebase/storage-compat",SS="@firebase/firestore",AS="@firebase/ai",CS="@firebase/firestore-compat",IS="firebase",RS="12.8.0";const fp="[DEFAULT]",NS={[hp]:"fire-core",[iS]:"fire-core-compat",[rS]:"fire-analytics",[sS]:"fire-analytics-compat",[oS]:"fire-app-check",[aS]:"fire-app-check-compat",[lS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[hS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[dS]:"fire-fn",[mS]:"fire-fn-compat",[pS]:"fire-iid",[gS]:"fire-iid-compat",[_S]:"fire-fcm",[yS]:"fire-fcm-compat",[vS]:"fire-perf",[bS]:"fire-perf-compat",[wS]:"fire-rc",[TS]:"fire-rc-compat",[xS]:"fire-gcs",[ES]:"fire-gcs-compat",[SS]:"fire-fst",[CS]:"fire-fst-compat",[AS]:"fire-vertex","fire-js":"fire-js",[IS]:"fire-js-all"};const df=new Map,kS=new Map,dp=new Map;function Qv(r,t){try{r.container.addComponent(t)}catch(n){fa.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Lr(r){const t=r.name;if(dp.has(t))return fa.debug(`There were multiple attempts to register component ${t}.`),!1;dp.set(t,r);for(const n of df.values())Qv(n,r);for(const n of kS.values())Qv(n,r);return!0}function al(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ds(r){return r==null?!1:r.settings!==void 0}const LS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new rl("app","Firebase",LS);class MS{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}const du=RS;function Bb(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:fp,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw no.create("bad-app-name",{appName:String(l)});if(n||(n=kb()),!n)throw no.create("no-options");const h=df.get(l);if(h){if(ha(n,h.options)&&ha(a,h.config))return h;throw no.create("duplicate-app",{appName:l})}const p=new U1(l);for(const v of dp.values())p.addComponent(v);const b=new MS(n,a,p);return df.set(l,b),b}function Vp(r=fp){const t=df.get(r);if(!t&&r===fp&&kb())return Bb();if(!t)throw no.create("no-app",{appName:r});return t}function zs(r,t,n){let a=NS[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${t}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fa.warn(p.join(" "));return}Lr(new ar(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const OS="firebase-heartbeat-database",PS=1,vc="firebase-heartbeat-store";let Qm=null;function qb(){return Qm||(Qm=Ub(OS,PS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(r=>{throw no.create("idb-open",{originalErrorMessage:r.message})})),Qm}async function DS(r){try{const n=(await qb()).transaction(vc),a=await n.objectStore(vc).get(Hb(r));return await n.done,a}catch(t){if(t instanceof lr)fa.warn(t.message);else{const n=no.create("idb-get",{originalErrorMessage:t?.message});fa.warn(n.message)}}}async function Xv(r,t){try{const a=(await qb()).transaction(vc,"readwrite");await a.objectStore(vc).put(t,Hb(r)),await a.done}catch(n){if(n instanceof lr)fa.warn(n.message);else{const a=no.create("idb-set",{originalErrorMessage:n?.message});fa.warn(a.message)}}}function Hb(r){return`${r.name}!${r.options.appId}`}const VS=1024,zS=30;class jS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BS(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>zS){const l=qS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wv(),{heartbeatsToSend:n,unsentEntries:a}=US(this._heartbeatsCache.heartbeats),l=ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fa.warn(t),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function US(r,t=VS){const n=[];let a=r.slice();for(const l of r){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),Jv(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Jv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class BS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Db()?Vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Jv(r){return ff(JSON.stringify({version:2,heartbeats:r})).length}function qS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}function HS(r){Lr(new ar("platform-logger",t=>new eS(t),"PRIVATE")),Lr(new ar("heartbeat",t=>new jS(t),"PRIVATE")),zs(hp,Yv,r),zs(hp,Yv,"esm2020"),zs("fire-js","")}HS("");var FS="firebase",GS="12.8.0";zs(FS,GS,"app");function Fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZS=Fb,Gb=new rl("auth","Firebase",Fb());const mf=new Of("@firebase/auth");function KS(r,...t){mf.logLevel<=pe.WARN&&mf.warn(`Auth (${du}): ${r}`,...t)}function tf(r,...t){mf.logLevel<=pe.ERROR&&mf.error(`Auth (${du}): ${r}`,...t)}function Mr(r,...t){throw jp(r,...t)}function ir(r,...t){return jp(r,...t)}function zp(r,t,n){const a={...ZS(),[t]:n};return new rl("auth","Firebase",a).create(t,{appName:r.name})}function io(r){return zp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YS(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&Mr(r,"argument-error"),zp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Gb.create(r,...t)}function Ft(r,t,...n){if(!r)throw jp(t,...n)}function la(r){const t="INTERNAL ASSERTION FAILED: "+r;throw tf(t),new Error(t)}function da(r,t){r||la(t)}function mp(){return typeof self<"u"&&self.location?.href||""}function QS(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}function XS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||Pb()||"connection"in navigator)?navigator.onLine:!0}function WS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Rc{constructor(t,n){this.shortDelay=t,this.longDelay=n,da(n>t,"Short delay should be less than long delay!"),this.isMobile=v1()||T1()}get(){return XS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Up(r,t){da(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Zb{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $S=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tA=new Rc(3e4,6e4);function Pf(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function mu(r,t,n,a,l={}){return Kb(r,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const b=Ic({key:r.config.apiKey,...p}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const x={method:t,headers:v,...h};return w1()||(x.referrerPolicy="no-referrer"),r.emulatorConfig&&fu(r.emulatorConfig.host)&&(x.credentials="include"),Zb.fetch()(await Qb(r,r.config.apiHost,n,b),x)})}async function Kb(r,t,n){r._canInitEmulator=!1;const a={...JS,...t};try{const l=new eA(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Gh(r,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const b=h.ok?p.errorMessage:p.error.message,[v,x]=b.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(r,"credential-already-in-use",p);if(v==="EMAIL_EXISTS")throw Gh(r,"email-already-in-use",p);if(v==="USER_DISABLED")throw Gh(r,"user-disabled",p);const I=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw zp(r,I,x);Mr(r,I)}}catch(l){if(l instanceof lr)throw l;Mr(r,"network-request-failed",{message:String(l)})}}async function Yb(r,t,n,a,l={}){const h=await mu(r,t,n,a,l);return"mfaPendingCredential"in h&&Mr(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function Qb(r,t,n,a){const l=`${t}${n}?${a}`,h=r,p=h.config.emulator?Up(r.config,l):`${r.config.apiScheme}://${l}`;return $S.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}class eA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ir(this.auth,"network-request-failed")),tA.get())})}}function Gh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=ir(r,t,a);return l.customData._tokenResponse=n,l}async function nA(r,t){return mu(r,"POST","/v1/accounts:delete",t)}async function pf(r,t){return mu(r,"POST","/v1/accounts:lookup",t)}function mc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iA(r,t=!1){const n=Ln(r),a=await n.getIdToken(t),l=Bp(a);Ft(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h?.sign_in_provider;return{claims:l,token:a,authTime:mc(Xm(l.auth_time)),issuedAtTime:mc(Xm(l.iat)),expirationTime:mc(Xm(l.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Xm(r){return Number(r)*1e3}function Bp(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const l=Rb(n);return l?JSON.parse(l):(tf("Failed to decode base64 JWT payload"),null)}catch(l){return tf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function t0(r){const t=Bp(r);return Ft(t,"internal-error"),Ft(typeof t.exp<"u","internal-error"),Ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function bc(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof lr&&sA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function sA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class rA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gf(r){const t=r.auth,n=await r.getIdToken(),a=await bc(r,pf(t,{idToken:n}));Ft(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?Xb(l.providerUserInfo):[],p=oA(r.providerData,h),b=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!p?.length,x=b?v:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new pp(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(r,I)}async function aA(r){const t=Ln(r);await gf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Xb(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function lA(r,t){const n=await Kb(r,{},async()=>{const a=Ic({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,p=await Qb(r,l,"/v1/token",`key=${h}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:b,body:a};return r.emulatorConfig&&fu(r.emulatorConfig.host)&&(v.credentials="include"),Zb.fetch()(p,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uA(r,t){return mu(r,"POST","/v2/accounts:revokeToken",Pf(r,t))}class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ft(t.idToken,"internal-error"),Ft(typeof t.idToken<"u","internal-error"),Ft(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):t0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ft(t.length!==0,"internal-error");const n=t0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await lA(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new Wl;return a&&(Ft(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(Ft(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(Ft(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return la("not implemented")}}function Xa(r,t){Ft(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class nr{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new rA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await bc(this,this.stsTokenManager.getToken(this.auth,t));return Ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iA(this,t)}reload(){return aA(this)}_assign(t){this!==t&&(Ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new nr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await gf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ds(this.auth.app))return Promise.reject(io(this.auth));const t=await this.getIdToken();return await bc(this,nA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,p=n.photoURL??void 0,b=n.tenantId??void 0,v=n._redirectEventId??void 0,x=n.createdAt??void 0,I=n.lastLoginAt??void 0,{uid:N,emailVerified:k,isAnonymous:et,providerData:at,stsTokenManager:ct}=n;Ft(N&&ct,t,"internal-error");const pt=Wl.fromJSON(this.name,ct);Ft(typeof N=="string",t,"internal-error"),Xa(a,t.name),Xa(l,t.name),Ft(typeof k=="boolean",t,"internal-error"),Ft(typeof et=="boolean",t,"internal-error"),Xa(h,t.name),Xa(p,t.name),Xa(b,t.name),Xa(v,t.name),Xa(x,t.name),Xa(I,t.name);const Lt=new nr({uid:N,auth:t,email:l,emailVerified:k,displayName:a,isAnonymous:et,photoURL:p,phoneNumber:h,tenantId:b,stsTokenManager:pt,createdAt:x,lastLoginAt:I});return at&&Array.isArray(at)&&(Lt.providerData=at.map(Ut=>({...Ut}))),v&&(Lt._redirectEventId=v),Lt}static async _fromIdTokenResponse(t,n,a=!1){const l=new Wl;l.updateFromServerResponse(n);const h=new nr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await gf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Ft(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Xb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!h?.length,b=new Wl;b.updateFromIdToken(a);const v=new nr({uid:l.localId,auth:t,stsTokenManager:b,isAnonymous:p}),x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new pp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,x),v}}const e0=new Map;function ua(r){da(r instanceof Function,"Expected a class definition");let t=e0.get(r);return t?(da(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,e0.set(r,t),t)}class Wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Wb.type="NONE";const n0=Wb;function ef(r,t,n){return`firebase:${r}:${t}:${n}`}class Jl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=ef(this.userKey,l.apiKey,h),this.fullPersistenceKey=ef("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await pf(this.auth,{idToken:t}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,t):null}return nr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Jl(ua(n0),t,a);const l=(await Promise.all(n.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let h=l[0]||ua(n0);const p=ef(a,t.config.apiKey,t.name);let b=null;for(const x of n)try{const I=await x._get(p);if(I){let N;if(typeof I=="string"){const k=await pf(t,{idToken:I}).catch(()=>{});if(!k)break;N=await nr._fromGetAccountInfoResponse(t,k,I)}else N=nr._fromJSON(t,I);x!==h&&(b=N),h=x;break}}catch{}const v=l.filter(x=>x._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Jl(h,t,a):(h=v[0],b&&await h._set(p,b.toJSON()),await Promise.all(n.map(async x=>{if(x!==h)try{await x._remove(p)}catch{}})),new Jl(h,t,a))}}function i0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ew(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iw(t))return"Blackberry";if(sw(t))return"Webos";if($b(t))return"Safari";if((t.includes("chrome/")||tw(t))&&!t.includes("edge/"))return"Chrome";if(nw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Jb(r=vi()){return/firefox\//i.test(r)}function $b(r=vi()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tw(r=vi()){return/crios\//i.test(r)}function ew(r=vi()){return/iemobile/i.test(r)}function nw(r=vi()){return/android/i.test(r)}function iw(r=vi()){return/blackberry/i.test(r)}function sw(r=vi()){return/webos/i.test(r)}function qp(r=vi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cA(r=vi()){return qp(r)&&!!window.navigator?.standalone}function hA(){return x1()&&document.documentMode===10}function rw(r=vi()){return qp(r)||nw(r)||sw(r)||iw(r)||/windows phone/i.test(r)||ew(r)}function aw(r,t=[]){let n;switch(r){case"Browser":n=i0(vi());break;case"Worker":n=`${i0(vi())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${du}/${a}`}class fA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,b)=>{try{const v=t(h);p(v)}catch(v){b(v)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function dA(r,t={}){return mu(r,"GET","/v2/passwordPolicy",Pf(r,t))}const mA=6;class pA{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class gA{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new fA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ua(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await pf(this,{idToken:t}),a=await nr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ds(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(t);(!h||h===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await gf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ds(this.app))return Promise.reject(io(this));const n=t?Ln(t):null;return n&&Ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ds(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ds(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dA(this),n=new pA(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rl("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await uA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ua(t)||this._popupRedirectResolver;Ft(n,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[ua(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(b,this,"internal-error"),b.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,a,l);return()=>{p=!0,v()}}else{const v=t.addObserver(n);return()=>{p=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&KS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Nc(r){return Ln(r)}class s0{constructor(t){this.auth=t,this.observer=null,this.addObserver=N1(n=>this.observer=n)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _A(r){Hp=r}function yA(r){return Hp.loadJS(r)}function vA(){return Hp.gapiScript}function bA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function wA(r,t){const n=al(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(ha(h,t??{}))return l;Mr(l,"already-initialized")}return n.initialize({options:t})}function TA(r,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ua);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function xA(r,t,n){const a=Nc(r);Ft(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=ow(t),{host:p,port:b}=EA(t),v=b===null?"":`:${b}`,x={url:`${h}//${p}${v}/`},I=Object.freeze({host:p,port:b,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ft(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ft(ha(x,a.config.emulator)&&ha(I,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=x,a.emulatorConfig=I,a.settings.appVerificationDisabledForTesting=!0,fu(p)?(Mb(`${h}//${p}${v}`),Ob("Auth",!0)):SA()}function ow(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function EA(r){const t=ow(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:r0(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:r0(p)}}}function r0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function SA(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class lw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return la("not implemented")}_getIdTokenResponse(t){return la("not implemented")}_linkToIdToken(t,n){return la("not implemented")}_getReauthenticationResolver(t){return la("not implemented")}}async function $l(r,t){return Yb(r,"POST","/v1/accounts:signInWithIdp",Pf(r,t))}const AA="http://localhost";class tl extends lw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const p=new tl(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return $l(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,$l(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$l(t,n)}buildRequest(){const t={requestUri:AA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ic(n)}return t}}class Fp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class kc extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Wa extends kc{constructor(){super("facebook.com")}static credential(t){return tl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wa.credential(t.oauthAccessToken)}catch{return null}}}Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wa.PROVIDER_ID="facebook.com";class oa extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return tl._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return oa.credentialFromTaggedObject(t)}static credentialFromError(t){return oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return oa.credential(n,a)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";class Ja extends kc{constructor(){super("github.com")}static credential(t){return tl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ja.credentialFromTaggedObject(t)}static credentialFromError(t){return Ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ja.credential(t.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";class $a extends kc{constructor(){super("twitter.com")}static credential(t,n){return tl._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return $a.credential(n,a)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";async function CA(r,t){return Yb(r,"POST","/v1/accounts:signUp",Pf(r,t))}class ao{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await nr._fromIdTokenResponse(t,a,l),p=a0(a);return new ao({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=a0(a);return new ao({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function a0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function IA(r){if(Ds(r.app))return Promise.reject(io(r));const t=Nc(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ao({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await CA(t,{returnSecureToken:!0}),a=await ao._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(a.user),a}class _f extends lr{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new _f(t,n,a,l)}}function uw(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(r,h,t,a):h})}async function RA(r,t,n=!1){const a=await bc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ao._forOperation(r,"link",a)}async function NA(r,t,n=!1){const{auth:a}=r;if(Ds(a.app))return Promise.reject(io(a));const l="reauthenticate";try{const h=await bc(r,uw(a,l,t,r),n);Ft(h.idToken,a,"internal-error");const p=Bp(h.idToken);Ft(p,a,"internal-error");const{sub:b}=p;return Ft(r.uid===b,a,"user-mismatch"),ao._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Mr(a,"user-mismatch"),h}}async function kA(r,t,n=!1){if(Ds(r.app))return Promise.reject(io(r));const a="signIn",l=await uw(r,a,t),h=await ao._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}function LA(r,t,n,a){return Ln(r).onIdTokenChanged(t,n,a)}function MA(r,t,n){return Ln(r).beforeAuthStateChanged(t,n)}function OA(r,t,n,a){return Ln(r).onAuthStateChanged(t,n,a)}function PA(r){return Ln(r).signOut()}const yf="__sak";class cw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yf,"1"),this.storage.removeItem(yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const DA=1e3,VA=10;class hw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,b,v)=>{this.notifyListeners(p,v)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);hA()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,VA):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},DA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}hw.type="LOCAL";const zA=hw;class fw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fw.type="SESSION";const dw=fw;function jA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Df{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Df(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async x=>x(n.origin,h)),v=await jA(b);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];function Gp(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}class UA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((b,v)=>{const x=Gp("",20);l.port1.start();const I=setTimeout(()=>{v(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(N){const k=N;if(k.data.eventId===x)switch(k.data.status){case"ack":clearTimeout(I),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),b(k.data.response);break;default:clearTimeout(I),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:x,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Ir(){return window}function BA(r){Ir().location.href=r}function mw(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function qA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HA(){return navigator?.serviceWorker?.controller||null}function FA(){return mw()?self:null}const pw="firebaseLocalStorageDb",GA=1,vf="firebaseLocalStorage",gw="fbase_key";class Lc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(r,t){return r.transaction([vf],t?"readwrite":"readonly").objectStore(vf)}function ZA(){const r=indexedDB.deleteDatabase(pw);return new Lc(r).toPromise()}function gp(){const r=indexedDB.open(pw,GA);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(vf,{keyPath:gw})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(vf)?t(a):(a.close(),await ZA(),t(await gp()))})})}async function o0(r,t,n){const a=Vf(r,!0).put({[gw]:t,value:n});return new Lc(a).toPromise()}async function KA(r,t){const n=Vf(r,!1).get(t),a=await new Lc(n).toPromise();return a===void 0?null:a.value}function l0(r,t){const n=Vf(r,!0).delete(t);return new Lc(n).toPromise()}const YA=800,QA=3;class _w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>QA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(FA()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qA(),!this.activeServiceWorker)return;this.sender=new UA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gp();return await o0(t,yf,"1"),await l0(t,yf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>o0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>KA(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>l0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Vf(l,!1).getAll();return new Lc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_w.type="LOCAL";const XA=_w;new Rc(3e4,6e4);function yw(r,t){return t?ua(t):(Ft(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zp extends lw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $l(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $l(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $l(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function WA(r){return kA(r.auth,new Zp(r),r.bypassAuthState)}function JA(r){const{auth:t,user:n}=r;return Ft(n,t,"internal-error"),NA(n,new Zp(r),r.bypassAuthState)}async function $A(r){const{auth:t,user:n}=r;return Ft(n,t,"internal-error"),RA(n,new Zp(r),r.bypassAuthState)}class vw{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:b}=t;if(p){this.reject(p);return}const v={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(v))}catch(x){this.reject(x)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WA;case"linkViaPopup":case"linkViaRedirect":return $A;case"reauthViaPopup":case"reauthViaRedirect":return JA;default:Mr(this.auth,"internal-error")}}resolve(t){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const t2=new Rc(2e3,1e4);async function e2(r,t,n){if(Ds(r.app))return Promise.reject(ir(r,"operation-not-supported-in-this-environment"));const a=Nc(r);YS(r,t,Fp);const l=yw(a,n);return new Xo(a,"signInViaPopup",t,l).executeNotNull()}class Xo extends vw{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ft(t,this.auth,"internal-error"),t}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const t=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,t2.get())};t()}}Xo.currentPopupAction=null;const n2="pendingRedirect",nf=new Map;class i2 extends vw{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=nf.get(this.auth._key());if(!t){try{const a=await s2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}nf.set(this.auth._key(),t)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s2(r,t){const n=o2(t),a=a2(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function r2(r,t){nf.set(r._key(),t)}function a2(r){return ua(r._redirectPersistence)}function o2(r){return ef(n2,r.config.apiKey,r.name)}async function l2(r,t,n=!1){if(Ds(r.app))return Promise.reject(io(r));const a=Nc(r),l=yw(a,t),p=await new i2(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}const u2=600*1e3;class c2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!h2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!bw(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ir(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=u2&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(t))}saveEventToCache(t){this.cachedEventUids.add(u0(t)),this.lastProcessedEventTime=Date.now()}}function u0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function bw({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function h2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bw(r);default:return!1}}async function f2(r,t={}){return mu(r,"GET","/v1/projects",t)}const d2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m2=/^https?/;async function p2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await f2(r);for(const n of t)try{if(g2(n))return}catch{}Mr(r,"unauthorized-domain")}function g2(r){const t=mp(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!m2.test(n))return!1;if(d2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const _2=new Rc(3e4,6e4);function c0(){const r=Ir().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function y2(r){return new Promise((t,n)=>{function a(){c0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{c0(),n(ir(r,"network-request-failed"))},timeout:_2.get()})}if(Ir().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ir().gapi?.load)a();else{const l=bA("iframefcb");return Ir()[l]=()=>{gapi.load?a():n(ir(r,"network-request-failed"))},yA(`${vA()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw sf=null,t})}let sf=null;function v2(r){return sf=sf||y2(r),sf}const b2=new Rc(5e3,15e3),w2="__/auth/iframe",T2="emulator/auth/iframe",x2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S2(r){const t=r.config;Ft(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Up(t,T2):`https://${r.config.authDomain}/${w2}`,a={apiKey:t.apiKey,appName:r.name,v:du},l=E2.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Ic(a).slice(1)}`}async function A2(r){const t=await v2(r),n=Ir().gapi;return Ft(n,r,"internal-error"),t.open({where:document.body,url:S2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x2,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=ir(r,"network-request-failed"),b=Ir().setTimeout(()=>{h(p)},b2.get());function v(){Ir().clearTimeout(b),l(a)}a.ping(v).then(v,()=>{h(p)})}))}const C2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I2=500,R2=600,N2="_blank",k2="http://localhost";class h0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(r,t,n,a=I2,l=R2){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const v={...C2,width:a.toString(),height:l.toString(),top:h,left:p},x=vi().toLowerCase();n&&(b=tw(x)?N2:n),Jb(x)&&(t=t||k2,v.scrollbars="yes");const I=Object.entries(v).reduce((k,[et,at])=>`${k}${et}=${at},`,"");if(cA(x)&&b!=="_self")return M2(t||"",b),new h0(null);const N=window.open(t||"",b,I);Ft(N,r,"popup-blocked");try{N.focus()}catch{}return new h0(N)}function M2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const O2="__/auth/handler",P2="emulator/auth/handler",D2=encodeURIComponent("fac");async function f0(r,t,n,a,l,h){Ft(r.config.authDomain,r,"auth-domain-config-required"),Ft(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:du,eventId:l};if(t instanceof Fp){t.setDefaultLanguage(r.languageCode),p.providerId=t.providerId||"",R1(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[I,N]of Object.entries({}))p[I]=N}if(t instanceof kc){const I=t.getScopes().filter(N=>N!=="");I.length>0&&(p.scopes=I.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const I of Object.keys(b))b[I]===void 0&&delete b[I];const v=await r._getAppCheckToken(),x=v?`#${D2}=${encodeURIComponent(v)}`:"";return`${V2(r)}?${Ic(b).slice(1)}${x}`}function V2({config:r}){return r.emulator?Up(r,P2):`https://${r.authDomain}/${O2}`}const Wm="webStorageSupport";class z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dw,this._completeRedirectFn=l2,this._overrideRedirectResult=r2}async _openPopup(t,n,a,l){da(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await f0(t,n,a,mp(),l);return L2(t,h,Gp())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await f0(t,n,a,mp(),l);return BA(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(da(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await A2(t),a=new c2(t);return n.register("authEvent",l=>(Ft(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wm,{type:Wm},l=>{const h=l?.[0]?.[Wm];h!==void 0&&n(!!h),Mr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return rw()||$b()||qp()}}const j2=z2;var d0="@firebase/auth",m0="1.12.0";class U2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function B2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q2(r){Lr(new ar("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Ft(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aw(r)},x=new gA(a,l,h,v);return TA(x,n),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Lr(new ar("auth-internal",t=>{const n=Nc(t.getProvider("auth").getImmediate());return(a=>new U2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(d0,m0,B2(r)),zs(d0,m0,"esm2020")}const H2=300,F2=Lb("authIdTokenMaxAge")||H2;let p0=null;const G2=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>F2)return;const l=n?.token;p0!==l&&(p0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ww(r=Vp()){const t=al(r,"auth");if(t.isInitialized())return t.getImmediate();const n=wA(r,{popupRedirectResolver:j2,persistence:[XA,zA,dw]}),a=Lb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=G2(h.toString());MA(n,p,()=>p(n.currentUser)),LA(n,b=>p(b))}}const l=Nb("auth");return l&&xA(n,`http://${l}`),n}function Z2(){return document.getElementsByTagName("head")?.[0]??document}_A({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=ir("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",Z2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q2("Browser");var g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var so,Tw;(function(){var r;function t(D,M){function V(){}V.prototype=M.prototype,D.F=M.prototype,D.prototype=new V,D.prototype.constructor=D,D.D=function(H,U,F){for(var P=Array(arguments.length-2),se=2;se<arguments.length;se++)P[se-2]=arguments[se];return M.prototype[U].apply(H,P)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,M,V){V||(V=0);const H=Array(16);if(typeof M=="string")for(var U=0;U<16;++U)H[U]=M.charCodeAt(V++)|M.charCodeAt(V++)<<8|M.charCodeAt(V++)<<16|M.charCodeAt(V++)<<24;else for(U=0;U<16;++U)H[U]=M[V++]|M[V++]<<8|M[V++]<<16|M[V++]<<24;M=D.g[0],V=D.g[1],U=D.g[2];let F=D.g[3],P;P=M+(F^V&(U^F))+H[0]+3614090360&4294967295,M=V+(P<<7&4294967295|P>>>25),P=F+(U^M&(V^U))+H[1]+3905402710&4294967295,F=M+(P<<12&4294967295|P>>>20),P=U+(V^F&(M^V))+H[2]+606105819&4294967295,U=F+(P<<17&4294967295|P>>>15),P=V+(M^U&(F^M))+H[3]+3250441966&4294967295,V=U+(P<<22&4294967295|P>>>10),P=M+(F^V&(U^F))+H[4]+4118548399&4294967295,M=V+(P<<7&4294967295|P>>>25),P=F+(U^M&(V^U))+H[5]+1200080426&4294967295,F=M+(P<<12&4294967295|P>>>20),P=U+(V^F&(M^V))+H[6]+2821735955&4294967295,U=F+(P<<17&4294967295|P>>>15),P=V+(M^U&(F^M))+H[7]+4249261313&4294967295,V=U+(P<<22&4294967295|P>>>10),P=M+(F^V&(U^F))+H[8]+1770035416&4294967295,M=V+(P<<7&4294967295|P>>>25),P=F+(U^M&(V^U))+H[9]+2336552879&4294967295,F=M+(P<<12&4294967295|P>>>20),P=U+(V^F&(M^V))+H[10]+4294925233&4294967295,U=F+(P<<17&4294967295|P>>>15),P=V+(M^U&(F^M))+H[11]+2304563134&4294967295,V=U+(P<<22&4294967295|P>>>10),P=M+(F^V&(U^F))+H[12]+1804603682&4294967295,M=V+(P<<7&4294967295|P>>>25),P=F+(U^M&(V^U))+H[13]+4254626195&4294967295,F=M+(P<<12&4294967295|P>>>20),P=U+(V^F&(M^V))+H[14]+2792965006&4294967295,U=F+(P<<17&4294967295|P>>>15),P=V+(M^U&(F^M))+H[15]+1236535329&4294967295,V=U+(P<<22&4294967295|P>>>10),P=M+(U^F&(V^U))+H[1]+4129170786&4294967295,M=V+(P<<5&4294967295|P>>>27),P=F+(V^U&(M^V))+H[6]+3225465664&4294967295,F=M+(P<<9&4294967295|P>>>23),P=U+(M^V&(F^M))+H[11]+643717713&4294967295,U=F+(P<<14&4294967295|P>>>18),P=V+(F^M&(U^F))+H[0]+3921069994&4294967295,V=U+(P<<20&4294967295|P>>>12),P=M+(U^F&(V^U))+H[5]+3593408605&4294967295,M=V+(P<<5&4294967295|P>>>27),P=F+(V^U&(M^V))+H[10]+38016083&4294967295,F=M+(P<<9&4294967295|P>>>23),P=U+(M^V&(F^M))+H[15]+3634488961&4294967295,U=F+(P<<14&4294967295|P>>>18),P=V+(F^M&(U^F))+H[4]+3889429448&4294967295,V=U+(P<<20&4294967295|P>>>12),P=M+(U^F&(V^U))+H[9]+568446438&4294967295,M=V+(P<<5&4294967295|P>>>27),P=F+(V^U&(M^V))+H[14]+3275163606&4294967295,F=M+(P<<9&4294967295|P>>>23),P=U+(M^V&(F^M))+H[3]+4107603335&4294967295,U=F+(P<<14&4294967295|P>>>18),P=V+(F^M&(U^F))+H[8]+1163531501&4294967295,V=U+(P<<20&4294967295|P>>>12),P=M+(U^F&(V^U))+H[13]+2850285829&4294967295,M=V+(P<<5&4294967295|P>>>27),P=F+(V^U&(M^V))+H[2]+4243563512&4294967295,F=M+(P<<9&4294967295|P>>>23),P=U+(M^V&(F^M))+H[7]+1735328473&4294967295,U=F+(P<<14&4294967295|P>>>18),P=V+(F^M&(U^F))+H[12]+2368359562&4294967295,V=U+(P<<20&4294967295|P>>>12),P=M+(V^U^F)+H[5]+4294588738&4294967295,M=V+(P<<4&4294967295|P>>>28),P=F+(M^V^U)+H[8]+2272392833&4294967295,F=M+(P<<11&4294967295|P>>>21),P=U+(F^M^V)+H[11]+1839030562&4294967295,U=F+(P<<16&4294967295|P>>>16),P=V+(U^F^M)+H[14]+4259657740&4294967295,V=U+(P<<23&4294967295|P>>>9),P=M+(V^U^F)+H[1]+2763975236&4294967295,M=V+(P<<4&4294967295|P>>>28),P=F+(M^V^U)+H[4]+1272893353&4294967295,F=M+(P<<11&4294967295|P>>>21),P=U+(F^M^V)+H[7]+4139469664&4294967295,U=F+(P<<16&4294967295|P>>>16),P=V+(U^F^M)+H[10]+3200236656&4294967295,V=U+(P<<23&4294967295|P>>>9),P=M+(V^U^F)+H[13]+681279174&4294967295,M=V+(P<<4&4294967295|P>>>28),P=F+(M^V^U)+H[0]+3936430074&4294967295,F=M+(P<<11&4294967295|P>>>21),P=U+(F^M^V)+H[3]+3572445317&4294967295,U=F+(P<<16&4294967295|P>>>16),P=V+(U^F^M)+H[6]+76029189&4294967295,V=U+(P<<23&4294967295|P>>>9),P=M+(V^U^F)+H[9]+3654602809&4294967295,M=V+(P<<4&4294967295|P>>>28),P=F+(M^V^U)+H[12]+3873151461&4294967295,F=M+(P<<11&4294967295|P>>>21),P=U+(F^M^V)+H[15]+530742520&4294967295,U=F+(P<<16&4294967295|P>>>16),P=V+(U^F^M)+H[2]+3299628645&4294967295,V=U+(P<<23&4294967295|P>>>9),P=M+(U^(V|~F))+H[0]+4096336452&4294967295,M=V+(P<<6&4294967295|P>>>26),P=F+(V^(M|~U))+H[7]+1126891415&4294967295,F=M+(P<<10&4294967295|P>>>22),P=U+(M^(F|~V))+H[14]+2878612391&4294967295,U=F+(P<<15&4294967295|P>>>17),P=V+(F^(U|~M))+H[5]+4237533241&4294967295,V=U+(P<<21&4294967295|P>>>11),P=M+(U^(V|~F))+H[12]+1700485571&4294967295,M=V+(P<<6&4294967295|P>>>26),P=F+(V^(M|~U))+H[3]+2399980690&4294967295,F=M+(P<<10&4294967295|P>>>22),P=U+(M^(F|~V))+H[10]+4293915773&4294967295,U=F+(P<<15&4294967295|P>>>17),P=V+(F^(U|~M))+H[1]+2240044497&4294967295,V=U+(P<<21&4294967295|P>>>11),P=M+(U^(V|~F))+H[8]+1873313359&4294967295,M=V+(P<<6&4294967295|P>>>26),P=F+(V^(M|~U))+H[15]+4264355552&4294967295,F=M+(P<<10&4294967295|P>>>22),P=U+(M^(F|~V))+H[6]+2734768916&4294967295,U=F+(P<<15&4294967295|P>>>17),P=V+(F^(U|~M))+H[13]+1309151649&4294967295,V=U+(P<<21&4294967295|P>>>11),P=M+(U^(V|~F))+H[4]+4149444226&4294967295,M=V+(P<<6&4294967295|P>>>26),P=F+(V^(M|~U))+H[11]+3174756917&4294967295,F=M+(P<<10&4294967295|P>>>22),P=U+(M^(F|~V))+H[2]+718787259&4294967295,U=F+(P<<15&4294967295|P>>>17),P=V+(F^(U|~M))+H[9]+3951481745&4294967295,D.g[0]=D.g[0]+M&4294967295,D.g[1]=D.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+F&4294967295}a.prototype.v=function(D,M){M===void 0&&(M=D.length);const V=M-this.blockSize,H=this.C;let U=this.h,F=0;for(;F<M;){if(U==0)for(;F<=V;)l(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<M;)if(H[U++]=D.charCodeAt(F++),U==this.blockSize){l(this,H),U=0;break}}else for(;F<M;)if(H[U++]=D[F++],U==this.blockSize){l(this,H),U=0;break}}this.h=U,this.o+=M},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var M=1;M<D.length-8;++M)D[M]=0;M=this.o*8;for(var V=D.length-8;V<D.length;++V)D[V]=M&255,M/=256;for(this.v(D),D=Array(16),M=0,V=0;V<4;++V)for(let H=0;H<32;H+=8)D[M++]=this.g[V]>>>H&255;return D};function h(D,M){var V=b;return Object.prototype.hasOwnProperty.call(V,D)?V[D]:V[D]=M(D)}function p(D,M){this.h=M;const V=[];let H=!0;for(let U=D.length-1;U>=0;U--){const F=D[U]|0;H&&F==M||(V[U]=F,H=!1)}this.g=V}var b={};function v(D){return-128<=D&&D<128?h(D,function(M){return new p([M|0],M<0?-1:0)}):new p([D|0],D<0?-1:0)}function x(D){if(isNaN(D)||!isFinite(D))return N;if(D<0)return pt(x(-D));const M=[];let V=1;for(let H=0;D>=V;H++)M[H]=D/V|0,V*=4294967296;return new p(M,0)}function I(D,M){if(D.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(D.charAt(0)=="-")return pt(I(D.substring(1),M));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=x(Math.pow(M,8));let H=N;for(let F=0;F<D.length;F+=8){var U=Math.min(8,D.length-F);const P=parseInt(D.substring(F,F+U),M);U<8?(U=x(Math.pow(M,U)),H=H.j(U).add(x(P))):(H=H.j(V),H=H.add(x(P)))}return H}var N=v(0),k=v(1),et=v(16777216);r=p.prototype,r.m=function(){if(ct(this))return-pt(this).m();let D=0,M=1;for(let V=0;V<this.g.length;V++){const H=this.i(V);D+=(H>=0?H:4294967296+H)*M,M*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(at(this))return"0";if(ct(this))return"-"+pt(this).toString(D);const M=x(Math.pow(D,6));var V=this;let H="";for(;;){const U=Wt(V,M).g;V=Lt(V,U.j(M));let F=((V.g.length>0?V.g[0]:V.h)>>>0).toString(D);if(V=U,at(V))return F+H;for(;F.length<6;)F="0"+F;H=F+H}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function at(D){if(D.h!=0)return!1;for(let M=0;M<D.g.length;M++)if(D.g[M]!=0)return!1;return!0}function ct(D){return D.h==-1}r.l=function(D){return D=Lt(this,D),ct(D)?-1:at(D)?0:1};function pt(D){const M=D.g.length,V=[];for(let H=0;H<M;H++)V[H]=~D.g[H];return new p(V,~D.h).add(k)}r.abs=function(){return ct(this)?pt(this):this},r.add=function(D){const M=Math.max(this.g.length,D.g.length),V=[];let H=0;for(let U=0;U<=M;U++){let F=H+(this.i(U)&65535)+(D.i(U)&65535),P=(F>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);H=P>>>16,F&=65535,P&=65535,V[U]=P<<16|F}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Lt(D,M){return D.add(pt(M))}r.j=function(D){if(at(this)||at(D))return N;if(ct(this))return ct(D)?pt(this).j(pt(D)):pt(pt(this).j(D));if(ct(D))return pt(this.j(pt(D)));if(this.l(et)<0&&D.l(et)<0)return x(this.m()*D.m());const M=this.g.length+D.g.length,V=[];for(var H=0;H<2*M;H++)V[H]=0;for(H=0;H<this.g.length;H++)for(let U=0;U<D.g.length;U++){const F=this.i(H)>>>16,P=this.i(H)&65535,se=D.i(U)>>>16,Ke=D.i(U)&65535;V[2*H+2*U]+=P*Ke,Ut(V,2*H+2*U),V[2*H+2*U+1]+=F*Ke,Ut(V,2*H+2*U+1),V[2*H+2*U+1]+=P*se,Ut(V,2*H+2*U+1),V[2*H+2*U+2]+=F*se,Ut(V,2*H+2*U+2)}for(D=0;D<M;D++)V[D]=V[2*D+1]<<16|V[2*D];for(D=M;D<2*M;D++)V[D]=0;return new p(V,0)};function Ut(D,M){for(;(D[M]&65535)!=D[M];)D[M+1]+=D[M]>>>16,D[M]&=65535,M++}function kt(D,M){this.g=D,this.h=M}function Wt(D,M){if(at(M))throw Error("division by zero");if(at(D))return new kt(N,N);if(ct(D))return M=Wt(pt(D),M),new kt(pt(M.g),pt(M.h));if(ct(M))return M=Wt(D,pt(M)),new kt(pt(M.g),M.h);if(D.g.length>30){if(ct(D)||ct(M))throw Error("slowDivide_ only works with positive integers.");for(var V=k,H=M;H.l(D)<=0;)V=Re(V),H=Re(H);var U=le(V,1),F=le(H,1);for(H=le(H,2),V=le(V,2);!at(H);){var P=F.add(H);P.l(D)<=0&&(U=U.add(V),F=P),H=le(H,1),V=le(V,1)}return M=Lt(D,U.j(M)),new kt(U,M)}for(U=N;D.l(M)>=0;){for(V=Math.max(1,Math.floor(D.m()/M.m())),H=Math.ceil(Math.log(V)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),F=x(V),P=F.j(M);ct(P)||P.l(D)>0;)V-=H,F=x(V),P=F.j(M);at(F)&&(F=k),U=U.add(F),D=Lt(D,P)}return new kt(U,D)}r.B=function(D){return Wt(this,D).h},r.and=function(D){const M=Math.max(this.g.length,D.g.length),V=[];for(let H=0;H<M;H++)V[H]=this.i(H)&D.i(H);return new p(V,this.h&D.h)},r.or=function(D){const M=Math.max(this.g.length,D.g.length),V=[];for(let H=0;H<M;H++)V[H]=this.i(H)|D.i(H);return new p(V,this.h|D.h)},r.xor=function(D){const M=Math.max(this.g.length,D.g.length),V=[];for(let H=0;H<M;H++)V[H]=this.i(H)^D.i(H);return new p(V,this.h^D.h)};function Re(D){const M=D.g.length+1,V=[];for(let H=0;H<M;H++)V[H]=D.i(H)<<1|D.i(H-1)>>>31;return new p(V,D.h)}function le(D,M){const V=M>>5;M%=32;const H=D.g.length-V,U=[];for(let F=0;F<H;F++)U[F]=M>0?D.i(F+V)>>>M|D.i(F+V+1)<<32-M:D.i(F+V);return new p(U,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Tw=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=x,p.fromString=I,so=p}).apply(typeof g0<"u"?g0:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xw,uc,Ew,rf,_p,Sw,Aw,Cw;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var y=0;y<f.length;++y){var S=f[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var a=n(this);function l(f,y){if(y)t:{var S=a;f=f.split(".");for(var R=0;R<f.length-1;R++){var Y=f[R];if(!(Y in S))break t;S=S[Y]}f=f[f.length-1],R=S[f],y=y(R),y!=R&&y!=null&&t(S,f,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(y){var S=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&S.push([R,y[R]]);return S}});var h=h||{},p=this||self;function b(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,S){return f.call.apply(f.bind,arguments)}function x(f,y,S){return x=v,x.apply(null,arguments)}function I(f,y){var S=Array.prototype.slice.call(arguments,1);return function(){var R=S.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function N(f,y){function S(){}S.prototype=y.prototype,f.Z=y.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(R,Y,$){for(var vt=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)vt[qt-2]=arguments[qt];return y.prototype[Y].apply(R,vt)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function et(f){const y=f.length;if(y>0){const S=Array(y);for(let R=0;R<y;R++)S[R]=f[R];return S}return[]}function at(f,y){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var S=typeof Y;if(S=S!="object"?S:Y?Array.isArray(Y)?"array":S:"null",S=="array"||S=="object"&&typeof Y.length=="number"){S=f.length||0;const $=Y.length||0;f.length=S+$;for(let vt=0;vt<$;vt++)f[S+vt]=Y[vt]}else f.push(Y)}}class ct{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function pt(f){p.setTimeout(()=>{throw f},0)}function Lt(){var f=D;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Ut{constructor(){this.h=this.g=null}add(y,S){const R=kt.get();R.set(y,S),this.h?this.h.next=R:this.g=R,this.h=R}}var kt=new ct(()=>new Wt,f=>f.reset());class Wt{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,le=!1,D=new Ut,M=()=>{const f=Promise.resolve(void 0);Re=()=>{f.then(V)}};function V(){for(var f;f=Lt();){try{f.h.call(f.g)}catch(S){pt(S)}var y=kt;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}le=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};p.addEventListener("test",S,y),p.removeEventListener("test",S,y)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function se(f,y){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}N(se,U),se.prototype.init=function(f,y){const S=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(S=="mouseover"?y=f.fromElement:S=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),K=0;function _t(f,y,S,R,Y){this.listener=f,this.proxy=null,this.src=y,this.type=S,this.capture=!!R,this.ha=Y,this.key=++K,this.da=this.fa=!1}function ft(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function re(f,y,S){for(const R in f)y.call(S,f[R],R,f)}function xt(f,y){for(const S in f)y.call(void 0,f[S],S,f)}function j(f){const y={};for(const S in f)y[S]=f[S];return y}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(f,y){let S,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(S in R)f[S]=R[S];for(let $=0;$<nt.length;$++)S=nt[$],Object.prototype.hasOwnProperty.call(R,S)&&(f[S]=R[S])}}function mt(f){this.src=f,this.g={},this.h=0}mt.prototype.add=function(f,y,S,R,Y){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const vt=bt(f,y,R,Y);return vt>-1?(y=f[vt],S||(y.fa=!1)):(y=new _t(y,this.src,$,!!R,Y),y.fa=S,f.push(y)),y};function Tt(f,y){const S=y.type;if(S in f.g){var R=f.g[S],Y=Array.prototype.indexOf.call(R,y,void 0),$;($=Y>=0)&&Array.prototype.splice.call(R,Y,1),$&&(ft(y),f.g[S].length==0&&(delete f.g[S],f.h--))}}function bt(f,y,S,R){for(let Y=0;Y<f.length;++Y){const $=f[Y];if(!$.da&&$.listener==y&&$.capture==!!S&&$.ha==R)return Y}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),ke={};function Pe(f,y,S,R,Y){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Pe(f,y[$],S,R,Y);return null}return S=ri(S),f&&f[Ke]?f.J(y,S,b(R)?!!R.capture:!1,Y):cn(f,y,S,!1,R,Y)}function cn(f,y,S,R,Y,$){if(!y)throw Error("Invalid event type");const vt=b(Y)?!!Y.capture:!!Y;let qt=si(f);if(qt||(f[Ht]=qt=new mt(f)),S=qt.add(y,S,R,vt,$),S.proxy)return S;if(R=bs(),S.proxy=R,R.src=f,R.listener=S,f.addEventListener)F||(Y=vt),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),R,Y);else if(f.attachEvent)f.attachEvent(Xn(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return S}function bs(){function f(S){return y.call(f.src,f.listener,S)}const y=js;return f}function Mi(f,y,S,R,Y){if(Array.isArray(y))for(var $=0;$<y.length;$++)Mi(f,y[$],S,R,Y);else R=b(R)?!!R.capture:!!R,S=ri(S),f&&f[Ke]?(f=f.i,$=String(y).toString(),$ in f.g&&(y=f.g[$],S=bt(y,S,R,Y),S>-1&&(ft(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete f.g[$],f.h--)))):f&&(f=si(f))&&(y=f.g[y.toString()],f=-1,y&&(f=bt(y,S,R,Y)),(S=f>-1?y[f]:null)&&ws(S))}function ws(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ke])Tt(y.i,f);else{var S=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(S,R,f.capture):y.detachEvent?y.detachEvent(Xn(S),R):y.addListener&&y.removeListener&&y.removeListener(R),(S=si(y))?(Tt(S,f),S.h==0&&(S.src=null,y[Ht]=null)):ft(f)}}}function Xn(f){return f in ke?ke[f]:ke[f]="on"+f}function js(f,y){if(f.da)f=!0;else{y=new se(y,this);const S=f.listener,R=f.ha||f.src;f.fa&&ws(f),f=S.call(R,y)}return f}function si(f){return f=f[Ht],f instanceof mt?f:null}var Ts="__closure_events_fn_"+(Math.random()*1e9>>>0);function ri(f){return typeof f=="function"?f:(f[Ts]||(f[Ts]=function(y){return f.handleEvent(y)}),f[Ts])}function Ye(){H.call(this),this.i=new mt(this),this.M=this,this.G=null}N(Ye,H),Ye.prototype[Ke]=!0,Ye.prototype.removeEventListener=function(f,y,S,R){Mi(this,f,y,S,R)};function on(f,y){var S,R=f.G;if(R)for(S=[];R;R=R.G)S.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new U(y,f);else if(y instanceof U)y.target=y.target||f;else{var Y=y;y=new U(R,f),dt(y,Y)}Y=!0;let $,vt;if(S)for(vt=S.length-1;vt>=0;vt--)$=y.g=S[vt],Y=Oi($,R,!0,y)&&Y;if($=y.g=f,Y=Oi($,R,!0,y)&&Y,Y=Oi($,R,!1,y)&&Y,S)for(vt=0;vt<S.length;vt++)$=y.g=S[vt],Y=Oi($,R,!1,y)&&Y}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const S=f.g[y];for(let R=0;R<S.length;R++)ft(S[R]);delete f.g[y],f.h--}}this.G=null},Ye.prototype.J=function(f,y,S,R){return this.i.add(String(f),y,!1,S,R)},Ye.prototype.K=function(f,y,S,R){return this.i.add(String(f),y,!0,S,R)};function Oi(f,y,S,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let Y=!0;for(let $=0;$<y.length;++$){const vt=y[$];if(vt&&!vt.da&&vt.capture==S){const qt=vt.listener,ve=vt.ha||vt.src;vt.fa&&Tt(f.i,vt),Y=qt.call(ve,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function ga(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(f,y||0)}function ur(f){f.g=ga(()=>{f.g=null,f.i&&(f.i=!1,ur(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class hn extends H{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ur(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(f){H.call(this),this.h=f,this.g={}}N(Pi,H);var Bn=[];function bi(f){re(f.g,function(y,S){this.g.hasOwnProperty(S)&&ws(y)},f),f.g={}}Pi.prototype.N=function(){Pi.Z.N.call(this),bi(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=p.JSON.stringify,go=p.JSON.parse,cr=class{stringify(f){return p.JSON.stringify(f,void 0)}parse(f){return p.JSON.parse(f,void 0)}};function ns(){}function _a(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){U.call(this,"d")}N(nn,U);function Te(){U.call(this,"c")}N(Te,U);var Qe={},is=null;function Dr(){return is=is||new Ye}Qe.Ia="serverreachability";function _o(f){U.call(this,Qe.Ia,f)}N(_o,U);function oi(f){const y=Dr();on(y,new _o(y))}Qe.STAT_EVENT="statevent";function Us(f,y){U.call(this,Qe.STAT_EVENT,f),this.stat=y}N(Us,U);function Fe(f){const y=Dr();on(y,new Us(y,f))}Qe.Ja="timingevent";function Jt(f,y){U.call(this,Qe.Ja,f),this.size=y}N(Jt,U);function Wn(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){f()},y)}function Gt(){this.g=!0}Gt.prototype.ua=function(){this.g=!1};function Di(f,y,S,R,Y,$){f.info(function(){if(f.g)if($){var vt="",qt=$.split("&");for(let be=0;be<qt.length;be++){var ve=qt[be].split("=");if(ve.length>1){const qe=ve[0];ve=ve[1];const Hi=qe.split("_");vt=Hi.length>=2&&Hi[1]=="type"?vt+(qe+"="+ve+"&"):vt+(qe+"=redacted&")}}}else vt=null;else vt=$;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+y+`
`+S+`
`+vt})}function ya(f,y,S,R,Y,$,vt){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+y+`
`+S+`
`+$+" "+vt})}function Ti(f,y,S,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+hr(f,S)+(R?" "+R:"")})}function ss(f,y){f.info(function(){return"TIMEOUT: "+y})}Gt.prototype.info=function(){};function hr(f,y){if(!f.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var S=$[f];if(!(S.length<2)){var R=S[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let vt=1;vt<R.length;vt++)R[vt]=""}}}}return wi($)}catch{return y}}var xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bs;function wn(){}N(wn,ns),wn.prototype.g=function(){return new XMLHttpRequest},Bs=new wn;function It(f){return encodeURIComponent(String(f))}function Tn(f){var y=1;f=f.split(":");const S=[];for(;y>0&&f.length;)S.push(f.shift()),y--;return f.length&&S.push(f.join(":")),S}function fn(f,y,S,R){this.j=f,this.i=y,this.l=S,this.S=R||1,this.V=new Pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Ge={},sn={};function xi(f,y,S){f.M=1,f.A=ye(De(y)),f.u=S,f.R=!0,ui(f,null)}function ui(f,y){f.F=Date.now(),Ei(f),f.B=De(f.A);var S=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),Ai(S.i,"t",R),f.C=0,S=f.j.L,f.h=new li,f.g=To(f.j,S?y:null,!f.u),f.P>0&&(f.O=new hn(x(f.Y,f,f.g),f.P)),y=f.V,S=f.g,R=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Bn[0]=Y.toString()),Y=Bn);for(let $=0;$<Y.length;$++){const vt=Pe(S,Y[$],R||y.handleEvent,!1,y.h||y);if(!vt)break;y.g[vt.key]=vt}y=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),oi(),Di(f.i,f.v,f.B,f.l,f.S,f.u)}fn.prototype.ba=function(f){f=f.target;const y=this.O;y&&os(f)==3?y.j():this.Y(f)},fn.prototype.Y=function(f){try{if(f==this.g)t:{const qt=os(this.g),ve=this.g.ya(),be=this.g.ca();if(!(qt<3)&&(qt!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||qt!=4||ve==7||(ve==8||be<=0?oi(3):oi(2)),ci(this);var y=this.g.ca();this.X=y;var S=zr(this);if(this.o=y==200,ya(this.i,this.v,this.B,this.l,this.S,qt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var $=R;break e}}$=null}if(f=$)Ti(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zi(this,f);else{this.o=!1,this.m=3,Fe(12),xn(this),Mn(this);break t}}if(this.R){f=!0;let qe;for(;!this.K&&this.C<S.length;)if(qe=jr(this,S),qe==sn){qt==4&&(this.m=4,Fe(14),f=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==Ge){this.m=4,Fe(15),Ti(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Ti(this.i,this.l,qe,null),zi(this,qe);if(fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||S.length!=0||this.h.h||(this.m=1,Fe(16),f=!1),this.o=this.o&&f,!f)Ti(this.i,this.l,S,"[Invalid Chunked Response]"),xn(this),Mn(this);else if(S.length>0&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.aa&&!vt.P&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),bo(vt),vt.P=!0,Fe(11))}}else Ti(this.i,this.l,S,null),zi(this,S);qt==4&&xn(this),this.o&&!this.K&&(qt==4?Ii(this.j,this):(this.o=!1,Ei(this)))}else ls(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,Fe(12)):(this.m=0,Fe(13)),xn(this),Mn(this)}}}catch{}};function zr(f){if(!fr(f))return f.g.la();const y=En(f.g);if(y==="")return"";let S="";const R=y.length,Y=os(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return xn(f),Mn(f),"";f.h.i=new p.TextDecoder}for(let $=0;$<R;$++)f.h.h=!0,S+=f.h.i.decode(y[$],{stream:!(Y&&$==R-1)});return y.length=0,f.h.g+=S,f.C=0,f.h.g}function fr(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function jr(f,y){var S=f.C,R=y.indexOf(`
`,S);return R==-1?sn:(S=Number(y.substring(S,R)),isNaN(S)?Ge:(R+=1,R+S>y.length?sn:(y=y.slice(R,R+S),f.C=R+S,y)))}fn.prototype.cancel=function(){this.K=!0,xn(this)};function Ei(f){f.T=Date.now()+f.H,Vi(f,f.H)}function Vi(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Wn(x(f.aa,f),y)}function ci(f){f.D&&(p.clearTimeout(f.D),f.D=null)}fn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ss(this.i,this.B),this.M!=2&&(oi(),Fe(17)),xn(this),this.m=2,Mn(this)):Vi(this,this.T-f)};function Mn(f){f.j.I==0||f.K||Ii(f.j,f)}function xn(f){ci(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,bi(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function zi(f,y){try{var S=f.j;if(S.I!=0&&(S.g==f||qn(S.h,f))){if(!f.L&&qn(S.h,f)&&S.I==3){try{var R=S.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)ba(S),pr(S);else break t;qr(S),Fe(18)}}else S.xa=Y[1],0<S.xa-S.K&&Y[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Wn(x(S.Va,S),6e3));On(S.h)<=1&&S.ta&&(S.ta=void 0)}else us(S,11)}else if((f.L||S.g==f)&&ba(S),!P(y))for(Y=S.Ba.g.parse(y),y=0;y<Y.length;y++){let be=Y[y];const qe=be[0];if(!(qe<=S.K))if(S.K=qe,be=be[1],S.I==2)if(be[0]=="c"){S.M=be[1],S.ba=be[2];const Hi=be[3];Hi!=null&&(S.ka=Hi,S.j.info("VER="+S.ka));const Fi=be[4];Fi!=null&&(S.za=Fi,S.j.info("SVER="+S.za));const Ri=be[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(R=1.5*Ri,S.O=R,S.j.info("backChannelRequestTimeoutMs_="+R)),R=S;const hs=f.g;if(hs){const Hr=hs.g?hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var $=R.h;$.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ji($,$.h),$.h=null))}if(R.G){const Fr=hs.g?hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Fr&&(R.wa=Fr,St(R.J,R.G,Fr))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),R=S;var vt=f;if(R.na=wo(R,R.L?R.ba:null,R.W),vt.L){dr(R.h,vt);var qt=vt,ve=R.O;ve&&(qt.H=ve),qt.D&&(ci(qt),Ei(qt)),R.g=vt}else vo(R);S.i.length>0&&fi(S)}else be[0]!="stop"&&be[0]!="close"||us(S,7);else S.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?us(S,7):oe(S):be[0]!="noop"&&S.l&&S.l.qa(be),S.A=0)}}oi(4)}catch{}}var rn=class{constructor(f,y){this.g=f,this.map=y}};function Xe(f){this.l=f||10,p.PerformanceNavigationTiming?(f=p.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ur(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function On(f){return f.h?1:f.g?f.g.size:0}function qn(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ji(f,y){f.g?f.g.add(y):f.h=y}function dr(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Xe.prototype.cancel=function(){if(this.i=Ui(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ui(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const S of f.g.values())y=y.concat(S.G);return y}return et(f.i)}var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qt(f,y){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const R=f[S].indexOf("=");let Y,$=null;R>=0?(Y=f[S].substring(0,R),$=f[S].substring(R+1)):Y=f[S],y(Y,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ae(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof ae?(this.l=f.l,Be(this,f.j),this.o=f.o,this.g=f.g,Pn(this,f.u),this.h=f.h,qs(this,Gs(f.i)),this.m=f.m):f&&(y=String(f).match(rs))?(this.l=!1,Be(this,y[1]||"",!0),this.o=Hn(y[2]||""),this.g=Hn(y[3]||"",!0),Pn(this,y[4]),this.h=Hn(y[5]||"",!0),qs(this,y[6]||"",!0),this.m=Hn(y[7]||"")):(this.l=!1,this.i=new hi(null,this.l))}ae.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Bi(y,Hs,!0),":");var S=this.g;return(S||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Bi(y,Hs,!0),"@"),f.push(It(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Bi(S,S.charAt(0)=="/"?Si:Fs,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Bi(S,qi)),f.join("")},ae.prototype.resolve=function(f){const y=De(this);let S=!!f.j;S?Be(y,f.j):S=!!f.o,S?y.o=f.o:S=!!f.g,S?y.g=f.g:S=f.u!=null;var R=f.h;if(S)Pn(y,f.u);else if(S=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=y.h.lastIndexOf("/");Y!=-1&&(R=y.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const $=[];for(let vt=0;vt<Y.length;){const qt=Y[vt++];qt=="."?R&&vt==Y.length&&$.push(""):qt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),R&&vt==Y.length&&$.push("")):($.push(qt),R=!0)}R=$.join("/")}else R=Y}return S?y.h=R:S=f.i.toString()!=="",S?qs(y,Gs(f.i)):S=!!f.m,S&&(y.m=f.m),y};function De(f){return new ae(f)}function Be(f,y,S){f.j=S?Hn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Pn(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function qs(f,y,S){y instanceof hi?(f.i=y,B(f.i,f.l)):(S||(y=Bi(y,Ce)),f.i=new hi(y,f.l))}function St(f,y,S){f.i.set(y,S)}function ye(f){return St(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Hn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Bi(f,y,S){return typeof f=="string"?(f=encodeURI(f).replace(y,Le),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Le(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Hs=/[#\/\?@]/g,Fs=/[#\?:]/g,Si=/[#\?]/g,Ce=/[#\?@]/g,qi=/#/g;function hi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function dn(f){f.g||(f.g=new Map,f.h=0,f.i&&Qt(f.i,function(y,S){f.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}r=hi.prototype,r.add=function(f,y){dn(this),this.i=null,f=Ci(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(y),this.h+=1,this};function Es(f,y){dn(f),y=Ci(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Dn(f,y){return dn(f),y=Ci(f,y),f.g.has(y)}r.forEach=function(f,y){dn(this),this.g.forEach(function(S,R){S.forEach(function(Y){f.call(y,Y,R,this)},this)},this)};function Ss(f,y){dn(f);let S=[];if(typeof y=="string")Dn(f,y)&&(S=S.concat(f.g.get(Ci(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)S=S.concat(f[y]);return S}r.set=function(f,y){return dn(this),this.i=null,f=Ci(this,f),Dn(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=Ss(this,f),f.length>0?String(f[0]):y):y};function Ai(f,y,S){Es(f,y),S.length>0&&(f.i=null,f.g.set(Ci(f,y),et(S)),f.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var S=y[R];const Y=It(S);S=Ss(this,S);for(let $=0;$<S.length;$++){let vt=Y;S[$]!==""&&(vt+="="+It(S[$])),f.push(vt)}}return this.i=f.join("&")};function Gs(f){const y=new hi;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Ci(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function B(f,y){y&&!f.j&&(dn(f),f.i=null,f.g.forEach(function(S,R){const Y=R.toLowerCase();R!=Y&&(Es(this,R),Ai(this,Y,S))},f)),f.j=y}function it(f,y){const S=new Gt;if(p.Image){const R=new Image;R.onload=I(At,S,"TestLoadImage: loaded",!0,y,R),R.onerror=I(At,S,"TestLoadImage: error",!1,y,R),R.onabort=I(At,S,"TestLoadImage: abort",!1,y,R),R.ontimeout=I(At,S,"TestLoadImage: timeout",!1,y,R),p.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function yt(f,y){const S=new Gt,R=new AbortController,Y=setTimeout(()=>{R.abort(),At(S,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then($=>{clearTimeout(Y),$.ok?At(S,"TestPingServer: ok",!0,y):At(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),At(S,"TestPingServer: error",!1,y)})}function At(f,y,S,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(S)}catch{}}function $t(){this.g=new cr}function Et(f){this.i=f.Sb||null,this.h=f.ab||!1}N(Et,ns),Et.prototype.g=function(){return new te(this.i,this.h)};function te(f,y){Ye.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(te,Ye),r=te.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,We(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ue(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,We(this)),this.g&&(this.readyState=3,We(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ue(this):We(this),this.readyState==3&&Dt(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,ue(this))},r.Na=function(f){this.g&&(this.response=f,ue(this))},r.ga=function(){this.g&&ue(this)};function ue(f){f.readyState=4,f.l=null,f.j=null,f.B=null,We(f)}r.setRequestHeader=function(f,y){this.A.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=y.next();return f.join(`\r
`)};function We(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(te.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ve(f){let y="";return re(f,function(S,R){y+=R,y+=":",y+=S,y+=`\r
`}),y}function Vn(f,y,S){t:{for(R in S){var R=!1;break t}R=!0}R||(S=Ve(S),typeof f=="string"?S!=null&&It(S):St(f,y,S))}function ee(f){Ye.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(ee,Ye);var Je=/^https?$/i,Zs=["POST","PUT"];r=ee.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,y,S,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bs.g(),this.g.onreadystatechange=k(x(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch($){$e(this,$);return}if(f=S||"",S=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)S.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())S.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(S.keys()).find($=>$.toLowerCase()=="content-type"),Y=p.FormData&&f instanceof p.FormData,!(Array.prototype.indexOf.call(Zs,y,void 0)>=0)||R||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,vt]of S)this.g.setRequestHeader($,vt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){$e(this,$)}};function $e(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,as(f),As(f)}function as(f){f.A||(f.A=!0,on(f,"complete"),on(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,on(this,"complete"),on(this,"abort"),As(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},r.Xa=function(){mr(this)};function mr(f){if(f.h&&typeof h<"u"){if(f.v&&os(f)==4)setTimeout(f.Ca.bind(f),0);else if(on(f,"readystatechange"),os(f)==4){f.h=!1;try{const $=f.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var S;if(!(S=y)){var R;if(R=$===0){let vt=String(f.D).match(rs)[1]||null;!vt&&p.self&&p.self.location&&(vt=p.self.location.protocol.slice(0,-1)),R=!Je.test(vt?vt.toLowerCase():"")}S=R}if(S)on(f,"complete"),on(f,"success");else{f.o=6;try{var Y=os(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",as(f)}}finally{As(f)}}}}function As(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,y||on(f,"ready");try{S.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function os(f){return f.g?f.g.readyState:0}r.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),go(y)}};function En(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(f){const y={};f=(f.g&&os(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(P(f[R]))continue;var S=Tn(f[R]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const $=y[Y]||[];y[Y]=$,$.push(S)}xt(y,function(R){return R.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(f,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||y}function Ks(f){this.za=0,this.i=[],this.j=new Gt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,f),this.Za=Cs("retryDelaySeedMs",1e4,f),this.Ta=Cs("forwardChannelMaxRetries",2,f),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Xe(f&&f.concurrentRequestLimit),this.Ba=new $t,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ks.prototype,r.ka=8,r.I=1,r.connect=function(f,y,S,R){Fe(0),this.W=f,this.H=y||{},S&&R!==void 0&&(this.H.OSID=S,this.H.OAID=R),this.F=this.X,this.J=wo(this,null,this.W),fi(this)};function oe(f){if(Fn(f),f.I==3){var y=f.V++,S=De(f.J);if(St(S,"SID",f.M),St(S,"RID",y),St(S,"TYPE","terminate"),Ys(f,S),y=new fn(f,f.j,y),y.M=2,y.A=ye(De(S)),S=!1,p.navigator&&p.navigator.sendBeacon)try{S=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&p.Image&&(new Image().src=y.A,S=!0),S||(y.g=To(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}cs(f)}function pr(f){f.g&&(bo(f),f.g.cancel(),f.g=null)}function Fn(f){pr(f),f.v&&(p.clearTimeout(f.v),f.v=null),ba(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&p.clearTimeout(f.m),f.m=null)}function fi(f){if(!Ur(f.h)&&!f.m){f.m=!0;var y=f.Ea;Re||M(),le||(Re(),le=!0),D.add(y,f),f.D=0}}function Br(f,y){return On(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Wn(x(f.Ea,f,y),hl(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new fn(this,this.j,f);let $=this.o;if(this.U&&($?($=j($),dt($,this.U)):$=this.U),this.u!==null||this.R||(Y.J=$,$=null),this.S)t:{for(var y=0,S=0;S<this.i.length;S++){e:{var R=this.i[S];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=S;break t}if(y===4096||S===this.i.length-1){y=S+1;break t}}y=1e3}else y=1e3;y=cl(this,Y,y),S=De(this.J),St(S,"RID",f),St(S,"CVER",22),this.G&&St(S,"X-HTTP-Session-Id",this.G),Ys(this,S),$&&(this.R?y="headers="+It(Ve($))+"&"+y:this.u&&Vn(S,this.u,$)),ji(this.h,Y),this.Ra&&St(S,"TYPE","init"),this.S?(St(S,"$req",y),St(S,"SID","null"),Y.U=!0,xi(Y,S,null)):xi(Y,S,y),this.I=2}}else this.I==3&&(f?yo(this,f):this.i.length==0||Ur(this.h)||yo(this))};function yo(f,y){var S;y?S=y.l:S=f.V++;const R=De(f.J);St(R,"SID",f.M),St(R,"RID",S),St(R,"AID",f.K),Ys(f,R),f.u&&f.o&&Vn(R,f.u,f.o),S=new fn(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),y&&(f.i=y.G.concat(f.i)),y=cl(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ji(f.h,S),xi(S,R,y)}function Ys(f,y){f.H&&re(f.H,function(S,R){St(y,R,S)}),f.l&&re({},function(S,R){St(y,R,S)})}function cl(f,y,S){S=Math.min(f.i.length,S);const R=f.l?x(f.l.Ka,f.l,f):null;t:{var Y=f.i;let qt=-1;for(;;){const ve=["count="+S];qt==-1?S>0?(qt=Y[0].g,ve.push("ofs="+qt)):qt=0:ve.push("ofs="+qt);let be=!0;for(let qe=0;qe<S;qe++){var $=Y[qe].g;const Hi=Y[qe].map;if($-=qt,$<0)qt=Math.max(0,Y[qe].g-100),be=!1;else try{$="req"+$+"_"||"";try{var vt=Hi instanceof Map?Hi:Object.entries(Hi);for(const[Fi,Ri]of vt){let hs=Ri;b(Ri)&&(hs=wi(Ri)),ve.push($+Fi+"="+encodeURIComponent(hs))}}catch(Fi){throw ve.push($+"type="+encodeURIComponent("_badmap")),Fi}}catch{R&&R(Hi)}}if(be){vt=ve.join("&");break t}}vt=void 0}return f=f.i.splice(0,S),y.G=f,vt}function vo(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;Re||M(),le||(Re(),le=!0),D.add(y,f),f.A=0}}function qr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Wn(x(f.Da,f),hl(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,va(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Wn(x(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Fe(10),pr(this),va(this))};function bo(f){f.B!=null&&(p.clearTimeout(f.B),f.B=null)}function va(f){f.g=new fn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=De(f.na);St(y,"RID","rpc"),St(y,"SID",f.M),St(y,"AID",f.K),St(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&St(y,"TO",f.ia),St(y,"TYPE","xmlhttp"),Ys(f,y),f.u&&f.o&&Vn(y,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=ye(De(y)),S.u=null,S.R=!0,ui(S,f)}r.Va=function(){this.C!=null&&(this.C=null,pr(this),qr(this),Fe(19))};function ba(f){f.C!=null&&(p.clearTimeout(f.C),f.C=null)}function Ii(f,y){var S=null;if(f.g==y){ba(f),bo(f),f.g=null;var R=2}else if(qn(f.h,y))S=y.G,dr(f.h,y),R=1;else return;if(f.I!=0){if(y.o)if(R==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var Y=f.D;R=Dr(),on(R,new Jt(R,S)),fi(f)}else vo(f);else if(Y=y.m,Y==3||Y==0&&y.X>0||!(R==1&&Br(f,y)||R==2&&qr(f)))switch(S&&S.length>0&&(y=f.h,y.i=y.i.concat(S)),Y){case 1:us(f,5);break;case 4:us(f,10);break;case 3:us(f,6);break;default:us(f,2)}}}function hl(f,y){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*y}function us(f,y){if(f.j.info("Error code "+y),y==2){var S=x(f.bb,f),R=f.Ua;const Y=!R;R=new ae(R||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Be(R,"https"),ye(R),Y?it(R.toString(),S):yt(R.toString(),S)}else Fe(2);f.I=0,f.l&&f.l.pa(y),cs(f),Fn(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function cs(f){if(f.I=0,f.ja=[],f.l){const y=Ui(f.h);(y.length!=0||f.i.length!=0)&&(at(f.ja,y),at(f.ja,f.i),f.h.i.length=0,et(f.i),f.i.length=0),f.l.oa()}}function wo(f,y,S){var R=S instanceof ae?De(S):new ae(S);if(R.g!="")y&&(R.g=y+"."+R.g),Pn(R,R.u);else{var Y=p.location;R=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;const $=new ae(null);R&&Be($,R),y&&($.g=y),Y&&Pn($,Y),S&&($.h=S),R=$}return S=f.G,y=f.wa,S&&y&&St(R,S,y),St(R,"VER",f.ka),Ys(f,R),R}function To(f,y,S){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new ee(new Et({ab:S})):new ee(f.ma),y.Fa(f.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}r=wa.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gr(){}gr.prototype.g=function(f,y){return new Gn(f,y)};function Gn(f,y){Ye.call(this),this.g=new Ks(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!P(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!P(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Qs(this)}N(Gn,Ye),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){oe(this.g)},Gn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=wi(f),f=S);y.i.push(new rn(y.Ya++,f)),y.I==3&&fi(y)},Gn.prototype.N=function(){this.g.l=null,delete this.j,oe(this.g),delete this.g,Gn.Z.N.call(this)};function xo(f){nn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const S in y){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}N(xo,nn);function fl(){Te.call(this),this.status=1}N(fl,Te);function Qs(f){this.g=f}N(Qs,wa),Qs.prototype.ra=function(){on(this.g,"a")},Qs.prototype.qa=function(f){on(this.g,new xo(f))},Qs.prototype.pa=function(f){on(this.g,new fl)},Qs.prototype.oa=function(){on(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Cw=function(){return new gr},Aw=function(){return Dr()},Sw=Qe,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,rf=xs,Vr.COMPLETE="complete",Ew=Vr,_a.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,uc=_a,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,xw=ee}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});class _i{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let pu="12.8.0";function K2(r){pu=r}const el=new Of("@firebase/firestore");function Kl(){return el.logLevel}function Rt(r,...t){if(el.logLevel<=pe.DEBUG){const n=t.map(Kp);el.debug(`Firestore (${pu}): ${r}`,...n)}}function ma(r,...t){if(el.logLevel<=pe.ERROR){const n=t.map(Kp);el.error(`Firestore (${pu}): ${r}`,...n)}}function su(r,...t){if(el.logLevel<=pe.WARN){const n=t.map(Kp);el.warn(`Firestore (${pu}): ${r}`,...n)}}function Kp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Bt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,Iw(r,a,n)}function Iw(r,t,n){let a=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ma(a),new Error(a)}function Ne(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||Iw(t,l,a)}function Yt(r,t){return r}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ca{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Rw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(_i.UNAUTHENTICATED)))}shutdown(){}}class Q2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class X2{constructor(t){this.t=t,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ne(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,n(v)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},b=v=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((v=>b(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?b(v):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}}),0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ne(typeof a.accessToken=="string",31837,{l:a}),new Rw(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ne(t===null||typeof t=="string",2055,{h:t}),new _i(t)}}class W2{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class J2{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new W2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(_i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ds(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ne(this.o===void 0,3512);const a=h=>{h.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,Rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class Yp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=tC(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function ge(r,t){return r<t?-1:r>t?1:0}function yp(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return Jm(l)===Jm(h)?ge(l,h):Jm(l)?1:-1}return ge(r.length,t.length)}const eC=55296,nC=57343;function Jm(r){const t=r.charCodeAt(0);return t>=eC&&t<=nC}function ru(r,t,n){return r.length===t.length&&r.every(((a,l)=>n(a,t[l])))}const y0="__name__";class Cr{constructor(t,n,a){n===void 0?n=0:n>t.length&&Bt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Bt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Cr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Cr?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=Cr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return ge(t.length,n.length)}static compareSegments(t,n){const a=Cr.isNumericId(t),l=Cr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Cr.extractNumericId(t).compare(Cr.extractNumericId(n)):yp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return so.fromString(t.substring(4,t.length-2))}}class Ze extends Cr{construct(t,n,a){return new Ze(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new Ct(ut.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new Ze(n)}static emptyPath(){return new Ze([])}}const iC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends Cr{construct(t,n,a){return new ni(t,n,a)}static isValidIdentifier(t){return iC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new ni([y0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new Ct(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const b=t[l];if(b==="\\"){if(l+1===t.length)throw new Ct(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ct(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(h(),l++)}if(h(),p)throw new Ct(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ni(n)}static emptyPath(){return new ni([])}}class zt{constructor(t){this.path=t}static fromPath(t){return new zt(Ze.fromString(t))}static fromName(t){return new zt(Ze.fromString(t).popFirst(5))}static empty(){return new zt(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ze.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ze.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new Ze(t.slice()))}}function Nw(r,t,n){if(!n)throw new Ct(ut.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function sC(r,t,n,a){if(t===!0&&a===!0)throw new Ct(ut.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function v0(r){if(!zt.isDocumentKey(r))throw new Ct(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b0(r){if(zt.isDocumentKey(r))throw new Ct(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Bt(12329,{type:typeof r})}function Or(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Ct(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(r);throw new Ct(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function kn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Mc(r,t){if(!kw(r))throw new Ct(ut.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&p!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new Ct(ut.INVALID_ARGUMENT,n);return!0}const w0=-62135596800,T0=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(t){return en.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*T0);return new en(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<w0)throw new Ct(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(t){return this.seconds===t.seconds?ge(this.nanoseconds,t.nanoseconds):ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:en._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Mc(t,en._jsonSchema))return new en(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-w0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}en._jsonSchemaVersion="firestore/timestamp/1.0",en._jsonSchema={type:kn("string",en._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};class Zt{static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new en(0,0))}static max(){return new Zt(new en(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wc=-1;function rC(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Zt.fromTimestamp(a===1e9?new en(n+1,0):new en(n,a));return new oo(l,zt.empty(),t)}function aC(r){return new oo(r.readTime,r.key,wc)}class oo{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new oo(Zt.min(),zt.empty(),wc)}static max(){return new oo(Zt.max(),zt.empty(),wc)}}function oC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=zt.comparator(r.documentKey,t.documentKey),n!==0?n:ge(r.largestBatchId,t.largestBatchId))}const lC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function gu(r){if(r.code!==ut.FAILED_PRECONDITION||r.message!==lC)throw r;Rt("LocalStore","Unexpectedly lost primary lease")}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ht(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ht.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ht.reject(n)}static resolve(t){return new ht(((n,a)=>{n(t)}))}static reject(t){return new ht(((n,a)=>{a(t)}))}static waitFor(t){return new ht(((n,a)=>{let l=0,h=0,p=!1;t.forEach((b=>{++l,b.next((()=>{++h,p&&h===l&&n()}),(v=>a(v)))})),p=!0,h===l&&n()}))}static or(t){let n=ht.resolve(!1);for(const a of t)n=n.next((l=>l?ht.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new ht(((a,l)=>{const h=t.length,p=new Array(h);let b=0;for(let v=0;v<h;v++){const x=v;n(t[x]).next((I=>{p[x]=I,++b,b===h&&a(p)}),(I=>l(I)))}}))}static doWhile(t,n){return new ht(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function cC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _u(r){return r.name==="IndexedDbTransactionError"}class jf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jf.ce=-1;const Qp=-1;function Uf(r){return r==null}function bf(r){return r===0&&1/r==-1/0}function hC(r){return typeof r=="number"&&Number.isInteger(r)&&!bf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Lw="";function fC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=x0(t)),t=dC(r.get(n),t);return x0(t)}function dC(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case Lw:n+="";break;default:n+=h}}return n}function x0(r){return r+Lw+""}function E0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function mo(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function Mw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class un{constructor(t,n){this.comparator=t,this.root=n||ei.EMPTY}insert(t,n){return new un(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(t){return new un(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ei.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kh(this.root,t,this.comparator,!0)}}class Kh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ei{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??ei.RED,this.left=l??ei.EMPTY,this.right=h??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new ei(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ei.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Bt(27949);return t+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new ei(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(t){this.comparator=t,this.data=new un(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(t){return new S0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof Un)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Un(this.comparator);return n.data=t,n}}class S0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ys{constructor(t){this.fields=t,t.sort(ni.comparator)}static empty(){return new ys([])}unionWith(t){let n=new Un(ni.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new ys(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ru(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class Ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ii{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ow("Invalid base64 string: "+h):h}})(t);return new ii(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h})(t);return new ii(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const mC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(r){if(Ne(!!r,39018),typeof r=="string"){let t=0;const n=mC.exec(r);if(Ne(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:vn(r.seconds),nanos:vn(r.nanos)}}function vn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function uo(r){return typeof r=="string"?ii.fromBase64String(r):ii.fromUint8Array(r)}const Pw="server_timestamp",Dw="__type__",Vw="__previous_value__",zw="__local_write_time__";function Xp(r){return(r?.mapValue?.fields||{})[Dw]?.stringValue===Pw}function Bf(r){const t=r.mapValue.fields[Vw];return Xp(t)?Bf(t):t}function Tc(r){const t=lo(r.mapValue.fields[zw].timestampValue);return new en(t.seconds,t.nanos)}class pC{constructor(t,n,a,l,h,p,b,v,x,I,N){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=v,this.useFetchStreams=x,this.isUsingEmulator=I,this.apiKey=N}}const wf="(default)";class xc{constructor(t,n){this.projectId=t,this.database=n||wf}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===wf}isEqual(t){return t instanceof xc&&t.projectId===this.projectId&&t.database===this.database}}function gC(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ct(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(r.options.projectId,t)}const jw="__type__",_C="__max__",Yh={mapValue:{}},Uw="__vector__",Tf="value";function co(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xp(r)?4:vC(r)?9007199254740991:yC(r)?10:11:Bt(28295,{value:r})}function Pr(r,t){if(r===t)return!0;const n=co(r);if(n!==co(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Tc(r).isEqual(Tc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=lo(l.timestampValue),b=lo(h.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return uo(l.bytesValue).isEqual(uo(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return vn(l.geoPointValue.latitude)===vn(h.geoPointValue.latitude)&&vn(l.geoPointValue.longitude)===vn(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return vn(l.integerValue)===vn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=vn(l.doubleValue),b=vn(h.doubleValue);return p===b?bf(p)===bf(b):isNaN(p)&&isNaN(b)}return!1})(r,t);case 9:return ru(r.arrayValue.values||[],t.arrayValue.values||[],Pr);case 10:case 11:return(function(l,h){const p=l.mapValue.fields||{},b=h.mapValue.fields||{};if(E0(p)!==E0(b))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(b[v]===void 0||!Pr(p[v],b[v])))return!1;return!0})(r,t);default:return Bt(52216,{left:r})}}function Ec(r,t){return(r.values||[]).find((n=>Pr(n,t)))!==void 0}function au(r,t){if(r===t)return 0;const n=co(r),a=co(t);if(n!==a)return ge(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(r.booleanValue,t.booleanValue);case 2:return(function(h,p){const b=vn(h.integerValue||h.doubleValue),v=vn(p.integerValue||p.doubleValue);return b<v?-1:b>v?1:b===v?0:isNaN(b)?isNaN(v)?0:-1:1})(r,t);case 3:return A0(r.timestampValue,t.timestampValue);case 4:return A0(Tc(r),Tc(t));case 5:return yp(r.stringValue,t.stringValue);case 6:return(function(h,p){const b=uo(h),v=uo(p);return b.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,p){const b=h.split("/"),v=p.split("/");for(let x=0;x<b.length&&x<v.length;x++){const I=ge(b[x],v[x]);if(I!==0)return I}return ge(b.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,p){const b=ge(vn(h.latitude),vn(p.latitude));return b!==0?b:ge(vn(h.longitude),vn(p.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return C0(r.arrayValue,t.arrayValue);case 10:return(function(h,p){const b=h.fields||{},v=p.fields||{},x=b[Tf]?.arrayValue,I=v[Tf]?.arrayValue,N=ge(x?.values?.length||0,I?.values?.length||0);return N!==0?N:C0(x,I)})(r.mapValue,t.mapValue);case 11:return(function(h,p){if(h===Yh.mapValue&&p===Yh.mapValue)return 0;if(h===Yh.mapValue)return 1;if(p===Yh.mapValue)return-1;const b=h.fields||{},v=Object.keys(b),x=p.fields||{},I=Object.keys(x);v.sort(),I.sort();for(let N=0;N<v.length&&N<I.length;++N){const k=yp(v[N],I[N]);if(k!==0)return k;const et=au(b[v[N]],x[I[N]]);if(et!==0)return et}return ge(v.length,I.length)})(r.mapValue,t.mapValue);default:throw Bt(23264,{he:n})}}function A0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return ge(r,t);const n=lo(r),a=lo(t),l=ge(n.seconds,a.seconds);return l!==0?l:ge(n.nanos,a.nanos)}function C0(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=au(n[l],a[l]);if(h)return h}return ge(n.length,a.length)}function ou(r){return vp(r)}function vp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=lo(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return uo(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return zt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=vp(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${vp(n.fields[p])}`;return l+"}"})(r.mapValue):Bt(61005,{value:r})}function af(r){switch(co(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bf(r);return t?16+af(t):16;case 5:return 2*r.stringValue.length;case 6:return uo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+af(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return mo(a.fields,((h,p)=>{l+=h.length+af(p)})),l})(r.mapValue);default:throw Bt(13486,{value:r})}}function I0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function bp(r){return!!r&&"integerValue"in r}function Wp(r){return!!r&&"arrayValue"in r}function R0(r){return!!r&&"nullValue"in r}function N0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function of(r){return!!r&&"mapValue"in r}function yC(r){return(r?.mapValue?.fields||{})[jw]?.stringValue===Uw}function pc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return mo(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=pc(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pc(r.arrayValue.values[n]);return t}return{...r}}function vC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_C}class es{constructor(t){this.value=t}static empty(){return new es({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!of(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pc(n)}setAll(t){let n=ni.emptyPath(),a={},l=[];t.forEach(((p,b)=>{if(!n.isImmediateParentOf(b)){const v=this.getFieldsMap(n);this.applyChanges(v,a,l),a={},l=[],n=b.popLast()}p?a[b.lastSegment()]=pc(p):l.push(b.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];of(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){mo(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new es(pc(this.value))}}function Bw(r){const t=[];return mo(r.fields,((n,a)=>{const l=new ni([n]);if(of(a)){const h=Bw(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)})),new ys(t)}class yi{constructor(t,n,a,l,h,p,b){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=b}static newInvalidDocument(t){return new yi(t,0,Zt.min(),Zt.min(),Zt.min(),es.empty(),0)}static newFoundDocument(t,n,a,l){return new yi(t,1,n,Zt.min(),a,l,0)}static newNoDocument(t,n){return new yi(t,2,n,Zt.min(),Zt.min(),es.empty(),0)}static newUnknownDocument(t,n){return new yi(t,3,n,Zt.min(),Zt.min(),es.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xf{constructor(t,n){this.position=t,this.inclusive=n}}function k0(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],p=r.position[l];if(h.field.isKeyField()?a=zt.comparator(zt.fromName(p.referenceValue),n.key):a=au(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pr(r.position[n],t.position[n]))return!1;return!0}class Ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function bC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class qw{}class Nn extends qw{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new TC(t,n,a):n==="array-contains"?new SC(t,a):n==="in"?new AC(t,a):n==="not-in"?new CC(t,a):n==="array-contains-any"?new IC(t,a):new Nn(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new xC(t,a):new EC(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(au(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(au(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends qw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new or(t,n)}matches(t){return Hw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Hw(r){return r.op==="and"}function Fw(r){return wC(r)&&Hw(r)}function wC(r){for(const t of r.filters)if(t instanceof or)return!1;return!0}function wp(r){if(r instanceof Nn)return r.field.canonicalString()+r.op.toString()+ou(r.value);if(Fw(r))return r.filters.map((t=>wp(t))).join(",");{const t=r.filters.map((n=>wp(n))).join(",");return`${r.op}(${t})`}}function Gw(r,t){return r instanceof Nn?(function(a,l){return l instanceof Nn&&a.op===l.op&&a.field.isEqual(l.field)&&Pr(a.value,l.value)})(r,t):r instanceof or?(function(a,l){return l instanceof or&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,p,b)=>h&&Gw(p,l.filters[b])),!0):!1})(r,t):void Bt(19439)}function Zw(r){return r instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ou(n.value)}`})(r):r instanceof or?(function(n){return n.op.toString()+" {"+n.getFilters().map(Zw).join(" ,")+"}"})(r):"Filter"}class TC extends Nn{constructor(t,n,a){super(t,n,a),this.key=zt.fromName(a.referenceValue)}matches(t){const n=zt.comparator(t.key,this.key);return this.matchesComparison(n)}}class xC extends Nn{constructor(t,n){super(t,"in",n),this.keys=Kw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class EC extends Nn{constructor(t,n){super(t,"not-in",n),this.keys=Kw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Kw(r,t){return(t.arrayValue?.values||[]).map((n=>zt.fromName(n.referenceValue)))}class SC extends Nn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wp(n)&&Ec(n.arrayValue,this.value)}}class AC extends Nn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class CC extends Nn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class IC extends Nn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Ec(this.value.arrayValue,a)))}}class RC{constructor(t,n=null,a=[],l=[],h=null,p=null,b=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=b,this.Te=null}}function M0(r,t=null,n=[],a=[],l=null,h=null,p=null){return new RC(r,t,n,a,l,h,p)}function Jp(r){const t=Yt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>wp(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>ou(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>ou(a))).join(",")),t.Te=n}return t.Te}function $p(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!bC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Gw(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!L0(r.startAt,t.startAt)&&L0(r.endAt,t.endAt)}function Tp(r){return zt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oc{constructor(t,n=null,a=[],l=[],h=null,p="F",b=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=b,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NC(r,t,n,a,l,h,p,b){return new Oc(r,t,n,a,l,h,p,b)}function tg(r){return new Oc(r)}function O0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kC(r){return zt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Yw(r){return r.collectionGroup!==null}function gc(r){const t=Yt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Un(ni.comparator);return p.filters.forEach((v=>{v.getFlattenedFilters().forEach((x=>{x.isInequality()&&(b=b.add(x.field))}))})),b})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Ef(h,a))})),n.has(ni.keyField().canonicalString())||t.Ie.push(new Ef(ni.keyField(),a))}return t.Ie}function Rr(r){const t=Yt(r);return t.Ee||(t.Ee=LC(t,gc(r))),t.Ee}function LC(r,t){if(r.limitType==="F")return M0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Ef(l.field,h)}));const n=r.endAt?new xf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new xf(r.startAt.position,r.startAt.inclusive):null;return M0(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function xp(r,t){const n=r.filters.concat([t]);return new Oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Sf(r,t,n){return new Oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function qf(r,t){return $p(Rr(r),Rr(t))&&r.limitType===t.limitType}function Qw(r){return`${Jp(Rr(r))}|lt:${r.limitType}`}function Yl(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>Zw(l))).join(", ")}]`),Uf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>ou(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>ou(l))).join(",")),`Target(${a})`})(Rr(r))}; limitType=${r.limitType})`}function Hf(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):zt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of gc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(p,b,v){const x=k0(p,b,v);return p.inclusive?x<=0:x<0})(a.startAt,gc(a),l)||a.endAt&&!(function(p,b,v){const x=k0(p,b,v);return p.inclusive?x>=0:x>0})(a.endAt,gc(a),l))})(r,t)}function MC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Xw(r){return(t,n)=>{let a=!1;for(const l of gc(r)){const h=OC(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function OC(r,t,n){const a=r.field.isKeyField()?zt.comparator(t.key,n.key):(function(h,p,b){const v=p.data.field(h),x=b.data.field(h);return v!==null&&x!==null?au(v,x):Bt(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Bt(19790,{direction:r.dir})}}class ol{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mo(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}const PC=new un(zt.comparator);function pa(){return PC}const Ww=new un(zt.comparator);function cc(...r){let t=Ww;for(const n of r)t=t.insert(n.key,n);return t}function Jw(r){let t=Ww;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Wo(){return _c()}function $w(){return _c()}function _c(){return new ol((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DC=new un(zt.comparator),VC=new Un(zt.comparator);function _e(...r){let t=VC;for(const n of r)t=t.add(n);return t}const zC=new Un(ge);function jC(){return zC}function eg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(t)?"-0":t}}function tT(r){return{integerValue:""+r}}function eT(r,t){return hC(t)?tT(t):eg(r,t)}class Ff{constructor(){this._=void 0}}function UC(r,t,n){return r instanceof Sc?(function(l,h){const p={fields:{[Dw]:{stringValue:Pw},[zw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Xp(h)&&(h=Bf(h)),h&&(p.fields[Vw]=h),{mapValue:p}})(n,t):r instanceof lu?iT(r,t):r instanceof Ac?sT(r,t):(function(l,h){const p=nT(l,h),b=P0(p)+P0(l.Ae);return bp(p)&&bp(l.Ae)?tT(b):eg(l.serializer,b)})(r,t)}function BC(r,t,n){return r instanceof lu?iT(r,t):r instanceof Ac?sT(r,t):n}function nT(r,t){return r instanceof Cc?(function(a){return bp(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Sc extends Ff{}class lu extends Ff{constructor(t){super(),this.elements=t}}function iT(r,t){const n=rT(t);for(const a of r.elements)n.some((l=>Pr(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Ac extends Ff{constructor(t){super(),this.elements=t}}function sT(r,t){let n=rT(t);for(const a of r.elements)n=n.filter((l=>!Pr(l,a)));return{arrayValue:{values:n}}}class Cc extends Ff{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function P0(r){return vn(r.integerValue||r.doubleValue)}function rT(r){return Wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ng{constructor(t,n){this.field=t,this.transform=n}}function qC(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof lu&&l instanceof lu||a instanceof Ac&&l instanceof Ac?ru(a.elements,l.elements,Pr):a instanceof Cc&&l instanceof Cc?Pr(a.Ae,l.Ae):a instanceof Sc&&l instanceof Sc})(r.transform,t.transform)}class HC{constructor(t,n){this.version=t,this.transformResults=n}}class sr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new sr}static exists(t){return new sr(void 0,t)}static updateTime(t){return new sr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Gf{}function aT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lT(r.key,sr.none()):new Pc(r.key,r.data,sr.none());{const n=r.data,a=es.empty();let l=new Un(ni.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new po(r.key,a,new ys(l.toArray()),sr.none())}}function FC(r,t,n){r instanceof Pc?(function(l,h,p){const b=l.value.clone(),v=V0(l.fieldTransforms,h,p.transformResults);b.setAll(v),h.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,t,n):r instanceof po?(function(l,h,p){if(!lf(l.precondition,h))return void h.convertToUnknownDocument(p.version);const b=V0(l.fieldTransforms,h,p.transformResults),v=h.data;v.setAll(oT(l)),v.setAll(b),h.convertToFoundDocument(p.version,v).setHasCommittedMutations()})(r,t,n):(function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,n)}function yc(r,t,n,a){return r instanceof Pc?(function(h,p,b,v){if(!lf(h.precondition,p))return b;const x=h.value.clone(),I=z0(h.fieldTransforms,v,p);return x.setAll(I),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),null})(r,t,n,a):r instanceof po?(function(h,p,b,v){if(!lf(h.precondition,p))return b;const x=z0(h.fieldTransforms,v,p),I=p.data;return I.setAll(oT(h)),I.setAll(x),p.convertToFoundDocument(p.version,I).setHasLocalMutations(),b===null?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(r,t,n,a):(function(h,p,b){return lf(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,t,n)}function GC(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=nT(a.transform,l||null);h!=null&&(n===null&&(n=es.empty()),n.set(a.field,h))}return n||null}function D0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ru(a,l,((h,p)=>qC(h,p)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Pc extends Gf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class po extends Gf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function oT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function V0(r,t,n){const a=new Map;Ne(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const h=r[l],p=h.transform,b=t.data.field(h.field);a.set(h.field,BC(p,b,n[l]))}return a}function z0(r,t,n){const a=new Map;for(const l of r){const h=l.transform,p=n.data.field(l.field);a.set(l.field,UC(h,p,t))}return a}class lT extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZC extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KC{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&FC(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=yc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=yc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=$w();return this.mutations.forEach((l=>{const h=t.get(l.key),p=h.overlayedDocument;let b=this.applyToLocalView(p,h.mutatedFields);b=n.has(l.key)?null:b;const v=aT(p,b);v!==null&&a.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(Zt.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),_e())}isEqual(t){return this.batchId===t.batchId&&ru(this.mutations,t.mutations,((n,a)=>D0(n,a)))&&ru(this.baseMutations,t.baseMutations,((n,a)=>D0(n,a)))}}class ig{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){Ne(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return DC})();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new ig(t,n,a,l)}}class YC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Rn,we;function XC(r){switch(r){case ut.OK:return Bt(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return Bt(15467,{code:r})}}function uT(r){if(r===void 0)return ma("GRPC error has no .code"),ut.UNKNOWN;switch(r){case Rn.OK:return ut.OK;case Rn.CANCELLED:return ut.CANCELLED;case Rn.UNKNOWN:return ut.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return ut.INTERNAL;case Rn.UNAVAILABLE:return ut.UNAVAILABLE;case Rn.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Rn.NOT_FOUND:return ut.NOT_FOUND;case Rn.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Rn.ABORTED:return ut.ABORTED;case Rn.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Rn.DATA_LOSS:return ut.DATA_LOSS;default:return Bt(39323,{code:r})}}(we=Rn||(Rn={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";function WC(){return new TextEncoder}const JC=new so([4294967295,4294967295],0);function j0(r){const t=WC().encode(r),n=new Tw;return n.update(t),new Uint8Array(n.digest())}function U0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new so([n,a],0),new so([l,h],0)]}class sg{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(a<0)throw new hc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=so.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(so.fromNumber(a)));return l.compare(JC)===1&&(l=new so([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=j0(t),[a,l]=U0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);if(!this.we(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new sg(h,l,n);return a.forEach((b=>p.insert(b))),p}insert(t){if(this.ge===0)return;const n=j0(t),[a,l]=U0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);this.be(p)}}be(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Dc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Zf(Zt.min(),l,new un(ge),pa(),_e())}}class Dc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Dc(a,n,_e(),_e(),_e())}}class uf{constructor(t,n,a,l){this.Se=t,this.removedTargetIds=n,this.key=a,this.De=l}}class cT{constructor(t,n){this.targetId=t,this.Ce=n}}class hT{constructor(t,n,a=ii.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class B0{constructor(){this.ve=0,this.Fe=q0(),this.Me=ii.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=_e(),n=_e(),a=_e();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Bt(38017,{changeType:h})}})),new Dc(this.Me,this.xe,t,n,a)}Ke(){this.Oe=!1,this.Fe=q0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $C{constructor(t){this.Ge=t,this.ze=new Map,this.je=pa(),this.He=Qh(),this.Je=Qh(),this.Ze=new un(ge)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(Tp(h))if(a===0){const p=new zt(h.path);this.et(n,p,yi.newNoDocument(p,Zt.min()))}else Ne(a===1,20013,{expectedCount:a});else{const p=this._t(n);if(p!==a){const b=this.ut(t),v=b?this.ct(b,t,p):1;if(v!==0){this.it(n);const x=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,x)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,b;try{p=uo(a).toUint8Array()}catch(v){if(v instanceof Ow)return su("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{b=new sg(p,l,h)}catch(v){return su(v instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return b.ge===0?null:b}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(b)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,p)=>{const b=this.ot(p);if(b){if(h.current&&Tp(b.target)){const v=new zt(b.target.path);this.It(v).has(p)||this.Et(p,v)||this.et(p,v,yi.newNoDocument(v,t))}h.Be&&(n.set(p,h.ke()),h.Ke())}}));let a=_e();this.Je.forEach(((h,p)=>{let b=!0;p.forEachWhile((v=>{const x=this.ot(v);return!x||x.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(h))})),this.je.forEach(((h,p)=>p.setReadTime(t)));const l=new Zf(t,n,this.Ze,this.je,a);return this.je=pa(),this.He=Qh(),this.Je=Qh(),this.Ze=new un(ge),l}Ye(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new B0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Un(ge),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Un(ge),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new B0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qh(){return new un(zt.comparator)}function q0(){return new un(zt.comparator)}const tI={asc:"ASCENDING",desc:"DESCENDING"},eI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nI={and:"AND",or:"OR"};class iI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ep(r,t){return r.useProto3Json||Uf(t)?t:{value:t}}function Af(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function sI(r,t){return Af(r,t.toTimestamp())}function Nr(r){return Ne(!!r,49232),Zt.fromTimestamp((function(n){const a=lo(n);return new en(a.seconds,a.nanos)})(r))}function rg(r,t){return Sp(r,t).canonicalString()}function Sp(r,t){const n=(function(l){return new Ze(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function dT(r){const t=Ze.fromString(r);return Ne(yT(t),10190,{key:t.toString()}),t}function Ap(r,t){return rg(r.databaseId,t.path)}function $m(r,t){const n=dT(t);if(n.get(1)!==r.databaseId.projectId)throw new Ct(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ct(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new zt(pT(n))}function mT(r,t){return rg(r.databaseId,t)}function rI(r){const t=dT(r);return t.length===4?Ze.emptyPath():pT(t)}function Cp(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pT(r){return Ne(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function H0(r,t,n){return{name:Ap(r,t),fields:n.value.mapValue.fields}}function aI(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Bt(39313,{state:x})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(x,I){return x.useProto3Json?(Ne(I===void 0||typeof I=="string",58123),ii.fromBase64String(I||"")):(Ne(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),ii.fromUint8Array(I||new Uint8Array))})(r,t.targetChange.resumeToken),p=t.targetChange.cause,b=p&&(function(x){const I=x.code===void 0?ut.UNKNOWN:uT(x.code);return new Ct(I,x.message||"")})(p);n=new hT(a,l,h,b||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=$m(r,a.document.name),h=Nr(a.document.updateTime),p=a.document.createTime?Nr(a.document.createTime):Zt.min(),b=new es({mapValue:{fields:a.document.fields}}),v=yi.newFoundDocument(l,h,p,b),x=a.targetIds||[],I=a.removedTargetIds||[];n=new uf(x,I,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=$m(r,a.document),h=a.readTime?Nr(a.readTime):Zt.min(),p=yi.newNoDocument(l,h),b=a.removedTargetIds||[];n=new uf([],b,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=$m(r,a.document),h=a.removedTargetIds||[];n=new uf([],h,l,null)}else{if(!("filter"in t))return Bt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new QC(l,h),b=a.targetId;n=new cT(b,p)}}return n}function oI(r,t){let n;if(t instanceof Pc)n={update:H0(r,t.key,t.value)};else if(t instanceof lT)n={delete:Ap(r,t.key)};else if(t instanceof po)n={update:H0(r,t.key,t.data),updateMask:gI(t.fieldMask)};else{if(!(t instanceof ZC))return Bt(16599,{dt:t.type});n={verify:Ap(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,p){const b=p.transform;if(b instanceof Sc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof lu)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Ac)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Cc)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Bt(20930,{transform:p.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:sI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Bt(27497)})(r,t.precondition)),n}function lI(r,t){return r&&r.length>0?(Ne(t!==void 0,14353),r.map((n=>(function(l,h){let p=l.updateTime?Nr(l.updateTime):Nr(h);return p.isEqual(Zt.min())&&(p=Nr(h)),new HC(p,l.transformResults||[])})(n,t)))):[]}function uI(r,t){return{documents:[mT(r,t.path)]}}function cI(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=mT(r,l);const h=(function(x){if(x.length!==0)return _T(or.create(x,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const p=(function(x){if(x.length!==0)return x.map((I=>(function(k){return{field:Ql(k.field),direction:dI(k.dir)}})(I)))})(t.orderBy);p&&(n.structuredQuery.orderBy=p);const b=Ep(r,t.limit);return b!==null&&(n.structuredQuery.limit=b),t.startAt&&(n.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(t.endAt)),{ft:n,parent:l}}function hI(r){let t=rI(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Ne(a===1,65062);const I=n.from[0];I.allDescendants?l=I.collectionId:t=t.child(I.collectionId)}let h=[];n.where&&(h=(function(N){const k=gT(N);return k instanceof or&&Fw(k)?k.getFilters():[k]})(n.where));let p=[];n.orderBy&&(p=(function(N){return N.map((k=>(function(at){return new Ef(Xl(at.field),(function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(at.direction))})(k)))})(n.orderBy));let b=null;n.limit&&(b=(function(N){let k;return k=typeof N=="object"?N.value:N,Uf(k)?null:k})(n.limit));let v=null;n.startAt&&(v=(function(N){const k=!!N.before,et=N.values||[];return new xf(et,k)})(n.startAt));let x=null;return n.endAt&&(x=(function(N){const k=!N.before,et=N.values||[];return new xf(et,k)})(n.endAt)),NC(t,l,p,h,b,"F",v,x)}function fI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Xl(n.unaryFilter.field);return Nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Xl(n.unaryFilter.field);return Nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Xl(n.unaryFilter.field);return Nn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Xl(n.unaryFilter.field);return Nn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nn.create(Xl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return or.create(n.compositeFilter.filters.map((a=>gT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(n.compositeFilter.op))})(r):Bt(30097,{filter:r})}function dI(r){return tI[r]}function mI(r){return eI[r]}function pI(r){return nI[r]}function Ql(r){return{fieldPath:r.canonicalString()}}function Xl(r){return ni.fromServerFormat(r.fieldPath)}function _T(r){return r instanceof Nn?(function(n){if(n.op==="=="){if(N0(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NAN"}};if(R0(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N0(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NAN"}};if(R0(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(n.field),op:mI(n.op),value:n.value}}})(r):r instanceof or?(function(n){const a=n.getFilters().map((l=>_T(l)));return a.length===1?a[0]:{compositeFilter:{op:pI(n.op),filters:a}}})(r):Bt(54877,{filter:r})}function gI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function yT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function vT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class to{constructor(t,n,a,l,h=Zt.min(),p=Zt.min(),b=ii.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=v}withSequenceNumber(t){return new to(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _I{constructor(t){this.yt=t}}function yI(r){const t=hI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Sf(t,t.limit,"L"):t}class vI{constructor(){this.Sn=new bI}addToCollectionParentIndex(t,n){return this.Sn.add(n),ht.resolve()}getCollectionParents(t,n){return ht.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return ht.resolve()}deleteFieldIndex(t,n){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,n){return ht.resolve()}getDocumentsMatchingTarget(t,n){return ht.resolve(null)}getIndexType(t,n){return ht.resolve(0)}getFieldIndexes(t,n){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,n){return ht.resolve(oo.min())}getMinOffsetFromCollectionGroup(t,n){return ht.resolve(oo.min())}updateCollectionGroup(t,n,a){return ht.resolve()}updateIndexEntries(t,n){return ht.resolve()}}class bI{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new Un(Ze.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Un(Ze.comparator)).toArray()}}const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class ts{static withCacheSize(t){return new ts(t,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(bT,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class uu{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new uu(0)}static ar(){return new uu(-1)}}const G0="LruGarbageCollector",wI=1048576;function Z0([r,t],[n,a]){const l=ge(r,n);return l===0?ge(t,a):l}class TI{constructor(t){this.Pr=t,this.buffer=new Un(Z0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Z0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xI{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){Rt(G0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_u(n)?Rt(G0,"Ignoring IndexedDB error during garbage collection: ",n):await gu(n)}await this.Ar(3e5)}))}}class EI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return ht.resolve(jf.ce);const a=new TI(n);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.Vr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(F0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let a,l,h,p,b,v,x;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,p=Date.now(),this.nthSequenceNumber(t,l)))).next((N=>(a=N,b=Date.now(),this.removeTargets(t,a,n)))).next((N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((N=>(x=Date.now(),Kl()<=pe.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-I}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${h} targets in `+(v-b)+`ms
	Removed ${N} documents in `+(x-v)+`ms
Total Duration: ${x-I}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:N}))))}}function SI(r,t){return new EI(r,t)}class AI{constructor(){this.changes=new ol((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ht.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class CI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class II{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&yc(a.mutation,l,ys.empty(),en.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,_e()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=_e()){const l=Wo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let p=cc();return h.forEach(((b,v)=>{p=p.insert(b,v.overlayedDocument)})),p}))))}getOverlayedDocuments(t,n){const a=Wo();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,_e())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((p,b)=>{n.set(p,b)}))}))}computeViews(t,n,a,l){let h=pa();const p=_c(),b=(function(){return _c()})();return n.forEach(((v,x)=>{const I=a.get(x.key);l.has(x.key)&&(I===void 0||I.mutation instanceof po)?h=h.insert(x.key,x):I!==void 0?(p.set(x.key,I.mutation.getFieldMask()),yc(I.mutation,x,I.mutation.getFieldMask(),en.now())):p.set(x.key,ys.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((x,I)=>p.set(x,I))),n.forEach(((x,I)=>b.set(x,new CI(I,p.get(x)??null)))),b)))}recalculateAndSaveOverlays(t,n){const a=_c();let l=new un(((p,b)=>p-b)),h=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((p=>{for(const b of p)b.keys().forEach((v=>{const x=n.get(v);if(x===null)return;let I=a.get(v)||ys.empty();I=b.applyToLocalView(x,I),a.set(v,I);const N=(l.get(b.batchId)||_e()).add(v);l=l.insert(b.batchId,N)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const v=b.getNext(),x=v.key,I=v.value,N=$w();I.forEach((k=>{if(!h.has(k)){const et=aT(n.get(k),a.get(k));et!==null&&N.set(k,et),h=h.add(k)}})),p.push(this.documentOverlayCache.saveOverlays(t,x,N))}return ht.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return kC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Yw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ht.resolve(Wo());let b=wc,v=h;return p.next((x=>ht.forEach(x,((I,N)=>(b<N.largestBatchId&&(b=N.largestBatchId),h.get(I)?ht.resolve():this.remoteDocumentCache.getEntry(t,I).next((k=>{v=v.insert(I,k)}))))).next((()=>this.populateOverlays(t,x,h))).next((()=>this.computeViews(t,v,x,_e()))).next((I=>({batchId:b,changes:Jw(I)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new zt(n)).next((a=>{let l=cc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=cc();return this.indexManager.getCollectionParents(t,h).next((b=>ht.forEach(b,(v=>{const x=(function(N,k){return new Oc(k,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(n,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,x,a,l).next((I=>{I.forEach(((N,k)=>{p=p.insert(N,k)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((p=>{h.forEach(((v,x)=>{const I=x.getKey();p.get(I)===null&&(p=p.insert(I,yi.newInvalidDocument(I)))}));let b=cc();return p.forEach(((v,x)=>{const I=h.get(v);I!==void 0&&yc(I.mutation,x,ys.empty(),en.now()),Hf(n,x)&&(b=b.insert(v,x))})),b}))}}class RI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return ht.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Nr(l.createTime)}})(n)),ht.resolve()}getNamedQuery(t,n){return ht.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:yI(l.bundledQuery),readTime:Nr(l.readTime)}})(n)),ht.resolve()}}class NI{constructor(){this.overlays=new un(zt.comparator),this.Lr=new Map}getOverlay(t,n){return ht.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Wo();return ht.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.bt(t,n,h)})),ht.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),ht.resolve()}getOverlaysForCollection(t,n,a){const l=Wo(),h=n.length+1,p=new zt(n.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const v=b.getNext().value,x=v.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return ht.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new un(((x,I)=>x-I));const p=this.overlays.getIterator();for(;p.hasNext();){const x=p.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>a){let I=h.get(x.largestBatchId);I===null&&(I=Wo(),h=h.insert(x.largestBatchId,I)),I.set(x.getKey(),x)}}const b=Wo(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((x,I)=>b.set(x,I))),!(b.size()>=l)););return ht.resolve(b)}bt(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new YC(n,a));let h=this.Lr.get(n);h===void 0&&(h=_e(),this.Lr.set(n,h)),this.Lr.set(n,h.add(a.key))}}class kI{constructor(){this.sessionToken=ii.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ht.resolve()}}class ag{constructor(){this.kr=new Un(Qn.Kr),this.qr=new Un(Qn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const a=new Qn(t,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Wr(new Qn(t,n))}Qr(t,n){t.forEach((a=>this.removeReference(a,n)))}Gr(t){const n=new zt(new Ze([])),a=new Qn(n,t),l=new Qn(n,t+1),h=[];return this.qr.forEachInRange([a,l],(p=>{this.Wr(p),h.push(p.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new zt(new Ze([])),a=new Qn(n,t),l=new Qn(n,t+1);let h=_e();return this.qr.forEachInRange([a,l],(p=>{h=h.add(p.key)})),h}containsKey(t){const n=new Qn(t,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Qn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return zt.comparator(t.key,n.key)||ge(t.Hr,n.Hr)}static Ur(t,n){return ge(t.Hr,n.Hr)||zt.comparator(t.key,n.key)}}class LI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Un(Qn.Kr)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new KC(h,n,a,l);this.mutationQueue.push(p);for(const b of l)this.Jr=this.Jr.add(new Qn(b.key,h)),this.indexManager.addToCollectionParentIndex(t,b.key.path.popLast());return ht.resolve(p)}lookupMutationBatch(t,n){return ht.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.Xr(a),h=l<0?0:l;return ht.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Qp:this.Yn-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Qn(n,0),l=new Qn(n,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(p=>{const b=this.Zr(p.Hr);h.push(b)})),ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new Un(ge);return n.forEach((l=>{const h=new Qn(l,0),p=new Qn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,p],(b=>{a=a.add(b.Hr)}))})),ht.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;zt.isDocumentKey(h)||(h=h.child(""));const p=new Qn(new zt(h),0);let b=new Un(ge);return this.Jr.forEachWhile((v=>{const x=v.key.path;return!!a.isPrefixOf(x)&&(x.length===l&&(b=b.add(v.Hr)),!0)}),p),ht.resolve(this.Yr(b))}Yr(t){const n=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ne(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ht.forEach(n.mutations,(l=>{const h=new Qn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,n){const a=new Qn(n,0),l=this.Jr.firstAfterOrEqual(a);return ht.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class MI{constructor(t){this.ti=t,this.docs=(function(){return new un(zt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ht.resolve(a?a.document.mutableCopy():yi.newInvalidDocument(n))}getEntries(t,n){let a=pa();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():yi.newInvalidDocument(l))})),ht.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=pa();const p=n.path,b=new zt(p.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(b);for(;v.hasNext();){const{key:x,value:{document:I}}=v.getNext();if(!p.isPrefixOf(x.path))break;x.path.length>p.length+1||oC(aC(I),a)<=0||(l.has(I.key)||Hf(n,I))&&(h=h.insert(I.key,I.mutableCopy()))}return ht.resolve(h)}getAllFromCollectionGroup(t,n,a,l){Bt(9500)}ni(t,n){return ht.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new OI(this)}getSize(t){return ht.resolve(this.size)}}class OI extends AI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),ht.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class PI{constructor(t){this.persistence=t,this.ri=new ol((n=>Jp(n)),$p),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.ii=0,this.si=new ag,this.targetCount=0,this.oi=uu._r()}forEachTarget(t,n){return this.ri.forEach(((a,l)=>n(l))),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),ht.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new uu(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,ht.resolve()}updateTargetData(t,n){return this.lr(n),ht.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.ri.forEach(((p,b)=>{b.sequenceNumber<=n&&a.get(b.targetId)===null&&(this.ri.delete(p),h.push(this.removeMatchingKeysForTargetId(t,b.targetId)),l++)})),ht.waitFor(h).next((()=>l))}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,n){const a=this.ri.get(n)||null;return ht.resolve(a)}addMatchingKeys(t,n,a){return this.si.$r(n,a),ht.resolve()}removeMatchingKeys(t,n,a){this.si.Qr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((p=>{h.push(l.markPotentiallyOrphaned(t,p))})),ht.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),ht.resolve()}getMatchingKeysForTargetId(t,n){const a=this.si.jr(n);return ht.resolve(a)}containsKey(t,n){return ht.resolve(this.si.containsKey(n))}}class wT{constructor(t,n){this._i={},this.overlays={},this.ai=new jf(0),this.ui=!1,this.ui=!0,this.ci=new kI,this.referenceDelegate=t(this),this.li=new PI(this),this.indexManager=new vI,this.remoteDocumentCache=(function(l){return new MI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new _I(n),this.Pi=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new NI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this._i[t.toKey()];return a||(a=new LI(n,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,a){Rt("MemoryPersistence","Starting transaction:",t);const l=new DI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,n){return ht.or(Object.values(this._i).map((a=>()=>a.containsKey(t,n))))}}class DI extends uC{constructor(t){super(),this.currentSequenceNumber=t}}class og{constructor(t){this.persistence=t,this.Ri=new ag,this.Ai=null}static Vi(t){return new og(t)}get di(){if(this.Ai)return this.Ai;throw Bt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),ht.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),ht.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.di,(a=>{const l=zt.fromPath(a);return this.mi(t,l).next((h=>{h||n.removeEntry(l,Zt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return ht.or([()=>ht.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Cf{constructor(t,n){this.persistence=t,this.fi=new ol((a=>fC(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=SI(this,n)}static Vi(t,n){return new Cf(t,n)}Ti(){}Ii(t){return ht.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}pr(t){let n=0;return this.mr(t,(a=>{n++})).next((()=>n))}mr(t,n){return ht.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?ht.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(p=>this.wr(t,p,n).next((b=>{b||(a++,h.removeEntry(p,Zt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),ht.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),ht.resolve()}removeReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),ht.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=af(t.data.value)),n}wr(t,n,a){return ht.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return ht.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class lg{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Ts=a,this.Is=l}static Es(t,n){let a=_e(),l=_e();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new lg(t,n.fromCache,a,l)}}class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class zI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return E1()?8:cC(vi())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.gs(t,n).next((p=>{h.result=p})).next((()=>{if(!h.result)return this.ps(t,n,l,a).next((p=>{h.result=p}))})).next((()=>{if(h.result)return;const p=new VI;return this.ys(t,n,p).next((b=>{if(h.result=b,this.As)return this.ws(t,n,p,b.size)}))})).next((()=>h.result))}ws(t,n,a,l){return a.documentReadCount<this.Vs?(Kl()<=pe.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ht.resolve()):(Kl()<=pe.DEBUG&&Rt("QueryEngine","Query:",Yl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Kl()<=pe.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rr(n))):ht.resolve())}gs(t,n){if(O0(n))return ht.resolve(null);let a=Rr(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Sf(n,null,"F"),a=Rr(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const p=_e(...h);return this.fs.getDocuments(t,p).next((b=>this.indexManager.getMinOffset(t,a).next((v=>{const x=this.bs(n,b);return this.Ss(n,x,p,v.readTime)?this.gs(t,Sf(n,null,"F")):this.Ds(t,x,n,v)}))))})))))}ps(t,n,a,l){return O0(n)||l.isEqual(Zt.min())?ht.resolve(null):this.fs.getDocuments(t,a).next((h=>{const p=this.bs(n,h);return this.Ss(n,p,a,l)?ht.resolve(null):(Kl()<=pe.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Yl(n)),this.Ds(t,p,n,rC(l,wc)).next((b=>b)))}))}bs(t,n){let a=new Un(Xw(t));return n.forEach(((l,h)=>{Hf(t,h)&&(a=a.add(h))})),a}Ss(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,n,a){return Kl()<=pe.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.fs.getDocumentsMatchingQuery(t,n,oo.min(),a)}Ds(t,n,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((p=>{h=h.insert(p.key,p)})),h)))}}const ug="LocalStore",jI=3e8;class UI{constructor(t,n,a,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new un(ge),this.Fs=new ol((h=>Jp(h)),$p),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new II(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function BI(r,t,n,a){return new UI(r,t,n,a)}async function TT(r,t){const n=Yt(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Os(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const p=[],b=[];let v=_e();for(const x of l){p.push(x.batchId);for(const I of x.mutations)v=v.add(I.key)}for(const x of h){b.push(x.batchId);for(const I of x.mutations)v=v.add(I.key)}return n.localDocuments.getDocuments(a,v).next((x=>({Ns:x,removedBatchIds:p,addedBatchIds:b})))}))}))}function qI(r,t){const n=Yt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.xs.newChangeBuffer({trackRemovals:!0});return(function(b,v,x,I){const N=x.batch,k=N.keys();let et=ht.resolve();return k.forEach((at=>{et=et.next((()=>I.getEntry(v,at))).next((ct=>{const pt=x.docVersions.get(at);Ne(pt!==null,48541),ct.version.compareTo(pt)<0&&(N.applyToRemoteDocument(ct,x),ct.isValidDocument()&&(ct.setReadTime(x.commitVersion),I.addEntry(ct)))}))})),et.next((()=>b.mutationQueue.removeMutationBatch(v,N)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let v=_e();for(let x=0;x<b.mutationResults.length;++x)b.mutationResults[x].transformResults.length>0&&(v=v.add(b.batch.mutations[x].key));return v})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function xT(r){const t=Yt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function HI(r,t){const n=Yt(r),a=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const p=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const b=[];t.targetChanges.forEach(((I,N)=>{const k=l.get(N);if(!k)return;b.push(n.li.removeMatchingKeys(h,I.removedDocuments,N).next((()=>n.li.addMatchingKeys(h,I.addedDocuments,N))));let et=k.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(N)!==null?et=et.withResumeToken(ii.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):I.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(I.resumeToken,a)),l=l.insert(N,et),(function(ct,pt,Lt){return ct.resumeToken.approximateByteSize()===0||pt.snapshotVersion.toMicroseconds()-ct.snapshotVersion.toMicroseconds()>=jI?!0:Lt.addedDocuments.size+Lt.modifiedDocuments.size+Lt.removedDocuments.size>0})(k,et,I)&&b.push(n.li.updateTargetData(h,et))}));let v=pa(),x=_e();if(t.documentUpdates.forEach((I=>{t.resolvedLimboDocuments.has(I)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(h,I))})),b.push(FI(h,p,t.documentUpdates).next((I=>{v=I.Bs,x=I.Ls}))),!a.isEqual(Zt.min())){const I=n.li.getLastRemoteSnapshotVersion(h).next((N=>n.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));b.push(I)}return ht.waitFor(b).next((()=>p.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,v,x))).next((()=>v))})).then((h=>(n.vs=l,h)))}function FI(r,t,n){let a=_e(),l=_e();return n.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let p=pa();return n.forEach(((b,v)=>{const x=h.get(b);v.isFoundDocument()!==x.isFoundDocument()&&(l=l.add(b)),v.isNoDocument()&&v.version.isEqual(Zt.min())?(t.removeEntry(b,v.readTime),p=p.insert(b,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||v.version.compareTo(x.version)===0&&x.hasPendingWrites?(t.addEntry(v),p=p.insert(b,v)):Rt(ug,"Ignoring outdated watch update for ",b,". Current version:",x.version," Watch version:",v.version)})),{Bs:p,Ls:l}}))}function GI(r,t){const n=Yt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Qp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function ZI(r,t){const n=Yt(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.li.getTargetData(a,t).next((h=>h?(l=h,ht.resolve(l)):n.li.allocateTargetId(a).next((p=>(l=new to(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(t,a.targetId)),a}))}async function Ip(r,t,n){const a=Yt(r),l=a.vs.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!_u(p))throw p;Rt(ug,`Failed to update sequence numbers for target ${t}: ${p}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function K0(r,t,n){const a=Yt(r);let l=Zt.min(),h=_e();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(v,x,I){const N=Yt(v),k=N.Fs.get(I);return k!==void 0?ht.resolve(N.vs.get(k)):N.li.getTargetData(x,I)})(a,p,Rr(t)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(p,b.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(p,t,n?l:Zt.min(),n?h:_e()))).next((b=>(KI(a,MC(t),b),{documents:b,ks:h})))))}function KI(r,t,n){let a=r.Ms.get(t)||Zt.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Ms.set(t,a)}class Y0{constructor(){this.activeTargetIds=jC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YI{constructor(){this.vo=new Y0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,a){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Y0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class QI{Mo(t){}shutdown(){}}const Q0="ConnectivityMonitor";class X0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Rt(Q0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){Rt(Q0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xh=null;function Rp(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}const tp="RestConnection",XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===wf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,n,a,l,h){const p=Rp(),b=this.Qo(t,n.toUriEncodedString());Rt(tp,`Sending RPC '${t}' ${p}:`,b,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:x}=new URL(b),I=fu(x);return this.zo(t,b,v,a,I).then((N=>(Rt(tp,`Received RPC '${t}' ${p}: `,N),N)),(N=>{throw su(tp,`RPC '${t}' ${p} failed with error: `,N,"url: ",b,"request:",a),N}))}jo(t,n,a,l,h,p){return this.Wo(t,n,a,l,h)}Go(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,n){const a=XI[t];let l=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class JI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const gi="WebChannelConnection",ac=(r,t,n)=>{r.listen(t,(a=>{try{n(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class tu extends WI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!tu.c_){const t=Aw();ac(t,Sw.STAT_EVENT,(n=>{n.stat===_p.PROXY?Rt(gi,"STAT_EVENT: detected buffering proxy"):n.stat===_p.NOPROXY&&Rt(gi,"STAT_EVENT: detected no buffering proxy")})),tu.c_=!0}}zo(t,n,a,l,h){const p=Rp();return new Promise(((b,v)=>{const x=new xw;x.setWithCredentials(!0),x.listenOnce(Ew.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case rf.NO_ERROR:const N=x.getResponseJson();Rt(gi,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(N)),b(N);break;case rf.TIMEOUT:Rt(gi,`RPC '${t}' ${p} timed out`),v(new Ct(ut.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const k=x.getStatus();if(Rt(gi,`RPC '${t}' ${p} failed with status:`,k,"response text:",x.getResponseText()),k>0){let et=x.getResponseJson();Array.isArray(et)&&(et=et[0]);const at=et?.error;if(at&&at.status&&at.message){const ct=(function(Lt){const Ut=Lt.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(Ut)>=0?Ut:ut.UNKNOWN})(at.status);v(new Ct(ct,at.message))}else v(new Ct(ut.UNKNOWN,"Server responded with status "+x.getStatus()))}else v(new Ct(ut.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:t,streamId:p,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{Rt(gi,`RPC '${t}' ${p} completed.`)}}));const I=JSON.stringify(l);Rt(gi,`RPC '${t}' ${p} sending request:`,l),x.send(n,"POST",I,a,15)}))}T_(t,n,a){const l=Rp(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=this.createWebChannelTransport(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(b.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Go(b.initMessageHeaders,n,a),b.encodeInitMessageHeaders=!0;const x=h.join("");Rt(gi,`Creating RPC '${t}' stream ${l}: ${x}`,b);const I=p.createWebChannel(x,b);this.I_(I);let N=!1,k=!1;const et=new JI({Ho:at=>{k?Rt(gi,`Not sending because RPC '${t}' stream ${l} is closed:`,at):(N||(Rt(gi,`Opening RPC '${t}' stream ${l} transport.`),I.open(),N=!0),Rt(gi,`RPC '${t}' stream ${l} sending:`,at),I.send(at))},Jo:()=>I.close()});return ac(I,uc.EventType.OPEN,(()=>{k||(Rt(gi,`RPC '${t}' stream ${l} transport opened.`),et.i_())})),ac(I,uc.EventType.CLOSE,(()=>{k||(k=!0,Rt(gi,`RPC '${t}' stream ${l} transport closed`),et.o_(),this.E_(I))})),ac(I,uc.EventType.ERROR,(at=>{k||(k=!0,su(gi,`RPC '${t}' stream ${l} transport errored. Name:`,at.name,"Message:",at.message),et.o_(new Ct(ut.UNAVAILABLE,"The operation could not be completed")))})),ac(I,uc.EventType.MESSAGE,(at=>{if(!k){const ct=at.data[0];Ne(!!ct,16349);const pt=ct,Lt=pt?.error||pt[0]?.error;if(Lt){Rt(gi,`RPC '${t}' stream ${l} received error:`,Lt);const Ut=Lt.status;let kt=(function(le){const D=Rn[le];if(D!==void 0)return uT(D)})(Ut),Wt=Lt.message;kt===void 0&&(kt=ut.INTERNAL,Wt="Unknown error status: "+Ut+" with message "+Lt.message),k=!0,et.o_(new Ct(kt,Wt)),I.close()}else Rt(gi,`RPC '${t}' stream ${l} received:`,ct),et.__(ct)}})),tu.u_(),setTimeout((()=>{et.s_()}),0),et}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,a){super.Go(t,n,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Cw()}}function $I(r){return new tu(r)}function ep(){return typeof document<"u"?document:null}function Kf(r){return new iI(r,!0)}tu.c_=!1;class ET{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=n,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&Rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const W0="PersistentStream";class ST{constructor(t,n,a,l,h,p,b,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ET(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ut.RESOURCE_EXHAUSTED?(ma(n.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new Ct(ut.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Rt(W0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(Rt(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tR extends ST{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=aI(this.serializer,t),a=(function(h){if(!("targetChange"in h))return Zt.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?Zt.min():p.readTime?Nr(p.readTime):Zt.min()})(t);return this.listener.J_(n,a)}Z_(t){const n={};n.database=Cp(this.serializer),n.addTarget=(function(h,p){let b;const v=p.target;if(b=Tp(v)?{documents:uI(h,v)}:{query:cI(h,v).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=fT(h,p.resumeToken);const x=Ep(h,p.expectedCount);x!==null&&(b.expectedCount=x)}else if(p.snapshotVersion.compareTo(Zt.min())>0){b.readTime=Af(h,p.snapshotVersion.toTimestamp());const x=Ep(h,p.expectedCount);x!==null&&(b.expectedCount=x)}return b})(this.serializer,t);const a=fI(this.serializer,t);a&&(n.labels=a),this.K_(n)}X_(t){const n={};n.database=Cp(this.serializer),n.removeTarget=t,this.K_(n)}}class eR extends ST{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=lI(t.writeResults,t.commitTime),a=Nr(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=Cp(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>oI(this.serializer,a)))};this.K_(n)}}class nR{}class iR extends nR{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ct(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Wo(t,Sp(n,a),l,h,p))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ct(ut.UNKNOWN,h.toString())}))}jo(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.jo(t,Sp(n,a),l,p,b,h))).catch((p=>{throw p.name==="FirebaseError"?(p.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ct(ut.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function sR(r,t,n,a){return new iR(r,t,n,a)}class rR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ma(n),this.aa=!1):Rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nl="RemoteStore";class aR{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((p=>{a.enqueueAndForget((async()=>{ll(this)&&(Rt(nl,"Restarting streams for network reachability change."),await(async function(v){const x=Yt(v);x.Ea.add(4),await Vc(x),x.Va.set("Unknown"),x.Ea.delete(4),await Yf(x)})(this))}))})),this.Va=new rR(a,l)}}async function Yf(r){if(ll(r))for(const t of r.Ra)await t(!0)}async function Vc(r){for(const t of r.Ra)await t(!1)}function AT(r,t){const n=Yt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),dg(n)?fg(n):yu(n).O_()&&hg(n,t))}function cg(r,t){const n=Yt(r),a=yu(n);n.Ia.delete(t),a.O_()&&CT(n,t),n.Ia.size===0&&(a.O_()?a.L_():ll(n)&&n.Va.set("Unknown"))}function hg(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yu(r).Z_(t)}function CT(r,t){r.da.$e(t),yu(r).X_(t)}function fg(r){r.da=new $C({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),yu(r).start(),r.Va.ua()}function dg(r){return ll(r)&&!yu(r).x_()&&r.Ia.size>0}function ll(r){return Yt(r).Ea.size===0}function IT(r){r.da=void 0}async function oR(r){r.Va.set("Online")}async function lR(r){r.Ia.forEach(((t,n)=>{hg(r,t)}))}async function uR(r,t){IT(r),dg(r)?(r.Va.ha(t),fg(r)):r.Va.set("Unknown")}async function cR(r,t,n){if(r.Va.set("Online"),t instanceof hT&&t.state===2&&t.cause)try{await(async function(l,h){const p=h.cause;for(const b of h.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.da.removeTarget(b))})(r,t)}catch(a){Rt(nl,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await If(r,a)}else if(t instanceof uf?r.da.Xe(t):t instanceof cT?r.da.st(t):r.da.tt(t),!n.isEqual(Zt.min()))try{const a=await xT(r.localStore);n.compareTo(a)>=0&&await(function(h,p){const b=h.da.Tt(p);return b.targetChanges.forEach(((v,x)=>{if(v.resumeToken.approximateByteSize()>0){const I=h.Ia.get(x);I&&h.Ia.set(x,I.withResumeToken(v.resumeToken,p))}})),b.targetMismatches.forEach(((v,x)=>{const I=h.Ia.get(v);if(!I)return;h.Ia.set(v,I.withResumeToken(ii.EMPTY_BYTE_STRING,I.snapshotVersion)),CT(h,v);const N=new to(I.target,v,x,I.sequenceNumber);hg(h,N)})),h.remoteSyncer.applyRemoteEvent(b)})(r,n)}catch(a){Rt(nl,"Failed to raise snapshot:",a),await If(r,a)}}async function If(r,t,n){if(!_u(t))throw t;r.Ea.add(1),await Vc(r),r.Va.set("Offline"),n||(n=()=>xT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Rt(nl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Yf(r)}))}function RT(r,t){return t().catch((n=>If(r,n,t)))}async function Qf(r){const t=Yt(r),n=ho(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qp;for(;hR(t);)try{const l=await GI(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,fR(t,l)}catch(l){await If(t,l)}NT(t)&&kT(t)}function hR(r){return ll(r)&&r.Ta.length<10}function fR(r,t){r.Ta.push(t);const n=ho(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function NT(r){return ll(r)&&!ho(r).x_()&&r.Ta.length>0}function kT(r){ho(r).start()}async function dR(r){ho(r).ra()}async function mR(r){const t=ho(r);for(const n of r.Ta)t.ea(n.mutations)}async function pR(r,t,n){const a=r.Ta.shift(),l=ig.from(a,t,n);await RT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Qf(r)}async function gR(r,t){t&&ho(r).Y_&&await(async function(a,l){if((function(p){return XC(p)&&p!==ut.ABORTED})(l.code)){const h=a.Ta.shift();ho(a).B_(),await RT(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Qf(a)}})(r,t),NT(r)&&kT(r)}async function J0(r,t){const n=Yt(r);n.asyncQueue.verifyOperationInProgress(),Rt(nl,"RemoteStore received new credentials");const a=ll(n);n.Ea.add(3),await Vc(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Yf(n)}async function _R(r,t){const n=Yt(r);t?(n.Ea.delete(2),await Yf(n)):t||(n.Ea.add(2),await Vc(n),n.Va.set("Unknown"))}function yu(r){return r.ma||(r.ma=(function(n,a,l){const h=Yt(n);return h.sa(),new tR(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:oR.bind(null,r),Yo:lR.bind(null,r),t_:uR.bind(null,r),J_:cR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),dg(r)?fg(r):r.Va.set("Unknown")):(await r.ma.stop(),IT(r))}))),r.ma}function ho(r){return r.fa||(r.fa=(function(n,a,l){const h=Yt(n);return h.sa(),new eR(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:dR.bind(null,r),t_:gR.bind(null,r),ta:mR.bind(null,r),na:pR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Qf(r)):(await r.fa.stop(),r.Ta.length>0&&(Rt(nl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class mg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,b=new mg(t,n,p,l,h);return b.start(a),b}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(r,t){if(ma("AsyncQueue",`${t}: ${r}`),_u(r))return new Ct(ut.UNAVAILABLE,`${t}: ${r}`);throw r}class eu{static emptySet(t){return new eu(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||zt.comparator(n.key,a.key):(n,a)=>zt.comparator(n.key,a.key),this.keyedMap=cc(),this.sortedSet=new un(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new eu;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class $0{constructor(){this.ga=new un(zt.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Bt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class cu{constructor(t,n,a,l,h,p,b,v,x){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach((b=>{p.push({type:0,doc:b})})),new cu(t,n,eu.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class yR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class vR{constructor(){this.queries=tb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Yt(n),h=l.queries;l.queries=tb(),h.forEach(((p,b)=>{for(const v of b.ba)v.onError(a)}))})(this,new Ct(ut.ABORTED,"Firestore shutting down"))}}function tb(){return new ol((r=>Qw(r)),qf)}async function LT(r,t){const n=Yt(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new yR,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const b=pg(p,`Initialization of query '${Yl(t.query)}' failed`);return void t.onError(b)}n.queries.set(l,h),h.ba.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&gg(n)}async function MT(r,t){const n=Yt(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.ba.indexOf(t);p>=0&&(h.ba.splice(p,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function bR(r,t){const n=Yt(r);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const b of p.ba)b.Fa(l)&&(a=!0);p.wa=l}}a&&gg(n)}function wR(r,t,n){const a=Yt(r),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(n);a.queries.delete(t)}function gg(r){r.Ca.forEach((t=>{t.next()}))}var Np,eb;(eb=Np||(Np={})).Ma="default",eb.Cache="cache";class OT{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new cu(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=cu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Np.Cache}}class PT{constructor(t){this.key=t}}class DT{constructor(t){this.key=t}}class TR{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=_e(),this.mutatedKeys=_e(),this.eu=Xw(t),this.tu=new eu(this.eu)}get nu(){return this.Za}ru(t,n){const a=n?n.iu:new $0,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,b=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,x=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((I,N)=>{const k=l.get(I),et=Hf(this.query,N)?N:null,at=!!k&&this.mutatedKeys.has(k.key),ct=!!et&&(et.hasLocalMutations||this.mutatedKeys.has(et.key)&&et.hasCommittedMutations);let pt=!1;k&&et?k.data.isEqual(et.data)?at!==ct&&(a.track({type:3,doc:et}),pt=!0):this.su(k,et)||(a.track({type:2,doc:et}),pt=!0,(v&&this.eu(et,v)>0||x&&this.eu(et,x)<0)&&(b=!0)):!k&&et?(a.track({type:0,doc:et}),pt=!0):k&&!et&&(a.track({type:1,doc:k}),pt=!0,(v||x)&&(b=!0)),pt&&(et?(p=p.add(et),h=ct?h.add(I):h.delete(I)):(p=p.delete(I),h=h.delete(I)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const I=this.query.limitType==="F"?p.last():p.first();p=p.delete(I.key),h=h.delete(I.key),a.track({type:1,doc:I})}return{tu:p,iu:a,Ss:b,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((I,N)=>(function(et,at){const ct=pt=>{switch(pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Vt:pt})}};return ct(et)-ct(at)})(I.type,N.type)||this.eu(I.doc,N.doc))),this.ou(a),l=l??!1;const b=n&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,x=v!==this.Xa;return this.Xa=v,p.length!==0||x?{snapshot:new cu(this.query,t.tu,h,p,t.mutatedKeys,v===0,x,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=_e(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return t.forEach((a=>{this.Ya.has(a)||n.push(new DT(a))})),this.Ya.forEach((a=>{t.has(a)||n.push(new PT(a))})),n}cu(t){this.Za=t.ks,this.Ya=_e();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return cu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _g="SyncEngine";class xR{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class ER{constructor(t){this.key=t,this.hu=!1}}class SR{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new ol((b=>Qw(b)),qf),this.Iu=new Map,this.Eu=new Set,this.Ru=new un(zt.comparator),this.Au=new Map,this.Vu=new ag,this.du={},this.mu=new Map,this.fu=uu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AR(r,t,n=!0){const a=qT(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await VT(a,t,n,!0),l}async function CR(r,t){const n=qT(r);await VT(n,t,!0,!1)}async function VT(r,t,n,a){const l=await ZI(r.localStore,Rr(t)),h=l.targetId,p=r.sharedClientState.addLocalQueryTarget(h,n);let b;return a&&(b=await IR(r,t,h,p==="current",l.resumeToken)),r.isPrimaryClient&&n&&AT(r.remoteStore,l),b}async function IR(r,t,n,a,l){r.pu=(N,k,et)=>(async function(ct,pt,Lt,Ut){let kt=pt.view.ru(Lt);kt.Ss&&(kt=await K0(ct.localStore,pt.query,!1).then((({documents:D})=>pt.view.ru(D,kt))));const Wt=Ut&&Ut.targetChanges.get(pt.targetId),Re=Ut&&Ut.targetMismatches.get(pt.targetId)!=null,le=pt.view.applyChanges(kt,ct.isPrimaryClient,Wt,Re);return ib(ct,pt.targetId,le.au),le.snapshot})(r,N,k,et);const h=await K0(r.localStore,t,!0),p=new TR(t,h.ks),b=p.ru(h.documents),v=Dc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),x=p.applyChanges(b,r.isPrimaryClient,v);ib(r,n,x.au);const I=new xR(t,n,p);return r.Tu.set(t,I),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),x.snapshot}async function RR(r,t,n){const a=Yt(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((p=>!qf(p,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Ip(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&cg(a.remoteStore,l.targetId),kp(a,l.targetId)})).catch(gu)):(kp(a,l.targetId),await Ip(a.localStore,l.targetId,!0))}async function NR(r,t){const n=Yt(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),cg(n.remoteStore,a.targetId))}async function kR(r,t,n){const a=zR(r);try{const l=await(function(p,b){const v=Yt(p),x=en.now(),I=b.reduce(((et,at)=>et.add(at.key)),_e());let N,k;return v.persistence.runTransaction("Locally write mutations","readwrite",(et=>{let at=pa(),ct=_e();return v.xs.getEntries(et,I).next((pt=>{at=pt,at.forEach(((Lt,Ut)=>{Ut.isValidDocument()||(ct=ct.add(Lt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(et,at))).next((pt=>{N=pt;const Lt=[];for(const Ut of b){const kt=GC(Ut,N.get(Ut.key).overlayedDocument);kt!=null&&Lt.push(new po(Ut.key,kt,Bw(kt.value.mapValue),sr.exists(!0)))}return v.mutationQueue.addMutationBatch(et,x,Lt,b)})).next((pt=>{k=pt;const Lt=pt.applyToLocalDocumentSet(N,ct);return v.documentOverlayCache.saveOverlays(et,pt.batchId,Lt)}))})).then((()=>({batchId:k.batchId,changes:Jw(N)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,v){let x=p.du[p.currentUser.toKey()];x||(x=new un(ge)),x=x.insert(b,v),p.du[p.currentUser.toKey()]=x})(a,l.batchId,n),await zc(a,l.changes),await Qf(a.remoteStore)}catch(l){const h=pg(l,"Failed to persist write");n.reject(h)}}async function zT(r,t){const n=Yt(r);try{const a=await HI(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const p=n.Au.get(h);p&&(Ne(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Ne(p.hu,14607):l.removedDocuments.size>0&&(Ne(p.hu,42227),p.hu=!1))})),await zc(n,a,t)}catch(a){await gu(a)}}function nb(r,t,n){const a=Yt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,p)=>{const b=p.view.va(t);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const v=Yt(p);v.onlineState=b;let x=!1;v.queries.forEach(((I,N)=>{for(const k of N.ba)k.va(b)&&(x=!0)})),x&&gg(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function LR(r,t,n){const a=Yt(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let p=new un(zt.comparator);p=p.insert(h,yi.newNoDocument(h,Zt.min()));const b=_e().add(h),v=new Zf(Zt.min(),new Map,new un(ge),p,b);await zT(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(t),yg(a)}else await Ip(a.localStore,t,!1).then((()=>kp(a,t,n))).catch(gu)}async function MR(r,t){const n=Yt(r),a=t.batch.batchId;try{const l=await qI(n.localStore,t);UT(n,a,null),jT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await zc(n,l)}catch(l){await gu(l)}}async function OR(r,t,n){const a=Yt(r);try{const l=await(function(p,b){const v=Yt(p);return v.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let I;return v.mutationQueue.lookupMutationBatch(x,b).next((N=>(Ne(N!==null,37113),I=N.keys(),v.mutationQueue.removeMutationBatch(x,N)))).next((()=>v.mutationQueue.performConsistencyCheck(x))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(x,I,b))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,I))).next((()=>v.localDocuments.getDocuments(x,I)))}))})(a.localStore,t);UT(a,t,n),jT(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await zc(a,l)}catch(l){await gu(l)}}function jT(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function UT(r,t,n){const a=Yt(r);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function kp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||BT(r,a)}))}function BT(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(cg(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),yg(r))}function ib(r,t,n){for(const a of n)a instanceof PT?(r.Vu.addReference(a.key,t),PR(r,a)):a instanceof DT?(Rt(_g,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||BT(r,a.key)):Bt(19791,{wu:a})}function PR(r,t){const n=t.key,a=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(a)||(Rt(_g,"New document in limbo: "+n),r.Eu.add(a),yg(r))}function yg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new zt(Ze.fromString(t)),a=r.fu.next();r.Au.set(a,new ER(n)),r.Ru=r.Ru.insert(n,a),AT(r.remoteStore,new to(Rr(tg(n.path)),a,"TargetPurposeLimboResolution",jf.ce))}}async function zc(r,t,n){const a=Yt(r),l=[],h=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,v)=>{p.push(a.pu(v,t,n).then((x=>{if((x||n)&&a.isPrimaryClient){const I=x?!x.fromCache:n?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,I?"current":"not-current")}if(x){l.push(x);const I=lg.Es(v.targetId,x);h.push(I)}})))})),await Promise.all(p),a.Pu.J_(l),await(async function(v,x){const I=Yt(v);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>ht.forEach(x,(k=>ht.forEach(k.Ts,(et=>I.persistence.referenceDelegate.addReference(N,k.targetId,et))).next((()=>ht.forEach(k.Is,(et=>I.persistence.referenceDelegate.removeReference(N,k.targetId,et)))))))))}catch(N){if(!_u(N))throw N;Rt(ug,"Failed to update sequence numbers: "+N)}for(const N of x){const k=N.targetId;if(!N.fromCache){const et=I.vs.get(k),at=et.snapshotVersion,ct=et.withLastLimboFreeSnapshotVersion(at);I.vs=I.vs.insert(k,ct)}}})(a.localStore,h))}async function DR(r,t){const n=Yt(r);if(!n.currentUser.isEqual(t)){Rt(_g,"User change. New user:",t.toKey());const a=await TT(n.localStore,t);n.currentUser=t,(function(h,p){h.mu.forEach((b=>{b.forEach((v=>{v.reject(new Ct(ut.CANCELLED,p))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await zc(n,a.Ns)}}function VR(r,t){const n=Yt(r),a=n.Au.get(t);if(a&&a.hu)return _e().add(a.key);{let l=_e();const h=n.Iu.get(t);if(!h)return l;for(const p of h){const b=n.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function qT(r){const t=Yt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LR.bind(null,t),t.Pu.J_=bR.bind(null,t.eventManager),t.Pu.yu=wR.bind(null,t.eventManager),t}function zR(r){const t=Yt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OR.bind(null,t),t}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return BI(this.persistence,new zI,t.initialUser,this.serializer)}Cu(t){return new wT(og.Vi,this.serializer)}Du(t){return new YI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class jR extends Rf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ne(this.persistence.referenceDelegate instanceof Cf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new xI(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new wT((a=>Cf.Vi(a,n)),this.serializer)}}class Lp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>nb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DR.bind(null,this.syncEngine),await _R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vR})()}createDatastore(t){const n=Kf(t.databaseInfo.databaseId),a=$I(t.databaseInfo);return sR(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,p,b){return new aR(a,l,h,p,b)})(this.localStore,this.datastore,t.asyncQueue,(n=>nb(this.syncEngine,n,0)),(function(){return X0.v()?new X0:new QI})())}createSyncEngine(t,n){return(function(l,h,p,b,v,x,I){const N=new SR(l,h,p,b,v,x);return I&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Yt(n);Rt(nl,"RemoteStore shutting down."),a.Ea.add(5),await Vc(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class HT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ma("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const fo="FirestoreClient";class UR{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=l,this.user=_i.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async p=>{Rt(fo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(Rt(fo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=pg(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function np(r,t){r.asyncQueue.verifyOperationInProgress(),Rt(fo,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await TT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function sb(r,t){r.asyncQueue.verifyOperationInProgress();const n=await BR(r);Rt(fo,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>J0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>J0(t.remoteStore,l))),r._onlineComponents=t}async function BR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Rt(fo,"Using user provided OfflineComponentProvider");try{await np(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ut.FAILED_PRECONDITION||l.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;su("Error using user provided cache. Falling back to memory cache: "+n),await np(r,new Rf)}}else Rt(fo,"Using default OfflineComponentProvider"),await np(r,new jR(void 0));return r._offlineComponents}async function FT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Rt(fo,"Using user provided OnlineComponentProvider"),await sb(r,r._uninitializedComponentsProvider._online)):(Rt(fo,"Using default OnlineComponentProvider"),await sb(r,new Lp))),r._onlineComponents}function qR(r){return FT(r).then((t=>t.syncEngine))}async function GT(r){const t=await FT(r),n=t.eventManager;return n.onListen=AR.bind(null,t.syncEngine),n.onUnlisten=RR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NR.bind(null,t.syncEngine),n}function HR(r,t,n={}){const a=new ca;return r.asyncQueue.enqueueAndForget((async()=>(function(h,p,b,v,x){const I=new HT({next:k=>{I.Nu(),p.enqueueAndForget((()=>MT(h,N)));const et=k.docs.has(b);!et&&k.fromCache?x.reject(new Ct(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&k.fromCache&&v&&v.source==="server"?x.reject(new Ct(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(k)},error:k=>x.reject(k)}),N=new OT(tg(b.path),I,{includeMetadataChanges:!0,Ka:!0});return LT(h,N)})(await GT(r),r.asyncQueue,t,n,a))),a.promise}function FR(r,t,n={}){const a=new ca;return r.asyncQueue.enqueueAndForget((async()=>(function(h,p,b,v,x){const I=new HT({next:k=>{I.Nu(),p.enqueueAndForget((()=>MT(h,N))),k.fromCache&&v.source==="server"?x.reject(new Ct(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(k)},error:k=>x.reject(k)}),N=new OT(b,I,{includeMetadataChanges:!0,Ka:!0});return LT(h,N)})(await GT(r),r.asyncQueue,t,n,a))),a.promise}function GR(r,t){const n=new ca;return r.asyncQueue.enqueueAndForget((async()=>kR(await qR(r),t,n))),n.promise}function ZT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const ZR="ComponentProvider",rb=new Map;function KR(r,t,n,a,l){return new pC(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,ZT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const KT="firestore.googleapis.com",ab=!0;class ob{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=ab}else this.host=t.host,this.ssl=t.ssl??ab;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wI)throw new Ct(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ct(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ct(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ct(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xf{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ob({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ob(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Y2;switch(a.type){case"firstParty":return new J2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ct(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=rb.get(n);a&&(Rt(ZR,"Removing Datastore"),rb.delete(n),a.terminate())})(this),Promise.resolve()}}function YR(r,t,n,a={}){r=Or(r,Xf);const l=fu(t),h=r._getSettings(),p={...h,emulatorOptions:r._getEmulatorOptions()},b=`${t}:${n}`;l&&(Mb(`https://${b}`),Ob("Firestore",!0)),h.host!==KT&&h.host!==b&&su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:b,ssl:l,emulatorOptions:a};if(!ha(v,p)&&(r._setSettings(v),a.mockUserToken)){let x,I;if(typeof a.mockUserToken=="string")x=a.mockUserToken,I=_i.MOCK_USER;else{x=g1(a.mockUserToken,r._app?.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new Ct(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new _i(N)}r._authCredentials=new Q2(new Rw(x,I))}}class ul{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ul(this.firestore,t,this._query)}}class bn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bn(this.firestore,t,this._key)}toJSON(){return{type:bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Mc(n,bn._jsonSchema))return new bn(t,a||null,new zt(Ze.fromString(n.referencePath)))}}bn._jsonSchemaVersion="firestore/documentReference/1.0",bn._jsonSchema={type:kn("string",bn._jsonSchemaVersion),referencePath:kn("string")};class ro extends ul{constructor(t,n,a){super(t,n,tg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bn(this.firestore,null,new zt(t))}withConverter(t){return new ro(this.firestore,t,this._path)}}function Gl(r,t,...n){if(r=Ln(r),Nw("collection","path",t),r instanceof Xf){const a=Ze.fromString(t,...n);return b0(a),new ro(r,null,a)}{if(!(r instanceof bn||r instanceof ro))throw new Ct(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ze.fromString(t,...n));return b0(a),new ro(r.firestore,null,a)}}function aa(r,t,...n){if(r=Ln(r),arguments.length===1&&(t=Yp.newId()),Nw("doc","path",t),r instanceof Xf){const a=Ze.fromString(t,...n);return v0(a),new bn(r,null,new zt(a))}{if(!(r instanceof bn||r instanceof ro))throw new Ct(ut.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ze.fromString(t,...n));return v0(a),new bn(r.firestore,r instanceof ro?r.converter:null,new zt(a))}}const lb="AsyncQueue";class ub{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ET(this,"async_queue_retry"),this._c=()=>{const a=ep();a&&Rt(lb,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!_u(t))throw t;Rt(lb,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ma("INTERNAL UNHANDLED ERROR: ",cb(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=mg.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Bt(47125,{Pc:cb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function cb(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class vu extends Xf{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new ub,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ub(t),this._firestoreClient=void 0,await t}}}function QR(r,t){const n=typeof r=="object"?r:Vp(),a=typeof r=="string"?r:wf,l=al(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=m1("firestore");h&&YR(l,...h)}return l}function vg(r){if(r._terminated)throw new Ct(ut.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XR(r),r._firestoreClient}function XR(r){const t=r._freezeSettings(),n=KR(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new UR(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class Vs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vs(ii.fromBase64String(t))}catch(n){throw new Ct(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Vs(ii.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Mc(t,Vs._jsonSchema))return Vs.fromBase64String(t.bytes)}}Vs._jsonSchemaVersion="firestore/bytes/1.0",Vs._jsonSchema={type:kn("string",Vs._jsonSchemaVersion),bytes:kn("string")};class bg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bu{constructor(t){this._methodName=t}}class kr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ge(this._lat,t._lat)||ge(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(t){if(Mc(t,kr._jsonSchema))return new kr(t.latitude,t.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:kn("string",kr._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};class rr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Mc(t,rr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new rr(t.vectorValues);throw new Ct(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:kn("string",rr._jsonSchemaVersion),vectorValues:kn("object")};const WR=/^__.*__$/;class JR{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new po(t,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(t,this.data,n,this.fieldTransforms)}}class YT{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new po(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function QT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{dataSource:r})}}class Wf{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Wf({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const n=this.path?.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Nf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(QT(this.dataSource)&&WR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class $R{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Kf(t)}createContext(t,n,a,l=!1){return new Wf({dataSource:t,methodName:n,targetDoc:a,path:ni.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(r){const t=r._freezeSettings(),n=Kf(r._databaseId);return new $R(r._databaseId,!!t.ignoreUndefinedProperties,n)}function XT(r,t,n,a,l,h={}){const p=r.createContext(h.merge||h.mergeFields?2:0,t,n,l);Eg("Data must be an object, but it was:",p,a);const b=WT(a,p);let v,x;if(h.merge)v=new ys(p.fieldMask),x=p.fieldTransforms;else if(h.mergeFields){const I=[];for(const N of h.mergeFields){const k=hu(t,N,n);if(!p.contains(k))throw new Ct(ut.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);tx(I,k)||I.push(k)}v=new ys(I),x=p.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,x=p.fieldTransforms;return new JR(new es(b),v,x)}class $f extends bu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $f}}function tN(r,t,n){return new Wf({dataSource:3,targetDoc:t.settings.targetDoc,methodName:r._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class wg extends bu{_toFieldTransform(t){return new ng(t.path,new Sc)}isEqual(t){return t instanceof wg}}class Tg extends bu{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=tN(this,t,!0),a=this.Ac.map((h=>wu(h,n))),l=new lu(a);return new ng(t.path,l)}isEqual(t){return t instanceof Tg&&ha(this.Ac,t.Ac)}}class xg extends bu{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new Cc(t.serializer,eT(t.serializer,this.Vc));return new ng(t.path,n)}isEqual(t){return t instanceof xg&&this.Vc===t.Vc}}function eN(r,t,n,a){const l=r.createContext(1,t,n);Eg("Data must be an object, but it was:",l,a);const h=[],p=es.empty();mo(a,((v,x)=>{const I=$T(t,v,n);x=Ln(x);const N=l.childContextForFieldPath(I);if(x instanceof $f)h.push(I);else{const k=wu(x,N);k!=null&&(h.push(I),p.set(I,k))}}));const b=new ys(h);return new YT(p,b,l.fieldTransforms)}function nN(r,t,n,a,l,h){const p=r.createContext(1,t,n),b=[hu(t,a,n)],v=[l];if(h.length%2!=0)throw new Ct(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<h.length;k+=2)b.push(hu(t,h[k])),v.push(h[k+1]);const x=[],I=es.empty();for(let k=b.length-1;k>=0;--k)if(!tx(x,b[k])){const et=b[k];let at=v[k];at=Ln(at);const ct=p.childContextForFieldPath(et);if(at instanceof $f)x.push(et);else{const pt=wu(at,ct);pt!=null&&(x.push(et),I.set(et,pt))}}const N=new ys(x);return new YT(I,N,p.fieldTransforms)}function iN(r,t,n,a=!1){return wu(n,r.createContext(a?4:3,t))}function wu(r,t){if(JT(r=Ln(r)))return Eg("Unsupported field value:",t,r),WT(r,t);if(r instanceof bu)return(function(a,l){if(!QT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let p=0;for(const b of a){let v=wu(b,l.childContextForArray(p));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),p++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=Ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return eT(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=en.fromDate(a);return{timestampValue:Af(l.serializer,h)}}if(a instanceof en){const h=new en(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Af(l.serializer,h)}}if(a instanceof kr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vs)return{bytesValue:fT(l.serializer,a._byteString)};if(a instanceof bn){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.createError(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:rg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof rr)return(function(p,b){const v=p instanceof rr?p.toArray():p;return{mapValue:{fields:{[jw]:{stringValue:Uw},[Tf]:{arrayValue:{values:v.map((I=>{if(typeof I!="number")throw b.createError("VectorValues must only contain numeric values.");return eg(b.serializer,I)}))}}}}}})(a,l);if(vT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${zf(a)}`)})(r,t)}function WT(r,t){const n={};return Mw(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mo(r,((a,l)=>{const h=wu(l,t.childContextForField(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function JT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof en||r instanceof kr||r instanceof Vs||r instanceof bn||r instanceof bu||r instanceof rr||vT(r))}function Eg(r,t,n){if(!JT(n)||!kw(n)){const a=zf(n);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function hu(r,t,n){if((t=Ln(t))instanceof bg)return t._internalPath;if(typeof t=="string")return $T(r,t);throw Nf("Field path arguments must be of type string or ",r,!1,void 0,n)}const sN=new RegExp("[~\\*/\\[\\]]");function $T(r,t,n){if(t.search(sN)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bg(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nf(r,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${t}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let v="";return(h||p)&&(v+=" (found",h&&(v+=` in field ${a}`),p&&(v+=` in document ${l}`),v+=")"),new Ct(ut.INVALID_ARGUMENT,b+r+v)}function tx(r,t){return r.some((n=>n.isEqual(t)))}class rN{convertValue(t,n="none"){switch(co(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(uo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return mo(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[Tf].arrayValue?.values?.map((a=>vn(a.doubleValue)));return new rr(n)}convertGeoPoint(t){return new kr(vn(t.latitude),vn(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Bf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Tc(t));default:return null}}convertTimestamp(t){const n=lo(t);return new en(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Ze.fromString(t);Ne(yT(a),9688,{name:t});const l=new xc(a.get(1),a.get(3)),h=new zt(a.popFirst(5));return l.isEqual(n)||ma(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}class ex extends rN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function oc(){return new wg("serverTimestamp")}function aN(...r){return new Tg("arrayUnion",r)}function Zl(r){return new xg("increment",r)}const hb="@firebase/firestore",fb="4.10.0";class nx{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(hu("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oN extends nx{data(){return super.data()}}function lN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ct(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class ix extends Sg{}function Wh(r,t,...n){let a=[];t instanceof Sg&&a.push(t),a=a.concat(n),(function(h){const p=h.filter((v=>v instanceof Ag)).length,b=h.filter((v=>v instanceof td)).length;if(p>1||p>0&&b>0)throw new Ct(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class td extends ix{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new td(t,n,a)}_apply(t){const n=this._parse(t);return sx(t._query,n),new ul(t.firestore,t.converter,xp(t._query,n))}_parse(t){const n=Jf(t.firestore);return(function(h,p,b,v,x,I,N){let k;if(x.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new Ct(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){mb(N,I);const at=[];for(const ct of N)at.push(db(v,h,ct));k={arrayValue:{values:at}}}else k=db(v,h,N)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||mb(N,I),k=iN(b,p,N,I==="in"||I==="not-in");return Nn.create(x,I,k)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Yo(r,t,n){const a=t,l=hu("where",r);return td._create(l,a,n)}class Ag extends Sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ag(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let p=l;const b=h.getFlattenedFilters();for(const v of b)sx(p,v),p=xp(p,v)})(t._query,n),new ul(t.firestore,t.converter,xp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends ix{constructor(t,n,a){super(),this.type=t,this._limit=n,this._limitType=a}static _create(t,n,a){return new Cg(t,n,a)}_apply(t){return new ul(t.firestore,t.converter,Sf(t._query,this._limit,this._limitType))}}function uN(r){return Cg._create("limit",r,"F")}function db(r,t,n){if(typeof(n=Ln(n))=="string"){if(n==="")throw new Ct(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yw(t)&&n.indexOf("/")!==-1)throw new Ct(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(Ze.fromString(n));if(!zt.isDocumentKey(a))throw new Ct(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return I0(r,new zt(a))}if(n instanceof bn)return I0(r,n._key);throw new Ct(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function mb(r,t){if(!Array.isArray(r)||r.length===0)throw new Ct(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sx(r,t){const n=(function(l,h){for(const p of l)for(const b of p.getFlattenedFilters())if(h.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Ct(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function rx(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class fc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $o extends nx{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(hu("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:kn("string",$o._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class cf extends $o{data(t={}){return super.data(t)}}class nu{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new fc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new cf(this._firestore,this._userDataWriter,a.key,a,new fc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const v=new cf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new fc(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>h||b.type!==3)).map((b=>{const v=new cf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new fc(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let x=-1,I=-1;return b.type!==0&&(x=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),I=p.indexOf(b.doc.key)),{type:cN(b.type),doc:v,oldIndex:x,newIndex:I}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=nu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:r})}}nu._jsonSchemaVersion="firestore/querySnapshot/1.0",nu._jsonSchema={type:kn("string",nu._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};function ip(r){r=Or(r,bn);const t=Or(r.firestore,vu),n=vg(t);return HR(n,r._key).then((a=>fN(t,r,a)))}function Jh(r){r=Or(r,ul);const t=Or(r.firestore,vu),n=vg(t),a=new ex(t);return lN(r._query),FR(n,r._query).then((l=>new nu(t,a,r,l)))}function $h(r,t,n){r=Or(r,bn);const a=Or(r.firestore,vu),l=rx(r.converter,t,n),h=Jf(a);return Ig(a,[XT(h,"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,sr.none())])}function hN(r,t,n,...a){r=Or(r,bn);const l=Or(r.firestore,vu),h=Jf(l);let p;return p=typeof(t=Ln(t))=="string"||t instanceof bg?nN(h,"updateDoc",r._key,t,n,a):eN(h,"updateDoc",r._key,t),Ig(l,[p.toMutation(r._key,sr.exists(!0))])}function pb(r,t){const n=Or(r.firestore,vu),a=aa(r),l=rx(r.converter,t),h=Jf(r.firestore);return Ig(n,[XT(h,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,sr.exists(!1))]).then((()=>a))}function Ig(r,t){const n=vg(r);return GR(n,t)}function fN(r,t,n){const a=n.docs.get(t._key),l=new ex(r);return new $o(r,l,t._key,a,new fc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){K2(du),Lr(new ar("firestore",((a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),b=new vu(new X2(a.getProvider("auth-internal")),new $2(p,a.getProvider("app-check-internal")),gC(p,l),p);return h={useFetchStreams:n,...h},b._setSettings(h),b}),"PUBLIC").setMultipleInstances(!0)),zs(hb,fb,t),zs(hb,fb,"esm2020")})();const ax="@firebase/installations",Rg="0.6.19";const ox=1e4,lx=`w:${Rg}`,ux="FIS_v2",dN="https://firebaseinstallations.googleapis.com/v1",mN=3600*1e3,pN="installations",gN="Installations";const _N={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},il=new rl(pN,gN,_N);function cx(r){return r instanceof lr&&r.code.includes("request-failed")}function hx({projectId:r}){return`${dN}/projects/${r}/installations`}function fx(r){return{token:r.token,requestStatus:2,expiresIn:vN(r.expiresIn),creationTime:Date.now()}}async function dx(r,t){const a=(await t.json()).error;return il.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function mx({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function yN(r,{refreshToken:t}){const n=mx(r);return n.append("Authorization",bN(t)),n}async function px(r){const t=await r();return t.status>=500&&t.status<600?r():t}function vN(r){return Number(r.replace("s","000"))}function bN(r){return`${ux} ${r}`}async function wN({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const a=hx(r),l=mx(r),h=t.getImmediate({optional:!0});if(h){const x=await h.getHeartbeatsHeader();x&&l.append("x-firebase-client",x)}const p={fid:n,authVersion:ux,appId:r.appId,sdkVersion:lx},b={method:"POST",headers:l,body:JSON.stringify(p)},v=await px(()=>fetch(a,b));if(v.ok){const x=await v.json();return{fid:x.fid||n,registrationStatus:2,refreshToken:x.refreshToken,authToken:fx(x.authToken)}}else throw await dx("Create Installation",v)}function gx(r){return new Promise(t=>{setTimeout(t,r)})}function TN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const xN=/^[cdef][\w-]{21}$/,Mp="";function EN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=SN(r);return xN.test(n)?n:Mp}catch{return Mp}}function SN(r){return TN(r).substr(0,22)}function ed(r){return`${r.appName}!${r.appId}`}const _x=new Map;function yx(r,t){const n=ed(r);vx(n,t),AN(n,t)}function vx(r,t){const n=_x.get(r);if(n)for(const a of n)a(t)}function AN(r,t){const n=CN();n&&n.postMessage({key:r,fid:t}),IN()}let Jo=null;function CN(){return!Jo&&"BroadcastChannel"in self&&(Jo=new BroadcastChannel("[Firebase] FID Change"),Jo.onmessage=r=>{vx(r.data.key,r.data.fid)}),Jo}function IN(){_x.size===0&&Jo&&(Jo.close(),Jo=null)}const RN="firebase-installations-database",NN=1,sl="firebase-installations-store";let sp=null;function Ng(){return sp||(sp=Ub(RN,NN,{upgrade:(r,t)=>{t===0&&r.createObjectStore(sl)}})),sp}async function kf(r,t){const n=ed(r),l=(await Ng()).transaction(sl,"readwrite"),h=l.objectStore(sl),p=await h.get(n);return await h.put(t,n),await l.done,(!p||p.fid!==t.fid)&&yx(r,t.fid),t}async function bx(r){const t=ed(r),a=(await Ng()).transaction(sl,"readwrite");await a.objectStore(sl).delete(t),await a.done}async function nd(r,t){const n=ed(r),l=(await Ng()).transaction(sl,"readwrite"),h=l.objectStore(sl),p=await h.get(n),b=t(p);return b===void 0?await h.delete(n):await h.put(b,n),await l.done,b&&(!p||p.fid!==b.fid)&&yx(r,b.fid),b}async function kg(r){let t;const n=await nd(r.appConfig,a=>{const l=kN(a),h=LN(r,l);return t=h.registrationPromise,h.installationEntry});return n.fid===Mp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function kN(r){const t=r||{fid:EN(),registrationStatus:0};return wx(t)}function LN(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(il.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=MN(r,n);return{installationEntry:n,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:ON(r)}:{installationEntry:t}}async function MN(r,t){try{const n=await wN(r,t);return kf(r.appConfig,n)}catch(n){throw cx(n)&&n.customData.serverCode===409?await bx(r.appConfig):await kf(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function ON(r){let t=await gb(r.appConfig);for(;t.registrationStatus===1;)await gx(100),t=await gb(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await kg(r);return a||n}return t}function gb(r){return nd(r,t=>{if(!t)throw il.create("installation-not-found");return wx(t)})}function wx(r){return PN(r)?{fid:r.fid,registrationStatus:0}:r}function PN(r){return r.registrationStatus===1&&r.registrationTime+ox<Date.now()}async function DN({appConfig:r,heartbeatServiceProvider:t},n){const a=VN(r,n),l=yN(r,n),h=t.getImmediate({optional:!0});if(h){const x=await h.getHeartbeatsHeader();x&&l.append("x-firebase-client",x)}const p={installation:{sdkVersion:lx,appId:r.appId}},b={method:"POST",headers:l,body:JSON.stringify(p)},v=await px(()=>fetch(a,b));if(v.ok){const x=await v.json();return fx(x)}else throw await dx("Generate Auth Token",v)}function VN(r,{fid:t}){return`${hx(r)}/${t}/authTokens:generate`}async function Lg(r,t=!1){let n;const a=await nd(r.appConfig,h=>{if(!Tx(h))throw il.create("not-registered");const p=h.authToken;if(!t&&UN(p))return h;if(p.requestStatus===1)return n=zN(r,t),h;{if(!navigator.onLine)throw il.create("app-offline");const b=qN(h);return n=jN(r,b),b}});return n?await n:a.authToken}async function zN(r,t){let n=await _b(r.appConfig);for(;n.authToken.requestStatus===1;)await gx(100),n=await _b(r.appConfig);const a=n.authToken;return a.requestStatus===0?Lg(r,t):a}function _b(r){return nd(r,t=>{if(!Tx(t))throw il.create("not-registered");const n=t.authToken;return HN(n)?{...t,authToken:{requestStatus:0}}:t})}async function jN(r,t){try{const n=await DN(r,t),a={...t,authToken:n};return await kf(r.appConfig,a),n}catch(n){if(cx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await bx(r.appConfig);else{const a={...t,authToken:{requestStatus:0}};await kf(r.appConfig,a)}throw n}}function Tx(r){return r!==void 0&&r.registrationStatus===2}function UN(r){return r.requestStatus===2&&!BN(r)}function BN(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+mN}function qN(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function HN(r){return r.requestStatus===1&&r.requestTime+ox<Date.now()}async function FN(r){const t=r,{installationEntry:n,registrationPromise:a}=await kg(t);return a?a.catch(console.error):Lg(t).catch(console.error),n.fid}async function GN(r,t=!1){const n=r;return await ZN(n),(await Lg(n,t)).token}async function ZN(r){const{registrationPromise:t}=await kg(r);t&&await t}function KN(r){if(!r||!r.options)throw rp("App Configuration");if(!r.name)throw rp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw rp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function rp(r){return il.create("missing-app-config-values",{valueName:r})}const xx="installations",YN="installations-internal",QN=r=>{const t=r.getProvider("app").getImmediate(),n=KN(t),a=al(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},XN=r=>{const t=r.getProvider("app").getImmediate(),n=al(t,xx).getImmediate();return{getId:()=>FN(n),getToken:l=>GN(n,l)}};function WN(){Lr(new ar(xx,QN,"PUBLIC")),Lr(new ar(YN,XN,"PRIVATE"))}WN();zs(ax,Rg);zs(ax,Rg,"esm2020");const Lf="analytics",JN="firebase_id",$N="origin",tk=60*1e3,ek="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mg="https://www.googletagmanager.com/gtag/js";const Li=new Of("@firebase/analytics");const nk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vs=new rl("analytics","Analytics",nk);function ik(r){if(!r.startsWith(Mg)){const t=vs.create("invalid-gtag-resource",{gtagURL:r});return Li.warn(t.message),""}return r}function Ex(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function sk(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function rk(r,t){const n=sk("firebase-js-sdk-policy",{createScriptURL:ik}),a=document.createElement("script"),l=`${Mg}?l=${r}&id=${t}`;a.src=n?n?.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function ak(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function ok(r,t,n,a,l,h){const p=a[l];try{if(p)await t[p];else{const v=(await Ex(n)).find(x=>x.measurementId===l);v&&await t[v.appId]}}catch(b){Li.error(b)}r("config",l,h)}async function lk(r,t,n,a,l){try{let h=[];if(l&&l.send_to){let p=l.send_to;Array.isArray(p)||(p=[p]);const b=await Ex(n);for(const v of p){const x=b.find(N=>N.measurementId===v),I=x&&t[x.appId];if(I)h.push(I);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),r("event",a,l||{})}catch(h){Li.error(h)}}function uk(r,t,n,a){async function l(h,...p){try{if(h==="event"){const[b,v]=p;await lk(r,t,n,b,v)}else if(h==="config"){const[b,v]=p;await ok(r,t,n,a,b,v)}else if(h==="consent"){const[b,v]=p;r("consent",b,v)}else if(h==="get"){const[b,v,x]=p;r("get",b,v,x)}else if(h==="set"){const[b]=p;r("set",b)}else r(h,...p)}catch(b){Li.error(b)}}return l}function ck(r,t,n,a,l){let h=function(...p){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(h=window[l]),window[l]=uk(h,r,t,n),{gtagCore:h,wrappedGtag:window[l]}}function hk(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Mg)&&n.src.includes(r))return n;return null}const fk=30,dk=1e3;class mk{constructor(t={},n=dk){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Sx=new mk;function pk(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function gk(r){const{appId:t,apiKey:n}=r,a={method:"GET",headers:pk(n)},l=ek.replace("{app-id}",t),h=await fetch(l,a);if(h.status!==200&&h.status!==304){let p="";try{const b=await h.json();b.error?.message&&(p=b.error.message)}catch{}throw vs.create("config-fetch-failed",{httpStatus:h.status,responseMessage:p})}return h.json()}async function _k(r,t=Sx,n){const{appId:a,apiKey:l,measurementId:h}=r.options;if(!a)throw vs.create("no-app-id");if(!l){if(h)return{measurementId:h,appId:a};throw vs.create("no-api-key")}const p=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},b=new bk;return setTimeout(async()=>{b.abort()},tk),Ax({appId:a,apiKey:l,measurementId:h},p,b,t)}async function Ax(r,{throttleEndTimeMillis:t,backoffCount:n},a,l=Sx){const{appId:h,measurementId:p}=r;try{await yk(a,t)}catch(b){if(p)return Li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:h,measurementId:p};throw b}try{const b=await gk(r);return l.deleteThrottleMetadata(h),b}catch(b){const v=b;if(!vk(v)){if(l.deleteThrottleMetadata(h),p)return Li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:p};throw b}const x=Number(v?.customData?.httpStatus)===503?Fv(n,l.intervalMillis,fk):Fv(n,l.intervalMillis),I={throttleEndTimeMillis:Date.now()+x,backoffCount:n+1};return l.setThrottleMetadata(h,I),Li.debug(`Calling attemptFetch again in ${x} millis`),Ax(r,I,a,l)}}function yk(r,t){return new Promise((n,a)=>{const l=Math.max(t-Date.now(),0),h=setTimeout(n,l);r.addEventListener(()=>{clearTimeout(h),a(vs.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function vk(r){if(!(r instanceof lr)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class bk{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function wk(r,t,n,a,l){if(l&&l.global){r("event",n,a);return}else{const h=await t,p={...a,send_to:h};r("event",n,p)}}async function Tk(r,t,n,a){if(a&&a.global){const l={};for(const h of Object.keys(n))l[`user_properties.${h}`]=n[h];return r("set",l),Promise.resolve()}else{const l=await t;r("config",l,{update:!0,user_properties:n})}}async function xk(){if(Db())try{await Vb()}catch(r){return Li.warn(vs.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Li.warn(vs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ek(r,t,n,a,l,h,p){const b=_k(r);b.then(k=>{n[k.measurementId]=k.appId,r.options.measurementId&&k.measurementId!==r.options.measurementId&&Li.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>Li.error(k)),t.push(b);const v=xk().then(k=>{if(k)return a.getId()}),[x,I]=await Promise.all([b,v]);hk(h)||rk(h,x.measurementId),l("js",new Date);const N=p?.config??{};return N[$N]="firebase",N.update=!0,I!=null&&(N[JN]=I),l("config",x.measurementId,N),x.measurementId}class Sk{constructor(t){this.app=t}_delete(){return delete iu[this.app.options.appId],Promise.resolve()}}let iu={},yb=[];const vb={};let ap="dataLayer",Ak="gtag",bb,Og,wb=!1;function Ck(){const r=[];if(Pb()&&r.push("This is a browser extension environment."),S1()||r.push("Cookies are not available."),r.length>0){const t=r.map((a,l)=>`(${l+1}) ${a}`).join(" "),n=vs.create("invalid-analytics-context",{errorInfo:t});Li.warn(n.message)}}function Ik(r,t,n){Ck();const a=r.options.appId;if(!a)throw vs.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vs.create("no-api-key");if(iu[a]!=null)throw vs.create("already-exists",{id:a});if(!wb){ak(ap);const{wrappedGtag:h,gtagCore:p}=ck(iu,yb,vb,ap,Ak);Og=h,bb=p,wb=!0}return iu[a]=Ek(r,yb,vb,t,bb,ap,n),new Sk(r)}function Rk(r=Vp()){r=Ln(r);const t=al(r,Lf);return t.isInitialized()?t.getImmediate():Nk(r)}function Nk(r,t={}){const n=al(r,Lf);if(n.isInitialized()){const l=n.getImmediate();if(ha(t,n.getOptions()))return l;throw vs.create("already-initialized")}return n.initialize({options:t})}function kk(r,t,n){r=Ln(r),Tk(Og,iu[r.app.options.appId],t,n).catch(a=>Li.error(a))}function hf(r,t,n,a){r=Ln(r),wk(Og,iu[r.app.options.appId],t,n,a).catch(l=>Li.error(l))}const Tb="@firebase/analytics",xb="0.10.19";function Lk(){Lr(new ar(Lf,(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return Ik(a,l,n)},"PUBLIC")),Lr(new ar("analytics-internal",r,"PRIVATE")),zs(Tb,xb),zs(Tb,xb,"esm2020");function r(t){try{const n=t.getProvider(Lf).getImmediate();return{logEvent:(a,l,h)=>hf(n,a,l,h),setUserProperties:(a,l)=>kk(n,a,l)}}catch(n){throw vs.create("interop-component-reg-failed",{reason:n})}}}Lk();const Mk={apiKey:"AIzaSyDG8l4zCw8qFP_YcPzCJZ1pX7v94SW1TOM",authDomain:"wildguess-810cb.firebaseapp.com",projectId:"wildguess-810cb",storageBucket:"wildguess-810cb.firebasestorage.app",messagingSenderId:"534801192362",appId:"1:534801192362:web:90d4053ad89a2dbe0307d3",measurementId:"G-7RKBPRH5JQ"},Pg=Bb(Mk);ww(Pg);const $i=QR(Pg),op=Rk(Pg),Eb={win1:{url:"https://assets.mixkit.co/active_storage/sfx/103/103-preview.mp3",volume:.4},win2:{url:"https://assets.mixkit.co/active_storage/sfx/2066/2066-preview.mp3",volume:.4},win3:{url:"https://assets.mixkit.co/active_storage/sfx/2063/2063-preview.mp3",volume:.4},unlock:{url:"https://assets.mixkit.co/active_storage/sfx/1104/1104-preview.mp3",volume:.4},incorrect:{url:"https://assets.mixkit.co/active_storage/sfx/6/6-preview.mp3",volume:1},error:[{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.025},{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.05},{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.075}],click:{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.5},countdown:{url:"https://assets.mixkit.co/active_storage/sfx/112/112-preview.mp3",volume:.075},start:{url:"https://assets.mixkit.co/active_storage/sfx/75/75-preview.mp3",volume:.4},hover:[{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.4},{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.3},{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.2}]};class Ok{constructor(){this.sounds={},this.indices={},this.muted=!1,Object.keys(Eb).forEach(t=>{const n=Eb[t],a=l=>{const h=new Audio(l.url);return h.volume=l.volume,h.preservesPitch!==void 0&&(h.preservesPitch=!1),h.mozPreservesPitch!==void 0&&(h.mozPreservesPitch=!1),h.webkitPreservesPitch!==void 0&&(h.webkitPreservesPitch=!1),h};Array.isArray(n)?(this.sounds[t]=n.map(l=>a(l)),this.indices[t]=0):this.sounds[t]=a(n)})}play(t,n=0){if(!this.sounds[t]){console.error(` Sound not found: ${t}`);return}if(!this.muted)try{let a;if(Array.isArray(this.sounds[t])){const l=this.indices[t]%this.sounds[t].length;a=this.sounds[t][l],this.indices[t]++}else a=this.sounds[t];if(a.currentTime=0,n>0){const l=1+(Math.random()*n*2-n);a.playbackRate=l}else a.playbackRate=1;a.play().catch(l=>{l.name!=="NotAllowedError"&&console.warn(` Audio Error '${t}':`,l)})}catch(a){console.error("Sound Error:",a)}}playWin(){if(this.muted)return;const t=Math.floor(Math.random()*3)+1;this.play(`win${t}`)}toggleMute(){return this.muted=!this.muted,this.muted}}const Pt=new Ok,Sb=[{id:"backup_1",name:"Lion",correctName:"Lion",sciName:"Panthera leo",family:"Felidae",image:"https://upload.wikimedia.org/wikipedia/commons/7/73/Lion_waiting_in_Namibia.jpg",lat:-2.333,lng:34.833,location:"Serengeti National Park, Tanzania",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Lion",stats:{trait:"Known as the 'King of Beasts', they live in prides.",date:"2024",year:2024}},{id:"backup_2",name:"Emperor Penguin",correctName:"Emperor Penguin",sciName:"Aptenodytes forsteri",family:"Spheniscidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/07/Emperor_Penguin_Manchot_empereur.jpg",lat:-77,lng:166,location:"Ross Sea, Antarctica",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Emperor_penguin",stats:{trait:"The tallest and heaviest of all living penguin species.",date:"2024",year:2024}},{id:"backup_3",name:"Monarch Butterfly",correctName:"Monarch Butterfly",sciName:"Danaus plexippus",family:"Nymphalidae",image:"https://upload.wikimedia.org/wikipedia/commons/6/63/Monarch_In_May.jpg",lat:19.6,lng:-100.2,location:"Michoacn, Mexico",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Monarch_butterfly",stats:{trait:"Known for its long-distance annual migration.",date:"2024",year:2024}},{id:"backup_4",name:"Koala",correctName:"Koala",sciName:"Phascolarctos cinereus",family:"Phascolarctidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/49/Koala_climbing_tree.jpg",lat:-27.4,lng:153,location:"Queensland, Australia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Koala",stats:{trait:"Sleeps up to 20 hours a day and eats eucalyptus.",date:"2024",year:2024}},{id:"backup_5",name:"Great White Shark",correctName:"Great White Shark",sciName:"Carcharodon carcharias",family:"Lamnidae",image:"https://upload.wikimedia.org/wikipedia/commons/5/56/White_shark.jpg",lat:-34.5,lng:19.3,location:"Gansbaai, South Africa",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Great_white_shark",stats:{trait:"The world's largest known predatory fish.",date:"2024",year:2024}},{id:"backup_6",name:"Bald Eagle",correctName:"Bald Eagle",sciName:"Haliaeetus leucocephalus",family:"Accipitridae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1a/About_to_Launch_%2826075320352%29.jpg",lat:57,lng:-135,location:"Sitka, Alaska, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Bald_eagle",stats:{trait:"The national bird of the United States.",date:"2024",year:2024}},{id:"backup_7",name:"Red-Eyed Tree Frog",correctName:"Red-Eyed Tree Frog",sciName:"Agalychnis callidryas",family:"Phyllomedusidae",image:"https://upload.wikimedia.org/wikipedia/commons/e/e3/Red-eyed_Tree_Frog_%28Agalychnis_callidryas%29_1.jpg",lat:10,lng:-84,location:"Monteverde, Costa Rica",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Agalychnis_callidryas",stats:{trait:"Has bright red eyes and neon green skin.",date:"2024",year:2024}},{id:"backup_8",name:"Komodo Dragon",correctName:"Komodo Dragon",sciName:"Varanus komodoensis",family:"Varanidae",image:"https://upload.wikimedia.org/wikipedia/commons/1/18/Komodo_Dragon_en_face.jpg",lat:-8.5,lng:119.5,location:"Komodo Island, Indonesia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Komodo_dragon",stats:{trait:"The largest living species of lizard.",date:"2024",year:2024}},{id:"backup_9",name:"Giant Panda",correctName:"Giant Panda",sciName:"Ailuropoda melanoleuca",family:"Ursidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/0f/Grosser_Panda.JPG",lat:30,lng:103,location:"Sichuan, China",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Giant_panda",stats:{trait:"99% of its diet consists of bamboo.",date:"2024",year:2024}},{id:"backup_10",name:"Blue Whale",correctName:"Blue Whale",sciName:"Balaenoptera musculus",family:"Balaenopteridae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1c/Anim1754_-_Flickr_-_NOAA_Photo_Library.jpg",lat:33,lng:-118,location:"Pacific Ocean, California",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Blue_whale",stats:{trait:"The largest animal known to have ever lived.",date:"2024",year:2024}},{id:"backup_11",name:"Honey Bee",correctName:"Honey Bee",sciName:"Apis mellifera",family:"Apidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/4d/Apis_mellifera_Western_honey_bee.jpg",lat:45,lng:2,location:"Provence, France",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Western_honey_bee",stats:{trait:"Produces honey and pollinates flowers.",date:"2024",year:2024}},{id:"backup_12",name:"Meerkat",correctName:"Meerkat",sciName:"Suricata suricatta",family:"Herpestidae",image:"https://upload.wikimedia.org/wikipedia/commons/f/f6/Suricata_suricatta_Mongoose.jpg",lat:-25,lng:20,location:"Kalahari Desert, Botswana",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Meerkat",stats:{trait:"Known for standing upright to watch for predators.",date:"2024",year:2024}},{id:"backup_13",name:"Galapagos Tortoise",correctName:"Galapagos Tortoise",sciName:"Chelonoidis niger",family:"Testudinidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/42/Galapagos_giant_tortoise_Geochelone_elephantopus.jpg",lat:-.5,lng:-90.5,location:"Galpagos Islands, Ecuador",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Galpagos_tortoise",stats:{trait:"Can live for over 100 years.",date:"2024",year:2024}},{id:"backup_14",name:"Snow Leopard",correctName:"Snow Leopard",sciName:"Panthera uncia",family:"Felidae",image:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Irbis4.JPG",lat:35,lng:76,location:"Himalayas, Pakistan",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Snow_leopard",stats:{trait:"Known as the 'Ghost of the Mountains'.",date:"2024",year:2024}},{id:"backup_15",name:"Capybara",correctName:"Capybara",sciName:"Hydrochoerus hydrochaeris",family:"Caviidae",image:"https://upload.wikimedia.org/wikipedia/commons/e/ec/Capybara_%28Hydrochoerus_hydrochaeris%29.JPG",lat:-15,lng:-56,location:"Pantanal, Brazil",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Capybara",stats:{trait:"The largest living rodent in the world.",date:"2024",year:2024}},{id:"backup_16",name:"Platypus",correctName:"Platypus",sciName:"Ornithorhynchus anatinus",family:"Ornithorhynchidae",image:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Platypus-sketch.jpg",lat:-42,lng:146,location:"Tasmania, Australia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Platypus",stats:{trait:"One of the few mammals that lay eggs.",date:"2024",year:2024}},{id:"backup_17",name:"Green Sea Turtle",correctName:"Green Sea Turtle",sciName:"Chelonia mydas",family:"Cheloniidae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1d/Green_Sea_Turtle_swimming.jpg",lat:21,lng:-157,location:"Hawaii, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Green_sea_turtle",stats:{trait:"Named for the color of its fat, not its shell.",date:"2024",year:2024}},{id:"backup_18",name:"Peregrine Falcon",correctName:"Peregrine Falcon",sciName:"Falco peregrinus",family:"Falconidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/07/Peregrine_Falcon_USFWS.jpg",lat:40.7,lng:-74,location:"New York City, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Peregrine_falcon",stats:{trait:"The fastest member of the animal kingdom.",date:"2024",year:2024}},{id:"backup_19",name:"African Elephant",correctName:"Elephant",sciName:"Loxodonta africana",family:"Elephantidae",image:"https://upload.wikimedia.org/wikipedia/commons/b/bf/African_Elephant_%28Loxodonta_africana%29_male_%2817289351322%29.jpg",lat:-19,lng:23,location:"Okavango Delta, Botswana",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/African_elephant",stats:{trait:"The largest land animal on Earth.",date:"2024",year:2024}},{id:"backup_20",name:"Ring-Tailed Lemur",correctName:"Lemur",sciName:"Lemur catta",family:"Lemuridae",image:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Ring-tailed_lemur_%28Lemur_catta%29.jpg",lat:-22,lng:45,location:"Madagascar",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Ring-tailed_lemur",stats:{trait:"Endemic to the island of Madagascar.",date:"2024",year:2024}}],Pk=({lat:r,lng:t,zoom:n})=>{const a=gt.useRef(null),l=gt.useRef(null),h=gt.useRef(null),p=gt.useRef(null);return gt.useEffect(()=>{if(a.current&&!l.current){l.current=Fh.map(a.current,{zoomControl:!1,attributionControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([r,t],n),Fh.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap &copy; CARTO",maxZoom:19}).addTo(l.current);const b=Fh.divIcon({className:"custom-pin",html:"<div></div>",iconSize:[20,20],iconAnchor:[10,10]});h.current=Fh.marker([r,t],{icon:b}).addTo(l.current),p.current=new ResizeObserver(()=>{l.current&&l.current.invalidateSize()}),p.current.observe(a.current)}return()=>{p.current&&p.current.disconnect(),l.current&&(l.current.remove(),l.current=null)}},[]),gt.useEffect(()=>{l.current&&h.current&&(l.current.flyTo([r,t],n,{animate:!0,duration:2}),h.current.setLatLng([r,t]))},[r,t,n]),E.jsx("div",{ref:a,className:"w-full h-full"})},lp=()=>{const r=new Date,t=r.toISOString().split("T")[0],n=new Date(r.getFullYear(),0,1),a=Math.floor((r-n)/864e5),l=Math.ceil((a+n.getDay()+1)/7),h=`${r.getFullYear()}-W${l}`;return{dayKey:t,weekKey:h}},Dk=r=>{if(r.annotations&&r.annotations.length>0)for(const l of r.annotations){const h=Number(l.controlled_attribute_id),p=Number(l.controlled_value_id);if(h===17&&p===19||h===22&&p!==24||[19,23,25,26,27,28,29,30,31,32,35].includes(p))return!0}const t=(r.dynamicProperties||"").toLowerCase().replace(/\s/g,"");if(t.includes('"evidenceofpresence":"track"')||t.includes('"evidenceofpresence":"scat"')||t.includes('"vitality":"dead"'))return!0;const n=["track","print","footprint","paw","scat","feces","dropping","poop","dung","burrow","nest","den","moult","shed","dead","roadkill","carcass","remains","bone","skull","skeleton","corpse","specimen","taxidermy","construction","web"],a=[r.description,r.occurrenceRemarks,r.fieldNotes,r.media?.[0]?.description,r.media?.[0]?.title,(r.tags||[]).join(" ")].filter(Boolean).join(" ").toLowerCase();return n.some(l=>a.includes(l))},Vk=({onComplete:r,stickers:t,isReady:n})=>{const[a,l]=gt.useState(3),[h,p]=gt.useState(""),[b,v]=gt.useState(0),x=["","","","","","","","","","","","","",""],I=["Acquiring Target Data...","Triangulating Coordinates...","Sourcing High-Res Photos...","Generating Cryptic Clues...","Consulting Local Biologists...","Reversing Global Warming...","Calibrating Satellites..."];return gt.useEffect(()=>{Pt.play("countdown")},[]),gt.useEffect(()=>{if(a>0){const N=setTimeout(()=>l(k=>k-1),1e3);return()=>clearTimeout(N)}},[a]),gt.useEffect(()=>{if(a===0&&!n){const N=setInterval(()=>{v(k=>(k+1)%I.length)},1800);return()=>clearInterval(N)}},[a,n]),gt.useEffect(()=>{if(a===0&&n){const N=setTimeout(r,500);return()=>clearTimeout(N)}},[a,n,r]),gt.useEffect(()=>{const N=setInterval(()=>{p(x[Math.floor(Math.random()*x.length)])},150);return()=>clearInterval(N)},[]),E.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-gradient-to-b from-green-900 to-green-700 overflow-hidden relative text-white",children:[E.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-50",children:t&&t.map(N=>E.jsx("div",{className:"absolute emoji-sticker transition-transform duration-1000 ease-in-out",style:{top:`${N.top}%`,left:`${N.left}%`,fontSize:`${N.size}rem`,transform:`rotate(${N.rotation}deg)`,opacity:N.opacity},children:N.emoji},N.id))}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[E.jsx("h2",{className:"text-4xl font-black mb-8 animate-pulse text-emerald-100 drop-shadow-md tracking-wider uppercase",children:"GET READY"}),E.jsx("div",{className:"text-9xl mb-8 font-mono font-bold drop-shadow-2xl text-white",children:a>0?a:n?"GO!":E.jsx("span",{className:"text-6xl animate-pulse",children:""})}),a===0&&!n&&E.jsx("div",{className:"text-emerald-200 font-mono font-bold uppercase tracking-widest animate-pulse mb-4 text-center px-4 h-8 transition-all duration-300",children:I[b]}),E.jsx("div",{className:"text-7xl swap-anim filter drop-shadow-xl",children:h})]})]})},zk=({pendingAnimals:r,onConfirmOne:t,onConfirmAll:n,allAnimalsFlat:a})=>{const[l,h]=gt.useState(!1),p=r[0],b=a.find(N=>N.name===p)||{},v=b.emoji||b.groupEmoji||"",x=()=>{l||(Pt.playWin(),h(!0),setTimeout(()=>{h(!1),t(p)},1500))},I=()=>{Pt.play("unlock"),n()};return E.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-8 text-center shadow-2xl animate-pop border-4 border-emerald-400 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle,rgba(52,211,153,0.2)_0%,rgba(255,255,255,0)_70%)] animate-pulse"}),E.jsx("h2",{className:"text-2xl font-black text-emerald-800 uppercase tracking-widest mb-2 relative z-10",children:"New Discovery!"}),E.jsxs("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wide mb-8 relative z-10",children:[r.length," New Entry",r.length>1?"s":""," Found"]}),E.jsxs("div",{className:"relative mx-auto w-48 h-48 mb-8 flex items-center justify-center",children:[E.jsx("div",{className:`transition-all duration-700 transform ${l?"scale-110 rotate-0 filter-none":"scale-100 rotate-12 blur-sm grayscale brightness-0 opacity-80"}`,children:E.jsx("div",{className:"text-9xl",children:v})}),l&&E.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[E.jsx("div",{className:"text-6xl animate-ping absolute top-0 left-0",children:""}),E.jsx("div",{className:"text-6xl animate-ping absolute bottom-4 right-4 delay-100",children:""}),E.jsx("div",{className:"text-6xl animate-ping absolute top-4 right-10 delay-200",children:""})]})]}),E.jsx("h3",{className:`text-xl font-bold mb-8 transition-all duration-500 ${l?"text-slate-800 scale-110":"text-slate-300 scale-90 blur-sm"}`,children:l?p:"????????"}),E.jsxs("div",{className:"space-y-3 relative z-10",children:[E.jsx("button",{onClick:x,disabled:l,className:`w-full py-4 rounded-xl font-black text-white uppercase tracking-widest shadow-lg transform transition-all ${l?"bg-emerald-400 scale-105":"bg-emerald-600 hover:bg-emerald-500 hover:scale-105"}`,children:l?"ADDED!":"ADD TO JOURNAL"}),r.length>1&&E.jsxs("button",{onClick:I,className:"w-full py-2 text-slate-400 text-xs font-bold uppercase hover:text-emerald-600 transition-colors",children:["Add All (",r.length,")"]})]})]})})},Ab={Any:null,Africa:97392,Asia:97395,Europe:97391,NorthAmerica:97394,"South America":97389,Oceania:97393},jk=[{label:" All Regions",value:"Any"},{label:" Africa",value:"Africa"},{label:" Asia",value:"Asia"},{label:" Europe",value:"Europe"},{label:" North America",value:"NorthAmerica"},{label:" South America",value:"SouthAmerica"},{label:" Oceania (Australia/NZ)",value:"Oceania"}],Uk=()=>{const[r,t]=gt.useState("menu"),[n,a]=gt.useState(!1),[l,h]=gt.useState(!1),[p,b]=gt.useState(!1),[v,x]=gt.useState(null),[I,N]=gt.useState(null),[k,et]=gt.useState(0),[at,ct]=gt.useState(0),[pt,Lt]=gt.useState(15),[Ut,kt]=gt.useState(5),[Wt,Re]=gt.useState(!1),[le,D]=gt.useState([]),[M,V]=gt.useState(null),[H,U]=gt.useState(null),[F,P]=gt.useState(0),[se,Ke]=gt.useState(""),[K,_t]=gt.useState(null),[ft,re]=gt.useState(""),xt=ww(),j=new oa,[nt,dt]=gt.useState(!1),[mt,Tt]=gt.useState(!0),[bt,Ht]=gt.useState(!1),[ke,Pe]=gt.useState(!1),[cn,bs]=gt.useState(null),[Mi,ws]=gt.useState(0),[Xn,js]=gt.useState([]),[si,Ts]=gt.useState("weekly"),[ri,Ye]=gt.useState("explorer"),[on,Oi]=gt.useState([]),[ga,ur]=gt.useState(!1),[hn,Pi]=gt.useState([]),Bn=gt.useRef(!1),bi=gt.useRef(!1),wi=gt.useRef(0),[go,cr]=gt.useState(!1),[ns,_a]=gt.useState(!1),[ai,nn]=gt.useState(!1),[Te,Qe]=gt.useState("Any"),[is,Dr]=gt.useState(!1),[_o,oi]=gt.useState(0),[Us,Fe]=gt.useState(0),[Jt,Wn]=gt.useState(!1),[Gt,Di]=gt.useState(0),[ya,Ti]=gt.useState(!1),{animals:ss,loading:hr,loadedRegion:xs}=r1("Any"),[Vr,Bs]=gt.useState(!1),[wn,It]=gt.useState(!1),Tn=ss||[];gt.useEffect(()=>{N(null),wi.current+=1},[Te]);const fn=gt.useMemo(()=>{if(Te==="Any")return Tn;const B=Te.replace(/\s+/g,"").toLowerCase(),it=Tn.filter(yt=>(yt.region||yt.Region||"").replace(/\s+/g,"").toLowerCase()===B);return it.length>0?it:Tn},[Tn,Te]),li=gt.useMemo(()=>{if(!fn.length)return[];const B={};return fn.forEach(yt=>{const At=yt.category||" Uncategorized";if(!B[At]){const $t=At.indexOf(" ");let Et="",te=At;$t!==-1&&(Et=At.substring(0,$t),te=At.substring($t+1)),B[At]={id:At,name:te,emoji:Et,animals:[]}}B[At].animals.push(yt)}),Object.values(B).sort((yt,At)=>yt.name.localeCompare(At.name))},[fn]);gt.useEffect(()=>{if(nt&&!localStorage.getItem("wildGuess_update_v2_seen")){const it=setTimeout(()=>nn(!0),500);return()=>clearTimeout(it)}},[nt]);const Ge=()=>{Pt.play("click"),localStorage.setItem("wildGuess_update_v2_seen","true"),nn(!1)},sn=B=>{if(!B)return[];const yt=fn.filter(Et=>Et.name!==B.correctName).sort(()=>.5-Math.random()).slice(0,4),At=Tn.find(Et=>Et.name===B.correctName);return[...yt,At].sort(()=>.5-Math.random())};gt.useEffect(()=>{r==="menu"&&!localStorage.getItem("wildGuess_timer_promo_seen")&&!l&&JSON.parse(localStorage.getItem("wildGuess_played")||"[]").length>=10&&Bs(!0)},[r,l]);const xi=()=>{Pt.play("click"),h(!0),localStorage.setItem("wildGuess_timer_promo_seen","true"),Bs(!1)},ui=()=>{Pt.play("click"),localStorage.setItem("wildGuess_timer_promo_seen","true"),Bs(!1)};gt.useEffect(()=>{Bn.current=!1},[k]);const[zr,fr]=gt.useState(!1),[jr,Ei]=gt.useState(new Set),[Vi,ci]=gt.useState("All"),Mn=async()=>{if(!K)return;ci(Te==="Any"?"All":Te);const B=JSON.parse(localStorage.getItem("journal_queue")||"[]");if(B.length>0){Pi(B),fr(!0);return}Pt.play("unlock",.3),fr(!0);try{const it=Gl($i,"games"),yt=Wh(it,Yo("userId","==",K.uid),Yo("result","==","win")),At=await Jh(yt),$t=new Set;At.forEach(Et=>{const te=Et.data();te.animalName&&$t.add(te.animalName)}),Ei($t)}catch(it){console.error("Error fetching journal:",it)}},xn=B=>{const it=hn.filter(yt=>yt!==B);Pi(it),localStorage.setItem("journal_queue",JSON.stringify(it)),it.length===0&&Mn()},zi=()=>{Pi([]),localStorage.setItem("journal_queue","[]"),Mn()};gt.useEffect(()=>{(async()=>{try{const it=aa($i,"system","blacklist"),yt=await ip(it);yt.exists()&&Oi(yt.data().ids||[])}catch(it){console.error("Failed to load blacklist:",it)}})()},[]),gt.useEffect(()=>{K&&(async()=>{try{const it=Wh(Gl($i,"games"),Yo("userId","==",K.uid),Yo("result","==","win")),yt=await Jh(it),At=new Set;yt.forEach($t=>{const Et=$t.data();Et.animalName&&At.add(Et.animalName)}),Ei(At)}catch(it){console.error("Background journal load failed:",it)}})()},[K]),gt.useEffect(()=>{const B=OA(xt,async it=>{if(console.log(" [Auth Listener] State Changed:",it?`Logged In (${it.isAnonymous?"Anon":"Verified"})`:"Logged Out"),console.log(" [Auth Listener] Google Flag is:",bi.current),it){_t(it),it.isAnonymous||(bi.current=!1);try{const yt=aa($i,"users",it.uid),At=await ip(yt);At.exists()?(console.log(" [Auth Listener] Profile found:",At.data().username),re(At.data().username),dt(!0)):(console.log(" [Auth Listener] No Profile doc found for this ID."),dt(!1))}catch(yt){console.error("Read Error:",yt)}Tt(!1)}else bi.current?console.log(" [Auth Listener] Google Login in progress... Pausing Guest creation."):(console.log(" [Auth Listener] No user & No Google in progress. Creating Guest..."),IA(xt).catch(yt=>console.error("Auth Error:",yt)).finally(()=>Tt(!1)))});return()=>B()},[]);const rn=()=>{const B=Pt.toggleMute();a(B)},Xe=gt.useRef(null),Ur=["Connecting to Satellite ","Triangulating Signal ","Tracking Wildlife ","Filtering Bad Data ","Verifying Coordinates ","Consulting Biologists ","Loading Map Tiles ","Enhancing Image "],On=[{title:"CLUE 1: SCIENTIFIC NAME",text:" You start with a global map view and the **Scientific Name**.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-32",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 2: LOCATION & PHOTO",text:" Next, we zoom into the **Location** and reveal a **blurred photo**.",positionClasses:"top-24 left-4 md:top-40 md:left-1/2 md:-translate-x-1/2",arrowClasses:"hidden",buttonText:"Reveal Next Clue"},{title:"CLUE 3: FIRST HINT",text:" Now you get your first **behavioral hint**.",positionClasses:"bottom-32 left-1/2 transform -translate-x-1/2",arrowClasses:"-bottom-[10px] left-1/2 -translate-x-1/2 border-t-[10px] border-t-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 4: FINAL HINT",text:" Still stuck? Here is your **final hint** to narrow it down.",positionClasses:"bottom-24 left-1/2 transform -translate-x-1/2",arrowClasses:"-bottom-[10px] left-1/2 -translate-x-1/2 border-t-[10px] border-t-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"I'm Ready to Guess"},{title:"MAKE A GUESS",text:"Start by selecting a **Category** or searching.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"hidden",hideButton:!0},{title:"PICK THE ANIMAL",text:"Choose the **animal** you think it is.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"hidden",hideButton:!0},{title:"WRONG! BUT WAIT...",text:"Still didn't get it? We've narrowed it down to **5 choices** to help you make a final guess.",positionClasses:"top-60 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"hidden",hideButton:!0},{title:"SUCCESS!",text:"Well done! Click **Play Again**.",positionClasses:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",arrowClasses:"hidden",buttonText:"Play Again"},{title:"GAME OVER",text:"Oh well! Click **Play Again**.",positionClasses:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",arrowClasses:"hidden",buttonText:"Play Again"}],qn=()=>{if(Pt.play("click",.2),Gt>=7){Wn(!1),localStorage.setItem("wildGuess_tutorial_complete","true"),Ti(!0),setTimeout(()=>Ti(!1),8e3),Pn();return}if(Gt<On.length-1){const B=Gt+1;Di(B),B===1&&(et(1),ct(1),kt(4)),B===2&&(et(2),ct(2),kt(3)),B===3&&(et(3),ct(3),kt(2)),B===6&&(et(4),ct(4),kt(1))}},ji=gt.useMemo(()=>{const B=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],At=16.666666666666668,$t=100/5;return B.slice(0,30).map((Et,te)=>{const Dt=te%6,ue=Math.floor(te/6);return{id:te,emoji:Et,left:Dt*At+Math.random()*(At*.7),top:ue*$t+Math.random()*($t*.7),rotation:Math.floor(Math.random()*60)-30,size:3+Math.random()*2,opacity:.1+Math.random()*.1}})},[]);gt.useEffect(()=>{let B;return is&&(oi(0),Fe(0),B=setInterval(()=>{oi(it=>Math.min(it+5,95)),Fe(it=>(it+1)%Ur.length)},400)),()=>clearInterval(B)},[is]),gt.useEffect(()=>{(r==="menu"||r==="summary")&&dr(si,ri)},[r,si,ri,K,Mi]);const dr=async(B=si,it=ri)=>{try{let yt="";if(B==="daily"){const{dayKey:Dt}=lp();yt=`leaderboards/daily/${Dt}`}else if(B==="weekly"){const{weekKey:Dt}=lp();yt=`leaderboards/weekly/${Dt}`}else yt="users";const At=Wh(Gl($i,yt)),$t=await Jh(At);let Et=[];$t.forEach(Dt=>{const ue=Dt.data(),We=ue.totalScore!==void 0?ue.totalScore:ue.score||0,Ve=ue.gamesPlayed||0;if(Ve>0){const Vn=We/Ve,ee=Ve<=10,Je=Ve>=11;(it==="hobbyist"&&ee||it==="explorer"&&Je)&&Et.push({id:Dt.id,username:ue.username||"Anonymous Explorer",totalScore:We,gamesPlayed:Ve,discoveries:ue.discoveries||0,averageScore:Vn})}}),Et.sort((Dt,ue)=>ue.averageScore-Dt.averageScore);let te=null;if(K){const Dt=Et.findIndex(ue=>ue.id===K.uid);Dt!==-1&&(te={...Et[Dt],rank:Dt+1})}bs(te),js(Et.slice(0,100))}catch(yt){console.error("Error fetching leaderboard:",yt),js([])}};gt.useEffect(()=>(r==="game"&&!Jt&&ye(),()=>{Xe.current&&clearInterval(Xe.current)}),[k,r,Jt]),gt.useEffect(()=>(r==="game"&&!Jt&&(l?(pt<=1&&Lt(15),ye(!1,!0)):Xe.current&&clearInterval(Xe.current)),()=>{Xe.current&&clearInterval(Xe.current)}),[l]),gt.useEffect(()=>{if(r==="countdown"){if(hr){console.log(" [Countdown] Paused. Waiting for data to finish downloading...");return}D([]),kt(5),Re(!1),V(null),U(null),P(yt=>yt+1),et(-1),ur(!1),ct(0),Bn.current=!1;const B=localStorage.getItem("wildGuess_tutorial_complete");Wn(!B),B||Di(0);const it=setTimeout(async()=>{let yt=null;if(I?(yt=I,N(null)):yt=await Ui(),x(yt),yt&&yt.image)try{await Be(yt.image)}catch{}ur(!0)},100);return()=>clearTimeout(it)}},[r,Te,xs,hr]),gt.useEffect(()=>{if(hr){console.log(" [Preload] Waiting for spreadsheet to process...");return}r==="menu"&&(console.log(` [Preload] Sheet ready for ${Te}. Fetching standby animal...`),N(null),rs())},[Te,xs,r,hr]);const Ui=async(B=1)=>{if(B>20)return console.warn(" [Fetch] Max attempts reached. Switching to backup."),cr(!0),Sb[Math.floor(Math.random()*Sb.length)];const it=localStorage.getItem("wildGuess_played"),yt=it?JSON.parse(it):[];let At=Tn;if(Te!=="Any"){const te=Te.replace(/\s+/g,"").toLowerCase();At=Tn.filter(Dt=>Dt.region?.replace(/\s+/g,"").toLowerCase()===te)}At.length===0&&(console.warn(`Oops! Couldn't find animals for ${Te}, falling back to Any!`),At=Tn);const $t=At[Math.floor(Math.random()*At.length)];let Et=`https://api.inaturalist.org/v1/observations?taxon_id=${$t.id}&photo_license=cc0,cc-by,cc-by-sa&quality_grade=research&photos=true&per_page=10`;Te!=="Any"&&Ab[Te]&&(Et+=`&place_id=${Ab[Te]}`);try{const te=await fetch(Et);if(!te.ok)throw new Error(`Server Error: ${te.status}`);const Dt=await te.json();if(Dt.results.length>0){const ue=Dt.results.find(We=>!Dk(We));if(ue){console.log(" [Debug] Success! Found clean observation:",ue.id);let We=null;try{const Je=await(await fetch(`https://api.inaturalist.org/v1/taxa/${ue.taxon.id}`)).json();Je.results&&Je.results.length>0&&(We=Je.results[0].wikipedia_summary)}catch{console.warn("Could not fetch Wikipedia summary.")}yt.includes($t.name)||(yt.push($t.name),localStorage.setItem("wildGuess_played",JSON.stringify(yt))),cr(!1);const Ve=new Date(ue.observed_on||ue.created_at),Vn=Ve.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return{id:ue.id,name:$t.name,correctName:$t.name,sciName:$t.displayLatin||$t.sciName,image:ue.photos[0].url.replace("square","original").replace("small","original").replace("medium","original").replace("large","original"),lat:parseFloat(ue.geojson?.coordinates[1]||0),lng:parseFloat(ue.geojson?.coordinates[0]||0),location:ue.place_guess||"Unknown Wilderness",recordedBy:ue.user?.login||"Unknown Observer",link:ue.uri,wikiSummary:We,stats:{clue1:$t.clue1||"No hint available.",clue2:$t.clue2||"No further hints available.",date:Vn,year:Ve.getFullYear()}}}else return console.warn(` [Debug] All 10 results for ${$t.name} were low quality. Trying next animal...`),Ui(B+1)}return console.log(` [Debug] 0 results for ${$t.name} in ${Te}. Trying next animal...`),Ui(B+1)}catch(te){return console.error(" [Fetch] Error:",te),Ui(B+1)}},rs=async()=>{const B=++wi.current;console.log(" [Preload] Starting background fetch...");try{const it=await Ui();wi.current===B&&N(it)}catch(it){console.warn("Background fetch failed",it)}},Qt=async B=>{if(!bt){if(!B.trim()){alert("Please enter a valid name.");return}if(!K){alert("Waiting for connection...");return}Ht(!0);try{const it=aa($i,"users",K.uid);await $h(it,{username:B,createdAt:oc(),lastLogin:oc(),gamesPlayed:0,totalScore:0},{merge:!0}),window.location.reload()}catch(it){alert("Save Failed: "+it.message),Ht(!1)}}},ae=()=>{Xe.current&&clearInterval(Xe.current),t("menu")},De=async()=>{console.log(" [handleLogin] Button Clicked. Setting flag to TRUE."),bi.current=!0,Tt(!0);try{Pt.play("click"),console.log(" [handleLogin] Calling signInWithPopup...");const B=await e2(xt,j);console.log(" [handleLogin] Success! User:",B.user.uid),_t(B.user);const it=aa($i,"users",B.user.uid),yt=await ip(it);console.log(" [handleLogin] Profile Check. Exists?",yt.exists()),yt.exists()?(re(yt.data().username),dt(!0)):(console.log(" [handleLogin] No profile found. Staying on setup screen."),dt(!1))}catch(B){console.error(" [handleLogin] FAILED:",B),Pt.play("error"),bi.current=!1}finally{console.log(" [handleLogin] Finished. Resetting flag/loading."),Tt(!1),bi.current=!1}},Be=B=>new Promise((it,yt)=>{const At=new Image;At.src=B,At.onload=()=>it(B),At.onerror=()=>yt(B)}),Pn=()=>{Pt.play("start"),hf(op,"level_start",{level_name:"wild_guess_standard"}),t("countdown")},qs=()=>{PA(xt).then(()=>{re(""),dt(!1),_t(null)}).catch(B=>console.error("Error signing out:",B))},St=()=>{t("game"),et(0),ye(),rs()},ye=(B=!1,it=!1)=>{it||Lt(15),Xe.current&&clearInterval(Xe.current),!(!l&&!B)&&(!B&&Jt||(Xe.current=setInterval(()=>{Lt(yt=>yt<=1?(Xe.current&&clearInterval(Xe.current),Bn.current?yt:(Bn.current=!0,Hn(),15)):yt-1)},1e3)))},Hn=()=>{et(B=>{const it=B+1;return it>4?(Dn("loss"),4):(Re(!1),kt(5-it),ct(it),it)})},Bi=()=>{Bn.current||k<4&&(Bn.current=!0,Lt(15),Hn())},Le=()=>{Jt?(Wn(!1),localStorage.setItem("wildGuess_tutorial_complete","true"),D([]),ye(!0)):(Wn(!0),Di(0),et(0),ct(0),kt(5),D([]),U(null),Xe.current&&clearInterval(Xe.current))},Hs=B=>{Pt.play("click"),U(B),Jt&&Gt===4&&qn()},Fs=()=>{U(null),Jt&&(Gt===5||Gt===6)&&Di(4)},Si=async()=>{const B=`I just discovered the ${v.correctName} in Wild Guess! 

Score: ${Ut}/5
Location: ${v.location}

Can you beat me? Play here:
https://www.wildguess.co.za`;if(navigator.share)try{await navigator.share({title:"Wild Guess Expedition",text:B}),hf(op,"share",{method:"native"})}catch{}else try{await navigator.clipboard.writeText(B),alert("Score copied to clipboard!")}catch{}},Ce=()=>{const B=`I just discovered the ${v.correctName} in Wild Guess! 
Score: ${Ut}/5
Location: ${v.location}
Play here: https://www.wildguess.co.za`;window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(B)}`,"_blank")},qi=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent("https://www.wildguess.co.za")}`,"_blank")},hi=()=>{const B=`I found the ${v.correctName} in Wild Guess!  Score: ${Ut}/5. Play here: https://www.wildguess.co.za`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(B)}`,"_blank")},dn=async()=>{if(!(!v||!v.id)&&window.confirm("Report this listing as bad data (dead, blurry, or wrong location)?"))try{const B=localStorage.getItem("wildGuess_reported");let it=B?JSON.parse(B):[];it.includes(v.id)||(it.push(v.id),localStorage.setItem("wildGuess_reported",JSON.stringify(it)));const yt=aa($i,"system","blacklist");await $h(yt,{ids:aN(v.id)},{merge:!0}),await pb(Gl($i,"reports"),{animalId:v.id,animalName:v.correctName,reason:"User Reported",reportedBy:K?K.uid:"anonymous",timestamp:oc()}),alert("Report received.")}catch{alert("Could not submit report.")}},Es=B=>{if(typeof B=="string"){const At=Tn.find($t=>$t.name===B);if(At)B=At;else return}const it=B.name,yt=Tn.find(At=>At.name===v.correctName)?.id;if(Jt){const At=B.id===yt;Gt===5?At?(Pt.playWin(),Dn("win"),Di(7)):(Pt.play("incorrect",.3),D([it]),et(4),kt(1),Di(6)):Gt===6&&(At?(Pt.playWin(),Dn("win"),Di(7)):(Pt.play("incorrect",.3),Dn("loss"),Di(8)));return}Wt||r!=="game"||Bn.current||(B.id===yt?(Pt.playWin(),Dn("win")):(Pt.play("incorrect",.3),D(At=>[...At,it]),k===4?Dn("loss"):(Bn.current=!0,Lt(15),Hn())))},Dn=async B=>{Xe.current&&clearInterval(Xe.current);let it=B==="win"?Ut:0,yt=!1;if(B==="loss"&&Pt.play("error"),V(B),t("summary"),K)try{if(B==="win"){const Vn=Wh(Gl($i,"games"),Yo("userId","==",K.uid),Yo("animalName","==",v.correctName),Yo("result","==","win"),uN(1));if((await Jh(Vn)).empty){yt=!0;const Je=JSON.parse(localStorage.getItem("journal_queue")||"[]");Je.includes(v.correctName)||(Je.push(v.correctName),localStorage.setItem("journal_queue",JSON.stringify(Je)),Pi(Je))}}hf(op,"level_end",{level_name:"wild_guess_standard",success:B==="win",score:it});const At=pb(Gl($i,"games"),{userId:K.uid,animalName:v.correctName,animalSciName:v.sciName,location:v.location,result:B,pointsEarned:it,timestamp:oc()}),{dayKey:$t,weekKey:Et}=lp(),te=aa($i,"users",K.uid),Dt=aa($i,"leaderboards","daily",$t,K.uid),ue=aa($i,"leaderboards","weekly",Et,K.uid),We=hN(te,{totalScore:Zl(it),gamesPlayed:Zl(1),discoveries:Zl(yt?1:0),lastPlayed:oc()}),Ve={username:ft,photoURL:K.photoURL||null,score:Zl(it),gamesPlayed:Zl(1),discoveries:Zl(yt?1:0)};await Promise.all([At,We,$h(Dt,Ve,{merge:!0}),$h(ue,Ve,{merge:!0})]),ws(Vn=>Vn+1)}catch(At){console.error("Error saving game:",At)}},Ss=()=>{const[B,it]=gt.useState(!1);return E.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-xs shadow-2xl overflow-hidden border-2 border-slate-200",children:[E.jsxs("div",{className:"bg-slate-50 p-4 border-b border-slate-200 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-slate-700 uppercase tracking-wider text-sm",children:"Expedition Settings"}),E.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-700",children:""})]}),E.jsxs("div",{className:"p-4 space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xl",children:n?"":""}),E.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sound Effects"})]}),E.jsx("button",{onClick:rn,className:`w-12 h-6 rounded-full transition-colors relative ${n?"bg-slate-200":"bg-emerald-500"}`,children:E.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n?"left-1":"right-1"}`})})]}),E.jsxs("div",{className:`flex items-center justify-between ${Jt?"opacity-50 pointer-events-none":""}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xl",children:""}),E.jsxs("div",{children:[E.jsx("span",{className:"text-sm font-bold text-slate-700 block",children:"Round Timer"}),E.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:l?"15 Seconds":"Unlimited"})]})]}),E.jsx("button",{onClick:()=>h(!l),className:`w-12 h-6 rounded-full transition-colors relative ${l?"bg-emerald-500":"bg-slate-200"}`,children:E.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${l?"right-1":"left-1"}`})})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Tutorial Mode"})]}),E.jsx("button",{onClick:()=>{Le(),b(!1)},className:`w-12 h-6 rounded-full transition-colors relative ${Jt?"bg-emerald-500":"bg-slate-200"}`,children:E.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${Jt?"right-1":"left-1"}`})})]})]}),E.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200 transition-all duration-300",children:B?E.jsxs("div",{className:"flex flex-col gap-2 animate-pop",children:[E.jsx("p",{className:"text-center text-[10px] font-bold text-red-500 uppercase tracking-wider mb-1",children:"Abandon current game?"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>it(!1),className:"flex-1 bg-slate-200 text-slate-600 font-bold py-2 rounded-xl hover:bg-slate-300 transition-colors text-xs uppercase tracking-wide",children:"Cancel"}),E.jsx("button",{onClick:()=>{ae(),b(!1)},className:"flex-1 bg-red-500 text-white font-bold py-2 rounded-xl hover:bg-red-600 transition-colors text-xs uppercase tracking-wide",children:"Yes, Exit"})]})]}):E.jsxs("button",{onClick:()=>it(!0),className:"w-full bg-red-50 text-red-500 border border-red-200 font-bold py-3 rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[E.jsx("span",{children:""})," Exit Expedition"]})})]})})},Ai=Tn.filter(B=>{if(Vi==="All")return!0;const yt=(B.region||B.Region||"").replace(/\s+/g,"").toLowerCase(),At=Vi.replace(/\s+/g,"").toLowerCase();return yt===At}),Gs=Ai.filter(B=>jr.has(B.name)).length,Ci=zr&&E.jsx("div",{className:"fixed inset-0 z-[90] bg-slate-900/95 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-amber-50 rounded-2xl w-full max-w-4xl h-[85vh] flex flex-col shadow-2xl overflow-hidden border-4 border-amber-200 relative animate-pop",children:[E.jsx("button",{onClick:()=>{Pt.play("click"),fr(!1)},className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/10 hover:bg-black/20 rounded-full text-amber-900 font-bold flex items-center justify-center transition-colors text-xl",children:""}),E.jsxs("div",{className:"bg-amber-100 p-6 border-b border-amber-200 text-center flex-shrink-0 relative",children:[E.jsx("h2",{className:"font-freckle text-3xl text-amber-900 uppercase tracking-wide",children:"Field Journal"}),E.jsx("div",{className:"mt-4 flex justify-center",children:E.jsxs("div",{className:"relative inline-block w-48",children:[E.jsxs("select",{value:Vi,onChange:B=>{Pt.play("click"),ci(B.target.value)},className:"w-full bg-white text-amber-900 font-bold py-2 px-3 rounded-lg border-2 border-amber-300 shadow-sm appearance-none cursor-pointer focus:outline-none focus:border-amber-500 text-sm uppercase tracking-wider text-center",children:[E.jsx("option",{value:"All",children:" All Regions"}),E.jsx("option",{value:"Africa",children:"Africa"}),E.jsx("option",{value:"Asia",children:"Asia"}),E.jsx("option",{value:"Europe",children:"Europe"}),E.jsx("option",{value:"NorthAmerica",children:"North America"}),E.jsx("option",{value:"SouthAmerica",children:"South America"}),E.jsx("option",{value:"Oceania",children:"Oceania"})]}),E.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-amber-700 text-xs",children:""})]})}),E.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[E.jsx("span",{className:"text-amber-800/60 text-xs font-bold uppercase tracking-widest",children:Vi==="All"?"Global Progress:":`${Vi} Progress:`}),E.jsxs("span",{className:"bg-amber-300 text-amber-900 px-2 py-0.5 rounded text-xs font-black shadow-sm",children:[Gs," / ",Ai.length]})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-4 md:p-8 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]",children:E.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-3 md:gap-4",children:[Ai.map((B,it)=>{const yt=jr.has(B.name);return E.jsxs("div",{className:`aspect-square rounded-xl flex flex-col items-center justify-center p-2 transition-all duration-500 border-2 ${yt?"bg-white border-amber-200 shadow-md rotate-0 opacity-100":"bg-slate-100 border-slate-200 shadow-none opacity-60"}`,children:[E.jsx("div",{className:"text-4xl md:text-5xl mb-2 transition-all duration-500",style:yt?{}:{color:"transparent",textShadow:"0 0 0 #94a3b8",filter:"blur(1px)"},children:B.emoji||B.groupEmoji||""}),E.jsx("div",{className:`text-[9px] md:text-[10px] font-bold text-center uppercase tracking-tight leading-tight transition-opacity duration-500 ${yt?"text-slate-700 opacity-100":"text-slate-400 opacity-0"}`,children:B.name})]},it)}),Ai.length===0&&E.jsx("div",{className:"col-span-full text-center py-10 text-amber-900/50 font-bold uppercase tracking-widest",children:"No animals found for this region."})]})})]})});return r==="menu"?E.jsxs("div",{className:"h-screen w-full bg-gradient-to-b from-green-900 to-green-700 overflow-x-hidden overflow-y-auto md:overflow-hidden relative flex flex-col md:flex-row items-center justify-start md:justify-center p-4 gap-6 py-12 md:py-0",children:[E.jsx("button",{onClick:()=>{Pt.play("click"),b(!0)},className:"absolute top-4 right-4 z-50 w-12 h-12 bg-white/10 backdrop-blur-md border-2 border-white/20 rounded-full shadow-lg text-white flex items-center justify-center hover:bg-white/20 hover:scale-110 hover:rotate-90 transition-all duration-500 group",title:"Settings",children:E.jsx("span",{className:"text-2xl drop-shadow-md",children:""})}),E.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:ji.map(B=>E.jsx("div",{className:"absolute emoji-sticker transition-transform duration-1000 ease-in-out hover:scale-110",style:{top:`${B.top}%`,left:`${B.left}%`,fontSize:`${B.size}rem`,transform:`rotate(${B.rotation}deg)`,opacity:B.opacity},children:B.emoji},B.id))}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full max-w-md md:w-1/2 md:items-end md:pr-8 flex-shrink-0",children:[E.jsxs("h1",{className:"font-freckle text-5xl md:text-7xl text-green-950 sticker-text drop-shadow-2xl mb-4 tracking-wider leading-none whitespace-nowrap",children:["W",E.jsx("span",{className:"-mx-4 md:-mx-7 relative -top-1",children:""}),"LD GUESS"]}),E.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-5 md:p-6 rounded-3xl shadow-2xl w-full text-center border-4 border-white transform -rotate-1 mb-6",children:[E.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px] mb-3",children:"HOW TO PLAY"}),E.jsxs("div",{className:"flex justify-between items-start px-1 mb-2 gap-1",children:[E.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[E.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),E.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Real-Life Animal Sighting"})]}),E.jsx("div",{className:"text-slate-300 text-xl mt-2",children:""}),E.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[E.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),E.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Analyze the Clues"})]}),E.jsx("div",{className:"text-slate-300 text-xl mt-2",children:""}),E.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[E.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),E.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Identify the Animal"})]})]})]}),E.jsxs("div",{className:"w-full mb-4 relative z-20",children:[E.jsx("select",{value:Te,onChange:B=>{Pt.play("click"),Qe(B.target.value)},className:"w-full bg-emerald-800 text-white font-bold py-3 px-4 rounded-xl border-4 border-white/20 shadow-lg appearance-none cursor-pointer focus:outline-none focus:border-emerald-400 text-center uppercase tracking-wide",children:jk.map(B=>E.jsx("option",{value:B.value,className:"bg-white text-slate-800 font-bold text-sm py-2",children:B.label},B.value))}),E.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-white text-xl",children:""})]}),E.jsx("button",{onClick:Pn,onMouseEnter:()=>Pt.play("hover",.2),className:"relative overflow-hidden text-white font-bold py-4 rounded-full shadow-[0_6px_0_#14532d] active:shadow-none active:translate-y-1 transform transition-all border-4 border-white w-full hover:scale-105 bg-green-600 hover:bg-green-500",children:E.jsx("span",{className:"text-2xl font-black tracking-widest uppercase drop-shadow-md",children:"START EXPEDITION"})}),E.jsx("div",{className:"mt-4 flex flex-col items-center gap-3 w-full",children:K?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"bg-black/20 text-white/80 px-4 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-2",children:[K.photoURL&&E.jsx("img",{src:K.photoURL,alt:"User",className:"w-4 h-4 rounded-full border border-white/50"}),"Playing as: ",E.jsx("span",{className:"text-white",children:ft})]}),E.jsxs("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:Mn,className:"bg-amber-100 text-amber-900 border-2 border-amber-300 px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[E.jsx("span",{className:"text-lg",children:""})," Field Journal"]}),E.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click"),qs()},className:"text-[10px] text-green-200/70 hover:text-white font-bold uppercase tracking-widest transition-colors hover:underline decoration-green-400 decoration-2 underline-offset-4",children:"( Logout )"})]}):E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:De,onMouseEnter:()=>Pt.play("hover",.2),className:"bg-white text-slate-700 border-2 border-slate-200 px-5 py-2 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[E.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),E.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),E.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),E.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Login with Google"]}),E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsx("div",{className:"h-px bg-slate-200 flex-1"}),E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Or Play as Guest"}),E.jsx("div",{className:"h-px bg-slate-200 flex-1"})]}),E.jsxs("form",{onSubmit:B=>{B.preventDefault();const it=new FormData(B.target);Qt(it.get("username"))},className:"space-y-4",children:[E.jsx("input",{name:"username",type:"text",placeholder:"Enter Guest Name...",maxLength:15,required:!0,className:"w-full px-4 py-3 text-lg border-2 border-slate-200 rounded-xl focus:border-emerald-500 focus:outline-none text-center font-bold text-slate-700 bg-slate-50"}),E.jsx("button",{type:"submit",disabled:bt,className:`w-full font-bold py-3 rounded-xl transition transform shadow-lg text-white ${bt?"bg-slate-400 cursor-not-allowed":"bg-slate-400 hover:bg-slate-500 hover:scale-[1.02]"}`,children:bt?"STARTING...":"PLAY AS GUEST"})]})]})})]}),E.jsx("div",{className:"relative z-10 w-full max-w-md md:w-1/2 h-[500px] md:h-[550px] flex flex-col md:pl-8 flex-shrink-0 mb-12 md:mb-0",children:E.jsxs("div",{className:"bg-orange-50/95 backdrop-blur-sm rounded-3xl shadow-2xl border-4 border-orange-100 overflow-hidden flex flex-col h-full",children:[E.jsxs("div",{className:"bg-orange-100 p-2 border-b border-orange-200 flex flex-col gap-2",children:[E.jsx("div",{className:"flex justify-between items-center px-2",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("h2",{className:"text-orange-800 font-black tracking-wide text-sm uppercase",children:"Top Explorers"})]})}),E.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:["daily","weekly","monthly"].map(B=>{let it="";return B==="daily"&&(it="24 Hours"),B==="weekly"&&(it="7 Days"),B==="monthly"&&(it="30 Days"),E.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.1),Ts(B)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${si===B?"bg-white text-orange-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:it},B)})}),E.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:[{id:"hobbyist",label:"Hobbyist (10 games or less)"},{id:"explorer",label:"Expert Explorers"}].map(B=>E.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.1),Ye(B.id)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${ri===B.id?"bg-white text-emerald-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:B.label},B.id))})]}),K&&cn&&E.jsxs("div",{className:"bg-emerald-50 border-b border-emerald-200 p-3 flex items-center justify-between shadow-sm z-10 flex-shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"font-black text-sm w-8 h-8 flex items-center justify-center rounded-lg bg-emerald-500 text-white shadow-inner",children:["#",cn.rank]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-bold text-sm leading-tight text-emerald-800",children:"Your Average"}),E.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[E.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[cn.gamesPlayed," Expeditions"]}),E.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[cn.discoveries," Found"]})]})]})]}),E.jsxs("div",{className:"bg-white px-3 py-1 rounded-lg flex items-center gap-1 border border-emerald-200 shadow-sm",children:[E.jsx("span",{className:"font-mono font-black text-emerald-600 text-sm",children:cn.averageScore.toFixed(1)}),E.jsx("span",{className:"text-[9px] opacity-60 font-bold text-emerald-800 pt-0.5",children:"AVG"})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-3 space-y-2",children:Xn.length===0?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-orange-300 opacity-50",children:[E.jsx("span",{className:"text-4xl mb-2",children:""}),E.jsx("span",{className:"font-bold text-sm uppercase",children:"Loading Scores..."})]}):Xn.map((B,it)=>E.jsxs("div",{onMouseEnter:()=>Pt.play("hover",.2),className:`flex items-center justify-between p-3 rounded-xl border-b-4 transition-transform hover:scale-[1.01] ${B.id===K?.uid?"bg-white border-emerald-200 shadow-sm ring-2 ring-emerald-400 ring-offset-1":"bg-white border-orange-100 shadow-sm"}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`font-black text-sm w-8 h-8 flex items-center justify-center rounded-lg ${it===0?"bg-yellow-400 text-yellow-900":it===1?"bg-slate-300 text-slate-700":it===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400"}`,children:it+1}),E.jsxs("div",{className:"flex flex-col",children:[E.jsxs("span",{className:`font-bold text-sm leading-tight ${B.id===K?.uid?"text-emerald-700":"text-slate-700"}`,children:[B.username," ",B.id===K?.uid&&"(You)"]}),E.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[E.jsxs("span",{className:"text-[9px] text-slate-400 uppercase font-bold tracking-wider",children:[B.gamesPlayed||0," Expeditions"]}),E.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[B.discoveries||0," Animals Found"]})]})]})]}),E.jsxs("div",{className:"bg-orange-100 px-3 py-1 rounded-lg flex items-center gap-1",children:[E.jsx("span",{className:"font-mono font-black text-orange-600 text-sm",children:B.averageScore.toFixed(1)}),E.jsx("span",{className:"text-[9px] opacity-60 font-bold text-orange-800 pt-0.5",children:"AVG"})]})]},B.id))})]})}),!mt&&!nt&&E.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/90 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-8 shadow-2xl text-center border-4 border-emerald-100 relative overflow-hidden",children:[E.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),K&&!K.isAnonymous?E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-3xl font-freckle text-emerald-600 mb-2",children:"Login Successful!"}),E.jsx("p",{className:"text-slate-500 mb-6 font-bold",children:"You are authenticated. Please choose a nickname to complete your profile."})]}):E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"text-3xl font-freckle text-green-950 mb-2",children:"Welcome to Wild Guess!"}),E.jsx("p",{className:"text-slate-500 mb-6",children:"Join the expedition to track your scores and compete on the leaderboard."}),E.jsxs("button",{onClick:De,onMouseEnter:()=>Pt.play("hover",.2),className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-slate-200 text-slate-700 font-bold py-3 rounded-xl shadow-sm hover:bg-slate-50 hover:border-slate-300 transition-all mb-6 group",children:[E.jsxs("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),E.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),E.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),E.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]}),E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsx("div",{className:"h-px bg-slate-200 flex-1"}),E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Or Play as Guest"}),E.jsx("div",{className:"h-px bg-slate-200 flex-1"})]})]}),E.jsxs("form",{onSubmit:B=>{B.preventDefault();const it=new FormData(B.target);Qt(it.get("username"))},className:"space-y-4",children:[E.jsx("input",{name:"username",type:"text",placeholder:"Enter Explorer Name...",maxLength:15,required:!0,className:"w-full px-4 py-3 text-lg border-2 border-slate-200 rounded-xl focus:border-emerald-500 focus:outline-none text-center font-bold text-slate-700 bg-slate-50"}),E.jsx("button",{type:"submit",disabled:bt,className:`w-full font-bold py-3 rounded-xl transition transform shadow-lg text-white ${bt?"bg-slate-400 cursor-not-allowed":"bg-slate-400 hover:bg-slate-500 hover:scale-[1.02]"}`,children:bt?"SAVING...":K&&!K.isAnonymous?"COMPLETE PROFILE":"PLAY AS GUEST"})]})]})}),p&&E.jsx(Ss,{}),Ci,Vr&&E.jsx("div",{className:"fixed inset-0 z-[130] bg-slate-900/80 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl border-4 border-green-400 relative animate-pop flex flex-col",children:[E.jsxs("div",{className:"bg-green-50 pt-8 pb-6 px-6 flex flex-col items-center relative flex-shrink-0",children:[E.jsx("button",{onClick:ui,className:"absolute top-3 right-3 w-8 h-8 bg-green-200/50 rounded-full text-green-800 font-bold hover:bg-green-200 transition-colors flex items-center justify-center",children:""}),E.jsx("div",{className:"text-6xl mb-4 animate-pulse drop-shadow-md",children:""}),E.jsx("h2",{className:"text-2xl font-black text-green-800 uppercase tracking-widest text-center leading-none",children:"Ready for a Challenge?"})]}),E.jsxs("div",{className:"px-6 pb-6 pt-6 text-slate-700 flex flex-col items-center text-center",children:[E.jsxs("p",{className:"text-sm font-medium mb-2",children:["You've successfully observed ",E.jsx("span",{className:"font-bold text-green-600",children:"10+ animals!"})]}),E.jsxs("p",{className:"text-sm font-medium mb-6",children:["Turn on the ",E.jsx("span",{className:"font-bold text-green-600",children:"15-Second Timer"})," for a bit more of a challenge."]}),E.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-3 w-full mb-6 text-xs text-slate-500 font-bold uppercase tracking-wider flex items-center justify-center gap-2 shadow-inner",children:[E.jsx("span",{children:""})," You can always turn it off in settings"]}),E.jsxs("div",{className:"flex flex-col w-full gap-3",children:[E.jsxs("button",{onClick:xi,className:"w-full bg-green-500 hover:bg-green-600 text-white font-black py-4 rounded-xl uppercase tracking-widest transition-transform hover:scale-[1.02] shadow-lg shadow-green-200/50 flex items-center justify-center gap-2",children:[E.jsx("span",{children:""})," Turn Timer On"]}),E.jsx("button",{onClick:ui,className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-500 font-bold py-3 rounded-xl uppercase tracking-wider transition-colors text-xs",children:"No Thanks, Keep It Chill"})]})]})]})}),ai&&E.jsx("div",{className:"fixed inset-0 z-[120] bg-slate-900/80 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl border-4 border-emerald-400 relative animate-pop flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"bg-emerald-50 pt-8 pb-4 px-6 flex flex-col items-center relative flex-shrink-0",children:[E.jsx("button",{onClick:Ge,className:"absolute top-3 right-3 w-8 h-8 bg-emerald-200/50 rounded-full text-emerald-800 font-bold hover:bg-emerald-200 transition-colors flex items-center justify-center",children:""}),E.jsx("img",{src:"/richard.jpg",alt:"Richard Bolland",className:"w-24 h-24 rounded-full shadow-lg border-4 border-white object-cover mb-4"}),E.jsx("h2",{className:"text-2xl font-black text-emerald-800 uppercase tracking-widest text-center leading-none",children:"Huge Update!"})]}),E.jsxs("div",{className:"px-6 pb-6 pt-2 overflow-y-auto custom-scroll text-slate-700 flex-1",children:[E.jsx("p",{className:"text-sm font-medium text-center mb-5 leading-relaxed",children:"A massive thanks to everyone who has played the game and offered feedback! It's been incredibly fun building this. Here's what's new:"}),E.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-2xl border border-slate-200 shadow-inner mb-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),E.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["Expanded to over ",E.jsx("span",{className:"text-emerald-600",children:"600 Animals"})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),E.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["Including ",E.jsx("span",{className:"text-emerald-600",children:"6 Continents"})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),E.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["Fresh ",E.jsx("span",{className:"text-emerald-600",children:"Categories"})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),E.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["Restructed ",E.jsx("span",{className:"text-emerald-600",children:"Hints & Clues"})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),E.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["A revamped ",E.jsx("span",{className:"text-emerald-600",children:"Scoring System"})]})]})]}),E.jsxs("p",{className:"text-xs text-center text-slate-500 font-bold mb-4 uppercase tracking-widest",children:["Hope you find some fun animals,",E.jsx("br",{}),E.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 hover:text-emerald-500 underline decoration-2 underline-offset-4 mt-1 inline-block transition-colors",children:"Richard Bolland"}),E.jsx("span",{className:"block text-[8px] mt-7 opacity-60",children:"A special shoutout to Clayden Knighton-Fitt who helped to add the extra animals."})]}),E.jsx("button",{onClick:Ge,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-black py-4 rounded-xl uppercase tracking-widest transition-transform hover:scale-[1.02] shadow-lg shadow-emerald-200/50",children:"Let's Play!"})]})]})})]}):r==="countdown"?E.jsx(Vk,{onComplete:St,stickers:ji,isReady:!!v&&ga}):E.jsxs("div",{className:"h-screen w-full flex flex-col md:flex-row bg-slate-100 overflow-hidden relative",children:[E.jsxs("div",{id:"landscape-warning",className:"fixed inset-0 z-[100] bg-slate-900 text-white flex-col items-center justify-center p-6 text-center",children:[E.jsx("div",{className:"text-6xl mb-6",children:""}),E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Please Rotate Device"}),E.jsx("p",{className:"text-slate-300",children:"This game is designed for portrait mode."})]}),E.jsxs("div",{className:"flex-1 flex flex-col bg-white m-2 rounded-xl shadow-sm overflow-hidden relative order-1",children:[E.jsx("div",{className:"h-2 bg-slate-200 w-full flex-shrink-0",children:E.jsx("div",{className:`h-full transition-all duration-1000 linear ${l?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]":"bg-slate-300"}`,style:{width:`${pt/15*100}%`}})}),E.jsxs("div",{className:"flex-1 relative",children:[E.jsx("button",{onClick:()=>{Pt.play("click"),b(!0)},className:"absolute top-2 right-2 z-[60] w-10 h-10 bg-white/90 border-2 border-slate-300 rounded-full shadow-md text-slate-600 font-bold flex items-center justify-center hover:bg-slate-50 active:scale-95 transition-all",children:E.jsx("span",{className:"text-xl",children:""})}),p&&E.jsx(Ss,{}),go&&E.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 z-[80] bg-amber-500 text-white text-xs font-bold px-4 py-2 rounded-full shadow-lg animate-bounce flex items-center gap-2 whitespace-nowrap",children:[E.jsx("span",{children:""})," Server Offline: Using Backup Data"]}),ya&&E.jsxs("div",{className:"absolute top-12 right-2 z-[70] bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-lg animate-pop max-w-[150px] text-right",children:["Tutorial hidden.",E.jsx("br",{}),'Tap "OFF" to restart.']}),E.jsxs("div",{className:"absolute inset-0",children:[E.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ${k>=0?"opacity-100":"opacity-0"}`,children:v&&E.jsx(Pk,{lat:v.lat,lng:v.lng,zoom:at<1?2:11})}),E.jsx("div",{className:`hidden md:block absolute inset-0 z-10 transition-opacity duration-1000 bg-slate-200 overflow-hidden ${k>=4?"opacity-100":"opacity-0 pointer-events-none"}`,children:v?.image&&E.jsxs("div",{className:"w-full h-full relative",children:[E.jsx("img",{src:v.image,className:"w-full h-full object-cover blur-xl scale-110 transform",alt:"Revealed Animal"}),E.jsx("div",{className:"absolute inset-0 bg-black/10"})]})})]},F),E.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none flex flex-col items-center pb-2 px-2 md:pb-4 md:px-4",children:[at>=1&&v?.image&&E.jsx("div",{className:`absolute top-2 md:top-4 w-full flex justify-center pointer-events-auto ${k===4?"hidden md:flex":""}`,children:E.jsxs("div",{className:"relative w-60 h-30 md:w-100 md:h-50 flex-shrink-0 animate-pop shadow-2xl rounded-3xl overflow-hidden bg-slate-950 ring-4 ring-slate-900",children:[E.jsx("img",{src:v.image,className:"w-full h-full object-cover animate-binocular",alt:"Animal Sighting"}),E.jsx("div",{className:"absolute inset-0 pointer-events-none",children:E.jsxs("svg",{width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0 0 200 100",children:[E.jsx("defs",{children:E.jsxs("mask",{id:"binoculars-mask",children:[E.jsx("rect",{width:"200",height:"100",fill:"white",g:!0,opacity:"1"}),E.jsx("circle",{cx:"70",cy:"50",r:"55",fill:"black"}),E.jsx("circle",{cx:"130",cy:"50",r:"55",fill:"black"})]})}),E.jsx("rect",{width:"300",height:"100",fill:"#020617",mask:"url(#binoculars-mask)"}),E.jsxs("g",{opacity:"0.3",stroke:"white",strokeWidth:"1",children:[E.jsx("line",{x1:"60",y1:"50",x2:"80",y2:"50"}),E.jsx("line",{x1:"70",y1:"40",x2:"70",y2:"60"}),E.jsx("line",{x1:"120",y1:"50",x2:"140",y2:"50"}),E.jsx("line",{x1:"130",y1:"40",x2:"130",y2:"60"})]})]})})]})}),E.jsxs("div",{className:`mt-auto w-full flex items-center justify-center gap-2 md:gap-4 pointer-events-auto pb-2 ${k===4?"hidden md:flex":""}`,children:[E.jsx("button",{onClick:()=>{Pt.play("click",.1),ct(B=>B-1)},disabled:at===0,className:`w-10 h-10 md:w-12 md:h-12 flex-shrink-0 rounded-full bg-white/90 backdrop-blur-md shadow-lg border border-slate-200 text-slate-600 font-black flex items-center justify-center hover:bg-emerald-50 hover:text-emerald-600 transition-all active:scale-95 ${at===0?"opacity-0 pointer-events-none":"opacity-100 animate-pop"}`,children:""}),E.jsxs("div",{className:"relative min-w-[200px] max-w-sm w-full transition-all duration-300 flex justify-center",children:[at===0&&E.jsxs("div",{className:"bg-white/90 backdrop-blur-md px-3 py-2 md:px-6 md:py-4 rounded-xl shadow-xl border border-white/50 text-center w-full animate-pop",children:[E.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block tracking-wider mb-0.5 md:mb-1",children:"Scientific Name"}),E.jsx("span",{className:"text-emerald-800 italic font-serif text-base md:text-xl leading-none",children:v?.sciName||v?.displayLatin})]}),at===1&&E.jsxs("div",{className:"bg-white/90 backdrop-blur-md px-3 py-2 md:px-6 md:py-4 rounded-xl shadow-xl border border-white/50 text-center w-full animate-pop",children:[E.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block tracking-wider mb-0.5",children:"Location"}),E.jsx("span",{className:"text-slate-800 font-bold text-sm md:text-lg leading-tight block",children:v?.location})]}),at===2&&E.jsxs("div",{className:"bg-emerald-50/95 backdrop-blur-md px-4 py-3 md:px-6 md:py-4 rounded-xl shadow-xl border border-emerald-100 text-center w-full animate-pop",children:[E.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-emerald-600 uppercase block mb-1 tracking-wider",children:"Clue 1"}),E.jsxs("div",{className:"text-emerald-900 font-medium italic text-sm md:text-lg leading-tight",children:['"',v?.stats?.clue1,'"']})]}),at===3&&E.jsxs("div",{className:"bg-emerald-50/95 backdrop-blur-md px-4 py-3 md:px-6 md:py-4 rounded-xl shadow-xl border border-emerald-100 text-center w-full animate-pop",children:[E.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-emerald-600 uppercase block mb-1 tracking-wider",children:"Clue 2"}),E.jsxs("div",{className:"text-emerald-900 font-medium italic text-sm md:text-lg leading-tight",children:['"',v?.stats?.clue2,'"']})]})]}),E.jsx("button",{onClick:()=>{Pt.play("click",.1),ct(B=>B+1)},disabled:at>=k,className:`w-10 h-10 md:w-12 md:h-12 flex-shrink-0 rounded-full bg-white/90 backdrop-blur-md shadow-lg border border-slate-200 text-slate-600 font-black flex items-center justify-center hover:bg-emerald-50 hover:text-emerald-600 transition-all active:scale-95 ${at>=k||k===4?"opacity-0 pointer-events-none":"opacity-100 animate-pop"}`,children:""})]})]})]}),E.jsxs("div",{className:"h-14 bg-white border-t border-slate-100 flex items-center justify-between px-4 z-10 flex-shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-3 bg-emerald-50 border-2 border-emerald-200 px-3 py-1 rounded-lg shadow-sm",children:[E.jsxs("div",{className:"flex flex-col items-end leading-none",children:[E.jsx("span",{className:"text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:"Potential"}),E.jsx("span",{className:"text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:"Points"})]}),E.jsx("div",{className:"text-4xl font-black text-emerald-600 drop-shadow-sm",children:Ut})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onMouseEnter:()=>Pt.play("hover"),onClick:()=>Dn("surrender"),disabled:Jt,className:`px-4 py-2 text-xs rounded-full transition-all duration-300 ${k===4?"bg-red-500 text-white font-black tracking-widest shadow-lg hover:bg-red-600 hover:scale-105 animate-pulse":"text-slate-400 hover:text-red-500 font-medium"} ${Jt?"opacity-30 cursor-not-allowed pointer-events-none":""}`,children:"GIVE UP"}),k<4&&E.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.2),Bi()},disabled:Jt,className:`bg-blue-50 text-blue-600 px-4 py-1 rounded-full text-xs font-bold hover:bg-blue-100 transition ${Jt?"opacity-30 cursor-not-allowed pointer-events-none":""}`,children:l?"NEXT CLUE":"REVEAL NEXT"})]})]})]}),E.jsx("div",{className:"h-[45%] md:h-full md:w-96 bg-slate-50 overflow-hidden border-t md:border-t-0 md:border-l border-slate-200 order-2 flex flex-col shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-40 relative",children:k===4?E.jsxs("div",{className:"flex-1 flex flex-col p-4 items-center bg-slate-100 overflow-hidden",children:[E.jsxs("div",{className:"flex-shrink-0 mb-4 text-center",children:[E.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-wide",children:"Final Guess"}),E.jsx("p",{className:"text-xs text-slate-500 font-bold mt-1",children:"Scroll to see all options"})]}),E.jsx("div",{className:"w-full space-y-3 flex-1 overflow-y-auto custom-scroll px-1 pb-2",children:sn(v).map((B,it)=>E.jsxs("button",{onClick:()=>Es(B),className:"w-full bg-white hover:bg-emerald-50 text-slate-700 hover:text-emerald-700 font-bold py-4 px-6 rounded-xl shadow-sm border-2 border-slate-200 hover:border-emerald-400 transition-all text-left flex items-center justify-between",children:[E.jsx("span",{className:"uppercase tracking-wider",children:B.name}),E.jsx("span",{children:""})]},it))})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"p-2 border-b border-slate-200 bg-slate-100 flex-shrink-0 z-10",children:E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:""}),E.jsx("input",{type:"text",value:se,onChange:B=>{Ke(B.target.value),Jt&&Gt===4&&qn()},placeholder:"Search animals...",onClick:()=>Pt.play("click",.2),disabled:Wt||Jt&&Gt<4,className:"w-full pl-8 pr-3 py-2 bg-white border border-slate-300 rounded-lg text-xs font-bold text-slate-700 placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all shadow-sm disabled:opacity-50 disabled:bg-slate-50"}),se&&E.jsx("button",{onClick:()=>Ke(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 text-xs font-bold px-1",children:""})]})}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-2 content-start",children:se?E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[fn.filter(B=>B.name.toLowerCase().includes(se.toLowerCase())).map((B,it)=>{const yt=le.includes(B.name);return E.jsxs("button",{disabled:Wt||yt||Jt&&Gt!==5&&Gt!==6,onClick:()=>{Es(B.name),Ke("")},className:`rounded-lg font-bold shadow-sm border border-slate-100 transition-all py-2 px-2 text-xs text-left flex items-center ${yt?"bg-red-50 text-red-300 border-red-100 cursor-not-allowed":"bg-white text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"} ${Wt||Jt&&Gt!==5&&Gt!==6?"opacity-50":""}`,children:[E.jsx("span",{className:"mr-2 text-base",children:B.groupEmoji}),E.jsx("span",{className:"truncate",children:B.name})]},it)}),fn.filter(B=>B.name.toLowerCase().includes(se.toLowerCase())).length===0&&E.jsx("div",{className:"col-span-2 text-center text-slate-400 text-xs py-4 italic",children:"No animals found"})]}):E.jsxs(E.Fragment,{children:[!H&&E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 h-full content-start",children:[E.jsxs("button",{onClick:()=>Hs("ALL"),disabled:Wt||Jt&&Gt<4,className:`rounded-xl flex items-center shadow-sm transition-all duration-200 bg-slate-200 text-slate-700 hover:bg-slate-300 hover:shadow-md cursor-pointer border border-slate-300 flex-row justify-start px-2 py-1 h-11 md:flex-col md:justify-center md:aspect-square md:h-auto md:px-0 ${Wt||Jt&&Gt<4?"opacity-50":""}`,children:[E.jsx("span",{className:"text-xl mr-2 md:mr-0 md:mb-1",children:""}),E.jsx("span",{className:"text-[10px] md:text-[10px] font-bold uppercase tracking-tight text-left md:text-center leading-tight",children:"All Animals"})]}),li.map((B,it)=>E.jsxs("button",{disabled:Wt||Jt&&Gt<4,onClick:()=>Hs(B),className:`rounded-xl flex items-center shadow-sm transition-all duration-200 bg-white hover:bg-emerald-50 hover:shadow-md cursor-pointer border border-slate-100 flex-row justify-start px-2 py-1 h-11 md:flex-col md:justify-center md:aspect-square md:h-auto md:px-0 ${Wt||Jt&&Gt<4?"opacity-50":""}`,children:[E.jsx("span",{className:"text-xl mr-2 md:mr-0 md:mb-1",children:B.emoji}),E.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-tight text-left md:text-center leading-tight",children:B.name})]},it))]}),H&&E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsx("button",{onMouseEnter:()=>Pt.play("hover",.1),onClick:()=>{Pt.play("click",.2),Fs()},disabled:Jt&&Gt!==5&&Gt!==6,className:`mb-2 flex items-center justify-center bg-slate-100 border border-slate-200 rounded-lg text-slate-500 hover:text-emerald-600 hover:bg-emerald-50 text-[10px] uppercase font-bold px-2 py-1.5 flex-shrink-0 transition-colors ${Jt&&Gt!==5&&Gt!==6?"opacity-50":""}`,children:" Back to Categories"}),E.jsxs("div",{className:"text-center mb-2 flex-shrink-0",children:[E.jsx("span",{className:"text-xl inline-block mr-2",children:H==="ALL"?"":H.emoji}),E.jsx("span",{className:"text-sm font-bold text-slate-700",children:H==="ALL"?"All Animals":H.name})]}),E.jsx("div",{className:`grid gap-2 flex-1 content-start ${H==="ALL"?"grid-cols-3":"grid-cols-2"}`,children:(H==="ALL"?fn:H.animals).map((B,it)=>{const yt=le.includes(B.name);return E.jsxs("button",{disabled:Wt||yt||Jt&&Gt!==5&&Gt!==6,onClick:()=>Es(B),className:`rounded-lg font-bold shadow-sm border border-slate-100 transition-all leading-tight ${H==="ALL"?"py-1 px-1 text-[9px] h-10 flex flex-col justify-center items-center":"py-2 px-2 text-xs"} ${yt?"bg-red-50 text-red-300 border-red-100 cursor-not-allowed":"bg-white text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"} ${Wt||Jt&&Gt!==5&&Gt!==6?"opacity-50":""}`,children:[H==="ALL"&&E.jsx("span",{className:"opacity-60 text-xs mb-0.5",children:B.groupEmoji}),E.jsx("span",{className:"truncate w-full text-center",children:B.name})]},it)})})]})]})})]})}),r==="summary"&&E.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm overflow-y-auto custom-scroll p-4 md:p-8 flex items-start md:items-center justify-center",children:E.jsxs("div",{className:"flex flex-col md:flex-row gap-6 w-full max-w-5xl my-auto justify-center items-center md:items-stretch",children:[E.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm flex-shrink-0 overflow-hidden shadow-2xl animate-pop flex flex-col h-fit",children:[E.jsxs("div",{className:"h-64 bg-slate-200 relative flex-shrink-0",children:[v?.image?E.jsx("img",{src:v.image,className:"w-full h-full object-cover",alt:"Animal"}):E.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:"No Image"}),v?.wikiSummary&&E.jsxs("button",{onClick:B=>{B.stopPropagation(),console.log(" STAR CLICKED! Wiki text exists:",!!v?.wikiSummary),Pt.play("click"),It(!0)},className:"absolute top-3 right-3 z-[60] w-14 h-14 group hover:scale-110 transition-transform flex items-center justify-center",title:"Did You Know?",children:[E.jsx("svg",{className:"absolute inset-0 w-full h-full text-amber-400 animate-[spin_6s_linear_infinite] drop-shadow-lg group-hover:text-amber-300",viewBox:"0 0 100 100",children:E.jsx("polygon",{fill:"currentColor",points:"50,0 61,25 88,15 76,40 100,50 76,60 88,85 61,75 50,100 39,75 12,85 24,60 0,50 24,40 12,15 39,25"})}),E.jsx("span",{className:"relative z-10 text-xl font-black text-amber-900",children:""})]}),E.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 pt-12",children:[E.jsx("h2",{className:"text-white text-3xl font-bold leading-none",children:v?.correctName}),E.jsx("p",{className:"text-white/80 text-sm italic font-serif mt-1",children:v?.sciName})]})]}),E.jsxs("div",{className:"p-6 text-center flex-1 overflow-y-auto custom-scroll",children:[M==="win"?E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-emerald-600 mb-1",children:"Correct!"}),E.jsxs("p",{className:"text-slate-600 font-medium",children:["You earned ",E.jsxs("span",{className:"text-emerald-600 font-bold",children:[Ut," points"]}),"."]})]}):E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-red-600 mb-1",children:"Missed it!"}),E.jsx("p",{className:"text-slate-600",children:"Better luck next time."})]}),E.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-left space-y-3 text-sm border border-slate-100 shadow-inner",children:[E.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[E.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Observed By"}),v?.link?E.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 font-medium hover:underline truncate max-w-[150px]",children:[v.recordedBy," "]}):E.jsx("span",{className:"text-slate-700 font-medium",children:v?.recordedBy})]}),E.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[E.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Date"}),E.jsx("span",{className:"text-slate-700 font-medium",children:v?.stats?.date})]}),E.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[E.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Location"}),E.jsx("span",{className:"text-slate-700 text-right max-w-[60%] font-medium",children:v?.location})]}),E.jsxs("div",{className:"pt-4 mt-2 border-t border-slate-100 flex items-center justify-between text-[10px] text-slate-400",children:[E.jsxs("div",{children:["Source: ",E.jsx("a",{href:"https://www.inaturalist.org",target:"_blank",rel:"noopener noreferrer",className:"hover:text-emerald-600 underline",children:"iNaturalist"})]}),E.jsxs("button",{onClick:dn,className:"flex items-center gap-1 text-slate-300 hover:text-red-400 transition-colors font-bold uppercase tracking-wider",title:"Report bad data, wrong location, or dead animal",children:[E.jsx("span",{children:""})," Report Issue"]})]})]})]}),E.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex-shrink-0 flex flex-col gap-2",children:[E.jsx("button",{onClick:Pn,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 rounded-xl transition shadow-lg shadow-emerald-200 transform hover:scale-[1.02] uppercase tracking-widest",children:"Play Again"}),E.jsxs("button",{onClick:()=>{Pt.play("click"),_a(!ns)},className:`w-full font-bold py-3 rounded-xl transition-all shadow-lg transform flex items-center justify-center gap-2 uppercase tracking-widest ${ns?"bg-slate-100 text-slate-600 shadow-inner scale-95":"bg-blue-600 hover:bg-blue-700 text-white hover:scale-[1.02] shadow-blue-200"}`,children:[E.jsx("span",{children:ns?"":""}),ns?"Close Options":"Share Discovery"]}),E.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${ns?"max-h-24 opacity-100 mb-1":"max-h-0 opacity-0"}`,children:E.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[E.jsx("button",{onClick:()=>{Pt.play("click"),Ce()},className:"flex-1 bg-[#25D366] hover:bg-[#20bd5a] text-white py-3 rounded-xl shadow-md flex flex-col items-center justify-center gap-1 transition-transform hover:scale-105 active:scale-95",children:E.jsx("span",{className:"text-xl",children:""})}),E.jsx("button",{onClick:()=>{Pt.play("click"),qi()},className:"flex-1 bg-[#1877F2] hover:bg-[#166fe5] text-white py-3 rounded-xl shadow-md flex flex-col items-center justify-center gap-1 transition-transform hover:scale-105 active:scale-95",children:E.jsx("span",{className:"text-xl",children:"fb"})}),E.jsx("button",{onClick:()=>{Pt.play("click"),hi()},className:"flex-1 bg-black hover:bg-gray-800 text-white py-3 rounded-xl shadow-md flex flex-col items-center justify-center gap-1 transition-transform hover:scale-105 active:scale-95",children:E.jsx("span",{className:"text-xl",children:""})}),E.jsx("button",{onClick:()=>{Pt.play("click"),Si()},className:"flex-1 bg-slate-200 hover:bg-slate-300 text-slate-600 py-3 rounded-xl shadow-md flex flex-col items-center justify-center gap-1 transition-transform hover:scale-105 active:scale-95",children:E.jsx("span",{className:"text-xl",children:""})})]})}),E.jsxs("div",{className:"flex gap-3 mt-0",children:[E.jsx("button",{onClick:Mn,className:`flex-1 font-bold py-3 rounded-xl transition border-2 flex items-center justify-center text-1xl shadow-sm hover:scale-105 active:scale-95 ${hn.length>0?"bg-emerald-100 border-emerald-400 text-emerald-800 animate-wiggle shadow-emerald-200":"bg-amber-100 border-amber-200 text-amber-900 hover:bg-amber-200"}`,title:"Open Field Journal",children:""}),E.jsx("button",{onClick:()=>{Pt.play("click"),ae()},className:"flex-1 bg-red-400 hover:bg-red-600 text-slate-600 font-bold py-3 rounded-xl shadow-sm border-2 border-slate-300 flex items-center justify-center text-1xl transition-transform hover:scale-105 active:scale-95",title:"Exit to Main Menu",children:"]"})]})]})]}),E.jsxs("div",{className:"w-full max-w-sm bg-orange-50/95 backdrop-blur-sm rounded-3xl shadow-2xl border-4 border-orange-100 overflow-hidden flex flex-col h-[500px] md:h-[775px] animate-pop delay-100",children:[E.jsxs("div",{className:"bg-orange-100 p-2 border-b border-orange-200 flex flex-col gap-2",children:[E.jsx("div",{className:"flex justify-between items-center px-2",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("h2",{className:"text-orange-800 font-black tracking-wide text-sm uppercase",children:"Top Explorers"})]})}),E.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:["daily","weekly","allTime"].map(B=>E.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.1),Ts(B)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${si===B?"bg-white text-orange-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:B==="allTime"?"All Time":B},B))}),E.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:[{id:"hobbyist",label:"Hobbyist (10 games or less)"},{id:"explorer",label:"Explorer (11+)"}].map(B=>E.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.1),Ye(B.id)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${ri===B.id?"bg-white text-emerald-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:B.label},B.id))})]}),K&&cn&&E.jsxs("div",{className:"bg-emerald-50 border-b border-emerald-200 p-3 flex items-center justify-between shadow-sm z-10 flex-shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"font-black text-sm w-8 h-8 flex items-center justify-center rounded-lg bg-emerald-500 text-white shadow-inner",children:["#",cn.rank]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-bold text-sm leading-tight text-emerald-800",children:"Your Average"}),E.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[E.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[cn.gamesPlayed," Expeditions"]}),E.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[cn.discoveries," Found"]})]})]})]}),E.jsxs("div",{className:"bg-white px-3 py-1 rounded-lg flex items-center gap-1 border border-emerald-200 shadow-sm",children:[E.jsx("span",{className:"font-mono font-black text-emerald-600 text-sm",children:cn.averageScore.toFixed(1)}),E.jsx("span",{className:"text-[9px] opacity-60 font-bold text-emerald-800 pt-0.5",children:"AVG"})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-3 space-y-2",children:Xn.length===0?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-orange-300 opacity-50",children:[E.jsx("span",{className:"text-4xl mb-2",children:""}),E.jsx("span",{className:"font-bold text-sm uppercase",children:"Loading Scores..."})]}):Xn.map((B,it)=>E.jsxs("div",{onMouseEnter:()=>Pt.play("hover",.2),className:`flex items-center justify-between p-3 rounded-xl border-b-4 transition-transform hover:scale-[1.01] ${B.id===K?.uid?"bg-white border-emerald-200 shadow-sm ring-2 ring-emerald-400 ring-offset-1":"bg-white border-orange-100 shadow-sm"}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`font-black text-sm w-8 h-8 flex items-center justify-center rounded-lg ${it===0?"bg-yellow-400 text-yellow-900":it===1?"bg-slate-300 text-slate-700":it===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400"}`,children:it+1}),E.jsxs("div",{className:"flex flex-col",children:[E.jsxs("span",{className:`font-bold text-sm leading-tight ${B.id===K?.uid?"text-emerald-700":"text-slate-700"}`,children:[B.username," ",B.id===K?.uid&&"(You)"]}),E.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[E.jsxs("span",{className:"text-[9px] text-slate-400 uppercase font-bold tracking-wider",children:[B.gamesPlayed||0," Expeditions"]}),E.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[B.discoveries||0," Animals Found"]})]})]})]}),E.jsxs("div",{className:"bg-orange-100 px-3 py-1 rounded-lg flex items-center gap-1",children:[E.jsx("span",{className:"font-mono font-black text-orange-600 text-sm",children:B.averageScore.toFixed(1)}),E.jsx("span",{className:"text-[9px] opacity-60 font-bold text-orange-800 pt-0.5",children:"AVG"})]})]},B.id))})]})]})}),zr&&hn.length>0?E.jsx(zk,{pendingAnimals:hn,onConfirmOne:xn,onConfirmAll:zi,allAnimalsFlat:Tn}):Ci,Jt&&E.jsx("div",{className:`absolute z-[100] max-w-[280px] ${On[Gt].positionClasses}`,children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-4 border-2 border-emerald-500 relative animate-pop",children:[E.jsx("div",{className:`absolute w-0 h-0 border-[10px] ${On[Gt].arrowClasses}`}),E.jsx("p",{className:"text-slate-700 font-bold text-sm mb-3 leading-snug",children:On[Gt].text.split("**").map((B,it)=>it%2===1?E.jsx("span",{className:"text-emerald-600 font-black",children:B},it):B)}),!On[Gt].hideButton&&E.jsx("button",{onMouseEnter:()=>Pt.play("hover"),onClick:qn,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 rounded-lg text-xs uppercase tracking-wider shadow-sm",children:On[Gt].buttonText})]})}),wn&&E.jsx("div",{style:{zIndex:9999},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-amber-50 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden border-4 border-amber-300 relative animate-pop flex flex-col max-h-[85vh]",children:[E.jsxs("div",{className:"bg-amber-200/50 p-4 border-b border-amber-300 flex justify-between items-center flex-shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-2xl animate-pulse drop-shadow-sm",children:""}),E.jsx("h2",{className:"font-black text-amber-900 uppercase tracking-widest text-lg",children:"Did You Know?"})]}),E.jsx("button",{onClick:()=>{Pt.play("click"),It(!1)},className:"w-8 h-8 bg-amber-300 hover:bg-amber-400 rounded-full text-amber-900 font-bold flex items-center justify-center transition-colors shadow-sm",children:""})]}),E.jsxs("div",{className:"p-6 overflow-y-auto custom-scroll text-slate-700 leading-relaxed text-sm",children:[E.jsxs("div",{className:"mb-5 border-b border-amber-200/50 pb-3",children:[E.jsx("h3",{className:"text-2xl font-black text-amber-800 mb-1 leading-none",children:v.correctName}),E.jsx("p",{className:"text-sm italic text-amber-700 opacity-80 font-serif",children:v.sciName})]}),E.jsx("div",{className:"space-y-4",dangerouslySetInnerHTML:{__html:v.wikiSummary}}),E.jsx("div",{className:"mt-6 pt-4 border-t border-amber-200/50 text-right",children:E.jsxs("a",{href:`https://en.wikipedia.org/wiki/${v.correctName.replace(/\s+/g,"_")}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-bold uppercase tracking-wider text-amber-600 hover:text-amber-800 flex items-center justify-end gap-1 transition-colors",children:["Read full article on Wikipedia ",E.jsx("span",{children:""})]})})]})]})})]})};t1.createRoot(document.getElementById("root")).render(E.jsx(ZE.StrictMode,{children:E.jsx(Uk,{})}));
