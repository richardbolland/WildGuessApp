(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function Op(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var km={exports:{}},ec={};var Rv;function qS(){if(Rv)return ec;Rv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var g=null;if(h!==void 0&&(g=""+h),l.key!==void 0&&(g=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:g,ref:l!==void 0?l:null,props:h}}return ec.Fragment=t,ec.jsx=n,ec.jsxs=n,ec}var Nv;function HS(){return Nv||(Nv=1,km.exports=qS()),km.exports}var N=HS(),Vm={exports:{}},Ht={};var Mv;function FS(){if(Mv)return Ht;Mv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.iterator;function tt(z){return z===null||typeof z!="object"?null:(z=V&&z[V]||z["@@iterator"],typeof z=="function"?z:null)}var ut={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ct=Object.assign,Tt={};function Nt(z,et,ft){this.props=z,this.context=et,this.refs=Tt,this.updater=ft||ut}Nt.prototype.isReactComponent={},Nt.prototype.setState=function(z,et){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,et,"setState")},Nt.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function Bt(){}Bt.prototype=Nt.prototype;function Rt(z,et,ft){this.props=z,this.context=et,this.refs=Tt,this.updater=ft||ut}var Gt=Rt.prototype=new Bt;Gt.constructor=Rt,ct(Gt,Nt.prototype),Gt.isPureReactComponent=!0;var _e=Array.isArray;function $t(){}var U={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function D(z,et,ft){var mt=ft.ref;return{$$typeof:r,type:z,key:et,ref:mt!==void 0?mt:null,props:ft}}function j(z,et){return D(z.type,et,z.props)}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function H(z){var et={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ft){return et[ft]})}var P=/\/+/g;function Wt(z,et){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):et.toString(36)}function en(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then($t,$t):(z.status="pending",z.then(function(et){z.status==="pending"&&(z.status="fulfilled",z.value=et)},function(et){z.status==="pending"&&(z.status="rejected",z.reason=et)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function J(z,et,ft,mt,wt){var yt=typeof z;(yt==="undefined"||yt==="boolean")&&(z=null);var Ut=!1;if(z===null)Ut=!0;else switch(yt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(z.$$typeof){case r:case t:Ut=!0;break;case C:return Ut=z._init,J(Ut(z._payload),et,ft,mt,wt)}}if(Ut)return wt=wt(z),Ut=mt===""?"."+Wt(z,0):mt,_e(wt)?(ft="",Ut!=null&&(ft=Ut.replace(P,"$&/")+"/"),J(wt,et,ft,"",function(os){return os})):wt!=null&&(B(wt)&&(wt=j(wt,ft+(wt.key==null||z&&z.key===wt.key?"":(""+wt.key).replace(P,"$&/")+"/")+Ut)),et.push(wt)),1;Ut=0;var Ee=mt===""?".":mt+":";if(_e(z))for(var Me=0;Me<z.length;Me++)mt=z[Me],yt=Ee+Wt(mt,Me),Ut+=J(mt,et,ft,yt,wt);else if(Me=tt(z),typeof Me=="function")for(z=Me.call(z),Me=0;!(mt=z.next()).done;)mt=mt.value,yt=Ee+Wt(mt,Me++),Ut+=J(mt,et,ft,yt,wt);else if(yt==="object"){if(typeof z.then=="function")return J(en(z),et,ft,mt,wt);throw et=String(z),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function pt(z,et,ft){if(z==null)return z;var mt=[],wt=0;return J(z,mt,"","",function(yt){return et.call(ft,yt,wt++)}),mt}function ht(z){if(z._status===-1){var et=z._result;et=et(),et.then(function(ft){(z._status===0||z._status===-1)&&(z._status=1,z._result=ft)},function(ft){(z._status===0||z._status===-1)&&(z._status=2,z._result=ft)}),z._status===-1&&(z._status=0,z._result=et)}if(z._status===1)return z._result.default;throw z._result}var te=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},bt={map:pt,forEach:function(z,et,ft){pt(z,function(){et.apply(this,arguments)},ft)},count:function(z){var et=0;return pt(z,function(){et++}),et},toArray:function(z){return pt(z,function(et){return et})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ht.Activity=R,Ht.Children=bt,Ht.Component=Nt,Ht.Fragment=n,Ht.Profiler=l,Ht.PureComponent=Rt,Ht.StrictMode=a,Ht.Suspense=T,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(z){return U.H.useMemoCache(z)}},Ht.cache=function(z){return function(){return z.apply(null,arguments)}},Ht.cacheSignal=function(){return null},Ht.cloneElement=function(z,et,ft){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var mt=ct({},z.props),wt=z.key;if(et!=null)for(yt in et.key!==void 0&&(wt=""+et.key),et)!M.call(et,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&et.ref===void 0||(mt[yt]=et[yt]);var yt=arguments.length-2;if(yt===1)mt.children=ft;else if(1<yt){for(var Ut=Array(yt),Ee=0;Ee<yt;Ee++)Ut[Ee]=arguments[Ee+2];mt.children=Ut}return D(z.type,wt,mt)},Ht.createContext=function(z){return z={$$typeof:g,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},Ht.createElement=function(z,et,ft){var mt,wt={},yt=null;if(et!=null)for(mt in et.key!==void 0&&(yt=""+et.key),et)M.call(et,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(wt[mt]=et[mt]);var Ut=arguments.length-2;if(Ut===1)wt.children=ft;else if(1<Ut){for(var Ee=Array(Ut),Me=0;Me<Ut;Me++)Ee[Me]=arguments[Me+2];wt.children=Ee}if(z&&z.defaultProps)for(mt in Ut=z.defaultProps,Ut)wt[mt]===void 0&&(wt[mt]=Ut[mt]);return D(z,yt,wt)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(z){return{$$typeof:v,render:z}},Ht.isValidElement=B,Ht.lazy=function(z){return{$$typeof:C,_payload:{_status:-1,_result:z},_init:ht}},Ht.memo=function(z,et){return{$$typeof:E,type:z,compare:et===void 0?null:et}},Ht.startTransition=function(z){var et=U.T,ft={};U.T=ft;try{var mt=z(),wt=U.S;wt!==null&&wt(ft,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then($t,te)}catch(yt){te(yt)}finally{et!==null&&ft.types!==null&&(et.types=ft.types),U.T=et}},Ht.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ht.use=function(z){return U.H.use(z)},Ht.useActionState=function(z,et,ft){return U.H.useActionState(z,et,ft)},Ht.useCallback=function(z,et){return U.H.useCallback(z,et)},Ht.useContext=function(z){return U.H.useContext(z)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(z,et){return U.H.useDeferredValue(z,et)},Ht.useEffect=function(z,et){return U.H.useEffect(z,et)},Ht.useEffectEvent=function(z){return U.H.useEffectEvent(z)},Ht.useId=function(){return U.H.useId()},Ht.useImperativeHandle=function(z,et,ft){return U.H.useImperativeHandle(z,et,ft)},Ht.useInsertionEffect=function(z,et){return U.H.useInsertionEffect(z,et)},Ht.useLayoutEffect=function(z,et){return U.H.useLayoutEffect(z,et)},Ht.useMemo=function(z,et){return U.H.useMemo(z,et)},Ht.useOptimistic=function(z,et){return U.H.useOptimistic(z,et)},Ht.useReducer=function(z,et,ft){return U.H.useReducer(z,et,ft)},Ht.useRef=function(z){return U.H.useRef(z)},Ht.useState=function(z){return U.H.useState(z)},Ht.useSyncExternalStore=function(z,et,ft){return U.H.useSyncExternalStore(z,et,ft)},Ht.useTransition=function(){return U.H.useTransition()},Ht.version="19.2.4",Ht}var Ov;function Lp(){return Ov||(Ov=1,Vm.exports=FS()),Vm.exports}var Dt=Lp();const GS=Op(Dt);var zm={exports:{}},nc={},Um={exports:{}},Bm={};var Lv;function ZS(){return Lv||(Lv=1,(function(r){function t(J,pt){var ht=J.length;J.push(pt);t:for(;0<ht;){var te=ht-1>>>1,bt=J[te];if(0<l(bt,pt))J[te]=pt,J[ht]=bt,ht=te;else break t}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var pt=J[0],ht=J.pop();if(ht!==pt){J[0]=ht;t:for(var te=0,bt=J.length,z=bt>>>1;te<z;){var et=2*(te+1)-1,ft=J[et],mt=et+1,wt=J[mt];if(0>l(ft,ht))mt<bt&&0>l(wt,ft)?(J[te]=wt,J[mt]=ht,te=mt):(J[te]=ft,J[et]=ht,te=et);else if(mt<bt&&0>l(wt,ht))J[te]=wt,J[mt]=ht,te=mt;else break t}}return pt}function l(J,pt){var ht=J.sortIndex-pt.sortIndex;return ht!==0?ht:J.id-pt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var g=Date,v=g.now();r.unstable_now=function(){return g.now()-v}}var T=[],E=[],C=1,R=null,V=3,tt=!1,ut=!1,ct=!1,Tt=!1,Nt=typeof setTimeout=="function"?setTimeout:null,Bt=typeof clearTimeout=="function"?clearTimeout:null,Rt=typeof setImmediate<"u"?setImmediate:null;function Gt(J){for(var pt=n(E);pt!==null;){if(pt.callback===null)a(E);else if(pt.startTime<=J)a(E),pt.sortIndex=pt.expirationTime,t(T,pt);else break;pt=n(E)}}function _e(J){if(ct=!1,Gt(J),!ut)if(n(T)!==null)ut=!0,$t||($t=!0,H());else{var pt=n(E);pt!==null&&en(_e,pt.startTime-J)}}var $t=!1,U=-1,M=5,D=-1;function j(){return Tt?!0:!(r.unstable_now()-D<M)}function B(){if(Tt=!1,$t){var J=r.unstable_now();D=J;var pt=!0;try{t:{ut=!1,ct&&(ct=!1,Bt(U),U=-1),tt=!0;var ht=V;try{e:{for(Gt(J),R=n(T);R!==null&&!(R.expirationTime>J&&j());){var te=R.callback;if(typeof te=="function"){R.callback=null,V=R.priorityLevel;var bt=te(R.expirationTime<=J);if(J=r.unstable_now(),typeof bt=="function"){R.callback=bt,Gt(J),pt=!0;break e}R===n(T)&&a(T),Gt(J)}else a(T);R=n(T)}if(R!==null)pt=!0;else{var z=n(E);z!==null&&en(_e,z.startTime-J),pt=!1}}break t}finally{R=null,V=ht,tt=!1}pt=void 0}}finally{pt?H():$t=!1}}}var H;if(typeof Rt=="function")H=function(){Rt(B)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Wt=P.port2;P.port1.onmessage=B,H=function(){Wt.postMessage(null)}}else H=function(){Nt(B,0)};function en(J,pt){U=Nt(function(){J(r.unstable_now())},pt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(J){switch(V){case 1:case 2:case 3:var pt=3;break;default:pt=V}var ht=V;V=pt;try{return J()}finally{V=ht}},r.unstable_requestPaint=function(){Tt=!0},r.unstable_runWithPriority=function(J,pt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ht=V;V=J;try{return pt()}finally{V=ht}},r.unstable_scheduleCallback=function(J,pt,ht){var te=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?te+ht:te):ht=te,J){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=ht+bt,J={id:C++,callback:pt,priorityLevel:J,startTime:ht,expirationTime:bt,sortIndex:-1},ht>te?(J.sortIndex=ht,t(E,J),n(T)===null&&J===n(E)&&(ct?(Bt(U),U=-1):ct=!0,en(_e,ht-te))):(J.sortIndex=bt,t(T,J),ut||tt||(ut=!0,$t||($t=!0,H()))),J},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(J){var pt=V;return function(){var ht=V;V=pt;try{return J.apply(this,arguments)}finally{V=ht}}}})(Bm)),Bm}var Pv;function KS(){return Pv||(Pv=1,Um.exports=ZS()),Um.exports}var jm={exports:{}},li={};var Dv;function YS(){if(Dv)return li;Dv=1;var r=Lp();function t(T){var E="https://react.dev/errors/"+T;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)E+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+T+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(T,E,C){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:T,containerInfo:E,implementation:C}}var g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(T,E){if(T==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,li.createPortal=function(T,E){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(T,E,null,C)},li.flushSync=function(T){var E=g.T,C=a.p;try{if(g.T=null,a.p=2,T)return T()}finally{g.T=E,a.p=C,a.d.f()}},li.preconnect=function(T,E){typeof T=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(T,E))},li.prefetchDNS=function(T){typeof T=="string"&&a.d.D(T)},li.preinit=function(T,E){if(typeof T=="string"&&E&&typeof E.as=="string"){var C=E.as,R=v(C,E.crossOrigin),V=typeof E.integrity=="string"?E.integrity:void 0,tt=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;C==="style"?a.d.S(T,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:R,integrity:V,fetchPriority:tt}):C==="script"&&a.d.X(T,{crossOrigin:R,integrity:V,fetchPriority:tt,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},li.preinitModule=function(T,E){if(typeof T=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var C=v(E.as,E.crossOrigin);a.d.M(T,{crossOrigin:C,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(T)},li.preload=function(T,E){if(typeof T=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var C=E.as,R=v(C,E.crossOrigin);a.d.L(T,C,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},li.preloadModule=function(T,E){if(typeof T=="string")if(E){var C=v(E.as,E.crossOrigin);a.d.m(T,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:C,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(T)},li.requestFormReset=function(T){a.d.r(T)},li.unstable_batchedUpdates=function(T,E){return T(E)},li.useFormState=function(T,E,C){return g.H.useFormState(T,E,C)},li.useFormStatus=function(){return g.H.useHostTransitionStatus()},li.version="19.2.4",li}var kv;function QS(){if(kv)return jm.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jm.exports=YS(),jm.exports}var Vv;function XS(){if(Vv)return nc;Vv=1;var r=KS(),t=Lp(),n=QS();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function g(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function T(e){if(h(e)!==e)throw Error(a(188))}function E(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return T(m),e;if(p===c)return T(m),i;p=p.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=p;else{for(var w=!1,x=m.child;x;){if(x===o){w=!0,o=m,c=p;break}if(x===c){w=!0,c=m,o=p;break}x=x.sibling}if(!w){for(x=p.child;x;){if(x===o){w=!0,o=p,c=m;break}if(x===c){w=!0,c=p,o=m;break}x=x.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function C(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=C(e),i!==null)return i;e=e.sibling}return null}var R=Object.assign,V=Symbol.for("react.element"),tt=Symbol.for("react.transitional.element"),ut=Symbol.for("react.portal"),ct=Symbol.for("react.fragment"),Tt=Symbol.for("react.strict_mode"),Nt=Symbol.for("react.profiler"),Bt=Symbol.for("react.consumer"),Rt=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),$t=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ct:return"Fragment";case Nt:return"Profiler";case Tt:return"StrictMode";case _e:return"Suspense";case $t:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ut:return"Portal";case Rt:return e.displayName||"Context";case Bt:return(e._context.displayName||"Context")+".Consumer";case Gt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return i=e.displayName||null,i!==null?i:Wt(e.type)||"Memo";case M:i=e._payload,e=e._init;try{return Wt(e(i))}catch{}}return null}var en=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},te=[],bt=-1;function z(e){return{current:e}}function et(e){0>bt||(e.current=te[bt],te[bt]=null,bt--)}function ft(e,i){bt++,te[bt]=e.current,e.current=i}var mt=z(null),wt=z(null),yt=z(null),Ut=z(null);function Ee(e,i){switch(ft(yt,i),ft(wt,e),ft(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Jy(i),e=$y(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(mt),ft(mt,e)}function Me(){et(mt),et(wt),et(yt)}function os(e){e.memoizedState!==null&&ft(Ut,e);var i=mt.current,o=$y(i,e.type);i!==o&&(ft(wt,e),ft(mt,o))}function qi(e){wt.current===e&&(et(mt),et(wt)),Ut.current===e&&(et(Ut),Wu._currentValue=ht)}var Hi,Fi;function ee(e){if(Hi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Hi=i&&i[1]||"",Fi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hi+e+Fi}var bi=!1;function Zt(e,i){if(!e||bi)return"";bi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch($){var X=$}Reflect.construct(e,[],ot)}else{try{ot.call()}catch($){X=$}e.call(ot.prototype)}}else{try{throw Error()}catch($){X=$}(ot=e())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch($){if($&&X&&typeof $.stack=="string")return[$.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),w=p[0],x=p[1];if(w&&x){var k=w.split(`
`),Y=x.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===Y.length)for(c=k.length-1,m=Y.length-1;1<=c&&0<=m&&k[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==Y[m]){var nt=`
`+k[c].replace(" at new "," at ");return e.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",e.displayName)),nt}while(1<=c&&0<=m);break}}}finally{bi=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ee(o):""}function On(e,i){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==i&&i!==null?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return Zt(e.type,!1);case 11:return Zt(e.type.render,!1);case 1:return Zt(e.type,!0);case 31:return ee("Activity");default:return""}}function ls(e){try{var i="",o=null;do i+=On(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var He=Object.prototype.hasOwnProperty,Fe=r.unstable_scheduleCallback,Wn=r.unstable_cancelCallback,Is=r.unstable_shouldYield,Rr=r.unstable_requestPaint,un=r.unstable_now,Rs=r.unstable_getCurrentPriorityLevel,xn=r.unstable_ImmediatePriority,$s=r.unstable_UserBlockingPriority,Ln=r.unstable_NormalPriority,fa=r.unstable_LowPriority,Nr=r.unstable_IdlePriority,qn=r.log,Mr=r.unstable_setDisableYieldValue,Jn=null,nn=null;function Pn(e){if(typeof qn=="function"&&Mr(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Jn,e)}catch{}}var De=Math.clz32?Math.clz32:Or,us=Math.log,tr=Math.LN2;function Or(e){return e>>>=0,e===0?32:31-(us(e)/tr|0)|0}var Hn=256,cs=262144,Be=4194304;function wi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ei(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,p=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var x=c&134217727;return x!==0?(c=x&~p,c!==0?m=wi(c):(w&=x,w!==0?m=wi(w):o||(o=x&~e,o!==0&&(m=wi(o))))):(x=c&~p,x!==0?m=wi(x):w!==0?m=wi(w):o||(o=c&~e,o!==0&&(m=wi(o)))),m===0?0:i!==0&&i!==m&&(i&p)===0&&(p=m&-m,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:m}function $n(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Gi(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function da(){var e=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),e}function ti(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Si(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function it(e,i,o,c,m,p){var w=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var x=e.entanglements,k=e.expirationTimes,Y=e.hiddenUpdates;for(o=w&~o;0<o;){var nt=31-De(o),ot=1<<nt;x[nt]=0,k[nt]=-1;var X=Y[nt];if(X!==null)for(Y[nt]=null,nt=0;nt<X.length;nt++){var $=X[nt];$!==null&&($.lane&=-536870913)}o&=~ot}c!==0&&_t(e,c,0),p!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=p&~(w&~i))}function _t(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-De(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function qt(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-De(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function Ge(e,i){var o=i&-i;return o=(o&42)!==0?1:Se(o),(o&(e.suspendedLanes|i))!==0?0:o}function Se(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Je(){var e=pt.p;return e!==0?e:(e=window.event,e===void 0?32:wv(e.type))}function Ze(e,i){var o=pt.p;try{return pt.p=e,i()}finally{pt.p=o}}var Cn=Math.random().toString(36).slice(2),je="__reactFiber$"+Cn,ke="__reactProps$"+Cn,mn="__reactContainer$"+Cn,In="__reactEvents$"+Cn,pe="__reactListeners$"+Cn,er="__reactHandles$"+Cn,Lr="__reactResources$"+Cn,Ai="__reactMarker$"+Cn;function Ns(e){delete e[je],delete e[ke],delete e[In],delete e[pe],delete e[er]}function ei(e){var i=e[je];if(i)return i;for(var o=e.parentNode;o;){if(i=o[mn]||o[je]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=av(e);e!==null;){if(o=e[je])return o;e=av(e)}return i}e=o,o=e.parentNode}return null}function Fn(e){if(e=e[je]||e[mn]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function di(e){var i=e[Lr];return i||(i=e[Lr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $e(e){e[Ai]=!0}var ma=new Set,Pr={};function hs(e,i){xi(e,i),xi(e+"Capture",i)}function xi(e,i){for(Pr[e]=i,e=0;e<i.length;e++)ma.add(i[e])}var Ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},ga={};function nr(e){return He.call(ga,e)?!0:He.call(pa,e)?!1:Ms.test(e)?ga[e]=!0:(pa[e]=!0,!1)}function Jt(e,i,o){if(nr(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function ne(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Ke(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mi(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Dr(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,p=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,p.call(this,w)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function St(e){if(!e._valueTracker){var i=mi(e)?"checked":"value";e._valueTracker=Dr(e,i,""+e[i])}}function Ce(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=mi(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fs=/[\n"\\]/g;function Ve(e){return e.replace(fs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(e,i,o,c,m,p,w,x){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),i!=null?w==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ye(i)):e.value!==""+Ye(i)&&(e.value=""+Ye(i)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),i!=null?Zi(e,w,Ye(i)):o!=null?Zi(e,w,Ye(o)):c!=null&&e.removeAttribute("value"),m==null&&p!=null&&(e.defaultChecked=!!p),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Ye(x):e.removeAttribute("name")}function kr(e,i,o,c,m,p,w,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){St(e);return}o=o!=null?""+Ye(o):"",i=i!=null?""+Ye(i):o,x||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=x?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),St(e)}function Zi(e,i,o){i==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ie(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Ye(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function ds(e,i,o){if(i!=null&&(i=""+Ye(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Ye(o):""}function Ii(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(en(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Ye(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),St(e)}function gn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Os(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||ya.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function Vr(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&Os(e,m,c)}else for(var p in i)i.hasOwnProperty(p)&&Os(e,p,i[p])}function ir(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var va=null;function ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rr=null,Lt=null;function Dn(e){var i=Fn(e);if(i&&(e=i.stateNode)){var o=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(_a(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ve(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[ke]||null;if(!m)throw Error(a(90));_a(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&Ce(c)}break t;case"textarea":ds(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Ie(e,!!o.multiple,i,!1)}}}var ge=!1;function Ls(e,i,o){if(ge)return e(i,o);ge=!0;try{var c=e(i);return c}finally{if(ge=!1,(rr!==null||Lt!==null)&&(Eh(),rr&&(i=rr,e=Lt,Lt=rr=null,Dn(i),e)))for(i=0;i<e.length;i++)Dn(e[i])}}function pi(e,i){var o=e.stateNode;if(o===null)return null;var c=o[ke]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(si)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Ps=!1}var Ri=null,Ds=null,Qe=null;function Ki(){if(Qe)return Qe;var e,i=Ds,o=i.length,c,m="value"in Ri?Ri.value:Ri.textContent,p=m.length;for(e=0;e<o&&i[e]===m[e];e++);var w=o-e;for(c=1;c<=w&&i[o-c]===m[p-c];c++);return Qe=m.slice(e,1<c?1-c:void 0)}function ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Yi(){return!1}function _n(e){function i(o,c,m,p,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ps:Yi,this.isPropagationStopped=Yi,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),i}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=_n(Qi),ks=R({},Qi,{view:0,detail:0}),Xt=_n(ks),or,kn,ri,Ur=R({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(or=e.screenX-ri.screenX,kn=e.screenY-ri.screenY):kn=or=0,ri=e),or)},movementY:function(e){return"movementY"in e?e.movementY:kn}}),vo=_n(Ur),Vs=R({},Ur,{dataTransfer:0}),cl=_n(Vs),To=R({},ks,{relatedTarget:0}),Br=_n(To),bo=R({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=_n(bo),ba=R({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gi=_n(ba),hl=R({},Qi,{data:0}),Xi=_n(hl),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wa(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Eo[e])?!!i[e]:!1}function lr(){return wa}var Vn=R({},ks,{key:function(e){if(e.key){var i=Wi[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(e){return e.type==="keypress"?ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),So=_n(Vn),fl=R({},Ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=_n(fl),f=R({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),y=_n(f),S=R({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=_n(S),Z=R({},Ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W=_n(Z),gt=R({},Qi,{newState:0,oldState:0}),Vt=_n(gt),fe=[9,13,27,32],de=si&&"CompositionEvent"in window,ze=null;si&&"documentMode"in document&&(ze=document.documentMode);var Ni=si&&"TextEvent"in window&&!ze,Mi=si&&(!de||ze&&8<ze&&11>=ze),_i=" ",Ji=!1;function jr(e,i){switch(e){case"keyup":return fe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function $i(e,i){switch(e){case"compositionend":return qr(i);case"keypress":return i.which!==32?null:(Ji=!0,_i);case"textInput":return e=i.data,e===_i&&Ji?null:e;default:return null}}function Sa(e,i){if(Ea)return e==="compositionend"||!de&&jr(e,i)?(e=Ki(),Qe=Ds=Ri=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Mi&&i.locale!=="ko"?null:i.data;default:return null}}var td={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _s(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!td[e.type]:i==="textarea"}function Bc(e,i,o,c){rr?Lt?Lt.push(c):Lt=[c]:rr=c,i=Nh(i,"onChange"),0<i.length&&(o=new gs("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var ys=null,Ao=null;function xo(e){Zy(e,0)}function Co(e){var i=pn(e);if(Ce(i))return e}function Io(e,i){if(e==="change")return i}var jc=!1;if(si){var vs;if(si){var Aa="oninput"in document;if(!Aa){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),Aa=typeof qc.oninput=="function"}vs=Aa}else vs=!1;jc=vs&&(!document.documentMode||9<document.documentMode)}function dl(){ys&&(ys.detachEvent("onpropertychange",Hc),Ao=ys=null)}function Hc(e){if(e.propertyName==="value"&&Co(Ao)){var i=[];Bc(i,Ao,e,ii(e)),Ls(xo,i)}}function Us(e,i,o){e==="focusin"?(dl(),ys=i,Ao=o,ys.attachEvent("onpropertychange",Hc)):e==="focusout"&&dl()}function ed(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(Ao)}function xa(e,i){if(e==="click")return Co(i)}function nd(e,i){if(e==="input"||e==="change")return Co(i)}function Bs(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var zn=typeof Object.is=="function"?Object.is:Bs;function Ca(e,i){if(zn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!He.call(i,m)||!zn(e[m],i[m]))return!1}return!0}function ml(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ro(e,i){var o=ml(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=ml(o)}}function pl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function No(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ci(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=Ci(e.document)}return i}function ur(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var gl=si&&"documentMode"in document&&11>=document.documentMode,cr=null,_l=null,Mo=null,Ia=!1;function Fc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ia||cr==null||cr!==Ci(c)||(c=cr,"selectionStart"in c&&ur(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mo&&Ca(Mo,c)||(Mo=c,c=Nh(_l,"onSelect"),0<c.length&&(i=new gs("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=cr)))}function hr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Ra={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},yl={},Gc={};si&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Un(e){if(yl[e])return yl[e];if(!Ra[e])return e;var i=Ra[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Gc)return yl[e]=i[o];return e}var Oo=Un("animationend"),Zc=Un("animationiteration"),Lo=Un("animationstart"),id=Un("transitionrun"),Kc=Un("transitionstart"),sd=Un("transitioncancel"),Na=Un("transitionend"),Yc=new Map,fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fr.push("scrollEnd");function Oi(e,i){Yc.set(e,i),hs(i,[e])}var Po=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Li=[],ai=0,vl=0;function Do(){for(var e=ai,i=vl=ai=0;i<e;){var o=Li[i];Li[i++]=null;var c=Li[i];Li[i++]=null;var m=Li[i];Li[i++]=null;var p=Li[i];if(Li[i++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}p!==0&&Ma(o,m,p)}}function dr(e,i,o,c){Li[ai++]=e,Li[ai++]=i,Li[ai++]=o,Li[ai++]=c,vl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function vu(e,i,o,c){return dr(e,i,o,c),ko(e)}function Ts(e,i){return dr(e,null,null,i),ko(e)}function Ma(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,p=e.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(m=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,m&&i!==null&&(m=31-De(o),e=p.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),p):null}function ko(e){if(50<Fu)throw Fu=0,am=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Hr={};function rd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,i,o,c){return new rd(e,i,o,c)}function Tl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bs(e,i){var o=e.alternate;return o===null?(o=oi(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Tu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Vo(e,i,o,c,m,p){var w=0;if(c=e,typeof e=="function")Tl(e)&&(w=1);else if(typeof e=="string")w=NS(e,o,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=oi(31,o,i,m),e.elementType=D,e.lanes=p,e;case ct:return Fr(o.children,m,p,i);case Tt:w=8,m|=24;break;case Nt:return e=oi(12,o,i,m|2),e.elementType=Nt,e.lanes=p,e;case _e:return e=oi(13,o,i,m),e.elementType=_e,e.lanes=p,e;case $t:return e=oi(19,o,i,m),e.elementType=$t,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rt:w=10;break t;case Bt:w=9;break t;case Gt:w=11;break t;case U:w=14;break t;case M:w=16,c=null;break t}w=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=oi(w,o,i,m),i.elementType=e,i.type=c,i.lanes=p,i}function Fr(e,i,o,c){return e=oi(7,e,c,i),e.lanes=o,e}function bl(e,i,o){return e=oi(6,e,null,i),e.lanes=o,e}function bu(e){var i=oi(18,null,null,0);return i.stateNode=e,i}function wu(e,i,o){return i=oi(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:ls(i)},s.set(e,i),i)}return{value:e,source:i,stack:ls(i)}}var d=[],_=0,b=null,A=0,O=[],G=0,Q=null,at=1,vt="";function It(e,i){d[_++]=A,d[_++]=b,b=e,A=i}function Yt(e,i,o){O[G++]=at,O[G++]=vt,O[G++]=Q,Q=e;var c=at;e=vt;var m=32-De(c)-1;c&=~(1<<m),o+=1;var p=32-De(i)+m;if(30<p){var w=m-m%5;p=(c&(1<<w)-1).toString(32),c>>=w,m-=w,at=1<<32-De(i)+m|o<<m|c,vt=p+e}else at=1<<p|o<<m|c,vt=e}function Rn(e){e.return!==null&&(It(e,1),Yt(e,1,0))}function an(e){for(;e===b;)b=d[--_],d[_]=null,A=d[--_],d[_]=null;for(;e===Q;)Q=O[--G],O[G]=null,vt=O[--G],O[G]=null,at=O[--G],O[G]=null}function yi(e,i){O[G++]=at,O[G++]=vt,O[G++]=Q,at=i.id,vt=i.overflow,Q=e}var ye=null,ve=null,ie=!1,mr=null,Pi=!1,wl=Error(a(519));function pr(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(u(i,e)),wl}function Eu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[je]=e,i[ke]=c,o){case"dialog":re("cancel",i),re("close",i);break;case"iframe":case"object":case"embed":re("load",i);break;case"video":case"audio":for(o=0;o<Zu.length;o++)re(Zu[o],i);break;case"source":re("error",i);break;case"img":case"image":case"link":re("error",i),re("load",i);break;case"details":re("toggle",i);break;case"input":re("invalid",i),kr(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":re("invalid",i);break;case"textarea":re("invalid",i),Ii(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Xy(i.textContent,o)?(c.popover!=null&&(re("beforetoggle",i),re("toggle",i)),c.onScroll!=null&&re("scroll",i),c.onScrollEnd!=null&&re("scrollend",i),c.onClick!=null&&(i.onclick=ni),i=!0):i=!1,i||pr(e,!0)}function sn(e){for(ye=e.return;ye;)switch(ye.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:ye=ye.return}}function js(e){if(e!==ye)return!1;if(!ie)return sn(e),ie=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||bm(e.type,e.memoizedProps)),o=!o),o&&ve&&pr(e),sn(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ve=rv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ve=rv(e)}else i===27?(i=ve,Ga(e.type)?(e=xm,xm=null,ve=e):ve=i):ve=ye?Es(e.stateNode.nextSibling):null;return!0}function Gr(){ve=ye=null,ie=!1}function Su(){var e=mr;return e!==null&&(zi===null?zi=e:zi.push.apply(zi,e),mr=null),e}function zo(e){mr===null?mr=[e]:mr.push(e)}var Uo=z(null),gr=null,qs=null;function Oa(e,i,o){ft(Uo,i._currentValue),i._currentValue=o}function Zr(e){e._currentValue=Uo.current,et(Uo)}function ad(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function od(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var p=m.dependencies;if(p!==null){var w=m.child;p=p.firstContext;t:for(;p!==null;){var x=p;p=m;for(var k=0;k<i.length;k++)if(x.context===i[k]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),ad(p.return,o,e),c||(w=null);break t}p=x.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(a(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),ad(w,o,e),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===e){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function El(e,i,o,c){e=null;for(var m=i,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var x=m.type;zn(m.pendingProps.value,w.value)||(e!==null?e.push(x):e=[x])}}else if(m===Ut.current){if(w=m.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Wu):e=[Wu])}m=m.return}e!==null&&od(i,e,o,c),i.flags|=262144}function Qc(e){for(e=e.firstContext;e!==null;){if(!zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bo(e){gr=e,qs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gn(e){return Dg(gr,e)}function Xc(e,i){return gr===null&&Bo(e),Dg(e,i)}function Dg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},qs===null){if(e===null)throw Error(a(308));qs=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qs=qs.next=i;return o}var xE=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},CE=r.unstable_scheduleCallback,IE=r.unstable_NormalPriority,yn={$$typeof:Rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new xE,data:new Map,refCount:0}}function Au(e){e.refCount--,e.refCount===0&&CE(IE,function(){e.controller.abort()})}var xu=null,ud=0,Sl=0,Al=null;function RE(e,i){if(xu===null){var o=xu=[];ud=0,Sl=fm(),Al={status:"pending",value:void 0,then:function(c){o.push(c)}}}return ud++,i.then(kg,kg),i}function kg(){if(--ud===0&&xu!==null){Al!==null&&(Al.status="fulfilled");var e=xu;xu=null,Sl=0,Al=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function NE(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Vg=J.S;J.S=function(e,i){Ty=un(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&RE(e,i),Vg!==null&&Vg(e,i)};var jo=z(null);function cd(){var e=jo.current;return e!==null?e:Ue.pooledCache}function Wc(e,i){i===null?ft(jo,jo.current):ft(jo,i.pool)}function zg(){var e=cd();return e===null?null:{parent:yn._currentValue,pool:e}}var xl=Error(a(460)),hd=Error(a(474)),Jc=Error(a(542)),$c={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(ni,ni),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,qg(e),e;default:if(typeof i.status=="string")i.then(ni,ni);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,qg(e),e}throw Ho=i,xl}}function qo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ho=o,xl):o}}var Ho=null;function jg(){if(Ho===null)throw Error(a(459));var e=Ho;return Ho=null,e}function qg(e){if(e===xl||e===Jc)throw Error(a(483))}var Cl=null,Cu=0;function th(e){var i=Cu;return Cu+=1,Cl===null&&(Cl=[]),Bg(Cl,e,i)}function Iu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function eh(e,i){throw i.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Hg(e){function i(F,q){if(e){var K=F.deletions;K===null?(F.deletions=[q],F.flags|=16):K.push(q)}}function o(F,q){if(!e)return null;for(;q!==null;)i(F,q),q=q.sibling;return null}function c(F){for(var q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function m(F,q){return F=bs(F,q),F.index=0,F.sibling=null,F}function p(F,q,K){return F.index=K,e?(K=F.alternate,K!==null?(K=K.index,K<q?(F.flags|=67108866,q):K):(F.flags|=67108866,q)):(F.flags|=1048576,q)}function w(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function x(F,q,K,st){return q===null||q.tag!==6?(q=bl(K,F.mode,st),q.return=F,q):(q=m(q,K),q.return=F,q)}function k(F,q,K,st){var Mt=K.type;return Mt===ct?nt(F,q,K.props.children,st,K.key):q!==null&&(q.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===M&&qo(Mt)===q.type)?(q=m(q,K.props),Iu(q,K),q.return=F,q):(q=Vo(K.type,K.key,K.props,null,F.mode,st),Iu(q,K),q.return=F,q)}function Y(F,q,K,st){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=wu(K,F.mode,st),q.return=F,q):(q=m(q,K.children||[]),q.return=F,q)}function nt(F,q,K,st,Mt){return q===null||q.tag!==7?(q=Fr(K,F.mode,st,Mt),q.return=F,q):(q=m(q,K),q.return=F,q)}function ot(F,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=bl(""+q,F.mode,K),q.return=F,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case tt:return K=Vo(q.type,q.key,q.props,null,F.mode,K),Iu(K,q),K.return=F,K;case ut:return q=wu(q,F.mode,K),q.return=F,q;case M:return q=qo(q),ot(F,q,K)}if(en(q)||H(q))return q=Fr(q,F.mode,K,null),q.return=F,q;if(typeof q.then=="function")return ot(F,th(q),K);if(q.$$typeof===Rt)return ot(F,Xc(F,q),K);eh(F,q)}return null}function X(F,q,K,st){var Mt=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Mt!==null?null:x(F,q,""+K,st);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case tt:return K.key===Mt?k(F,q,K,st):null;case ut:return K.key===Mt?Y(F,q,K,st):null;case M:return K=qo(K),X(F,q,K,st)}if(en(K)||H(K))return Mt!==null?null:nt(F,q,K,st,null);if(typeof K.then=="function")return X(F,q,th(K),st);if(K.$$typeof===Rt)return X(F,q,Xc(F,K),st);eh(F,K)}return null}function $(F,q,K,st,Mt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return F=F.get(K)||null,x(q,F,""+st,Mt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case tt:return F=F.get(st.key===null?K:st.key)||null,k(q,F,st,Mt);case ut:return F=F.get(st.key===null?K:st.key)||null,Y(q,F,st,Mt);case M:return st=qo(st),$(F,q,K,st,Mt)}if(en(st)||H(st))return F=F.get(K)||null,nt(q,F,st,Mt,null);if(typeof st.then=="function")return $(F,q,K,th(st),Mt);if(st.$$typeof===Rt)return $(F,q,K,Xc(q,st),Mt);eh(q,st)}return null}function xt(F,q,K,st){for(var Mt=null,Te=null,Ct=q,Qt=q=0,le=null;Ct!==null&&Qt<K.length;Qt++){Ct.index>Qt?(le=Ct,Ct=null):le=Ct.sibling;var be=X(F,Ct,K[Qt],st);if(be===null){Ct===null&&(Ct=le);break}e&&Ct&&be.alternate===null&&i(F,Ct),q=p(be,q,Qt),Te===null?Mt=be:Te.sibling=be,Te=be,Ct=le}if(Qt===K.length)return o(F,Ct),ie&&It(F,Qt),Mt;if(Ct===null){for(;Qt<K.length;Qt++)Ct=ot(F,K[Qt],st),Ct!==null&&(q=p(Ct,q,Qt),Te===null?Mt=Ct:Te.sibling=Ct,Te=Ct);return ie&&It(F,Qt),Mt}for(Ct=c(Ct);Qt<K.length;Qt++)le=$(Ct,F,Qt,K[Qt],st),le!==null&&(e&&le.alternate!==null&&Ct.delete(le.key===null?Qt:le.key),q=p(le,q,Qt),Te===null?Mt=le:Te.sibling=le,Te=le);return e&&Ct.forEach(function(Xa){return i(F,Xa)}),ie&&It(F,Qt),Mt}function Pt(F,q,K,st){if(K==null)throw Error(a(151));for(var Mt=null,Te=null,Ct=q,Qt=q=0,le=null,be=K.next();Ct!==null&&!be.done;Qt++,be=K.next()){Ct.index>Qt?(le=Ct,Ct=null):le=Ct.sibling;var Xa=X(F,Ct,be.value,st);if(Xa===null){Ct===null&&(Ct=le);break}e&&Ct&&Xa.alternate===null&&i(F,Ct),q=p(Xa,q,Qt),Te===null?Mt=Xa:Te.sibling=Xa,Te=Xa,Ct=le}if(be.done)return o(F,Ct),ie&&It(F,Qt),Mt;if(Ct===null){for(;!be.done;Qt++,be=K.next())be=ot(F,be.value,st),be!==null&&(q=p(be,q,Qt),Te===null?Mt=be:Te.sibling=be,Te=be);return ie&&It(F,Qt),Mt}for(Ct=c(Ct);!be.done;Qt++,be=K.next())be=$(Ct,F,Qt,be.value,st),be!==null&&(e&&be.alternate!==null&&Ct.delete(be.key===null?Qt:be.key),q=p(be,q,Qt),Te===null?Mt=be:Te.sibling=be,Te=be);return e&&Ct.forEach(function(jS){return i(F,jS)}),ie&&It(F,Qt),Mt}function Pe(F,q,K,st){if(typeof K=="object"&&K!==null&&K.type===ct&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case tt:t:{for(var Mt=K.key;q!==null;){if(q.key===Mt){if(Mt=K.type,Mt===ct){if(q.tag===7){o(F,q.sibling),st=m(q,K.props.children),st.return=F,F=st;break t}}else if(q.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===M&&qo(Mt)===q.type){o(F,q.sibling),st=m(q,K.props),Iu(st,K),st.return=F,F=st;break t}o(F,q);break}else i(F,q);q=q.sibling}K.type===ct?(st=Fr(K.props.children,F.mode,st,K.key),st.return=F,F=st):(st=Vo(K.type,K.key,K.props,null,F.mode,st),Iu(st,K),st.return=F,F=st)}return w(F);case ut:t:{for(Mt=K.key;q!==null;){if(q.key===Mt)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){o(F,q.sibling),st=m(q,K.children||[]),st.return=F,F=st;break t}else{o(F,q);break}else i(F,q);q=q.sibling}st=wu(K,F.mode,st),st.return=F,F=st}return w(F);case M:return K=qo(K),Pe(F,q,K,st)}if(en(K))return xt(F,q,K,st);if(H(K)){if(Mt=H(K),typeof Mt!="function")throw Error(a(150));return K=Mt.call(K),Pt(F,q,K,st)}if(typeof K.then=="function")return Pe(F,q,th(K),st);if(K.$$typeof===Rt)return Pe(F,q,Xc(F,K),st);eh(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(o(F,q.sibling),st=m(q,K),st.return=F,F=st):(o(F,q),st=bl(K,F.mode,st),st.return=F,F=st),w(F)):o(F,q)}return function(F,q,K,st){try{Cu=0;var Mt=Pe(F,q,K,st);return Cl=null,Mt}catch(Ct){if(Ct===xl||Ct===Jc)throw Ct;var Te=oi(29,Ct,null,F.mode);return Te.lanes=st,Te.return=F,Te}}}var Fo=Hg(!0),Fg=Hg(!1),La=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ae&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=ko(e),Ma(e,null,o),i}return dr(e,c,i,o),ko(e)}function Ru(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,qt(e,o)}}function md(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?m=p=i:p=p.next=i}else m=p=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var pd=!1;function Nu(){if(pd){var e=Al;if(e!==null)throw e}}function Mu(e,i,o,c){pd=!1;var m=e.updateQueue;La=!1;var p=m.firstBaseUpdate,w=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var k=x,Y=k.next;k.next=null,w===null?p=Y:w.next=Y,w=k;var nt=e.alternate;nt!==null&&(nt=nt.updateQueue,x=nt.lastBaseUpdate,x!==w&&(x===null?nt.firstBaseUpdate=Y:x.next=Y,nt.lastBaseUpdate=k))}if(p!==null){var ot=m.baseState;w=0,nt=Y=k=null,x=p;do{var X=x.lane&-536870913,$=X!==x.lane;if($?(oe&X)===X:(c&X)===X){X!==0&&X===Sl&&(pd=!0),nt!==null&&(nt=nt.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var xt=e,Pt=x;X=i;var Pe=o;switch(Pt.tag){case 1:if(xt=Pt.payload,typeof xt=="function"){ot=xt.call(Pe,ot,X);break t}ot=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Pt.payload,X=typeof xt=="function"?xt.call(Pe,ot,X):xt,X==null)break t;ot=R({},ot,X);break t;case 2:La=!0}}X=x.callback,X!==null&&(e.flags|=64,$&&(e.flags|=8192),$=m.callbacks,$===null?m.callbacks=[X]:$.push(X))}else $={lane:X,tag:x.tag,payload:x.payload,callback:x.callback,next:null},nt===null?(Y=nt=$,k=ot):nt=nt.next=$,w|=X;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;$=x,x=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);nt===null&&(k=ot),m.baseState=k,m.firstBaseUpdate=Y,m.lastBaseUpdate=nt,p===null&&(m.shared.lanes=0),Ba|=w,e.lanes=w,e.memoizedState=ot}}function Gg(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Zg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Gg(o[e],i)}var Il=z(null),nh=z(0);function Kg(e,i){e=ea,ft(nh,e),ft(Il,i),ea=e|i.baseLanes}function gd(){ft(nh,ea),ft(Il,Il.current)}function _d(){ea=nh.current,et(Il),et(nh)}var ts=z(null),ws=null;function ka(e){var i=e.alternate;ft(cn,cn.current&1),ft(ts,e),ws===null&&(i===null||Il.current!==null||i.memoizedState!==null)&&(ws=e)}function yd(e){ft(cn,cn.current),ft(ts,e),ws===null&&(ws=e)}function Yg(e){e.tag===22?(ft(cn,cn.current),ft(ts,e),ws===null&&(ws=e)):Va()}function Va(){ft(cn,cn.current),ft(ts,ts.current)}function es(e){et(ts),ws===e&&(ws=null),et(cn)}var cn=z(0);function ih(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Sm(o)||Am(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Kr=0,Kt=null,Oe=null,vn=null,sh=!1,Rl=!1,Go=!1,rh=0,Ou=0,Nl=null,ME=0;function on(){throw Error(a(321))}function vd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!zn(e[o],i[o]))return!1;return!0}function Td(e,i,o,c,m,p){return Kr=p,Kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=e===null||e.memoizedState===null?M_:Dd,Go=!1,p=o(c,m),Go=!1,Rl&&(p=Xg(i,o,c,m)),Qg(e),p}function Qg(e){J.H=Du;var i=Oe!==null&&Oe.next!==null;if(Kr=0,vn=Oe=Kt=null,sh=!1,Ou=0,Nl=null,i)throw Error(a(300));e===null||Tn||(e=e.dependencies,e!==null&&Qc(e)&&(Tn=!0))}function Xg(e,i,o,c){Kt=e;var m=0;do{if(Rl&&(Nl=null),Ou=0,Rl=!1,25<=m)throw Error(a(301));if(m+=1,vn=Oe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=O_,p=i(o,c)}while(Rl);return p}function OE(){var e=J.H,i=e.useState()[0];return i=typeof i.then=="function"?Lu(i):i,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(Kt.flags|=1024),i}function bd(){var e=rh!==0;return rh=0,e}function wd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Ed(e){if(sh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}sh=!1}Kr=0,vn=Oe=Kt=null,Rl=!1,Ou=rh=0,Nl=null}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Kt.memoizedState=vn=e:vn=vn.next=e,vn}function hn(){if(Oe===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var i=vn===null?Kt.memoizedState:vn.next;if(i!==null)vn=i,Oe=e;else{if(e===null)throw Kt.alternate===null?Error(a(467)):Error(a(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},vn===null?Kt.memoizedState=vn=e:vn=vn.next=e}return vn}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(e){var i=Ou;return Ou+=1,Nl===null&&(Nl=[]),e=Bg(Nl,e,i),i=Kt,(vn===null?i.memoizedState:vn.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?M_:Dd),e}function oh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lu(e);if(e.$$typeof===Rt)return Gn(e)}throw Error(a(438,String(e)))}function Sd(e){var i=null,o=Kt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ah(),Kt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=j;return i.index++,o}function Yr(e,i){return typeof i=="function"?i(e):i}function lh(e){var i=hn();return Ad(i,Oe,e)}function Ad(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,p=c.pending;if(p!==null){if(m!==null){var w=m.next;m.next=p.next,p.next=w}i.baseQueue=m=p,c.pending=null}if(p=e.baseState,m===null)e.memoizedState=p;else{i=m.next;var x=w=null,k=null,Y=i,nt=!1;do{var ot=Y.lane&-536870913;if(ot!==Y.lane?(oe&ot)===ot:(Kr&ot)===ot){var X=Y.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ot===Sl&&(nt=!0);else if((Kr&X)===X){Y=Y.next,X===Sl&&(nt=!0);continue}else ot={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(x=k=ot,w=p):k=k.next=ot,Kt.lanes|=X,Ba|=X;ot=Y.action,Go&&o(p,ot),p=Y.hasEagerState?Y.eagerState:o(p,ot)}else X={lane:ot,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(x=k=X,w=p):k=k.next=X,Kt.lanes|=ot,Ba|=ot;Y=Y.next}while(Y!==null&&Y!==i);if(k===null?w=p:k.next=x,!zn(p,e.memoizedState)&&(Tn=!0,nt&&(o=Al,o!==null)))throw o;e.memoizedState=p,e.baseState=w,e.baseQueue=k,c.lastRenderedState=p}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function xd(e){var i=hn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,p=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do p=e(p,w.action),w=w.next;while(w!==m);zn(p,i.memoizedState)||(Tn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,c]}function Wg(e,i,o){var c=Kt,m=hn(),p=ie;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!zn((Oe||m).memoizedState,o);if(w&&(m.memoizedState=o,Tn=!0),m=m.queue,Rd(t_.bind(null,c,m,e),[e]),m.getSnapshot!==i||w||vn!==null&&vn.memoizedState.tag&1){if(c.flags|=2048,Ml(9,{destroy:void 0},$g.bind(null,c,m,o,i),null),Ue===null)throw Error(a(349));p||(Kr&127)!==0||Jg(c,i,o)}return o}function Jg(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Kt.updateQueue,i===null?(i=ah(),Kt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function $g(e,i,o,c){i.value=o,i.getSnapshot=c,e_(i)&&n_(e)}function t_(e,i,o){return o(function(){e_(i)&&n_(e)})}function e_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!zn(e,o)}catch{return!0}}function n_(e){var i=Ts(e,2);i!==null&&Ui(i,e,2)}function Cd(e){var i=vi();if(typeof e=="function"){var o=e;if(e=o(),Go){Pn(!0);try{o()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},i}function i_(e,i,o,c){return e.baseState=o,Ad(e,Oe,typeof c=="function"?c:Yr)}function LE(e,i,o,c,m){if(hh(e))throw Error(a(485));if(e=i.action,e!==null){var p={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};J.T!==null?o(!0):p.isTransition=!1,c(p),o=i.pending,o===null?(p.next=i.pending=p,s_(i,p)):(p.next=o.next,i.pending=o.next=p)}}function s_(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var p=J.T,w={};J.T=w;try{var x=o(m,c),k=J.S;k!==null&&k(w,x),r_(e,i,x)}catch(Y){Id(e,i,Y)}finally{p!==null&&w.types!==null&&(p.types=w.types),J.T=p}}else try{p=o(m,c),r_(e,i,p)}catch(Y){Id(e,i,Y)}}function r_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){a_(e,i,c)},function(c){return Id(e,i,c)}):a_(e,i,o)}function a_(e,i,o){i.status="fulfilled",i.value=o,o_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,s_(e,o)))}function Id(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,o_(i),i=i.next;while(i!==c)}e.action=null}function o_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function l_(e,i){return i}function u_(e,i){if(ie){var o=Ue.formState;if(o!==null){t:{var c=Kt;if(ie){if(ve){e:{for(var m=ve,p=Pi;m.nodeType!==8;){if(!p){m=null;break e}if(m=Es(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){ve=Es(m.nextSibling),c=m.data==="F!";break t}}pr(c)}c=!1}c&&(i=o[0])}}return o=vi(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:i},o.queue=c,o=I_.bind(null,Kt,c),c.dispatch=o,c=Cd(!1),p=Pd.bind(null,Kt,!1,c.queue),c=vi(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=LE.bind(null,Kt,m,p,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function c_(e){var i=hn();return h_(i,Oe,e)}function h_(e,i,o){if(i=Ad(e,i,l_)[0],e=lh(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Lu(i)}catch(w){throw w===xl?Jc:w}else c=i;i=hn();var m=i.queue,p=m.dispatch;return o!==i.memoizedState&&(Kt.flags|=2048,Ml(9,{destroy:void 0},PE.bind(null,m,o),null)),[c,p,e]}function PE(e,i){e.action=i}function f_(e){var i=hn(),o=Oe;if(o!==null)return h_(i,o,e);hn(),i=i.memoizedState,o=hn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Ml(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Kt.updateQueue,i===null&&(i=ah(),Kt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function d_(){return hn().memoizedState}function uh(e,i,o,c){var m=vi();Kt.flags|=e,m.memoizedState=Ml(1|i,{destroy:void 0},o,c===void 0?null:c)}function ch(e,i,o,c){var m=hn();c=c===void 0?null:c;var p=m.memoizedState.inst;Oe!==null&&c!==null&&vd(c,Oe.memoizedState.deps)?m.memoizedState=Ml(i,p,o,c):(Kt.flags|=e,m.memoizedState=Ml(1|i,p,o,c))}function m_(e,i){uh(8390656,8,e,i)}function Rd(e,i){ch(2048,8,e,i)}function DE(e){Kt.flags|=4;var i=Kt.updateQueue;if(i===null)i=ah(),Kt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function p_(e){var i=hn().memoizedState;return DE({ref:i,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function g_(e,i){return ch(4,2,e,i)}function __(e,i){return ch(4,4,e,i)}function y_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function v_(e,i,o){o=o!=null?o.concat([e]):null,ch(4,4,y_.bind(null,i,e),o)}function Nd(){}function T_(e,i){var o=hn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&vd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function b_(e,i){var o=hn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&vd(i,c[1]))return c[0];if(c=e(),Go){Pn(!0);try{e()}finally{Pn(!1)}}return o.memoizedState=[c,i],c}function Md(e,i,o){return o===void 0||(Kr&1073741824)!==0&&(oe&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=wy(),Kt.lanes|=e,Ba|=e,o)}function w_(e,i,o,c){return zn(o,i)?o:Il.current!==null?(e=Md(e,o,c),zn(e,i)||(Tn=!0),e):(Kr&42)===0||(Kr&1073741824)!==0&&(oe&261930)===0?(Tn=!0,e.memoizedState=o):(e=wy(),Kt.lanes|=e,Ba|=e,i)}function E_(e,i,o,c,m){var p=pt.p;pt.p=p!==0&&8>p?p:8;var w=J.T,x={};J.T=x,Pd(e,!1,i,o);try{var k=m(),Y=J.S;if(Y!==null&&Y(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var nt=NE(k,c);Pu(e,i,nt,ss(e))}else Pu(e,i,c,ss(e))}catch(ot){Pu(e,i,{then:function(){},status:"rejected",reason:ot},ss())}finally{pt.p=p,w!==null&&x.types!==null&&(w.types=x.types),J.T=w}}function kE(){}function Od(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=S_(e).queue;E_(e,m,i,ht,o===null?kE:function(){return A_(e),o(c)})}function S_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:ht},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function A_(e){var i=S_(e);i.next===null&&(i=e.alternate.memoizedState),Pu(e,i.next.queue,{},ss())}function Ld(){return Gn(Wu)}function x_(){return hn().memoizedState}function C_(){return hn().memoizedState}function VE(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=ss();e=Pa(o);var c=Da(i,e,o);c!==null&&(Ui(c,i,o),Ru(c,i,o)),i={cache:ld()},e.payload=i;return}i=i.return}}function zE(e,i,o){var c=ss();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},hh(e)?R_(i,o):(o=vu(e,i,o,c),o!==null&&(Ui(o,e,c),N_(o,i,c)))}function I_(e,i,o){var c=ss();Pu(e,i,o,c)}function Pu(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(hh(e))R_(i,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,x=p(w,o);if(m.hasEagerState=!0,m.eagerState=x,zn(x,w))return dr(e,i,m,0),Ue===null&&Do(),!1}catch{}if(o=vu(e,i,m,c),o!==null)return Ui(o,e,c),N_(o,i,c),!0}return!1}function Pd(e,i,o,c){if(c={lane:2,revertLane:fm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},hh(e)){if(i)throw Error(a(479))}else i=vu(e,o,c,2),i!==null&&Ui(i,e,2)}function hh(e){var i=e.alternate;return e===Kt||i!==null&&i===Kt}function R_(e,i){Rl=sh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function N_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,qt(e,o)}}var Du={readContext:Gn,use:oh,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Du.useEffectEvent=on;var M_={readContext:Gn,use:oh,useCallback:function(e,i){return vi().memoizedState=[e,i===void 0?null:i],e},useContext:Gn,useEffect:m_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,uh(4194308,4,y_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return uh(4194308,4,e,i)},useInsertionEffect:function(e,i){uh(4,2,e,i)},useMemo:function(e,i){var o=vi();i=i===void 0?null:i;var c=e();if(Go){Pn(!0);try{e()}finally{Pn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=vi();if(o!==void 0){var m=o(i);if(Go){Pn(!0);try{o(i)}finally{Pn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=zE.bind(null,Kt,e),[c.memoizedState,e]},useRef:function(e){var i=vi();return e={current:e},i.memoizedState=e},useState:function(e){e=Cd(e);var i=e.queue,o=I_.bind(null,Kt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Nd,useDeferredValue:function(e,i){var o=vi();return Md(o,e,i)},useTransition:function(){var e=Cd(!1);return e=E_.bind(null,Kt,e.queue,!0,!1),vi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Kt,m=vi();if(ie){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ue===null)throw Error(a(349));(oe&127)!==0||Jg(c,i,o)}m.memoizedState=o;var p={value:o,getSnapshot:i};return m.queue=p,m_(t_.bind(null,c,p,e),[e]),c.flags|=2048,Ml(9,{destroy:void 0},$g.bind(null,c,p,o,i),null),o},useId:function(){var e=vi(),i=Ue.identifierPrefix;if(ie){var o=vt,c=at;o=(c&~(1<<32-De(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=rh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=ME++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Ld,useFormState:u_,useActionState:u_,useOptimistic:function(e){var i=vi();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Pd.bind(null,Kt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Sd,useCacheRefresh:function(){return vi().memoizedState=VE.bind(null,Kt)},useEffectEvent:function(e){var i=vi(),o={impl:e};return i.memoizedState=o,function(){if((Ae&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Dd={readContext:Gn,use:oh,useCallback:T_,useContext:Gn,useEffect:Rd,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:__,useMemo:b_,useReducer:lh,useRef:d_,useState:function(){return lh(Yr)},useDebugValue:Nd,useDeferredValue:function(e,i){var o=hn();return w_(o,Oe.memoizedState,e,i)},useTransition:function(){var e=lh(Yr)[0],i=hn().memoizedState;return[typeof e=="boolean"?e:Lu(e),i]},useSyncExternalStore:Wg,useId:x_,useHostTransitionStatus:Ld,useFormState:c_,useActionState:c_,useOptimistic:function(e,i){var o=hn();return i_(o,Oe,e,i)},useMemoCache:Sd,useCacheRefresh:C_};Dd.useEffectEvent=p_;var O_={readContext:Gn,use:oh,useCallback:T_,useContext:Gn,useEffect:Rd,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:__,useMemo:b_,useReducer:xd,useRef:d_,useState:function(){return xd(Yr)},useDebugValue:Nd,useDeferredValue:function(e,i){var o=hn();return Oe===null?Md(o,e,i):w_(o,Oe.memoizedState,e,i)},useTransition:function(){var e=xd(Yr)[0],i=hn().memoizedState;return[typeof e=="boolean"?e:Lu(e),i]},useSyncExternalStore:Wg,useId:x_,useHostTransitionStatus:Ld,useFormState:f_,useActionState:f_,useOptimistic:function(e,i){var o=hn();return Oe!==null?i_(o,Oe,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:C_};O_.useEffectEvent=p_;function kd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:R({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Vd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=ss(),m=Pa(c);m.payload=i,o!=null&&(m.callback=o),i=Da(e,m,c),i!==null&&(Ui(i,e,c),Ru(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=ss(),m=Pa(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Da(e,m,c),i!==null&&(Ui(i,e,c),Ru(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=ss(),c=Pa(o);c.tag=2,i!=null&&(c.callback=i),i=Da(e,c,o),i!==null&&(Ui(i,e,o),Ru(i,e,o))}};function L_(e,i,o,c,m,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,w):i.prototype&&i.prototype.isPureReactComponent?!Ca(o,c)||!Ca(m,p):!0}function P_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Vd.enqueueReplaceState(i,i.state,null)}function Zo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=R({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function D_(e){Po(e)}function k_(e){console.error(e)}function V_(e){Po(e)}function fh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function z_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function zd(e,i,o){return o=Pa(o),o.tag=3,o.payload={element:null},o.callback=function(){fh(e,i)},o}function U_(e){return e=Pa(e),e.tag=3,e}function B_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;e.payload=function(){return m(p)},e.callback=function(){z_(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){z_(i,o,c),typeof m!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function UE(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&El(i,o,m,!0),o=ts.current,o!==null){switch(o.tag){case 31:case 13:return ws===null?Sh():o.alternate===null&&ln===0&&(ln=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===$c?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),um(e,c,m)),!1;case 22:return o.flags|=65536,c===$c?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),um(e,c,m)),!1}throw Error(a(435,o.tag))}return um(e,c,m),Sh(),!1}if(ie)return i=ts.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==wl&&(e=Error(a(422),{cause:c}),zo(u(e,o)))):(c!==wl&&(i=Error(a(423),{cause:c}),zo(u(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,o),m=zd(e.stateNode,c,m),md(e,m),ln!==4&&(ln=2)),!1;var p=Error(a(520),{cause:c});if(p=u(p,o),Hu===null?Hu=[p]:Hu.push(p),ln!==4&&(ln=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=zd(o.stateNode,c,e),md(o,e),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ja===null||!ja.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=U_(m),B_(m,e,o,c),md(o,m),!1}o=o.return}while(o!==null);return!1}var Ud=Error(a(461)),Tn=!1;function Zn(e,i,o,c){i.child=e===null?Fg(i,null,o,c):Fo(i,e.child,o,c)}function j_(e,i,o,c,m){o=o.render;var p=i.ref;if("ref"in c){var w={};for(var x in c)x!=="ref"&&(w[x]=c[x])}else w=c;return Bo(i),c=Td(e,i,o,w,p,m),x=bd(),e!==null&&!Tn?(wd(e,i,m),Qr(e,i,m)):(ie&&x&&Rn(i),i.flags|=1,Zn(e,i,c,m),i.child)}function q_(e,i,o,c,m){if(e===null){var p=o.type;return typeof p=="function"&&!Tl(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,H_(e,i,p,c,m)):(e=Vo(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!Kd(e,m)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ca,o(w,c)&&e.ref===i.ref)return Qr(e,i,m)}return i.flags|=1,e=bs(p,c),e.ref=i.ref,e.return=i,i.child=e}function H_(e,i,o,c,m){if(e!==null){var p=e.memoizedProps;if(Ca(p,c)&&e.ref===i.ref)if(Tn=!1,i.pendingProps=c=p,Kd(e,m))(e.flags&131072)!==0&&(Tn=!0);else return i.lanes=e.lanes,Qr(e,i,m)}return Bd(e,i,o,c,m)}function F_(e,i,o,c){var m=c.children,p=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~p}else c=0,i.child=null;return G_(e,i,p,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wc(i,p!==null?p.cachePool:null),p!==null?Kg(i,p):gd(),Yg(i);else return c=i.lanes=536870912,G_(e,i,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(Wc(i,p.cachePool),Kg(i,p),Va(),i.memoizedState=null):(e!==null&&Wc(i,null),gd(),Va());return Zn(e,i,m,o),i.child}function ku(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function G_(e,i,o,c,m){var p=cd();return p=p===null?null:{parent:yn._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},e!==null&&Wc(i,null),gd(),Yg(i),e!==null&&El(e,i,c,!0),i.childLanes=m,null}function dh(e,i){return i=ph({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Z_(e,i,o){return Fo(i,e.child,null,o),e=dh(i,i.pendingProps),e.flags|=2,es(i),i.memoizedState=null,e}function BE(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(ie){if(c.mode==="hidden")return e=dh(i,c),i.lanes=536870912,ku(null,e);if(yd(i),(e=ve)?(e=sv(e,Pi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Q!==null?{id:at,overflow:vt}:null,retryLane:536870912,hydrationErrors:null},o=bu(e),o.return=i,i.child=o,ye=i,ve=null)):e=null,e===null)throw pr(i);return i.lanes=536870912,null}return dh(i,c)}var p=e.memoizedState;if(p!==null){var w=p.dehydrated;if(yd(i),m)if(i.flags&256)i.flags&=-257,i=Z_(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Tn||El(e,i,o,!1),m=(o&e.childLanes)!==0,Tn||m){if(c=Ue,c!==null&&(w=Ge(c,o),w!==0&&w!==p.retryLane))throw p.retryLane=w,Ts(e,w),Ui(c,e,w),Ud;Sh(),i=Z_(e,i,o)}else e=p.treeContext,ve=Es(w.nextSibling),ye=i,ie=!0,mr=null,Pi=!1,e!==null&&yi(i,e),i=dh(i,c),i.flags|=4096;return i}return e=bs(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function mh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Bd(e,i,o,c,m){return Bo(i),o=Td(e,i,o,c,void 0,m),c=bd(),e!==null&&!Tn?(wd(e,i,m),Qr(e,i,m)):(ie&&c&&Rn(i),i.flags|=1,Zn(e,i,o,m),i.child)}function K_(e,i,o,c,m,p){return Bo(i),i.updateQueue=null,o=Xg(i,c,o,m),Qg(e),c=bd(),e!==null&&!Tn?(wd(e,i,p),Qr(e,i,p)):(ie&&c&&Rn(i),i.flags|=1,Zn(e,i,o,p),i.child)}function Y_(e,i,o,c,m){if(Bo(i),i.stateNode===null){var p=Hr,w=o.contextType;typeof w=="object"&&w!==null&&(p=Gn(w)),p=new o(c,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Vd,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=c,p.state=i.memoizedState,p.refs={},fd(i),w=o.contextType,p.context=typeof w=="object"&&w!==null?Gn(w):Hr,p.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(kd(i,o,w,c),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Vd.enqueueReplaceState(p,p.state,null),Mu(i,c,p,m),Nu(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){p=i.stateNode;var x=i.memoizedProps,k=Zo(o,x);p.props=k;var Y=p.context,nt=o.contextType;w=Hr,typeof nt=="object"&&nt!==null&&(w=Gn(nt));var ot=o.getDerivedStateFromProps;nt=typeof ot=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,nt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||Y!==w)&&P_(i,p,c,w),La=!1;var X=i.memoizedState;p.state=X,Mu(i,c,p,m),Nu(),Y=i.memoizedState,x||X!==Y||La?(typeof ot=="function"&&(kd(i,o,ot,c),Y=i.memoizedState),(k=La||L_(i,o,k,c,X,Y,w))?(nt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Y),p.props=c,p.state=Y,p.context=w,c=k):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{p=i.stateNode,dd(e,i),w=i.memoizedProps,nt=Zo(o,w),p.props=nt,ot=i.pendingProps,X=p.context,Y=o.contextType,k=Hr,typeof Y=="object"&&Y!==null&&(k=Gn(Y)),x=o.getDerivedStateFromProps,(Y=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ot||X!==k)&&P_(i,p,c,k),La=!1,X=i.memoizedState,p.state=X,Mu(i,c,p,m),Nu();var $=i.memoizedState;w!==ot||X!==$||La||e!==null&&e.dependencies!==null&&Qc(e.dependencies)?(typeof x=="function"&&(kd(i,o,x,c),$=i.memoizedState),(nt=La||L_(i,o,nt,c,X,$,k)||e!==null&&e.dependencies!==null&&Qc(e.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,$,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,$,k)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&X===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&X===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=$),p.props=c,p.state=$,p.context=k,c=nt):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&X===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&X===e.memoizedState||(i.flags|=1024),c=!1)}return p=c,mh(e,i),c=(i.flags&128)!==0,p||c?(p=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&c?(i.child=Fo(i,e.child,null,m),i.child=Fo(i,null,o,m)):Zn(e,i,o,m),i.memoizedState=p.state,e=i.child):e=Qr(e,i,m),e}function Q_(e,i,o,c){return Gr(),i.flags|=256,Zn(e,i,o,c),i.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(e){return{baseLanes:e,cachePool:zg()}}function Hd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=is),e}function X_(e,i,o){var c=i.pendingProps,m=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),w&&(m=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,e===null){if(ie){if(m?ka(i):Va(),(e=ve)?(e=sv(e,Pi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Q!==null?{id:at,overflow:vt}:null,retryLane:536870912,hydrationErrors:null},o=bu(e),o.return=i,i.child=o,ye=i,ve=null)):e=null,e===null)throw pr(i);return Am(e)?i.lanes=32:i.lanes=536870912,null}var x=c.children;return c=c.fallback,m?(Va(),m=i.mode,x=ph({mode:"hidden",children:x},m),c=Fr(c,m,o,null),x.return=i,c.return=i,x.sibling=c,i.child=x,c=i.child,c.memoizedState=qd(o),c.childLanes=Hd(e,w,o),i.memoizedState=jd,ku(null,c)):(ka(i),Fd(i,x))}var k=e.memoizedState;if(k!==null&&(x=k.dehydrated,x!==null)){if(p)i.flags&256?(ka(i),i.flags&=-257,i=Gd(e,i,o)):i.memoizedState!==null?(Va(),i.child=e.child,i.flags|=128,i=null):(Va(),x=c.fallback,m=i.mode,c=ph({mode:"visible",children:c.children},m),x=Fr(x,m,o,null),x.flags|=2,c.return=i,x.return=i,c.sibling=x,i.child=c,Fo(i,e.child,null,o),c=i.child,c.memoizedState=qd(o),c.childLanes=Hd(e,w,o),i.memoizedState=jd,i=ku(null,c));else if(ka(i),Am(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var Y=w.dgst;w=Y,c=Error(a(419)),c.stack="",c.digest=w,zo({value:c,source:null,stack:null}),i=Gd(e,i,o)}else if(Tn||El(e,i,o,!1),w=(o&e.childLanes)!==0,Tn||w){if(w=Ue,w!==null&&(c=Ge(w,o),c!==0&&c!==k.retryLane))throw k.retryLane=c,Ts(e,c),Ui(w,e,c),Ud;Sm(x)||Sh(),i=Gd(e,i,o)}else Sm(x)?(i.flags|=192,i.child=e.child,i=null):(e=k.treeContext,ve=Es(x.nextSibling),ye=i,ie=!0,mr=null,Pi=!1,e!==null&&yi(i,e),i=Fd(i,c.children),i.flags|=4096);return i}return m?(Va(),x=c.fallback,m=i.mode,k=e.child,Y=k.sibling,c=bs(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Y!==null?x=bs(Y,x):(x=Fr(x,m,o,null),x.flags|=2),x.return=i,c.return=i,c.sibling=x,i.child=c,ku(null,c),c=i.child,x=e.child.memoizedState,x===null?x=qd(o):(m=x.cachePool,m!==null?(k=yn._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=zg(),x={baseLanes:x.baseLanes|o,cachePool:m}),c.memoizedState=x,c.childLanes=Hd(e,w,o),i.memoizedState=jd,ku(e.child,c)):(ka(i),o=e.child,e=o.sibling,o=bs(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(w=i.deletions,w===null?(i.deletions=[e],i.flags|=16):w.push(e)),i.child=o,i.memoizedState=null,o)}function Fd(e,i){return i=ph({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ph(e,i){return e=oi(22,e,null,i),e.lanes=0,e}function Gd(e,i,o){return Fo(i,e.child,null,o),e=Fd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function W_(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),ad(e.return,i,o)}function Zd(e,i,o,c,m,p){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:p}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=m,w.treeForkCount=p)}function J_(e,i,o){var c=i.pendingProps,m=c.revealOrder,p=c.tail;c=c.children;var w=cn.current,x=(w&2)!==0;if(x?(w=w&1|2,i.flags|=128):w&=1,ft(cn,w),Zn(e,i,c,o),c=ie?A:0,!x&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W_(e,o,i);else if(e.tag===19)W_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&ih(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Zd(i,!1,m,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&ih(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Zd(i,!0,o,null,p,c);break;case"together":Zd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Qr(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ba|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(El(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=bs(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=bs(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Kd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Qc(e)))}function jE(e,i,o){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),Oa(i,yn,e.memoizedState.cache),Gr();break;case 27:case 5:os(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:Oa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,yd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ka(i),i.flags|=128,null):(o&i.child.childLanes)!==0?X_(e,i,o):(ka(i),e=Qr(e,i,o),e!==null?e.sibling:null);ka(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(El(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return J_(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ft(cn,cn.current),c)break;return null;case 22:return i.lanes=0,F_(e,i,o,i.pendingProps);case 24:Oa(i,yn,e.memoizedState.cache)}return Qr(e,i,o)}function $_(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Tn=!0;else{if(!Kd(e,o)&&(i.flags&128)===0)return Tn=!1,jE(e,i,o);Tn=(e.flags&131072)!==0}else Tn=!1,ie&&(i.flags&1048576)!==0&&Yt(i,A,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=qo(i.elementType),i.type=e,typeof e=="function")Tl(e)?(c=Zo(e,c),i.tag=1,i=Y_(null,i,e,c,o)):(i.tag=0,i=Bd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===Gt){i.tag=11,i=j_(null,i,e,c,o);break t}else if(m===U){i.tag=14,i=q_(null,i,e,c,o);break t}}throw i=Wt(e)||e,Error(a(306,i,""))}}return i;case 0:return Bd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Zo(c,i.pendingProps),Y_(e,i,c,m,o);case 3:t:{if(Ee(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var p=i.memoizedState;m=p.element,dd(e,i),Mu(i,c,null,o);var w=i.memoizedState;if(c=w.cache,Oa(i,yn,c),c!==p.cache&&od(i,[yn],o,!0),Nu(),c=w.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Q_(e,i,c,o);break t}else if(c!==m){m=u(Error(a(424)),i),zo(m),i=Q_(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ve=Es(e.firstChild),ye=i,ie=!0,mr=null,Pi=!0,o=Fg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Gr(),c===m){i=Qr(e,i,o);break t}Zn(e,i,c,o)}i=i.child}return i;case 26:return mh(e,i),e===null?(o=cv(i.type,null,i.pendingProps,null))?i.memoizedState=o:ie||(o=i.type,e=i.pendingProps,c=Mh(yt.current).createElement(o),c[je]=i,c[ke]=e,Kn(c,o,e),$e(c),i.stateNode=c):i.memoizedState=cv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return os(i),e===null&&ie&&(c=i.stateNode=ov(i.type,i.pendingProps,yt.current),ye=i,Pi=!0,m=ve,Ga(i.type)?(xm=m,ve=Es(c.firstChild)):ve=m),Zn(e,i,i.pendingProps.children,o),mh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&ie&&((m=c=ve)&&(c=_S(c,i.type,i.pendingProps,Pi),c!==null?(i.stateNode=c,ye=i,ve=Es(c.firstChild),Pi=!1,m=!0):m=!1),m||pr(i)),os(i),m=i.type,p=i.pendingProps,w=e!==null?e.memoizedProps:null,c=p.children,bm(m,p)?c=null:w!==null&&bm(m,w)&&(i.flags|=32),i.memoizedState!==null&&(m=Td(e,i,OE,null,null,o),Wu._currentValue=m),mh(e,i),Zn(e,i,c,o),i.child;case 6:return e===null&&ie&&((e=o=ve)&&(o=yS(o,i.pendingProps,Pi),o!==null?(i.stateNode=o,ye=i,ve=null,e=!0):e=!1),e||pr(i)),null;case 13:return X_(e,i,o);case 4:return Ee(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Fo(i,null,c,o):Zn(e,i,c,o),i.child;case 11:return j_(e,i,i.type,i.pendingProps,o);case 7:return Zn(e,i,i.pendingProps,o),i.child;case 8:return Zn(e,i,i.pendingProps.children,o),i.child;case 12:return Zn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Oa(i,i.type,c.value),Zn(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Bo(i),m=Gn(m),c=c(m),i.flags|=1,Zn(e,i,c,o),i.child;case 14:return q_(e,i,i.type,i.pendingProps,o);case 15:return H_(e,i,i.type,i.pendingProps,o);case 19:return J_(e,i,o);case 31:return BE(e,i,o);case 22:return F_(e,i,o,i.pendingProps);case 24:return Bo(i),c=Gn(yn),e===null?(m=cd(),m===null&&(m=Ue,p=ld(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),i.memoizedState={parent:c,cache:m},fd(i),Oa(i,yn,m)):((e.lanes&o)!==0&&(dd(e,i),Mu(i,null,null,o),Nu()),m=e.memoizedState,p=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Oa(i,yn,c)):(c=p.cache,Oa(i,yn,c),c!==m.cache&&od(i,[yn],o,!0))),Zn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Xr(e){e.flags|=4}function Yd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw Ho=$c,hd}else e.flags&=-16777217}function ty(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pv(i))if(xy())e.flags|=8192;else throw Ho=$c,hd}function gh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?da():536870912,e.lanes|=i,Dl|=i)}function Vu(e,i){if(!ie)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Xe(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function qE(e,i,o){var c=i.pendingProps;switch(an(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(i),null;case 1:return Xe(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Zr(yn),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(js(i)?Xr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Su())),Xe(i),null;case 26:var m=i.type,p=i.memoizedState;return e===null?(Xr(i),p!==null?(Xe(i),ty(i,p)):(Xe(i),Yd(i,m,null,c,o))):p?p!==e.memoizedState?(Xr(i),Xe(i),ty(i,p)):(Xe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Xr(i),Xe(i),Yd(i,m,e,c,o)),null;case 27:if(qi(i),o=yt.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Xr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Xe(i),null}e=mt.current,js(i)?Eu(i):(e=ov(m,c,o),i.stateNode=e,Xr(i))}return Xe(i),null;case 5:if(qi(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Xr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Xe(i),null}if(p=mt.current,js(i))Eu(i);else{var w=Mh(yt.current);switch(p){case 1:p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=w.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}p[je]=i,p[ke]=c;t:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)p.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break t;for(;w.sibling===null;){if(w.return===null||w.return===i)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=p;t:switch(Kn(p,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Xr(i)}}return Xe(i),Yd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Xr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=yt.current,js(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=ye,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[je]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Xy(e.nodeValue,o)),e||pr(i,!0)}else e=Mh(e).createTextNode(c),e[je]=i,i.stateNode=e}return Xe(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=js(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[je]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xe(i),e=!1}else o=Su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(es(i),i):(es(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Xe(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=js(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[je]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xe(i),m=!1}else m=Su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(es(i),i):(es(i),null)}return es(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),gh(i,i.updateQueue),Xe(i),null);case 4:return Me(),e===null&&gm(i.stateNode.containerInfo),Xe(i),null;case 10:return Zr(i.type),Xe(i),null;case 19:if(et(cn),c=i.memoizedState,c===null)return Xe(i),null;if(m=(i.flags&128)!==0,p=c.rendering,p===null)if(m)Vu(c,!1);else{if(ln!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(p=ih(e),p!==null){for(i.flags|=128,Vu(c,!1),e=p.updateQueue,i.updateQueue=e,gh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Tu(o,e),o=o.sibling;return ft(cn,cn.current&1|2),ie&&It(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&un()>bh&&(i.flags|=128,m=!0,Vu(c,!1),i.lanes=4194304)}else{if(!m)if(e=ih(p),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,gh(i,e),Vu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!ie)return Xe(i),null}else 2*un()-c.renderingStartTime>bh&&o!==536870912&&(i.flags|=128,m=!0,Vu(c,!1),i.lanes=4194304);c.isBackwards?(p.sibling=i.child,i.child=p):(e=c.last,e!==null?e.sibling=p:i.child=p,c.last=p)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=un(),e.sibling=null,o=cn.current,ft(cn,m?o&1|2:o&1),ie&&It(i,c.treeForkCount),e):(Xe(i),null);case 22:case 23:return es(i),_d(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Xe(i),i.subtreeFlags&6&&(i.flags|=8192)):Xe(i),o=i.updateQueue,o!==null&&gh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&et(jo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Zr(yn),Xe(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function HE(e,i){switch(an(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Zr(yn),Me(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return qi(i),null;case 31:if(i.memoizedState!==null){if(es(i),i.alternate===null)throw Error(a(340));Gr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(es(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Gr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return et(cn),null;case 4:return Me(),null;case 10:return Zr(i.type),null;case 22:case 23:return es(i),_d(),e!==null&&et(jo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Zr(yn),null;case 25:return null;default:return null}}function ey(e,i){switch(an(i),i.tag){case 3:Zr(yn),Me();break;case 26:case 27:case 5:qi(i);break;case 4:Me();break;case 31:i.memoizedState!==null&&es(i);break;case 13:es(i);break;case 19:et(cn);break;case 10:Zr(i.type);break;case 22:case 23:es(i),_d(),e!==null&&et(jo);break;case 24:Zr(yn)}}function zu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var p=o.create,w=o.inst;c=p(),w.destroy=c}o=o.next}while(o!==m)}}catch(x){Ne(i,i.return,x)}}function za(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&e)===e){var w=c.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,m=i;var k=o,Y=x;try{Y()}catch(nt){Ne(m,k,nt)}}}c=c.next}while(c!==p)}}catch(nt){Ne(i,i.return,nt)}}function ny(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Zg(i,o)}catch(c){Ne(e,e.return,c)}}}function iy(e,i,o){o.props=Zo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Ne(e,i,c)}}function Uu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Ne(e,i,m)}}function _r(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ne(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ne(e,i,m)}else o.current=null}function sy(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ne(e,e.return,m)}}function Qd(e,i,o){try{var c=e.stateNode;hS(c,e.type,o,i),c[ke]=i}catch(m){Ne(e,e.return,m)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function Xd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wd(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ni));else if(c!==4&&(c===27&&Ga(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Wd(e,i,o),e=e.sibling;e!==null;)Wd(e,i,o),e=e.sibling}function _h(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Ga(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(_h(e,i,o),e=e.sibling;e!==null;)_h(e,i,o),e=e.sibling}function ay(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Kn(i,c,o),i[je]=e,i[ke]=o}catch(p){Ne(e,e.return,p)}}var Wr=!1,bn=!1,Jd=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function FE(e,i){if(e=e.containerInfo,vm=zh,e=No(e),ur(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var w=0,x=-1,k=-1,Y=0,nt=0,ot=e,X=null;e:for(;;){for(var $;ot!==o||m!==0&&ot.nodeType!==3||(x=w+m),ot!==p||c!==0&&ot.nodeType!==3||(k=w+c),ot.nodeType===3&&(w+=ot.nodeValue.length),($=ot.firstChild)!==null;)X=ot,ot=$;for(;;){if(ot===e)break e;if(X===o&&++Y===m&&(x=w),X===p&&++nt===c&&(k=w),($=ot.nextSibling)!==null)break;ot=X,X=ot.parentNode}ot=$}o=x===-1||k===-1?null:{start:x,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:e,selectionRange:o},zh=!1,Bn=i;Bn!==null;)if(i=Bn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Bn=e;else for(;Bn!==null;){switch(i=Bn,p=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=i,m=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var xt=Zo(o.type,m);e=c.getSnapshotBeforeUpdate(xt,p),c.__reactInternalSnapshotBeforeUpdate=e}catch(Pt){Ne(o,o.return,Pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Em(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Em(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Bn=e;break}Bn=i.return}}function ly(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:$r(e,o),c&4&&zu(5,o);break;case 1:if($r(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(w){Ne(o,o.return,w)}else{var m=Zo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Ne(o,o.return,w)}}c&64&&ny(o),c&512&&Uu(o,o.return);break;case 3:if($r(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Zg(e,i)}catch(w){Ne(o,o.return,w)}}break;case 27:i===null&&c&4&&ay(o);case 26:case 5:$r(e,o),i===null&&c&4&&sy(o),c&512&&Uu(o,o.return);break;case 12:$r(e,o);break;case 31:$r(e,o),c&4&&hy(e,o);break;case 13:$r(e,o),c&4&&fy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=$E.bind(null,o),vS(e,o))));break;case 22:if(c=o.memoizedState!==null||Wr,!c){i=i!==null&&i.memoizedState!==null||bn,m=Wr;var p=bn;Wr=c,(bn=i)&&!p?ta(e,o,(o.subtreeFlags&8772)!==0):$r(e,o),Wr=m,bn=p}break;case 30:break;default:$r(e,o)}}function uy(e){var i=e.alternate;i!==null&&(e.alternate=null,uy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ns(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tn=null,Di=!1;function Jr(e,i,o){for(o=o.child;o!==null;)cy(e,i,o),o=o.sibling}function cy(e,i,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:bn||_r(o,i),Jr(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bn||_r(o,i);var c=tn,m=Di;Ga(o.type)&&(tn=o.stateNode,Di=!1),Jr(e,i,o),Yu(o.stateNode),tn=c,Di=m;break;case 5:bn||_r(o,i);case 6:if(c=tn,m=Di,tn=null,Jr(e,i,o),tn=c,Di=m,tn!==null)if(Di)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(o.stateNode)}catch(p){Ne(o,i,p)}else try{tn.removeChild(o.stateNode)}catch(p){Ne(o,i,p)}break;case 18:tn!==null&&(Di?(e=tn,nv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Hl(e)):nv(tn,o.stateNode));break;case 4:c=tn,m=Di,tn=o.stateNode.containerInfo,Di=!0,Jr(e,i,o),tn=c,Di=m;break;case 0:case 11:case 14:case 15:za(2,o,i),bn||za(4,o,i),Jr(e,i,o);break;case 1:bn||(_r(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&iy(o,i,c)),Jr(e,i,o);break;case 21:Jr(e,i,o);break;case 22:bn=(c=bn)||o.memoizedState!==null,Jr(e,i,o),bn=c;break;default:Jr(e,i,o)}}function hy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hl(e)}catch(o){Ne(i,i.return,o)}}}function fy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hl(e)}catch(o){Ne(i,i.return,o)}}function GE(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new oy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new oy),i;default:throw Error(a(435,e.tag))}}function yh(e,i){var o=GE(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=tS.bind(null,e,c);c.then(m,m)}})}function ki(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],p=e,w=i,x=w;t:for(;x!==null;){switch(x.tag){case 27:if(Ga(x.type)){tn=x.stateNode,Di=!1;break t}break;case 5:tn=x.stateNode,Di=!1;break t;case 3:case 4:tn=x.stateNode.containerInfo,Di=!0;break t}x=x.return}if(tn===null)throw Error(a(160));cy(p,w,m),tn=null,Di=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dy(i,e),i=i.sibling}var Hs=null;function dy(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ki(i,e),Vi(e),c&4&&(za(3,e,e.return),zu(3,e),za(5,e,e.return));break;case 1:ki(i,e),Vi(e),c&512&&(bn||o===null||_r(o,o.return)),c&64&&Wr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Hs;if(ki(i,e),Vi(e),c&512&&(bn||o===null||_r(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Ai]||p[je]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),Kn(p,c,o),p[je]=e,$e(p),c=p;break t;case"link":var w=dv("link","href",m).get(c+(o.href||""));if(w){for(var x=0;x<w.length;x++)if(p=w[x],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(x,1);break e}}p=m.createElement(c),Kn(p,c,o),m.head.appendChild(p);break;case"meta":if(w=dv("meta","content",m).get(c+(o.content||""))){for(x=0;x<w.length;x++)if(p=w[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(x,1);break e}}p=m.createElement(c),Kn(p,c,o),m.head.appendChild(p);break;default:throw Error(a(468,c))}p[je]=e,$e(p),c=p}e.stateNode=c}else mv(m,e.type,e.stateNode);else e.stateNode=fv(m,c,e.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?mv(m,e.type,e.stateNode):fv(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Qd(e,e.memoizedProps,o.memoizedProps)}break;case 27:ki(i,e),Vi(e),c&512&&(bn||o===null||_r(o,o.return)),o!==null&&c&4&&Qd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(ki(i,e),Vi(e),c&512&&(bn||o===null||_r(o,o.return)),e.flags&32){m=e.stateNode;try{gn(m,"")}catch(xt){Ne(e,e.return,xt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Qd(e,m,o!==null?o.memoizedProps:m)),c&1024&&(Jd=!0);break;case 6:if(ki(i,e),Vi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(xt){Ne(e,e.return,xt)}}break;case 3:if(Ph=null,m=Hs,Hs=Oh(i.containerInfo),ki(i,e),Hs=m,Vi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(xt){Ne(e,e.return,xt)}Jd&&(Jd=!1,my(e));break;case 4:c=Hs,Hs=Oh(e.stateNode.containerInfo),ki(i,e),Vi(e),Hs=c;break;case 12:ki(i,e),Vi(e);break;case 31:ki(i,e),Vi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yh(e,c)));break;case 13:ki(i,e),Vi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Th=un()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yh(e,c)));break;case 22:m=e.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,Y=Wr,nt=bn;if(Wr=Y||m,bn=nt||k,ki(i,e),bn=nt,Wr=Y,Vi(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||k||Wr||bn||Ko(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){k=o=i;try{if(p=k.stateNode,m)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=k.stateNode;var ot=k.memoizedProps.style,X=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(xt){Ne(k,k.return,xt)}}}else if(i.tag===6){if(o===null){k=i;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(xt){Ne(k,k.return,xt)}}}else if(i.tag===18){if(o===null){k=i;try{var $=k.stateNode;m?iv($,!0):iv(k.stateNode,!1)}catch(xt){Ne(k,k.return,xt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,yh(e,o))));break;case 19:ki(i,e),Vi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yh(e,c)));break;case 30:break;case 21:break;default:ki(i,e),Vi(e)}}function Vi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(ry(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,p=Xd(e);_h(e,p,m);break;case 5:var w=o.stateNode;o.flags&32&&(gn(w,""),o.flags&=-33);var x=Xd(e);_h(e,x,w);break;case 3:case 4:var k=o.stateNode.containerInfo,Y=Xd(e);Wd(e,Y,k);break;default:throw Error(a(161))}}catch(nt){Ne(e,e.return,nt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;my(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $r(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(e,i.alternate,i),i=i.sibling}function Ko(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:za(4,i,i.return),Ko(i);break;case 1:_r(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&iy(i,i.return,o),Ko(i);break;case 27:Yu(i.stateNode);case 26:case 5:_r(i,i.return),Ko(i);break;case 22:i.memoizedState===null&&Ko(i);break;case 30:Ko(i);break;default:Ko(i)}e=e.sibling}}function ta(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:ta(m,p,o),zu(4,p);break;case 1:if(ta(m,p,o),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){Ne(c,c.return,Y)}if(c=p,m=c.updateQueue,m!==null){var x=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)Gg(k[m],x)}catch(Y){Ne(c,c.return,Y)}}o&&w&64&&ny(p),Uu(p,p.return);break;case 27:ay(p);case 26:case 5:ta(m,p,o),o&&c===null&&w&4&&sy(p),Uu(p,p.return);break;case 12:ta(m,p,o);break;case 31:ta(m,p,o),o&&w&4&&hy(m,p);break;case 13:ta(m,p,o),o&&w&4&&fy(m,p);break;case 22:p.memoizedState===null&&ta(m,p,o),Uu(p,p.return);break;case 30:break;default:ta(m,p,o)}i=i.sibling}}function $d(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Au(o))}function tm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Au(e))}function Fs(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)py(e,i,o,c),i=i.sibling}function py(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Fs(e,i,o,c),m&2048&&zu(9,i);break;case 1:Fs(e,i,o,c);break;case 3:Fs(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Au(e)));break;case 12:if(m&2048){Fs(e,i,o,c),e=i.stateNode;try{var p=i.memoizedProps,w=p.id,x=p.onPostCommit;typeof x=="function"&&x(w,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ne(i,i.return,k)}}else Fs(e,i,o,c);break;case 31:Fs(e,i,o,c);break;case 13:Fs(e,i,o,c);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?Fs(e,i,o,c):Bu(e,i):p._visibility&2?Fs(e,i,o,c):(p._visibility|=2,Ol(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&$d(w,i);break;case 24:Fs(e,i,o,c),m&2048&&tm(i.alternate,i);break;default:Fs(e,i,o,c)}}function Ol(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=e,w=i,x=o,k=c,Y=w.flags;switch(w.tag){case 0:case 11:case 15:Ol(p,w,x,k,m),zu(8,w);break;case 23:break;case 22:var nt=w.stateNode;w.memoizedState!==null?nt._visibility&2?Ol(p,w,x,k,m):Bu(p,w):(nt._visibility|=2,Ol(p,w,x,k,m)),m&&Y&2048&&$d(w.alternate,w);break;case 24:Ol(p,w,x,k,m),m&&Y&2048&&tm(w.alternate,w);break;default:Ol(p,w,x,k,m)}i=i.sibling}}function Bu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Bu(o,c),m&2048&&$d(c.alternate,c);break;case 24:Bu(o,c),m&2048&&tm(c.alternate,c);break;default:Bu(o,c)}i=i.sibling}}var ju=8192;function Ll(e,i,o){if(e.subtreeFlags&ju)for(e=e.child;e!==null;)gy(e,i,o),e=e.sibling}function gy(e,i,o){switch(e.tag){case 26:Ll(e,i,o),e.flags&ju&&e.memoizedState!==null&&MS(o,Hs,e.memoizedState,e.memoizedProps);break;case 5:Ll(e,i,o);break;case 3:case 4:var c=Hs;Hs=Oh(e.stateNode.containerInfo),Ll(e,i,o),Hs=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=ju,ju=16777216,Ll(e,i,o),ju=c):Ll(e,i,o));break;default:Ll(e,i,o)}}function _y(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function qu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Bn=c,vy(c,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:qu(e),e.flags&2048&&za(9,e,e.return);break;case 3:qu(e);break;case 12:qu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,vh(e)):qu(e);break;default:qu(e)}}function vh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Bn=c,vy(c,e)}_y(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:za(8,i,i.return),vh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,vh(i));break;default:vh(i)}e=e.sibling}}function vy(e,i){for(;Bn!==null;){var o=Bn;switch(o.tag){case 0:case 11:case 15:za(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Au(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Bn=c;else t:for(o=e;Bn!==null;){c=Bn;var m=c.sibling,p=c.return;if(uy(c),c===o){Bn=null;break t}if(m!==null){m.return=p,Bn=m;break t}Bn=p}}}var ZE={getCacheForType:function(e){var i=Gn(yn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Gn(yn).controller.signal}},KE=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ue=null,se=null,oe=0,Re=0,ns=null,Ua=!1,Pl=!1,em=!1,ea=0,ln=0,Ba=0,Yo=0,nm=0,is=0,Dl=0,Hu=null,zi=null,im=!1,Th=0,Ty=0,bh=1/0,wh=null,ja=null,Nn=0,qa=null,kl=null,na=0,sm=0,rm=null,by=null,Fu=0,am=null;function ss(){return(Ae&2)!==0&&oe!==0?oe&-oe:J.T!==null?fm():Je()}function wy(){if(is===0)if((oe&536870912)===0||ie){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),is=e}else is=536870912;return e=ts.current,e!==null&&(e.flags|=32),is}function Ui(e,i,o){(e===Ue&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Vl(e,0),Ha(e,oe,is,!1)),Si(e,o),((Ae&2)===0||e!==Ue)&&(e===Ue&&((Ae&2)===0&&(Yo|=o),ln===4&&Ha(e,oe,is,!1)),yr(e))}function Ey(e,i,o){if((Ae&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||$n(e,i),m=c?XE(e,i):lm(e,i,!0),p=c;do{if(m===0){Pl&&!c&&Ha(e,i,0,!1);break}else{if(o=e.current.alternate,p&&!YE(o)){m=lm(e,i,!1),p=!1;continue}if(m===2){if(p=i,e.errorRecoveryDisabledLanes&p)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var x=e;m=Hu;var k=x.current.memoizedState.isDehydrated;if(k&&(Vl(x,w).flags|=256),w=lm(x,w,!1),w!==2){if(em&&!k){x.errorRecoveryDisabledLanes|=p,Yo|=p,m=4;break t}p=zi,zi=m,p!==null&&(zi===null?zi=p:zi.push.apply(zi,p))}m=w}if(p=!1,m!==2)continue}}if(m===1){Vl(e,0),Ha(e,i,0,!0);break}t:{switch(c=e,p=m,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ha(c,i,is,!Ua);break t;case 2:zi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Th+300-un(),10<m)){if(Ha(c,i,is,!Ua),Ei(c,0,!0)!==0)break t;na=i,c.timeoutHandle=tv(Sy.bind(null,c,o,zi,wh,im,i,is,Yo,Dl,Ua,p,"Throttled",-0,0),m);break t}Sy(c,o,zi,wh,im,i,is,Yo,Dl,Ua,p,null,-0,0)}}break}while(!0);yr(e)}function Sy(e,i,o,c,m,p,w,x,k,Y,nt,ot,X,$){if(e.timeoutHandle=-1,ot=i.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},gy(i,p,ot);var xt=(p&62914560)===p?Th-un():(p&4194048)===p?Ty-un():0;if(xt=OS(ot,xt),xt!==null){na=p,e.cancelPendingCommit=xt(Oy.bind(null,e,i,p,o,c,m,w,x,k,nt,ot,null,X,$)),Ha(e,p,w,!Y);return}}Oy(e,i,p,o,c,m,w,x,k)}function YE(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],p=m.getSnapshot;m=m.value;try{if(!zn(p(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ha(e,i,o,c){i&=~nm,i&=~Yo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var p=31-De(m),w=1<<p;c[p]=-1,m&=~w}o!==0&&_t(e,o,i)}function Eh(){return(Ae&6)===0?(Gu(0),!1):!0}function om(){if(se!==null){if(Re===0)var e=se.return;else e=se,qs=gr=null,Ed(e),Cl=null,Cu=0,e=se;for(;e!==null;)ey(e.alternate,e),e=e.return;se=null}}function Vl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,mS(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),na=0,om(),Ue=e,se=o=bs(e.current,null),oe=i,Re=0,ns=null,Ua=!1,Pl=$n(e,i),em=!1,Dl=is=nm=Yo=Ba=ln=0,zi=Hu=null,im=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-De(c),p=1<<m;i|=e[m],c&=~p}return ea=i,Do(),o}function Ay(e,i){Kt=null,J.H=Du,i===xl||i===Jc?(i=jg(),Re=3):i===hd?(i=jg(),Re=4):Re=i===Ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ns=i,se===null&&(ln=1,fh(e,u(i,e.current)))}function xy(){var e=ts.current;return e===null?!0:(oe&4194048)===oe?ws===null:(oe&62914560)===oe||(oe&536870912)!==0?e===ws:!1}function Cy(){var e=J.H;return J.H=Du,e===null?Du:e}function Iy(){var e=J.A;return J.A=ZE,e}function Sh(){ln=4,Ua||(oe&4194048)!==oe&&ts.current!==null||(Pl=!0),(Ba&134217727)===0&&(Yo&134217727)===0||Ue===null||Ha(Ue,oe,is,!1)}function lm(e,i,o){var c=Ae;Ae|=2;var m=Cy(),p=Iy();(Ue!==e||oe!==i)&&(wh=null,Vl(e,i)),i=!1;var w=ln;t:do try{if(Re!==0&&se!==null){var x=se,k=ns;switch(Re){case 8:om(),w=6;break t;case 3:case 2:case 9:case 6:ts.current===null&&(i=!0);var Y=Re;if(Re=0,ns=null,zl(e,x,k,Y),o&&Pl){w=0;break t}break;default:Y=Re,Re=0,ns=null,zl(e,x,k,Y)}}QE(),w=ln;break}catch(nt){Ay(e,nt)}while(!0);return i&&e.shellSuspendCounter++,qs=gr=null,Ae=c,J.H=m,J.A=p,se===null&&(Ue=null,oe=0,Do()),w}function QE(){for(;se!==null;)Ry(se)}function XE(e,i){var o=Ae;Ae|=2;var c=Cy(),m=Iy();Ue!==e||oe!==i?(wh=null,bh=un()+500,Vl(e,i)):Pl=$n(e,i);t:do try{if(Re!==0&&se!==null){i=se;var p=ns;e:switch(Re){case 1:Re=0,ns=null,zl(e,i,p,1);break;case 2:case 9:if(Ug(p)){Re=0,ns=null,Ny(i);break}i=function(){Re!==2&&Re!==9||Ue!==e||(Re=7),yr(e)},p.then(i,i);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:Ug(p)?(Re=0,ns=null,Ny(i)):(Re=0,ns=null,zl(e,i,p,7));break;case 5:var w=null;switch(se.tag){case 26:w=se.memoizedState;case 5:case 27:var x=se;if(w?pv(w):x.stateNode.complete){Re=0,ns=null;var k=x.sibling;if(k!==null)se=k;else{var Y=x.return;Y!==null?(se=Y,Ah(Y)):se=null}break e}}Re=0,ns=null,zl(e,i,p,5);break;case 6:Re=0,ns=null,zl(e,i,p,6);break;case 8:om(),ln=6;break t;default:throw Error(a(462))}}WE();break}catch(nt){Ay(e,nt)}while(!0);return qs=gr=null,J.H=c,J.A=m,Ae=o,se!==null?0:(Ue=null,oe=0,Do(),ln)}function WE(){for(;se!==null&&!Is();)Ry(se)}function Ry(e){var i=$_(e.alternate,e,ea);e.memoizedProps=e.pendingProps,i===null?Ah(e):se=i}function Ny(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=K_(o,i,i.pendingProps,i.type,void 0,oe);break;case 11:i=K_(o,i,i.pendingProps,i.type.render,i.ref,oe);break;case 5:Ed(i);default:ey(o,i),i=se=Tu(i,ea),i=$_(o,i,ea)}e.memoizedProps=e.pendingProps,i===null?Ah(e):se=i}function zl(e,i,o,c){qs=gr=null,Ed(i),Cl=null,Cu=0;var m=i.return;try{if(UE(e,m,i,o,oe)){ln=1,fh(e,u(o,e.current)),se=null;return}}catch(p){if(m!==null)throw se=m,p;ln=1,fh(e,u(o,e.current)),se=null;return}i.flags&32768?(ie||c===1?e=!0:Pl||(oe&536870912)!==0?e=!1:(Ua=e=!0,(c===2||c===9||c===3||c===6)&&(c=ts.current,c!==null&&c.tag===13&&(c.flags|=16384))),My(i,e)):Ah(i)}function Ah(e){var i=e;do{if((i.flags&32768)!==0){My(i,Ua);return}e=i.return;var o=qE(i.alternate,i,ea);if(o!==null){se=o;return}if(i=i.sibling,i!==null){se=i;return}se=i=e}while(i!==null);ln===0&&(ln=5)}function My(e,i){do{var o=HE(e.alternate,e);if(o!==null){o.flags&=32767,se=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){se=e;return}se=e=o}while(e!==null);ln=6,se=null}function Oy(e,i,o,c,m,p,w,x,k){e.cancelPendingCommit=null;do xh();while(Nn!==0);if((Ae&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=vl,it(e,o,p,w,x,k),e===Ue&&(se=Ue=null,oe=0),kl=i,qa=e,na=o,sm=p,rm=m,by=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,eS(Ln,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,m=pt.p,pt.p=2,w=Ae,Ae|=4;try{FE(e,i,o)}finally{Ae=w,pt.p=m,J.T=c}}Nn=1,Ly(),Py(),Dy()}}function Ly(){if(Nn===1){Nn=0;var e=qa,i=kl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=pt.p;pt.p=2;var m=Ae;Ae|=4;try{dy(i,e);var p=Tm,w=No(e.containerInfo),x=p.focusedElem,k=p.selectionRange;if(w!==x&&x&&x.ownerDocument&&pl(x.ownerDocument.documentElement,x)){if(k!==null&&ur(x)){var Y=k.start,nt=k.end;if(nt===void 0&&(nt=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(nt,x.value.length);else{var ot=x.ownerDocument||document,X=ot&&ot.defaultView||window;if(X.getSelection){var $=X.getSelection(),xt=x.textContent.length,Pt=Math.min(k.start,xt),Pe=k.end===void 0?Pt:Math.min(k.end,xt);!$.extend&&Pt>Pe&&(w=Pe,Pe=Pt,Pt=w);var F=Ro(x,Pt),q=Ro(x,Pe);if(F&&q&&($.rangeCount!==1||$.anchorNode!==F.node||$.anchorOffset!==F.offset||$.focusNode!==q.node||$.focusOffset!==q.offset)){var K=ot.createRange();K.setStart(F.node,F.offset),$.removeAllRanges(),Pt>Pe?($.addRange(K),$.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),$.addRange(K))}}}}for(ot=[],$=x;$=$.parentNode;)$.nodeType===1&&ot.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ot.length;x++){var st=ot[x];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}zh=!!vm,Tm=vm=null}finally{Ae=m,pt.p=c,J.T=o}}e.current=i,Nn=2}}function Py(){if(Nn===2){Nn=0;var e=qa,i=kl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=pt.p;pt.p=2;var m=Ae;Ae|=4;try{ly(e,i.alternate,i)}finally{Ae=m,pt.p=c,J.T=o}}Nn=3}}function Dy(){if(Nn===4||Nn===3){Nn=0,Rr();var e=qa,i=kl,o=na,c=by;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Nn=5:(Nn=0,kl=qa=null,ky(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(ja=null),dt(o),i=i.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=J.T,m=pt.p,pt.p=2,J.T=null;try{for(var p=e.onRecoverableError,w=0;w<c.length;w++){var x=c[w];p(x.value,{componentStack:x.stack})}}finally{J.T=i,pt.p=m}}(na&3)!==0&&xh(),yr(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===am?Fu++:(Fu=0,am=e):Fu=0,Gu(0)}}function ky(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Au(i)))}function xh(){return Ly(),Py(),Dy(),Vy()}function Vy(){if(Nn!==5)return!1;var e=qa,i=sm;sm=0;var o=dt(na),c=J.T,m=pt.p;try{pt.p=32>o?32:o,J.T=null,o=rm,rm=null;var p=qa,w=na;if(Nn=0,kl=qa=null,na=0,(Ae&6)!==0)throw Error(a(331));var x=Ae;if(Ae|=4,yy(p.current),py(p,p.current,w,o),Ae=x,Gu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Jn,p)}catch{}return!0}finally{pt.p=m,J.T=c,ky(e,i)}}function zy(e,i,o){i=u(o,i),i=zd(e.stateNode,i,2),e=Da(e,i,2),e!==null&&(Si(e,2),yr(e))}function Ne(e,i,o){if(e.tag===3)zy(e,e,o);else for(;i!==null;){if(i.tag===3){zy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ja===null||!ja.has(c))){e=u(o,e),o=U_(2),c=Da(i,o,2),c!==null&&(B_(o,c,i,e),Si(c,2),yr(c));break}}i=i.return}}function um(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new KE;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(em=!0,m.add(o),e=JE.bind(null,e,i,o),i.then(e,e))}function JE(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ue===e&&(oe&o)===o&&(ln===4||ln===3&&(oe&62914560)===oe&&300>un()-Th?(Ae&2)===0&&Vl(e,0):nm|=o,Dl===oe&&(Dl=0)),yr(e)}function Uy(e,i){i===0&&(i=da()),e=Ts(e,i),e!==null&&(Si(e,i),yr(e))}function $E(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Uy(e,o)}function tS(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Uy(e,o)}function eS(e,i){return Fe(e,i)}var Ch=null,Ul=null,cm=!1,Ih=!1,hm=!1,Fa=0;function yr(e){e!==Ul&&e.next===null&&(Ul===null?Ch=Ul=e:Ul=Ul.next=e),Ih=!0,cm||(cm=!0,iS())}function Gu(e,i){if(!hm&&Ih){hm=!0;do for(var o=!1,c=Ch;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var w=c.suspendedLanes,x=c.pingedLanes;p=(1<<31-De(42|e)+1)-1,p&=m&~(w&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Hy(c,p))}else p=oe,p=Ei(c,c===Ue?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||$n(c,p)||(o=!0,Hy(c,p));c=c.next}while(o);hm=!1}}function nS(){By()}function By(){Ih=cm=!1;var e=0;Fa!==0&&dS()&&(e=Fa);for(var i=un(),o=null,c=Ch;c!==null;){var m=c.next,p=jy(c,i);p===0?(c.next=null,o===null?Ch=m:o.next=m,m===null&&(Ul=o)):(o=c,(e!==0||(p&3)!==0)&&(Ih=!0)),c=m}Nn!==0&&Nn!==5||Gu(e),Fa!==0&&(Fa=0)}function jy(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var w=31-De(p),x=1<<w,k=m[w];k===-1?((x&o)===0||(x&c)!==0)&&(m[w]=Gi(x,i)):k<=i&&(e.expiredLanes|=x),p&=~x}if(i=Ue,o=oe,o=Ei(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Wn(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||$n(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Wn(c),dt(o)){case 2:case 8:o=$s;break;case 32:o=Ln;break;case 268435456:o=Nr;break;default:o=Ln}return c=qy.bind(null,e),o=Fe(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Wn(c),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,i){if(Nn!==0&&Nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(xh()&&e.callbackNode!==o)return null;var c=oe;return c=Ei(e,e===Ue?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Ey(e,c,i),jy(e,un()),e.callbackNode!=null&&e.callbackNode===o?qy.bind(null,e):null)}function Hy(e,i){if(xh())return null;Ey(e,i,!0)}function iS(){pS(function(){(Ae&6)!==0?Fe(xn,nS):By()})}function fm(){if(Fa===0){var e=Sl;e===0&&(e=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),Fa=e}return Fa}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function Gy(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function sS(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var p=Fy((m[ke]||null).action),w=c.submitter;w&&(i=(i=w[ke]||null)?Fy(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var x=new gs("action","action",null,c,m);e.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fa!==0){var k=w?Gy(m,w):new FormData(m);Od(o,{pending:!0,data:k,method:m.method,action:p},null,k)}}else typeof p=="function"&&(x.preventDefault(),k=w?Gy(m,w):new FormData(m),Od(o,{pending:!0,data:k,method:m.method,action:p},p,k))},currentTarget:m}]})}}for(var dm=0;dm<fr.length;dm++){var mm=fr[dm],rS=mm.toLowerCase(),aS=mm[0].toUpperCase()+mm.slice(1);Oi(rS,"on"+aS)}Oi(Oo,"onAnimationEnd"),Oi(Zc,"onAnimationIteration"),Oi(Lo,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(id,"onTransitionRun"),Oi(Kc,"onTransitionStart"),Oi(sd,"onTransitionCancel"),Oi(Na,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function Zy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var p=void 0;if(i)for(var w=c.length-1;0<=w;w--){var x=c[w],k=x.instance,Y=x.currentTarget;if(x=x.listener,k!==p&&m.isPropagationStopped())break t;p=x,m.currentTarget=Y;try{p(m)}catch(nt){Po(nt)}m.currentTarget=null,p=k}else for(w=0;w<c.length;w++){if(x=c[w],k=x.instance,Y=x.currentTarget,x=x.listener,k!==p&&m.isPropagationStopped())break t;p=x,m.currentTarget=Y;try{p(m)}catch(nt){Po(nt)}m.currentTarget=null,p=k}}}}function re(e,i){var o=i[In];o===void 0&&(o=i[In]=new Set);var c=e+"__bubble";o.has(c)||(Ky(i,e,2,!1),o.add(c))}function pm(e,i,o){var c=0;i&&(c|=4),Ky(o,e,c,i)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[Rh]){e[Rh]=!0,ma.forEach(function(o){o!=="selectionchange"&&(oS.has(o)||pm(o,!1,e),pm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Rh]||(i[Rh]=!0,pm("selectionchange",!1,i))}}function Ky(e,i,o,c){switch(wv(i)){case 2:var m=DS;break;case 8:m=kS;break;default:m=Mm}o=m.bind(null,i,o,e),m=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function _m(e,i,o,c,m){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var x=c.stateNode.containerInfo;if(x===m)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;x!==null;){if(w=ei(x),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){c=p=w;continue t}x=x.parentNode}}c=c.return}Ls(function(){var Y=p,nt=ii(o),ot=[];t:{var X=Yc.get(e);if(X!==void 0){var $=gs,xt=e;switch(e){case"keypress":if(ar(o)===0)break t;case"keydown":case"keyup":$=So;break;case"focusin":xt="focus",$=Br;break;case"focusout":xt="blur",$=Br;break;case"beforeblur":case"afterblur":$=Br;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Oo:case Zc:case Lo:$=Ta;break;case Na:$=I;break;case"scroll":case"scrollend":$=Xt;break;case"wheel":$=W;break;case"copy":case"cut":case"paste":$=gi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=zs;break;case"toggle":case"beforetoggle":$=Vt}var Pt=(i&4)!==0,Pe=!Pt&&(e==="scroll"||e==="scrollend"),F=Pt?X!==null?X+"Capture":null:X;Pt=[];for(var q=Y,K;q!==null;){var st=q;if(K=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||K===null||F===null||(st=pi(q,F),st!=null&&Pt.push(Ku(q,st,K))),Pe)break;q=q.return}0<Pt.length&&(X=new $(X,xt,null,o,nt),ot.push({event:X,listeners:Pt}))}}if((i&7)===0){t:{if(X=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",X&&o!==va&&(xt=o.relatedTarget||o.fromElement)&&(ei(xt)||xt[mn]))break t;if(($||X)&&(X=nt.window===nt?nt:(X=nt.ownerDocument)?X.defaultView||X.parentWindow:window,$?(xt=o.relatedTarget||o.toElement,$=Y,xt=xt?ei(xt):null,xt!==null&&(Pe=h(xt),Pt=xt.tag,xt!==Pe||Pt!==5&&Pt!==27&&Pt!==6)&&(xt=null)):($=null,xt=Y),$!==xt)){if(Pt=vo,st="onMouseLeave",F="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Pt=zs,st="onPointerLeave",F="onPointerEnter",q="pointer"),Pe=$==null?X:pn($),K=xt==null?X:pn(xt),X=new Pt(st,q+"leave",$,o,nt),X.target=Pe,X.relatedTarget=K,st=null,ei(nt)===Y&&(Pt=new Pt(F,q+"enter",xt,o,nt),Pt.target=K,Pt.relatedTarget=Pe,st=Pt),Pe=st,$&&xt)e:{for(Pt=lS,F=$,q=xt,K=0,st=F;st;st=Pt(st))K++;st=0;for(var Mt=q;Mt;Mt=Pt(Mt))st++;for(;0<K-st;)F=Pt(F),K--;for(;0<st-K;)q=Pt(q),st--;for(;K--;){if(F===q||q!==null&&F===q.alternate){Pt=F;break e}F=Pt(F),q=Pt(q)}Pt=null}else Pt=null;$!==null&&Yy(ot,X,$,Pt,!1),xt!==null&&Pe!==null&&Yy(ot,Pe,xt,Pt,!0)}}t:{if(X=Y?pn(Y):window,$=X.nodeName&&X.nodeName.toLowerCase(),$==="select"||$==="input"&&X.type==="file")var Te=Io;else if(_s(X))if(jc)Te=nd;else{Te=ed;var Ct=Us}else $=X.nodeName,!$||$.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&ir(Y.elementType)&&(Te=Io):Te=xa;if(Te&&(Te=Te(e,Y))){Bc(ot,Te,o,nt);break t}Ct&&Ct(e,X,Y),e==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Zi(X,"number",X.value)}switch(Ct=Y?pn(Y):window,e){case"focusin":(_s(Ct)||Ct.contentEditable==="true")&&(cr=Ct,_l=Y,Mo=null);break;case"focusout":Mo=_l=cr=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Fc(ot,o,nt);break;case"selectionchange":if(gl)break;case"keydown":case"keyup":Fc(ot,o,nt)}var Qt;if(de)t:{switch(e){case"compositionstart":var le="onCompositionStart";break t;case"compositionend":le="onCompositionEnd";break t;case"compositionupdate":le="onCompositionUpdate";break t}le=void 0}else Ea?jr(e,o)&&(le="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(le="onCompositionStart");le&&(Mi&&o.locale!=="ko"&&(Ea||le!=="onCompositionStart"?le==="onCompositionEnd"&&Ea&&(Qt=Ki()):(Ri=nt,Ds="value"in Ri?Ri.value:Ri.textContent,Ea=!0)),Ct=Nh(Y,le),0<Ct.length&&(le=new Xi(le,e,null,o,nt),ot.push({event:le,listeners:Ct}),Qt?le.data=Qt:(Qt=qr(o),Qt!==null&&(le.data=Qt)))),(Qt=Ni?$i(e,o):Sa(e,o))&&(le=Nh(Y,"onBeforeInput"),0<le.length&&(Ct=new Xi("onBeforeInput","beforeinput",null,o,nt),ot.push({event:Ct,listeners:le}),Ct.data=Qt)),sS(ot,e,Y,o,nt)}Zy(ot,i)})}function Ku(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Nh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=pi(e,o),m!=null&&c.unshift(Ku(e,m,p)),m=pi(e,i),m!=null&&c.push(Ku(e,m,p))),e.tag===3)return c;e=e.return}return[]}function lS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,i,o,c,m){for(var p=i._reactName,w=[];o!==null&&o!==c;){var x=o,k=x.alternate,Y=x.stateNode;if(x=x.tag,k!==null&&k===c)break;x!==5&&x!==26&&x!==27||Y===null||(k=Y,m?(Y=pi(o,p),Y!=null&&w.unshift(Ku(o,Y,k))):m||(Y=pi(o,p),Y!=null&&w.push(Ku(o,Y,k)))),o=o.return}w.length!==0&&e.push({event:i,listeners:w})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(uS,`
`).replace(cS,"")}function Xy(e,i){return i=Qy(i),Qy(e)===i}function Le(e,i,o,c,m,p){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||gn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&gn(e,""+c);break;case"className":ne(e,"class",c);break;case"tabIndex":ne(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ne(e,o,c);break;case"style":Vr(e,c,p);break;case"data":if(i!=="object"){ne(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=sr(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&Le(e,i,"name",m.name,m,null),Le(e,i,"formEncType",m.formEncType,m,null),Le(e,i,"formMethod",m.formMethod,m,null),Le(e,i,"formTarget",m.formTarget,m,null)):(Le(e,i,"encType",m.encType,m,null),Le(e,i,"method",m.method,m,null),Le(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=sr(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=ni);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=sr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":re("beforetoggle",e),re("toggle",e),Jt(e,"popover",c);break;case"xlinkActuate":Ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ke(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ke(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ke(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ke(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Jt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zr.get(o)||o,Jt(e,o,c))}}function ym(e,i,o,c,m,p){switch(o){case"style":Vr(e,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?gn(e,c):(typeof c=="number"||typeof c=="bigint")&&gn(e,""+c);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"onClick":c!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),p=e[ke]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(i,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Jt(e,o,c)}}}function Kn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var c=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(e,i,p,w,o,null)}}m&&Le(e,i,"srcSet",o.srcSet,o,null),c&&Le(e,i,"src",o.src,o,null);return;case"input":re("invalid",e);var x=p=w=m=null,k=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var nt=o[c];if(nt!=null)switch(c){case"name":m=nt;break;case"type":w=nt;break;case"checked":k=nt;break;case"defaultChecked":Y=nt;break;case"value":p=nt;break;case"defaultValue":x=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(a(137,i));break;default:Le(e,i,c,nt,o,null)}}kr(e,p,x,k,Y,w,m,!1);return;case"select":re("invalid",e),c=w=p=null;for(m in o)if(o.hasOwnProperty(m)&&(x=o[m],x!=null))switch(m){case"value":p=x;break;case"defaultValue":w=x;break;case"multiple":c=x;default:Le(e,i,m,x,o,null)}i=p,o=w,e.multiple=!!c,i!=null?Ie(e,!!c,i,!1):o!=null&&Ie(e,!!c,o,!0);return;case"textarea":re("invalid",e),p=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(x=o[w],x!=null))switch(w){case"value":c=x;break;case"defaultValue":m=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:Le(e,i,w,x,o,null)}Ii(e,c,m,p);return;case"option":for(k in o)o.hasOwnProperty(k)&&(c=o[k],c!=null)&&(k==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Le(e,i,k,c,o,null));return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(c=0;c<Zu.length;c++)re(Zu[c],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(e,i,Y,c,o,null)}return;default:if(ir(i)){for(nt in o)o.hasOwnProperty(nt)&&(c=o[nt],c!==void 0&&ym(e,i,nt,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&Le(e,i,x,c,o,null))}function hS(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,w=null,x=null,k=null,Y=null,nt=null;for($ in o){var ot=o[$];if(o.hasOwnProperty($)&&ot!=null)switch($){case"checked":break;case"value":break;case"defaultValue":k=ot;default:c.hasOwnProperty($)||Le(e,i,$,null,c,ot)}}for(var X in c){var $=c[X];if(ot=o[X],c.hasOwnProperty(X)&&($!=null||ot!=null))switch(X){case"type":p=$;break;case"name":m=$;break;case"checked":Y=$;break;case"defaultChecked":nt=$;break;case"value":w=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:$!==ot&&Le(e,i,X,$,c,ot)}}_a(e,w,x,k,Y,nt,p,m);return;case"select":$=w=x=X=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":$=k;default:c.hasOwnProperty(p)||Le(e,i,p,null,c,k)}for(m in c)if(p=c[m],k=o[m],c.hasOwnProperty(m)&&(p!=null||k!=null))switch(m){case"value":X=p;break;case"defaultValue":x=p;break;case"multiple":w=p;default:p!==k&&Le(e,i,m,p,c,k)}i=x,o=w,c=$,X!=null?Ie(e,!!o,X,!1):!!c!=!!o&&(i!=null?Ie(e,!!o,i,!0):Ie(e,!!o,o?[]:"",!1));return;case"textarea":$=X=null;for(x in o)if(m=o[x],o.hasOwnProperty(x)&&m!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Le(e,i,x,null,c,m)}for(w in c)if(m=c[w],p=o[w],c.hasOwnProperty(w)&&(m!=null||p!=null))switch(w){case"value":X=m;break;case"defaultValue":$=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==p&&Le(e,i,w,m,c,p)}ds(e,X,$);return;case"option":for(var xt in o)X=o[xt],o.hasOwnProperty(xt)&&X!=null&&!c.hasOwnProperty(xt)&&(xt==="selected"?e.selected=!1:Le(e,i,xt,null,c,X));for(k in c)X=c[k],$=o[k],c.hasOwnProperty(k)&&X!==$&&(X!=null||$!=null)&&(k==="selected"?e.selected=X&&typeof X!="function"&&typeof X!="symbol":Le(e,i,k,X,c,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in o)X=o[Pt],o.hasOwnProperty(Pt)&&X!=null&&!c.hasOwnProperty(Pt)&&Le(e,i,Pt,null,c,X);for(Y in c)if(X=c[Y],$=o[Y],c.hasOwnProperty(Y)&&X!==$&&(X!=null||$!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:Le(e,i,Y,X,c,$)}return;default:if(ir(i)){for(var Pe in o)X=o[Pe],o.hasOwnProperty(Pe)&&X!==void 0&&!c.hasOwnProperty(Pe)&&ym(e,i,Pe,void 0,c,X);for(nt in c)X=c[nt],$=o[nt],!c.hasOwnProperty(nt)||X===$||X===void 0&&$===void 0||ym(e,i,nt,X,c,$);return}}for(var F in o)X=o[F],o.hasOwnProperty(F)&&X!=null&&!c.hasOwnProperty(F)&&Le(e,i,F,null,c,X);for(ot in c)X=c[ot],$=o[ot],!c.hasOwnProperty(ot)||X===$||X==null&&$==null||Le(e,i,ot,X,c,$)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],p=m.transferSize,w=m.initiatorType,x=m.duration;if(p&&x&&Wy(w)){for(w=0,x=m.responseEnd,c+=1;c<o.length;c++){var k=o[c],Y=k.startTime;if(Y>x)break;var nt=k.transferSize,ot=k.initiatorType;nt&&Wy(ot)&&(k=k.responseEnd,w+=nt*(k<x?1:(x-Y)/(k-Y)))}if(--c,i+=8*(p+w)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vm=null,Tm=null;function Mh(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function dS(){var e=window.event;return e&&e.type==="popstate"?e===wm?!1:(wm=e,!0):(wm=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(e){return ev.resolve(null).then(e).catch(gS)}:tv;function gS(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function nv(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Hl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Yu(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Yu(o);for(var p=o.firstChild;p;){var w=p.nextSibling,x=p.nodeName;p[Ai]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=w}}else o==="body"&&Yu(e.ownerDocument.body);o=m}while(o);Hl(i)}function iv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Em(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Em(o),Ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function _S(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ai])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Es(e.nextSibling),e===null)break}return null}function yS(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Es(e.nextSibling),e===null))return null;return e}function sv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Es(e.nextSibling),e===null))return null;return e}function Sm(e){return e.data==="$?"||e.data==="$~"}function Am(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vS(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Es(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var xm=null;function rv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return Es(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function av(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function ov(e,i,o){switch(i=Mh(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ns(e)}var Ss=new Map,lv=new Set;function Oh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=pt.d;pt.d={f:TS,r:bS,D:wS,C:ES,L:SS,m:AS,X:CS,S:xS,M:IS};function TS(){var e=ia.f(),i=Eh();return e||i}function bS(e){var i=Fn(e);i!==null&&i.tag===5&&i.type==="form"?A_(i):ia.r(e)}var Bl=typeof document>"u"?null:document;function uv(e,i,o){var c=Bl;if(c&&typeof i=="string"&&i){var m=Ve(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),lv.has(m)||(lv.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),Kn(i,"link",e),$e(i),c.head.appendChild(i)))}}function wS(e){ia.D(e),uv("dns-prefetch",e,null)}function ES(e,i){ia.C(e,i),uv("preconnect",e,i)}function SS(e,i,o){ia.L(e,i,o);var c=Bl;if(c&&e&&i){var m='link[rel="preload"][as="'+Ve(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ve(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ve(o.imageSizes)+'"]')):m+='[href="'+Ve(e)+'"]';var p=m;switch(i){case"style":p=jl(e);break;case"script":p=ql(e)}Ss.has(p)||(e=R({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Ss.set(p,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Qu(p))||i==="script"&&c.querySelector(Xu(p))||(i=c.createElement("link"),Kn(i,"link",e),$e(i),c.head.appendChild(i)))}}function AS(e,i){ia.m(e,i);var o=Bl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Ve(c)+'"][href="'+Ve(e)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ql(e)}if(!Ss.has(p)&&(e=R({rel:"modulepreload",href:e},i),Ss.set(p,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xu(p)))return}c=o.createElement("link"),Kn(c,"link",e),$e(c),o.head.appendChild(c)}}}function xS(e,i,o){ia.S(e,i,o);var c=Bl;if(c&&e){var m=di(c).hoistableStyles,p=jl(e);i=i||"default";var w=m.get(p);if(!w){var x={loading:0,preload:null};if(w=c.querySelector(Qu(p)))x.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Ss.get(p))&&Cm(e,o);var k=w=c.createElement("link");$e(k),Kn(k,"link",e),k._p=new Promise(function(Y,nt){k.onload=Y,k.onerror=nt}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Lh(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:x},m.set(p,w)}}}function CS(e,i){ia.X(e,i);var o=Bl;if(o&&e){var c=di(o).hoistableScripts,m=ql(e),p=c.get(m);p||(p=o.querySelector(Xu(m)),p||(e=R({src:e,async:!0},i),(i=Ss.get(m))&&Im(e,i),p=o.createElement("script"),$e(p),Kn(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function IS(e,i){ia.M(e,i);var o=Bl;if(o&&e){var c=di(o).hoistableScripts,m=ql(e),p=c.get(m);p||(p=o.querySelector(Xu(m)),p||(e=R({src:e,async:!0,type:"module"},i),(i=Ss.get(m))&&Im(e,i),p=o.createElement("script"),$e(p),Kn(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function cv(e,i,o,c){var m=(m=yt.current)?Oh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=jl(o.href),o=di(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=jl(o.href);var p=di(m).hoistableStyles,w=p.get(e);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,w),(p=m.querySelector(Qu(e)))&&!p._p&&(w.instance=p,w.state.loading=5),Ss.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ss.set(e,o),p||RS(m,e,o,w.state))),i&&c===null)throw Error(a(528,""));return w}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ql(o),o=di(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function jl(e){return'href="'+Ve(e)+'"'}function Qu(e){return'link[rel="stylesheet"]['+e+"]"}function hv(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function RS(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Kn(i,"link",o),$e(i),e.head.appendChild(i))}function ql(e){return'[src="'+Ve(e)+'"]'}function Xu(e){return"script[async]"+e}function fv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ve(o.href)+'"]');if(c)return i.instance=c,$e(c),c;var m=R({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),$e(c),Kn(c,"style",m),Lh(c,o.precedence,e),i.instance=c;case"stylesheet":m=jl(o.href);var p=e.querySelector(Qu(m));if(p)return i.state.loading|=4,i.instance=p,$e(p),p;c=hv(o),(m=Ss.get(m))&&Cm(c,m),p=(e.ownerDocument||e).createElement("link"),$e(p);var w=p;return w._p=new Promise(function(x,k){w.onload=x,w.onerror=k}),Kn(p,"link",c),i.state.loading|=4,Lh(p,o.precedence,e),i.instance=p;case"script":return p=ql(o.src),(m=e.querySelector(Xu(p)))?(i.instance=m,$e(m),m):(c=o,(m=Ss.get(p))&&(c=R({},o),Im(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),$e(m),Kn(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Lh(c,o.precedence,e));return i.instance}function Lh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,w=0;w<c.length;w++){var x=c[w];if(x.dataset.precedence===i)p=x;else if(p!==m)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Cm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Im(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ph=null;function dv(e,i,o){if(Ph===null){var c=new Map,m=Ph=new Map;m.set(o,c)}else m=Ph,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var p=o[m];if(!(p[Ai]||p[je]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=e+w;var x=c.get(w);x?x.push(p):c.set(w,[p])}}return c}function mv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function NS(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function MS(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=jl(c.href),p=i.querySelector(Qu(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Dh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=p,$e(p);return}p=i.ownerDocument||i,c=hv(c),(m=Ss.get(m))&&Cm(c,m),p=p.createElement("link"),$e(p);var w=p;w._p=new Promise(function(x,k){w.onload=x,w.onerror=k}),Kn(p,"link",c),o.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Dh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Rm=0;function OS(e,i){return e.stylesheets&&e.count===0&&Vh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Vh(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+i);0<e.imgBytes&&Rm===0&&(Rm=62500*fS());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vh(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Rm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kh=null;function Vh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kh=new Map,i.forEach(LS,e),kh=null,Dh.call(e))}function LS(e,i){if(!(i.state.loading&4)){var o=kh.get(e);if(o)var c=o.get(null);else{o=new Map,kh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var w=m[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=i.instance,w=m.getAttribute("data-precedence"),p=o.get(w)||c,p===c&&o.set(null,m),o.set(w,m),this.count++,c=Dh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Wu={$$typeof:Rt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function PS(e,i,o,c,m,p,w,x,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function gv(e,i,o,c,m,p,w,x,k,Y,nt,ot){return e=new PS(e,i,o,w,k,Y,nt,ot,x),i=1,p===!0&&(i|=24),p=oi(3,null,null,i),e.current=p,p.stateNode=e,i=ld(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:i},fd(p),e}function _v(e){return e?(e=Hr,e):Hr}function yv(e,i,o,c,m,p){m=_v(m),c.context===null?c.context=m:c.pendingContext=m,c=Pa(i),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Da(e,c,i),o!==null&&(Ui(o,e,i),Ru(o,e,i))}function vv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Nm(e,i){vv(e,i),(e=e.alternate)&&vv(e,i)}function Tv(e){if(e.tag===13||e.tag===31){var i=Ts(e,67108864);i!==null&&Ui(i,e,67108864),Nm(e,67108864)}}function bv(e){if(e.tag===13||e.tag===31){var i=ss();i=Se(i);var o=Ts(e,i);o!==null&&Ui(o,e,i),Nm(e,i)}}var zh=!0;function DS(e,i,o,c){var m=J.T;J.T=null;var p=pt.p;try{pt.p=2,Mm(e,i,o,c)}finally{pt.p=p,J.T=m}}function kS(e,i,o,c){var m=J.T;J.T=null;var p=pt.p;try{pt.p=8,Mm(e,i,o,c)}finally{pt.p=p,J.T=m}}function Mm(e,i,o,c){if(zh){var m=Om(c);if(m===null)_m(e,i,c,Uh,o),Ev(e,c);else if(zS(m,e,i,o,c))c.stopPropagation();else if(Ev(e,c),i&4&&-1<VS.indexOf(e)){for(;m!==null;){var p=Fn(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=wi(p.pendingLanes);if(w!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var k=1<<31-De(w);x.entanglements[1]|=k,w&=~k}yr(p),(Ae&6)===0&&(bh=un()+500,Gu(0))}}break;case 31:case 13:x=Ts(p,2),x!==null&&Ui(x,p,2),Eh(),Nm(p,2)}if(p=Om(c),p===null&&_m(e,i,c,Uh,o),p===m)break;m=p}m!==null&&c.stopPropagation()}else _m(e,i,c,null,o)}}function Om(e){return e=ii(e),Lm(e)}var Uh=null;function Lm(e){if(Uh=null,e=ei(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=g(i),e!==null)return e;e=null}else if(o===31){if(e=v(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Uh=e,null}function wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case xn:return 2;case $s:return 8;case Ln:case fa:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var Pm=!1,Za=null,Ka=null,Ya=null,Ju=new Map,$u=new Map,Qa=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(e,i){switch(e){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Ju.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(i.pointerId)}}function tc(e,i,o,c,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},i!==null&&(i=Fn(i),i!==null&&Tv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function zS(e,i,o,c,m){switch(i){case"focusin":return Za=tc(Za,e,i,o,c,m),!0;case"dragenter":return Ka=tc(Ka,e,i,o,c,m),!0;case"mouseover":return Ya=tc(Ya,e,i,o,c,m),!0;case"pointerover":var p=m.pointerId;return Ju.set(p,tc(Ju.get(p)||null,e,i,o,c,m)),!0;case"gotpointercapture":return p=m.pointerId,$u.set(p,tc($u.get(p)||null,e,i,o,c,m)),!0}return!1}function Sv(e){var i=ei(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=g(o),i!==null){e.blockedOn=i,Ze(e.priority,function(){bv(o)});return}}else if(i===31){if(i=v(o),i!==null){e.blockedOn=i,Ze(e.priority,function(){bv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Om(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);va=c,o.target.dispatchEvent(c),va=null}else return i=Fn(o),i!==null&&Tv(i),e.blockedOn=o,!1;i.shift()}return!0}function Av(e,i,o){Bh(e)&&o.delete(i)}function US(){Pm=!1,Za!==null&&Bh(Za)&&(Za=null),Ka!==null&&Bh(Ka)&&(Ka=null),Ya!==null&&Bh(Ya)&&(Ya=null),Ju.forEach(Av),$u.forEach(Av)}function jh(e,i){e.blockedOn===i&&(e.blockedOn=null,Pm||(Pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,US)))}var qh=null;function xv(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Lm(c||o)===null)continue;break}var p=Fn(o);p!==null&&(e.splice(i,3),i-=3,Od(p,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Hl(e){function i(k){return jh(k,e)}Za!==null&&jh(Za,e),Ka!==null&&jh(Ka,e),Ya!==null&&jh(Ya,e),Ju.forEach(i),$u.forEach(i);for(var o=0;o<Qa.length;o++){var c=Qa[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Qa.length&&(o=Qa[0],o.blockedOn===null);)Sv(o),o.blockedOn===null&&Qa.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],p=o[c+1],w=m[ke]||null;if(typeof p=="function")w||xv(o);else if(w){var x=null;if(p&&p.hasAttribute("formAction")){if(m=p,w=p[ke]||null)x=w.formAction;else if(Lm(m)!==null)continue}else x=w.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),xv(o)}}}function Cv(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Dm(e){this._internalRoot=e}Hh.prototype.render=Dm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=ss();yv(o,c,e,i,null,null)},Hh.prototype.unmount=Dm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;yv(e.current,2,null,e,null,null),Eh(),i[mn]=null}};function Hh(e){this._internalRoot=e}Hh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Je();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Qa.length&&i!==0&&i<Qa[o].priority;o++);Qa.splice(o,0,e),o===0&&Sv(e)}};var Iv=t.version;if(Iv!=="19.2.4")throw Error(a(527,Iv,"19.2.4"));pt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=E(i),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var BS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Jn=Fh.inject(BS),nn=Fh}catch{}}return nc.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=D_,p=k_,w=V_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=gv(e,1,!1,null,null,o,c,null,m,p,w,Cv),e[mn]=i.current,gm(e),new Dm(i)},nc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",p=D_,w=k_,x=V_,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),i=gv(e,1,!0,i,o??null,c,m,k,p,w,x,Cv),i.context=_v(null),o=i.current,c=ss(),c=Se(c),m=Pa(c),m.callback=null,Da(o,m,c),o=c,i.current.lanes=o,Si(i,o),yr(i),e[mn]=i.current,gm(e),new Hh(i)},nc.version="19.2.4",nc}var zv;function WS(){if(zv)return zm.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zm.exports=XS(),zm.exports}var JS=WS();const $S=Op(JS);var ac={exports:{}};var t1=ac.exports,Uv;function e1(){return Uv||(Uv=1,(function(r,t){(function(n,a){a(t)})(t1,(function(n){var a="1.9.4";function l(s){var u,d,_,b;for(d=1,_=arguments.length;d<_;d++){b=arguments[d];for(u in b)s[u]=b[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function g(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function T(s){return"_leaflet_id"in s||(s._leaflet_id=++v),s._leaflet_id}function E(s,u,d){var _,b,A,O;return O=function(){_=!1,b&&(A.apply(d,b),b=!1)},A=function(){_?b=arguments:(s.apply(d,arguments),setTimeout(O,u),_=!0)},A}function C(s,u,d){var _=u[1],b=u[0],A=_-b;return s===_&&d?s:((s-b)%A+A)%A+b}function R(){return!1}function V(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function tt(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function ut(s){return tt(s).split(/\s+/)}function ct(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function Tt(s,u,d){var _=[];for(var b in s)_.push(encodeURIComponent(d?b.toUpperCase():b)+"="+encodeURIComponent(s[b]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var Nt=/\{ *([\w_ -]+) *\}/g;function Bt(s,u){return s.replace(Nt,function(d,_){var b=u[_];if(b===void 0)throw new Error("No value provided for variable "+d);return typeof b=="function"&&(b=b(u)),b})}var Rt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Gt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var _e="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $t(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var U=0;function M(s){var u=+new Date,d=Math.max(0,16-(u-U));return U=u+d,window.setTimeout(s,d)}var D=window.requestAnimationFrame||$t("RequestAnimationFrame")||M,j=window.cancelAnimationFrame||$t("CancelAnimationFrame")||$t("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function B(s,u,d){if(d&&D===M)s.call(u);else return D.call(window,g(s,u))}function H(s){s&&j.call(window,s)}var P={__proto__:null,extend:l,create:h,bind:g,get lastId(){return v},stamp:T,throttle:E,wrapNum:C,falseFn:R,formatNum:V,trim:tt,splitWords:ut,setOptions:ct,getParamString:Tt,template:Bt,isArray:Rt,indexOf:Gt,emptyImageUrl:_e,requestFn:D,cancelFn:j,requestAnimFrame:B,cancelAnimFrame:H};function Wt(){}Wt.extend=function(s){var u=function(){ct(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return s.statics&&l(u,s.statics),s.includes&&(en(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,O=_._initHooks.length;A<O;A++)_._initHooks[A].call(this)}},u},Wt.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},Wt.mergeOptions=function(s){return l(this.prototype.options,s),this},Wt.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function en(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=Rt(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=ut(s);for(var b=0,A=s.length;b<A;b++)this._on(s[b],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=ut(s);for(var b=arguments.length===1,A=0,O=s.length;A<O;A++)b?this._off(s[A]):this._off(s[A],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var b={fn:u,ctx:d};_&&(b.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(b)}},_off:function(s,u,d){var _,b,A;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,A=_.length;b<A;b++)_[b].fn=R;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var O=this._listens(s,u,d);if(O!==!1){var G=_[O];this._firingCount&&(G.fn=R,this._events[s]=_=_.slice()),_.splice(O,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[s];if(b){this._firingCount=this._firingCount+1||1;for(var A=0,O=b.length;A<O;A++){var G=b[A],Q=G.fn;G.once&&this.off(s,Q,G.ctx),Q.call(G.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(_=!!u,b=void 0,d=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,b,d)!==!1)return!0;if(_){for(var O in this._eventParents)if(this._eventParents[O].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var b=0,A=_.length;b<A;b++)if(_[b].fn===u&&_[b].ctx===d)return b;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=ut(s);for(var b=0,A=s.length;b<A;b++)this._on(s[b],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[T(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[T(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var pt=Wt.extend(J);function ht(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ht.prototype={clone:function(){return new ht(this.x,this.y)},add:function(s){return this.clone()._add(bt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(bt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ht(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ht(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(s){s=bt(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=bt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=bt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+V(this.x)+", "+V(this.y)+")"}};function bt(s,u,d){return s instanceof ht?s:Rt(s)?new ht(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ht(s.x,s.y):new ht(s,u,d)}function z(s,u){if(s)for(var d=u?[s,u]:s,_=0,b=d.length;_<b;_++)this.extend(d[_])}z.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof ht||typeof s[0]=="number"||"x"in s)u=d=bt(s);else if(s=et(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return bt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return bt(this.min.x,this.max.y)},getTopRight:function(){return bt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof ht?s=bt(s):s=et(s),s instanceof z?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=et(s);var u=this.min,d=this.max,_=s.min,b=s.max,A=b.x>=u.x&&_.x<=d.x,O=b.y>=u.y&&_.y<=d.y;return A&&O},overlaps:function(s){s=et(s);var u=this.min,d=this.max,_=s.min,b=s.max,A=b.x>u.x&&_.x<d.x,O=b.y>u.y&&_.y<d.y;return A&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,b=Math.abs(u.y-d.y)*s;return et(bt(u.x-_,u.y-b),bt(d.x+_,d.y+b))},equals:function(s){return s?(s=et(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function et(s,u){return!s||s instanceof z?s:new z(s,u)}function ft(s,u){if(s)for(var d=u?[s,u]:s,_=0,b=d.length;_<b;_++)this.extend(d[_])}ft.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,b;if(s instanceof wt)_=s,b=s;else if(s instanceof ft){if(_=s._southWest,b=s._northEast,!_||!b)return this}else return s?this.extend(yt(s)||mt(s)):this;return!u&&!d?(this._southWest=new wt(_.lat,_.lng),this._northEast=new wt(b.lat,b.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(b.lat,d.lat),d.lng=Math.max(b.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,b=Math.abs(u.lng-d.lng)*s;return new ft(new wt(u.lat-_,u.lng-b),new wt(d.lat+_,d.lng+b))},getCenter:function(){return new wt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new wt(this.getNorth(),this.getWest())},getSouthEast:function(){return new wt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof wt||"lat"in s?s=yt(s):s=mt(s);var u=this._southWest,d=this._northEast,_,b;return s instanceof ft?(_=s.getSouthWest(),b=s.getNorthEast()):_=b=s,_.lat>=u.lat&&b.lat<=d.lat&&_.lng>=u.lng&&b.lng<=d.lng},intersects:function(s){s=mt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),A=b.lat>=u.lat&&_.lat<=d.lat,O=b.lng>=u.lng&&_.lng<=d.lng;return A&&O},overlaps:function(s){s=mt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),A=b.lat>u.lat&&_.lat<d.lat,O=b.lng>u.lng&&_.lng<d.lng;return A&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=mt(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function mt(s,u){return s instanceof ft?s:new ft(s,u)}function wt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}wt.prototype={equals:function(s,u){if(!s)return!1;s=yt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+V(this.lat,s)+", "+V(this.lng,s)+")"},distanceTo:function(s){return Ee.distance(this,yt(s))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return mt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new wt(this.lat,this.lng,this.alt)}};function yt(s,u,d){return s instanceof wt?s:Rt(s)&&typeof s[0]!="object"?s.length===3?new wt(s[0],s[1],s[2]):s.length===2?new wt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new wt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new wt(s,u,d)}var Ut={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),b=this.transformation.transform(u.max,d);return new z(_,b)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?C(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?C(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new wt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,b=u.lng-d.lng;if(_===0&&b===0)return s;var A=s.getSouthWest(),O=s.getNorthEast(),G=new wt(A.lat-_,A.lng-b),Q=new wt(O.lat-_,O.lng-b);return new ft(G,Q)}},Ee=l({},Ut,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,b=u.lat*d,A=Math.sin((u.lat-s.lat)*d/2),O=Math.sin((u.lng-s.lng)*d/2),G=A*A+Math.cos(_)*Math.cos(b)*O*O,Q=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*Q}}),Me=6378137,os={R:Me,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),b=Math.sin(_*u);return new ht(this.R*s.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(s){var u=180/Math.PI;return new wt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Me*Math.PI;return new z([-s,-s],[s,s])})()};function qi(s,u,d,_){if(Rt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}qi.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ht((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Hi(s,u,d,_){return new qi(s,u,d,_)}var Fi=l({},Ee,{code:"EPSG:3857",projection:os,transformation:(function(){var s=.5/(Math.PI*os.R);return Hi(s,.5,-s,.5)})()}),ee=l({},Fi,{code:"EPSG:900913"});function bi(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Zt(s,u){var d="",_,b,A,O,G,Q;for(_=0,A=s.length;_<A;_++){for(G=s[_],b=0,O=G.length;b<O;b++)Q=G[b],d+=(b?"L":"M")+Q.x+" "+Q.y;d+=u?dt.svg?"z":"x":""}return d||"M0 0"}var On=document.documentElement.style,ls="ActiveXObject"in window,He=ls&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),Wn=Se("webkit"),Is=Se("android"),Rr=Se("android 2")||Se("android 3"),un=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rs=Is&&Se("Google")&&un<537&&!("AudioNode"in window),xn=!!window.opera,$s=!Fe&&Se("chrome"),Ln=Se("gecko")&&!Wn&&!xn&&!ls,fa=!$s&&Se("safari"),Nr=Se("phantom"),qn="OTransition"in On,Mr=navigator.platform.indexOf("Win")===0,Jn=ls&&"transition"in On,nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Rr,Pn="MozPerspective"in On,De=!window.L_DISABLE_3D&&(Jn||nn||Pn)&&!qn&&!Nr,us=typeof orientation<"u"||Se("mobile"),tr=us&&Wn,Or=us&&nn,Hn=!window.PointerEvent&&window.MSPointerEvent,cs=!!(window.PointerEvent||Hn),Be="ontouchstart"in window||!!window.TouchEvent,wi=!window.L_NO_TOUCH&&(Be||cs),Ei=us&&xn,$n=us&&Ln,Gi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,da=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",R,u),window.removeEventListener("testPassiveEventSupport",R,u)}catch{}return s})(),ti=(function(){return!!document.createElement("canvas").getContext})(),Si=!!(document.createElementNS&&bi("svg").createSVGRect),it=!!Si&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),_t=!Si&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),qt=navigator.platform.indexOf("Mac")===0,Ge=navigator.platform.indexOf("Linux")===0;function Se(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var dt={ie:ls,ielt9:He,edge:Fe,webkit:Wn,android:Is,android23:Rr,androidStock:Rs,opera:xn,chrome:$s,gecko:Ln,safari:fa,phantom:Nr,opera12:qn,win:Mr,ie3d:Jn,webkit3d:nn,gecko3d:Pn,any3d:De,mobile:us,mobileWebkit:tr,mobileWebkit3d:Or,msPointer:Hn,pointer:cs,touch:wi,touchNative:Be,mobileOpera:Ei,mobileGecko:$n,retina:Gi,passiveEvents:da,canvas:ti,svg:Si,vml:_t,inlineSvg:it,mac:qt,linux:Ge},Je=dt.msPointer?"MSPointerDown":"pointerdown",Ze=dt.msPointer?"MSPointerMove":"pointermove",Cn=dt.msPointer?"MSPointerUp":"pointerup",je=dt.msPointer?"MSPointerCancel":"pointercancel",ke={touchstart:Je,touchmove:Ze,touchend:Cn,touchcancel:je},mn={touchstart:di,touchmove:pn,touchend:pn,touchcancel:pn},In={},pe=!1;function er(s,u,d){return u==="touchstart"&&Fn(),mn[u]?(d=mn[u].bind(this,d),s.addEventListener(ke[u],d,!1),d):(console.warn("wrong event specified:",u),R)}function Lr(s,u,d){if(!ke[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(ke[u],d,!1)}function Ai(s){In[s.pointerId]=s}function Ns(s){In[s.pointerId]&&(In[s.pointerId]=s)}function ei(s){delete In[s.pointerId]}function Fn(){pe||(document.addEventListener(Je,Ai,!0),document.addEventListener(Ze,Ns,!0),document.addEventListener(Cn,ei,!0),document.addEventListener(je,ei,!0),pe=!0)}function pn(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in In)u.touches.push(In[d]);u.changedTouches=[u],s(u)}}function di(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Qe(u),pn(s,u)}function $e(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ma=200;function Pr(s,u){s.addEventListener("dblclick",u);var d=0,_;function b(A){if(A.detail!==1){_=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var O=ar(A);if(!(O.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!O.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var G=Date.now();G-d<=ma?(_++,_===2&&u($e(A))):_=1,d=G}}}return s.addEventListener("click",b),{dblclick:u,simDblclick:b}}function hs(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var xi=kr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ms=kr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pa=Ms==="webkitTransition"||Ms==="OTransition"?Ms+"End":"transitionend";function ga(s){return typeof s=="string"?document.getElementById(s):s}function nr(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Jt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function ne(s){var u=s.parentNode;u&&u.removeChild(s)}function Ke(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ye(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function mi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Dr(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=fs(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function St(s,u){if(s.classList!==void 0)for(var d=ut(u),_=0,b=d.length;_<b;_++)s.classList.add(d[_]);else if(!Dr(s,u)){var A=fs(s);Ci(s,(A?A+" ":"")+u)}}function Ce(s,u){s.classList!==void 0?s.classList.remove(u):Ci(s,tt((" "+fs(s)+" ").replace(" "+u+" "," ")))}function Ci(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function fs(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ve(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&_a(s,u)}function _a(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function kr(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function Zi(s,u,d){var _=u||new ht(0,0);s.style[xi]=(dt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Ie(s,u){s._leaflet_pos=u,dt.any3d?Zi(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function ds(s){return s._leaflet_pos||new ht(0,0)}var Ii,gn,ya;if("onselectstart"in document)Ii=function(){Lt(window,"selectstart",Qe)},gn=function(){ge(window,"selectstart",Qe)};else{var Os=kr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ii=function(){if(Os){var s=document.documentElement.style;ya=s[Os],s[Os]="none"}},gn=function(){Os&&(document.documentElement.style[Os]=ya,ya=void 0)}}function Vr(){Lt(window,"dragstart",Qe)}function ir(){ge(window,"dragstart",Qe)}var zr,ms;function sr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(ni(),zr=s,ms=s.style.outlineStyle,s.style.outlineStyle="none",Lt(window,"keydown",ni))}function ni(){zr&&(zr.style.outlineStyle=ms,zr=void 0,ms=void 0,ge(window,"keydown",ni))}function va(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function ii(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var rr={__proto__:null,TRANSFORM:xi,TRANSITION:Ms,TRANSITION_END:pa,get:ga,getStyle:nr,create:Jt,remove:ne,empty:Ke,toFront:Ye,toBack:mi,hasClass:Dr,addClass:St,removeClass:Ce,setClass:Ci,getClass:fs,setOpacity:Ve,testProp:kr,setTransform:Zi,setPosition:Ie,getPosition:ds,get disableTextSelection(){return Ii},get enableTextSelection(){return gn},disableImageDrag:Vr,enableImageDrag:ir,preventOutline:sr,restoreOutline:ni,getSizedParentNode:va,getScale:ii};function Lt(s,u,d,_){if(u&&typeof u=="object")for(var b in u)si(s,b,u[b],d);else{u=ut(u);for(var A=0,O=u.length;A<O;A++)si(s,u[A],d,_)}return this}var Dn="_leaflet_events";function ge(s,u,d,_){if(arguments.length===1)Ls(s),delete s[Dn];else if(u&&typeof u=="object")for(var b in u)Ps(s,b,u[b],d);else if(u=ut(u),arguments.length===2)Ls(s,function(G){return Gt(u,G)!==-1});else for(var A=0,O=u.length;A<O;A++)Ps(s,u[A],d,_);return this}function Ls(s,u){for(var d in s[Dn]){var _=d.split(/\d/)[0];(!u||u(_))&&Ps(s,_,null,null,d)}}var pi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function si(s,u,d,_){var b=u+T(d)+(_?"_"+T(_):"");if(s[Dn]&&s[Dn][b])return this;var A=function(G){return d.call(_||s,G||window.event)},O=A;!dt.touchNative&&dt.pointer&&u.indexOf("touch")===0?A=er(s,u,A):dt.touch&&u==="dblclick"?A=Pr(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(pi[u]||u,A,dt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(G){G=G||window.event,Qi(s,G)&&O(G)},s.addEventListener(pi[u],A,!1)):s.addEventListener(u,O,!1):s.attachEvent("on"+u,A),s[Dn]=s[Dn]||{},s[Dn][b]=A}function Ps(s,u,d,_,b){b=b||u+T(d)+(_?"_"+T(_):"");var A=s[Dn]&&s[Dn][b];if(!A)return this;!dt.touchNative&&dt.pointer&&u.indexOf("touch")===0?Lr(s,u,A):dt.touch&&u==="dblclick"?hs(s,A):"removeEventListener"in s?s.removeEventListener(pi[u]||u,A,!1):s.detachEvent("on"+u,A),s[Dn][b]=null}function ae(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ri(s){return si(s,"wheel",ae),this}function Ds(s){return Lt(s,"mousedown touchstart dblclick contextmenu",ae),s._leaflet_disable_click=!0,this}function Qe(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ki(s){return Qe(s),ae(s),this}function ar(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function ps(s,u){if(!u)return new ht(s.clientX,s.clientY);var d=ii(u),_=d.boundingClientRect;return new ht((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var Yi=dt.linux&&dt.chrome?window.devicePixelRatio:dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _n(s){return dt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Yi:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Qi(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var gs={__proto__:null,on:Lt,off:ge,stopPropagation:ae,disableScrollPropagation:Ri,disableClickPropagation:Ds,preventDefault:Qe,stop:Ki,getPropagationPath:ar,getMousePosition:ps,getWheelDelta:_n,isExternalTarget:Qi,addListener:Lt,removeListener:ge},ks=pt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=ds(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),Ie(this._el,d),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Xt=pt.extend({options:{crs:Fi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=ct(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(yt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ms&&dt.any3d&&!dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,pa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(yt(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),b=this.getSize().divideBy(2),A=s instanceof ht?s:this.latLngToContainerPoint(s),O=A.subtract(b).multiplyBy(1-1/_),G=this.containerPointToLatLng(b.add(O));return this.setView(G,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():mt(s);var d=bt(u.paddingTopLeft||u.padding||[0,0]),_=bt(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(s,!1,d.add(_));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:s.getCenter(),zoom:b};var A=_.subtract(d).divideBy(2),O=this.project(s.getSouthWest(),b),G=this.project(s.getNorthEast(),b),Q=this.unproject(O.add(G).divideBy(2).add(A),b);return{center:Q,zoom:b}},fitBounds:function(s,u){if(s=mt(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=bt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!dt.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),b=this.project(s),A=this.getSize(),O=this._zoom;s=yt(s),u=u===void 0?O:u;var G=Math.max(A.x,A.y),Q=G*this.getZoomScale(O,u),at=b.distanceTo(_)||1,vt=1.42,It=vt*vt;function Yt(sn){var js=sn?-1:1,Gr=sn?Q:G,Su=Q*Q-G*G+js*It*It*at*at,zo=2*Gr*It*at,Uo=Su/zo,gr=Math.sqrt(Uo*Uo+1)-Uo,qs=gr<1e-9?-18:Math.log(gr);return qs}function Rn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function an(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function yi(sn){return Rn(sn)/an(sn)}var ye=Yt(0);function ve(sn){return G*(an(ye)/an(ye+vt*sn))}function ie(sn){return G*(an(ye)*yi(ye+vt*sn)-Rn(ye))/It}function mr(sn){return 1-Math.pow(1-sn,1.5)}var Pi=Date.now(),wl=(Yt(1)-ye)/vt,pr=d.duration?1e3*d.duration:1e3*wl*.8;function Eu(){var sn=(Date.now()-Pi)/pr,js=mr(sn)*wl;sn<=1?(this._flyToFrame=B(Eu,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(ie(js)/at)),O),this.getScaleZoom(G/ve(js),O),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Eu.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=mt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,mt(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=bt(u.paddingTopLeft||u.padding||[0,0]),_=bt(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),A=this.project(s),O=this.getPixelBounds(),G=et([O.min.add(d),O.max.subtract(_)]),Q=G.getSize();if(!G.contains(A)){this._enforcingBounds=!0;var at=A.subtract(G.getCenter()),vt=G.extend(A).getSize().subtract(Q);b.x+=at.x<0?-vt.x:vt.x,b.y+=at.y<0?-vt.y:vt.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),b=d.divideBy(2).round(),A=_.subtract(b);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=g(this._handleGeolocationResponse,this),d=g(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new wt(u,d),b=_.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var O=this.getBoundsZoom(b);this.setView(_,A.maxZoom?Math.min(O,A.maxZoom):O)}var G={latlng:_,bounds:b,timestamp:s.timestamp};for(var Q in s.coords)typeof s.coords[Q]=="number"&&(G[Q]=s.coords[Q]);this.fire("locationfound",G)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ne(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Jt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new ft(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=mt(s),d=bt(d||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),A=this.getMaxZoom(),O=s.getNorthWest(),G=s.getSouthEast(),Q=this.getSize().subtract(d),at=et(this.project(G,_),this.project(O,_)).getSize(),vt=dt.any3d?this.options.zoomSnap:1,It=Q.x/at.x,Yt=Q.y/at.y,Rn=u?Math.max(It,Yt):Math.min(It,Yt);return _=this.getScaleZoom(Rn,_),vt&&(_=Math.round(_/(vt/100))*(vt/100),_=u?Math.ceil(_/vt)*vt:Math.floor(_/vt)*vt),Math.max(b,Math.min(A,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ht(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new z(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(yt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(bt(s),u)},layerPointToLatLng:function(s){var u=bt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(yt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(yt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(mt(s))},distance:function(s,u){return this.options.crs.distance(yt(s),yt(u))},containerPointToLayerPoint:function(s){return bt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return bt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(bt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(yt(s)))},mouseEventToContainerPoint:function(s){return ps(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=ga(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(u,"scroll",this._onScroll,this),this._containerId=T(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&dt.any3d,St(s,"leaflet-container"+(dt.touch?" leaflet-touch":"")+(dt.retina?" leaflet-retina":"")+(dt.ielt9?" leaflet-oldie":"")+(dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=nr(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new ht(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(s.markerPane,"leaflet-zoom-hide"),St(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){Ie(this._mapPane,new ht(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,d)._move(s,u)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((b||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ie(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[T(this._container)]=this;var u=s?ge:Lt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),dt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,b=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,O=!1;A;){if(_=this._targets[T(A)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){O=!0;break}if(_&&_.listens(u,!0)&&(b&&!Qi(A,s)||(d.push(_),b))||A===this._container)break;A=A.parentNode}return!d.length&&!O&&!b&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&sr(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var b=this._findEventTargets(s,u);if(d){for(var A=[],O=0;O<d.length;O++)d[O].listens(u,!0)&&A.push(d[O]);b=A.concat(b)}if(b.length){u==="contextmenu"&&Qe(s);var G=b[0],Q={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var at=G.getLatLng&&(!G._radius||G._radius<=10);Q.containerPoint=at?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(s),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=at?G.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(O=0;O<b.length;O++)if(b[O].fire(u,Q,!0),Q.originalEvent._stopped||b[O].options.bubblingMouseEvents===!1&&Gt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return ds(this._mapPane)||new ht(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return et([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),b=this.getSize().divideBy(2),A=new z(_.subtract(b),_.add(b)),O=this._getBoundsOffset(A,d,u);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?s:this.unproject(_.add(O),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new z(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=et(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),b=_.min.subtract(s.min),A=_.max.subtract(s.max),O=this._rebound(b.x,-A.x),G=this._rebound(b.y,-A.y);return new ht(O,G)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=dt.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=xi,_=this._proxy.style[d];Zi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Zi(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),b=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(b)?!1:(B(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function or(s,u){return new Xt(s,u)}var kn=Wt.extend({options:{position:"topright"},initialize:function(s){ct(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return St(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ri=function(s){return new kn(s)};Xt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Jt("div",u+"control-container",this._container);function _(b,A){var O=u+b+" "+u+A;s[b+A]=Jt("div",O,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ne(this._controlCorners[s]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ur=kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){ct(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return kn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(T(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Jt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ds(u),Ri(u);var _=this._section=Jt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Lt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Jt("a",s+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Lt(b,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){Qe(A),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Jt("div",s+"-base",_),this._separator=Jt("div",s+"-separator",_),this._overlaysList=Jt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&T(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(g(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ke(this._baseLayersList),Ke(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,b=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&b>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(T(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+T(this),d),this._layerControlInputs.push(_),_.layerId=T(s.layer),Lt(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(_),A.appendChild(b);var O=s.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],b=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||b.push(d);for(A=0;A<b.length;A++)this._map.hasLayer(b[A])&&this._map.removeLayer(b[A]);for(A=0;A<_.length;A++)this._map.hasLayer(_[A])||this._map.addLayer(_[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),b=s.length-1;b>=0;b--)u=s[b],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Lt(s,"click",Qe),this.expand();var u=this;setTimeout(function(){ge(s,"click",Qe),u._preventClick=!1})}}),vo=function(s,u,d){return new Ur(s,u,d)},Vs=kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Jt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,b){var A=Jt("a",d,_);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),Ds(A),Lt(A,"click",Ki),Lt(A,"click",b,this),Lt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";Ce(this._zoomInButton,u),Ce(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(St(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(St(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vs,this.addControl(this.zoomControl))});var cl=function(s){return new Vs(s)},To=kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Jt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Jt("div",u,d)),s.imperial&&(this._iScale=Jt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,b;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Br=function(s){return new To(s)},bo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ta=kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(dt.inlineSvg?bo+" ":"")+"Leaflet</a>"},initialize:function(s){ct(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Jt("div","leaflet-control-attribution"),Ds(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new Ta().addTo(this)});var ba=function(s){return new Ta(s)};kn.Layers=Ur,kn.Zoom=Vs,kn.Scale=To,kn.Attribution=Ta,ri.layers=vo,ri.zoom=cl,ri.scale=Br,ri.attribution=ba;var gi=Wt.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gi.addTo=function(s,u){return s.addHandler(u,this),this};var hl={Events:J},Xi=dt.touch?"touchstart mousedown":"mousedown",Wi=pt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){ct(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Lt(this._dragStartTarget,Xi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wi._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,Xi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Dr(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Wi._dragging===this&&this.finishDrag();return}if(!(Wi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Wi._dragging=this,this._preventOutline&&sr(this._element),Vr(),Ii(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=va(this._element);this._startPoint=new ht(u.clientX,u.clientY),this._startPos=ds(this._element),this._parentScale=ii(d);var _=s.type==="mousedown";Lt(document,_?"mousemove":"touchmove",this._onMove,this),Lt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new ht(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Qe(s),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ie(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),ir(),gn();var u=this._moved&&this._moving;this._moving=!1,Wi._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function wo(s,u,d){var _,b=[1,4,2,8],A,O,G,Q,at,vt,It,Yt;for(A=0,vt=s.length;A<vt;A++)s[A]._code=W(s[A],u);for(G=0;G<4;G++){for(It=b[G],_=[],A=0,vt=s.length,O=vt-1;A<vt;O=A++)Q=s[A],at=s[O],Q._code&It?at._code&It||(Yt=Z(at,Q,It,u,d),Yt._code=W(Yt,u),_.push(Yt)):(at._code&It&&(Yt=Z(at,Q,It,u,d),Yt._code=W(Yt,u),_.push(Yt)),_.push(Q));s=_}return s}function Eo(s,u){var d,_,b,A,O,G,Q,at,vt;if(!s||s.length===0)throw new Error("latlngs not passed");fe(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var It=yt([0,0]),Yt=mt(s),Rn=Yt.getNorthWest().distanceTo(Yt.getSouthWest())*Yt.getNorthEast().distanceTo(Yt.getNorthWest());Rn<1700&&(It=wa(s));var an=s.length,yi=[];for(d=0;d<an;d++){var ye=yt(s[d]);yi.push(u.project(yt([ye.lat-It.lat,ye.lng-It.lng])))}for(G=Q=at=0,d=0,_=an-1;d<an;_=d++)b=yi[d],A=yi[_],O=b.y*A.x-A.y*b.x,Q+=(b.x+A.x)*O,at+=(b.y+A.y)*O,G+=O*3;G===0?vt=yi[0]:vt=[Q/G,at/G];var ve=u.unproject(bt(vt));return yt([ve.lat+It.lat,ve.lng+It.lng])}function wa(s){for(var u=0,d=0,_=0,b=0;b<s.length;b++){var A=yt(s[b]);u+=A.lat,d+=A.lng,_++}return yt([u/_,d/_])}var lr={__proto__:null,clipPolygon:wo,polygonCenter:Eo,centroid:wa};function Vn(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=y(s,d),s=zs(s,d),s}function So(s,u,d){return Math.sqrt(Vt(s,u,d,!0))}function fl(s,u,d){return Vt(s,u,d)}function zs(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,b=new _(d);b[0]=b[d-1]=1,f(s,b,u,0,d-1);var A,O=[];for(A=0;A<d;A++)b[A]&&O.push(s[A]);return O}function f(s,u,d,_,b){var A=0,O,G,Q;for(G=_+1;G<=b-1;G++)Q=Vt(s[G],s[_],s[b],!0),Q>A&&(O=G,A=Q);A>d&&(u[O]=1,f(s,u,d,_,O),f(s,u,d,O,b))}function y(s,u){for(var d=[s[0]],_=1,b=0,A=s.length;_<A;_++)gt(s[_],s[b])>u&&(d.push(s[_]),b=_);return b<A-1&&d.push(s[A-1]),d}var S;function I(s,u,d,_,b){var A=_?S:W(s,d),O=W(u,d),G,Q,at;for(S=O;;){if(!(A|O))return[s,u];if(A&O)return!1;G=A||O,Q=Z(s,u,G,d,b),at=W(Q,d),G===A?(s=Q,A=at):(u=Q,O=at)}}function Z(s,u,d,_,b){var A=u.x-s.x,O=u.y-s.y,G=_.min,Q=_.max,at,vt;return d&8?(at=s.x+A*(Q.y-s.y)/O,vt=Q.y):d&4?(at=s.x+A*(G.y-s.y)/O,vt=G.y):d&2?(at=Q.x,vt=s.y+O*(Q.x-s.x)/A):d&1&&(at=G.x,vt=s.y+O*(G.x-s.x)/A),new ht(at,vt,b)}function W(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function gt(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function Vt(s,u,d,_){var b=u.x,A=u.y,O=d.x-b,G=d.y-A,Q=O*O+G*G,at;return Q>0&&(at=((s.x-b)*O+(s.y-A)*G)/Q,at>1?(b=d.x,A=d.y):at>0&&(b+=O*at,A+=G*at)),O=s.x-b,G=s.y-A,_?O*O+G*G:new ht(b,A)}function fe(s){return!Rt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function de(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fe(s)}function ze(s,u){var d,_,b,A,O,G,Q,at;if(!s||s.length===0)throw new Error("latlngs not passed");fe(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var vt=yt([0,0]),It=mt(s),Yt=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());Yt<1700&&(vt=wa(s));var Rn=s.length,an=[];for(d=0;d<Rn;d++){var yi=yt(s[d]);an.push(u.project(yt([yi.lat-vt.lat,yi.lng-vt.lng])))}for(d=0,_=0;d<Rn-1;d++)_+=an[d].distanceTo(an[d+1])/2;if(_===0)at=an[0];else for(d=0,A=0;d<Rn-1;d++)if(O=an[d],G=an[d+1],b=O.distanceTo(G),A+=b,A>_){Q=(A-_)/b,at=[G.x-Q*(G.x-O.x),G.y-Q*(G.y-O.y)];break}var ye=u.unproject(bt(at));return yt([ye.lat+vt.lat,ye.lng+vt.lng])}var Ni={__proto__:null,simplify:Vn,pointToSegmentDistance:So,closestPointOnSegment:fl,clipSegment:I,_getEdgeIntersection:Z,_getBitCode:W,_sqClosestPointOnSegment:Vt,isFlat:fe,_flat:de,polylineCenter:ze},Mi={project:function(s){return new ht(s.lng,s.lat)},unproject:function(s){return new wt(s.y,s.x)},bounds:new z([-180,-90],[180,90])},_i={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,b=this.R_MINOR/d,A=Math.sqrt(1-b*b),O=A*Math.sin(_),G=Math.tan(Math.PI/4-_/2)/Math.pow((1-O)/(1+O),A/2);return _=-d*Math.log(Math.max(G,1e-10)),new ht(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,b=Math.sqrt(1-_*_),A=Math.exp(-s.y/d),O=Math.PI/2-2*Math.atan(A),G=0,Q=.1,at;G<15&&Math.abs(Q)>1e-7;G++)at=b*Math.sin(O),at=Math.pow((1-at)/(1+at),b/2),Q=Math.PI/2-2*Math.atan(A*at)-O,O+=Q;return new wt(O*u,s.x*u/d)}},Ji={__proto__:null,LonLat:Mi,Mercator:_i,SphericalMercator:os},jr=l({},Ee,{code:"EPSG:3395",projection:_i,transformation:(function(){var s=.5/(Math.PI*_i.R);return Hi(s,.5,-s,.5)})()}),qr=l({},Ee,{code:"EPSG:4326",projection:Mi,transformation:Hi(1/180,1,-1/180,.5)}),Ea=l({},Ut,{projection:Mi,transformation:Hi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ut.Earth=Ee,Ut.EPSG3395=jr,Ut.EPSG3857=Fi,Ut.EPSG900913=ee,Ut.EPSG4326=qr,Ut.Simple=Ea;var $i=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[T(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[T(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=T(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=T(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return T(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?Rt(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[T(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=T(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;s=b.minZoom===void 0?s:Math.min(s,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sa=$i.extend({initialize:function(s,u){ct(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return T(s)}}),td=function(s,u){return new Sa(s,u)},_s=Sa.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Sa.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Sa.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ft;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Bc=function(s,u){return new _s(s,u)},ys=Wt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){ct(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var b=bt(_),A=bt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||b&&b.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),b&&(s.style.width=b.x+"px",s.style.height=b.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return dt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Ao(s){return new ys(s)}var xo=ys.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof xo.imagePath!="string"&&(xo.imagePath=this._detectIconPath()),(this.options.imagePath||xo.imagePath)+ys.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,b){var A=_.exec(d);return A&&A[b]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Jt("div","leaflet-default-icon-path",document.body),u=nr(s,"background-image")||nr(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Co=gi.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Wi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,A=ds(u._icon),O=d.getPixelBounds(),G=d.getPixelOrigin(),Q=et(O.min._subtract(G).add(b),O.max._subtract(G).subtract(b));if(!Q.contains(A)){var at=bt((Math.max(Q.max.x,A.x)-Q.max.x)/(O.max.x-Q.max.x)-(Math.min(Q.min.x,A.x)-Q.min.x)/(O.min.x-Q.min.x),(Math.max(Q.max.y,A.y)-Q.max.y)/(O.max.y-Q.max.y)-(Math.min(Q.min.y,A.y)-Q.min.y)/(O.min.y-Q.min.y)).multiplyBy(_);d.panBy(at,{animate:!1}),this._draggable._newPos._add(at),this._draggable._startPos._add(at),Ie(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=B(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=ds(u._icon),b=u._map.layerPointToLatLng(_);d&&Ie(d,_),u._latlng=b,s.latlng=b,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Io=$i.extend({options:{icon:new xo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){ct(this,u),this._latlng=yt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=yt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),St(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(d,"focus",this._panOnFocus,this);var b=s.icon.createShadow(this._shadow),A=!1;b!==this._shadow&&(this._removeShadow(),A=!0),b&&(St(b,u),b.alt=""),this._shadow=b,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ie(this._icon,s),this._shadow&&Ie(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Co)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Co(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ve(this._icon,s),this._shadow&&Ve(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?bt(u.iconSize):bt(0,0),_=u.iconAnchor?bt(u.iconAnchor):bt(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function jc(s,u){return new Io(s,u)}var vs=$i.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return ct(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Aa=vs.extend({options:{fill:!0,radius:10},initialize:function(s,u){ct(this,u),this._latlng=yt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=yt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return vs.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new z(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qc(s,u){return new Aa(s,u)}var dl=Aa.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),ct(this,u),this._latlng=yt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ft(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:vs.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===Ee.distance){var b=Math.PI/180,A=this._mRadius/Ee.R/b,O=d.project([u+A,s]),G=d.project([u-A,s]),Q=O.add(G).divideBy(2),at=d.unproject(Q).lat,vt=Math.acos((Math.cos(A*b)-Math.sin(u*b)*Math.sin(at*b))/(Math.cos(u*b)*Math.cos(at*b)))/b;(isNaN(vt)||vt===0)&&(vt=A/Math.cos(Math.PI/180*u)),this._point=Q.subtract(d.getPixelOrigin()),this._radius=isNaN(vt)?0:Q.x-d.project([at,s-vt]).x,this._radiusY=Q.y-O.y}else{var It=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(It).x}this._updateBounds()}});function Hc(s,u,d){return new dl(s,u,d)}var Us=vs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){ct(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=Vt,b,A,O=0,G=this._parts.length;O<G;O++)for(var Q=this._parts[O],at=1,vt=Q.length;at<vt;at++){b=Q[at-1],A=Q[at];var It=_(s,b,A,!0);It<u&&(u=It,d=_(s,b,A))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ze(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=yt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ft,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return fe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=fe(s),_=0,b=s.length;_<b;_++)d?(u[_]=yt(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ht(s,s);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof wt,b=s.length,A,O;if(_){for(O=[],A=0;A<b;A++)O[A]=this._map.latLngToLayerPoint(s[A]),d.extend(O[A]);u.push(O)}else for(A=0;A<b;A++)this._projectLatlngs(s[A],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,b,A,O,G,Q;for(d=0,b=0,A=this._rings.length;d<A;d++)for(Q=this._rings[d],_=0,O=Q.length;_<O-1;_++)G=I(Q[_],Q[_+1],s,_,!0),G&&(u[b]=u[b]||[],u[b].push(G[0]),(G[1]!==Q[_+1]||_===O-2)&&(u[b].push(G[1]),b++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=Vn(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,b,A,O,G,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,A=this._parts.length;d<A;d++)for(G=this._parts[d],_=0,O=G.length,b=O-1;_<O;b=_++)if(!(!u&&_===0)&&So(s,G[b],G[_])<=Q)return!0;return!1}});function ed(s,u){return new Us(s,u)}Us._flat=de;var xa=Us.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Eo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Us.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof wt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){Us.prototype._setLatLngs.call(this,s),fe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new ht(u,u);if(s=new z(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,A;_<b;_++)A=wo(this._rings[_],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,b,A,O,G,Q,at;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,Q=this._parts.length;A<Q;A++)for(d=this._parts[A],O=0,at=d.length,G=at-1;O<at;G=O++)_=d[O],b=d[G],_.y>s.y!=b.y>s.y&&s.x<(b.x-_.x)*(s.y-_.y)/(b.y-_.y)+_.x&&(u=!u);return u||Us.prototype._containsPoint.call(this,s,!0)}});function nd(s,u){return new xa(s,u)}var Bs=_s.extend({initialize:function(s,u){ct(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=Rt(s)?s:s.features,d,_,b;if(u){for(d=0,_=u.length;d<_;d++)b=u[d],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var O=zn(s,A);return O?(O.feature=gl(s),O.defaultOptions=O.options,this.resetStyle(O),A.onEachFeature&&A.onEachFeature(s,O),this.addLayer(O)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function zn(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,b=[],A=u&&u.pointToLayer,O=u&&u.coordsToLatLng||ml,G,Q,at,vt;if(!_&&!d)return null;switch(d.type){case"Point":return G=O(_),Ca(A,s,G,u);case"MultiPoint":for(at=0,vt=_.length;at<vt;at++)G=O(_[at]),b.push(Ca(A,s,G,u));return new _s(b);case"LineString":case"MultiLineString":return Q=Ro(_,d.type==="LineString"?0:1,O),new Us(Q,u);case"Polygon":case"MultiPolygon":return Q=Ro(_,d.type==="Polygon"?1:2,O),new xa(Q,u);case"GeometryCollection":for(at=0,vt=d.geometries.length;at<vt;at++){var It=zn({geometry:d.geometries[at],type:"Feature",properties:s.properties},u);It&&b.push(It)}return new _s(b);case"FeatureCollection":for(at=0,vt=d.features.length;at<vt;at++){var Yt=zn(d.features[at],u);Yt&&b.push(Yt)}return new _s(b);default:throw new Error("Invalid GeoJSON object.")}}function Ca(s,u,d,_){return s?s(u,d):new Io(d,_&&_.markersInheritOptions&&_)}function ml(s){return new wt(s[1],s[0],s[2])}function Ro(s,u,d){for(var _=[],b=0,A=s.length,O;b<A;b++)O=u?Ro(s[b],u-1,d):(d||ml)(s[b]),_.push(O);return _}function pl(s,u){return s=yt(s),s.alt!==void 0?[V(s.lng,u),V(s.lat,u),V(s.alt,u)]:[V(s.lng,u),V(s.lat,u)]}function No(s,u,d,_){for(var b=[],A=0,O=s.length;A<O;A++)b.push(u?No(s[A],fe(s[A])?0:u-1,d,_):pl(s[A],_));return!u&&d&&b.length>0&&b.push(b[0].slice()),b}function ur(s,u){return s.feature?l({},s.feature,{geometry:u}):gl(u)}function gl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var cr={toGeoJSON:function(s){return ur(this,{type:"Point",coordinates:pl(this.getLatLng(),s)})}};Io.include(cr),dl.include(cr),Aa.include(cr),Us.include({toGeoJSON:function(s){var u=!fe(this._latlngs),d=No(this._latlngs,u?1:0,!1,s);return ur(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),xa.include({toGeoJSON:function(s){var u=!fe(this._latlngs),d=u&&!fe(this._latlngs[0]),_=No(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),ur(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),Sa.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),ur(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var A=b.toGeoJSON(s);if(d)_.push(A.geometry);else{var O=gl(A);O.type==="FeatureCollection"?_.push.apply(_,O.features):_.push(O)}}}),d?ur(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function _l(s,u){return new Bs(s,u)}var Mo=_l,Ia=$i.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=mt(u),ct(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ye(this._image),this},bringToBack:function(){return this._map&&mi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=mt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Jt("img");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=R,u.onmousemove=R,u.onload=g(this.fire,this,"load"),u.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Zi(this._image,d,u)},_reset:function(){var s=this._image,u=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Ie(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Fc=function(s,u,d){return new Ia(s,u,d)},hr=Ia.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Jt("video");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=R,u.onmousemove=R,u.onloadeddata=g(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],b=0;b<d.length;b++)_.push(d[b].src);this._url=d.length>0?_:[u.src];return}Rt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var O=Jt("source");O.src=this._url[A],u.appendChild(O)}}});function Ra(s,u,d){return new hr(s,u,d)}var yl=Ia.extend({_initImage:function(){var s=this._image=this._url;St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=R,s.onmousemove=R}});function Gc(s,u,d){return new yl(s,u,d)}var Un=$i.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof wt||Rt(s))?(this._latlng=yt(s),ct(this,u)):(ct(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ve(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ve(this._container,0),this._removeTimeout=setTimeout(g(ne,void 0,this._container),200)):ne(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=yt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ye(this._container),this},bringToBack:function(){return this._map&&mi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof _s){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=bt(this.options.offset),d=this._getAnchor();this._zoomAnimated?Ie(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(s,u,d,_){var b=u;return b instanceof s||(b=new s(_).setContent(u)),d&&b.setLatLng(d),b}}),$i.include({_initOverlay:function(s,u,d,_){var b=d;return b instanceof s?(ct(b,_),b._source=this):(b=u&&!_?u:new s(_,this),b.setContent(d)),b}});var Oo=Un.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Un.prototype.openOn.call(this,s)},onAdd:function(s){Un.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vs||this._source.on("preclick",ae))},onRemove:function(s){Un.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vs||this._source.off("preclick",ae))},getEvents:function(){var s=Un.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Jt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Jt("div",s+"-content-wrapper",u);if(this._contentNode=Jt("div",s+"-content",d),Ds(u),Ri(this._contentNode),Lt(u,"contextmenu",ae),this._tipContainer=Jt("div",s+"-tip-container",u),this._tip=Jt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Jt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(_,"click",function(b){Qe(b),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,b=this.options.maxHeight,A="leaflet-popup-scrolled";b&&_>b?(u.height=b+"px",St(s,A)):Ce(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Ie(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(nr(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,b=new ht(this._containerLeft,-d-this._containerBottom);b._add(ds(this._container));var A=s.layerPointToContainerPoint(b),O=bt(this.options.autoPanPadding),G=bt(this.options.autoPanPaddingTopLeft||O),Q=bt(this.options.autoPanPaddingBottomRight||O),at=s.getSize(),vt=0,It=0;A.x+_+Q.x>at.x&&(vt=A.x+_-at.x+Q.x),A.x-vt-G.x<0&&(vt=A.x-G.x),A.y+d+Q.y>at.y&&(It=A.y+d-at.y+Q.y),A.y-It-G.y<0&&(It=A.y-G.y),(vt||It)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([vt,It]))}},_getAnchor:function(){return bt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zc=function(s,u){return new Oo(s,u)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(s,u,d){return this._initOverlay(Oo,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),$i.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Oo,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof _s||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ki(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof vs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Lo=Un.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Un.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Un.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Un.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Jt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+T(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,b=this._container,A=_.latLngToContainerPoint(_.getCenter()),O=_.layerPointToContainerPoint(s),G=this.options.direction,Q=b.offsetWidth,at=b.offsetHeight,vt=bt(this.options.offset),It=this._getAnchor();G==="top"?(u=Q/2,d=at):G==="bottom"?(u=Q/2,d=0):G==="center"?(u=Q/2,d=at/2):G==="right"?(u=0,d=at/2):G==="left"?(u=Q,d=at/2):O.x<A.x?(G="right",u=0,d=at/2):(G="left",u=Q+(vt.x+It.x)*2,d=at/2),s=s.subtract(bt(u,d,!0)).add(vt).add(It),Ce(b,"leaflet-tooltip-right"),Ce(b,"leaflet-tooltip-left"),Ce(b,"leaflet-tooltip-top"),Ce(b,"leaflet-tooltip-bottom"),St(b,"leaflet-tooltip-"+G),Ie(b,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ve(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return bt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),id=function(s,u){return new Lo(s,u)};Xt.include({openTooltip:function(s,u,d){return this._initOverlay(Lo,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),$i.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lo,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof _s||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Lt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Lt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Kc=ys.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Ke(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=bt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function sd(s){return new Kc(s)}ys.Default=xo;var Na=$i.extend({options:{tileSize:256,opacity:1,updateWhenIdle:dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){ct(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ne(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ye(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ht?s:new ht(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,b=u.length,A;_<b;_++)A=u[_].style.zIndex,u[_]!==this._container&&A&&(d=s(d,+A));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!dt.ielt9){Ve(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var A=Math.min(1,(s-b.loaded)/200);Ve(b.el,A),A<1?u=!0:(b.active?d=!0:this._onOpaqueTile(b),b.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(H(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(ne(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],b=this._map;return _||(_=this._levels[s]={},_.el=Jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=b.project(b.unproject(b.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,b.getCenter(),b.getZoom()),R(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ne(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var b=Math.floor(s/2),A=Math.floor(u/2),O=d-1,G=new ht(+b,+A);G.z=+O;var Q=this._tileCoordsToKey(G),at=this._tiles[Q];return at&&at.active?(at.retain=!0,!0):(at&&at.loaded&&(at.retain=!0),O>_?this._retainParent(b,A,O,_):!1)},_retainChildren:function(s,u,d,_){for(var b=2*s;b<2*s+2;b++)for(var A=2*u;A<2*u+2;A++){var O=new ht(b,A);O.z=d+1;var G=this._tileCoordsToKey(O),Q=this._tiles[G];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);d+1<_&&this._retainChildren(b,A,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var A=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||A)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),b=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();dt.any3d?Zi(s.el,b,_):Ie(s.el,b)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),b=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(_*2);return new z(b.subtract(A),b.add(A))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),b=this._pxBoundsToTileRange(_),A=b.getCenter(),O=[],G=this.options.keepBuffer,Q=new z(b.getBottomLeft().subtract([G,-G]),b.getTopRight().add([G,-G]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var at in this._tiles){var vt=this._tiles[at].coords;(vt.z!==this._tileZoom||!Q.contains(new ht(vt.x,vt.y)))&&(this._tiles[at].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var It=b.min.y;It<=b.max.y;It++)for(var Yt=b.min.x;Yt<=b.max.x;Yt++){var Rn=new ht(Yt,It);if(Rn.z=this._tileZoom,!!this._isValidTile(Rn)){var an=this._tiles[this._tileCoordsToKey(Rn)];an?an.current=!0:O.push(Rn)}}if(O.sort(function(ye,ve){return ye.distanceTo(A)-ve.distanceTo(A)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yi=document.createDocumentFragment();for(Yt=0;Yt<O.length;Yt++)this._addTile(O[Yt],yi);this._level.el.appendChild(yi)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return mt(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),b=_.add(d),A=u.unproject(_,s.z),O=u.unproject(b,s.z);return[A,O]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new ft(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new ht(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(ne(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){St(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=R,s.onmousemove=R,dt.ielt9&&this.options.opacity<1&&Ve(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),b=this.createTile(this._wrapCoords(s),g(this._tileReady,this,s));this._initTile(b),this.createTile.length<2&&B(g(this._tileReady,this,s,null,b)),Ie(b,d),this._tiles[_]={el:b,coords:s,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ve(d.el,0),H(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(St(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),dt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ht(this._wrapX?C(s.x,this._wrapX):s.x,this._wrapY?C(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new z(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Yc(s){return new Na(s)}var fr=Na.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=ct(this,u),u.detectRetina&&dt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Lt(d,"load",g(this._tileOnLoad,this,u,d)),Lt(d,"error",g(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:dt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return Bt(this._url,l(u,this.options))},_tileOnLoad:function(s,u){dt.ielt9?setTimeout(g(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=R,u.onerror=R,!u.complete)){u.src=_e;var d=this._tiles[s].coords;ne(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",_e),Na.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===_e))return Na.prototype._tileReady.call(this,s,u,d)}});function Oi(s,u){return new fr(s,u)}var Po=fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=ct(this,u);var b=u.detectRetina&&dt.retina?2:1,A=this.getTileSize();d.width=A.x*b,d.height=A.y*b,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,fr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=et(d.project(u[0]),d.project(u[1])),b=_.min,A=_.max,O=(this._wmsVersion>=1.3&&this._crs===qr?[b.y,b.x,A.y,A.x]:[b.x,b.y,A.x,A.y]).join(","),G=fr.prototype.getTileUrl.call(this,s);return G+Tt(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function Li(s,u){return new Po(s,u)}fr.WMS=Po,Oi.wms=Li;var ai=$i.extend({options:{padding:.1},initialize:function(s){ct(this,s),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),A=_.multiplyBy(-d).add(b).subtract(this._map._getNewPixelOrigin(s,u));dt.any3d?Zi(this._container,A,d):Ie(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new z(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vl=ai.extend({options:{tolerance:0},getEvents:function(){var s=ai.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Lt(s,"mousemove",this._onMouseMove,this),Lt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,ne(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=dt.retina?2:1;Ie(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[T(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[T(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,b;for(b=0;b<u.length;b++){if(_=Number(u[b]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,b,A,O=s._parts,G=O.length,Q=this._ctx;if(G){for(Q.beginPath(),d=0;d<G;d++){for(_=0,b=O[d].length;_<b;_++)A=O[d][_],Q[_?"lineTo":"moveTo"](A.x,A.y);u&&Q.closePath()}this._fillStroke(Q,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),b=(Math.max(Math.round(s._radiusY),1)||_)/_;b!==1&&(d.save(),d.scale(1,b)),d.beginPath(),d.arc(u.x,u.y/b,_,0,Math.PI*2,!1),b!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(St(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Do(s){return dt.canvas?new vl(s):null}var dr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),vu={_initContainer:function(){this._container=Jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=dr("shape");St(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=dr("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[T(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;ne(u),s.removeInteractiveTarget(u),delete this._layers[T(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,b=s._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(u||(u=s._stroke=dr("stroke")),b.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=Rt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(b.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=dr("fill")),b.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(b.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Ye(s._container)},_bringToBack:function(s){mi(s._container)}},Ts=dt.vml?dr:bi,Ma=ai.extend({_initContainer:function(){this._container=Ts("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ts("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Ie(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Ts("path");s.options.className&&St(u,s.options.className),s.options.interactive&&St(u,"leaflet-interactive"),this._updateStyle(s),this._layers[T(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ne(s._path),s.removeInteractiveTarget(s._path),delete this._layers[T(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Zt(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,b="a"+d+","+_+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+b+d*2+",0 "+b+-d*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Ye(s._path)},_bringToBack:function(s){mi(s._path)}});dt.vml&&Ma.include(vu);function ko(s){return dt.svg||dt.vml?new Ma(s):null}Xt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Do(s)||ko(s)}});var Hr=xa.extend({initialize:function(s,u){xa.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=mt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function rd(s,u){return new Hr(s,u)}Ma.create=Ts,Ma.pointsToPath=Zt,Bs.geometryToLayer=zn,Bs.coordsToLatLng=ml,Bs.coordsToLatLngs=Ro,Bs.latLngToCoords=pl,Bs.latLngsToCoords=No,Bs.getFeature=ur,Bs.asFeature=gl,Xt.mergeOptions({boxZoom:!0});var oi=gi.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ii(),Vr(),this._startPoint=this._map.mouseEventToContainerPoint(s),Lt(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Jt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new z(this._point,this._startPoint),d=u.getSize();Ie(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ne(this._box),Ce(this._container,"leaflet-crosshair")),gn(),ir(),ge(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var u=new ft(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",oi),Xt.mergeOptions({doubleClickZoom:!0});var Tl=gi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,b=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(s.containerPoint,b)}});Xt.addInitHook("addHandler","doubleClickZoom",Tl),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bs=gi.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Wi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=mt(this._map.options.maxBounds);this._offsetLimit=et(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-u+d)%s+u-d,A=(_+u+d)%s-u-d,O=Math.abs(b+d)<Math.abs(A+d)?b:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,O=d.easeLinearity,G=b.multiplyBy(O/A),Q=G.distanceTo([0,0]),at=Math.min(d.inertiaMaxSpeed,Q),vt=G.multiplyBy(at/Q),It=at/(d.inertiaDeceleration*O),Yt=vt.multiplyBy(-It/2).round();!Yt.x&&!Yt.y?u.fire("moveend"):(Yt=u._limitOffset(Yt,u.options.maxBounds),B(function(){u.panBy(Yt,{duration:It,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",bs),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Tu=gi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Lt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,b;for(_=0,b=d.left.length;_<b;_++)u[d.left[_]]=[-1*s,0];for(_=0,b=d.right.length;_<b;_++)u[d.right[_]]=[s,0];for(_=0,b=d.down.length;_<b;_++)u[d.down[_]]=[0,s];for(_=0,b=d.up.length;_<b;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,b;for(_=0,b=d.zoomIn.length;_<b;_++)u[d.zoomIn[_]]=s;for(_=0,b=d.zoomOut.length;_<b;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=bt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(bt(_),d.options.maxBounds)),d.options.worldCopyJump){var b=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(b)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ki(s)}}});Xt.addInitHook("addHandler","keyboard",Tu),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vo=gi.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=_n(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),_),Ki(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,A=d?Math.ceil(b/d)*d:b,O=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,O&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+O):s.setZoomAround(this._lastMousePos,u+O))}});Xt.addInitHook("addHandler","scrollWheelZoom",Vo);var Fr=600;Xt.mergeOptions({tapHold:dt.touchNative&&dt.safari&&dt.mobile,tapTolerance:15});var bl=gi.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ht(u.clientX,u.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",Qe),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Fr),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ge(document,"touchend",Qe),ge(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ht(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Xt.addInitHook("addHandler","tapHold",bl),Xt.mergeOptions({touchZoom:dt.touch,bounceAtZoomLimits:!0});var bu=gi.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),Qe(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),b=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var A=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var O=g(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(O,this,!0),Qe(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",bu),Xt.BoxZoom=oi,Xt.DoubleClickZoom=Tl,Xt.Drag=bs,Xt.Keyboard=Tu,Xt.ScrollWheelZoom=Vo,Xt.TapHold=bl,Xt.TouchZoom=bu,n.Bounds=z,n.Browser=dt,n.CRS=Ut,n.Canvas=vl,n.Circle=dl,n.CircleMarker=Aa,n.Class=Wt,n.Control=kn,n.DivIcon=Kc,n.DivOverlay=Un,n.DomEvent=gs,n.DomUtil=rr,n.Draggable=Wi,n.Evented=pt,n.FeatureGroup=_s,n.GeoJSON=Bs,n.GridLayer=Na,n.Handler=gi,n.Icon=ys,n.ImageOverlay=Ia,n.LatLng=wt,n.LatLngBounds=ft,n.Layer=$i,n.LayerGroup=Sa,n.LineUtil=Ni,n.Map=Xt,n.Marker=Io,n.Mixin=hl,n.Path=vs,n.Point=ht,n.PolyUtil=lr,n.Polygon=xa,n.Polyline=Us,n.Popup=Oo,n.PosAnimation=ks,n.Projection=Ji,n.Rectangle=Hr,n.Renderer=ai,n.SVG=Ma,n.SVGOverlay=yl,n.TileLayer=fr,n.Tooltip=Lo,n.Transformation=qi,n.Util=P,n.VideoOverlay=hr,n.bind=g,n.bounds=et,n.canvas=Do,n.circle=Hc,n.circleMarker=qc,n.control=ri,n.divIcon=sd,n.extend=l,n.featureGroup=Bc,n.geoJSON=_l,n.geoJson=Mo,n.gridLayer=Yc,n.icon=Ao,n.imageOverlay=Fc,n.latLng=yt,n.latLngBounds=mt,n.layerGroup=td,n.map=or,n.marker=jc,n.point=bt,n.polygon=nd,n.polyline=ed,n.popup=Zc,n.rectangle=rd,n.setOptions=ct,n.stamp=T,n.svg=ko,n.svgOverlay=Gc,n.tileLayer=Oi,n.tooltip=id,n.transformation=Hi,n.version=a,n.videoOverlay=Ra;var wu=window.L;n.noConflict=function(){return window.L=wu,this},window.L=n}))})(ac,ac.exports)),ac.exports}var n1=e1();const Gh=Op(n1),AT=[{emoji:"",name:"Canines",animals:[{name:"Wolf",sciName:"Canis lupus",family:"Canidae",clue:"Apex social hunter; legendary ancestor of man's best friend."},{name:"Coyote",sciName:"Canis latrans",family:"Canidae",clue:"Opportunistic trickster; expanded its range while other predators retreated."},{name:"Fox",sciName:"Vulpes vulpes",family:"Canidae",clue:"Solitary omnivore; hunts with a unique diving pounce into snow or grass."},{name:"Dingo",sciName:"Canis lupus dingo",displayLatin:"Canis familiaris (var.)",family:"Canidae",clue:"Golden-coated apex predator introduced to an island continent millennia ago."},{name:"Wild Dog",sciName:"Lycaon pictus",family:"Canidae",clue:"Highly social cursorial hunter; votes on pack movements with sneezes."},{name:"Jackal",sciName:"Canis aureus",family:"Canidae",clue:"Opportunistic scavenger; mated pairs hold territory in the scrublands."}]},{emoji:"",name:"Felines",animals:[{name:"Lion",sciName:"Panthera leo",displayLatin:"Felis leo",family:"Felidae",clue:"The only social feline; dominant males defend the pride's territory."},{name:"Tiger",sciName:"Panthera tigris",displayLatin:"Felis tigris",family:"Felidae",clue:"Largest of the big cats; a solitary swimmer that stalks the jungle."},{name:"Cheetah",sciName:"Acinonyx jubatus",family:"Felidae",clue:"Sacrificed fighting power for pure acceleration; cannot roar."},{name:"Jaguar",sciName:"Panthera onca",family:"Felidae",clue:"A swimmer that kills with a skull-crushing bite rather than a throat hold."},{name:"Snow Leopard",sciName:"Panthera uncia",family:"Felidae",clue:"Solitary high-altitude stalker; uses a massive tail for warmth and balance."},{name:"Cougar",sciName:"Puma concolor",family:"Felidae",clue:"Wide-ranging ambush predator; holds the record for the most common names."}]},{emoji:"",name:"Bears",animals:[{name:"Bear (Brown)",sciName:"Ursus arctos",family:"Ursidae",clue:"Shoulder-humped giant; gorges in autumn to survive winter dormancy."},{name:"Bear (Polar)",sciName:"Ursus maritimus",family:"Ursidae",clue:"Hyper-carnivorous maritime wanderer; black skin absorbs the arctic sun."},{name:"Panda",sciName:"Ailuropoda melanoleuca",family:"Ursidae",clue:"Technically a carnivore, but eats a distinct grass; has a 'false thumb'."},{name:"Bear (Black)",sciName:"Ursus americanus",family:"Ursidae",clue:"Forest climber; highly adaptable diet ranges from berries to human refuse."},{name:"Bear (Sun)",sciName:"Helarctos malayanus",family:"Ursidae",clue:"Smallest of the family; possesses an exceptionally long tongue for extracting honey."}]},{emoji:"",name:"Weasels & Badgers",animals:[{name:"Wolverine",sciName:"Gulo gulo",family:"Mustelidae",clue:"Stocky scavenger of the north; famously fearless against much larger predators."},{name:"Badger",sciName:"Meles meles",family:"Mustelidae",clue:"Fossorial engineer; constructs massive underground networks passed down for generations."},{name:"Honey Badger",sciName:"Mellivora capensis",family:"Mustelidae",clue:"Notoriously thick-skinned; metabolizes venom and surrenders to no one."},{name:"Stoat",sciName:"Mustela erminea",family:"Mustelidae",clue:"Performs a mesmerizing 'war dance' to distract prey before striking."},{name:"Ferret (Black-footed)",sciName:"Mustela nigripes",family:"Mustelidae",clue:"Once thought extinct; obligate predator of prairie dwelling rodents."}]},{emoji:"",name:"Primates",animals:[{name:"Gorilla",sciName:"Gorilla beringei",displayLatin:"G. beringei",family:"Hominidae",clue:"Gentle herbivore of the jungle; troops are led by a gray-haired male."},{name:"Chimpanzee",sciName:"Pan troglodytes",family:"Hominidae",clue:"Expert tool-user; hunts colobus monkeys in coordinated groups."},{name:"Orangutan",sciName:"Pongo",family:"Hominidae",clue:"Solitary arboreal giant; name translates to 'Person of the Forest'."},{name:"Lemur",sciName:"Lemur catta",displayLatin:"Infraorder: Lemuriformes",family:"Suborder: Strepsirrhini",clue:"Prosimian island dweller; uses stink-fights to settle disputes."},{name:"Baboon",sciName:"Papio anubis",family:"Cercopithecidae",clue:"Highly aggressive terrestrial forager; complex social hierarchy."},{name:"Mandrill",sciName:"Mandrillus sphinx",displayLatin:"Simia sphinx",family:"Cercopithecidae",clue:"World's largest monkey; cryptic forest dweller with vibrant skin coloration."}]},{emoji:"",name:"Savanna Giants",animals:[{name:"Giraffe",sciName:"Giraffa camelopardalis",displayLatin:"Family: Giraffidae",family:"Order: Artiodactyla",clue:"Tallest terrestrial browser; possesses a specialized valve to prevent fainting when drinking."},{name:"Zebra",sciName:"Equus quagga",family:"Equidae",clue:"Equine grazer; visual pattern disrupts predators and deters biting flies."},{name:"Elephant",sciName:"Loxodonta africana",family:"Order: Proboscidea",clue:"Ecosystem engineer; mourns its dead and communicates via infrasound."},{name:"Rhino",sciName:"Ceratotherium simum",family:"Order: Perissodactyla",clue:"Near-sighted grazer; heavily poached for its keratin nose ornament."},{name:"Warthog",sciName:"Phacochoerus africanus",family:"Suidae",clue:"Sleeps in burrows; enters backward to defend the entrance with facial tusks."},{name:"Bison",sciName:"Bison bison",displayLatin:"Subfamily: Bovinae",family:"Bovidae",clue:"Keystone species; creates wallows that retain water for the prairie ecosystem."}]},{emoji:"",name:"Forest Grazers",animals:[{name:"Moose",sciName:"Alces alces",family:"Cervidae",clue:"Largest of the deer family; dives underwater to graze on aquatic vegetation."},{name:"Deer (Red)",sciName:"Cervus elaphus",family:"Cervidae",clue:"Forest monarch; males roar during the autumn rut to secure a harem."},{name:"Elk",sciName:"Cervus canadensis",family:"Cervidae",clue:"High-altitude grazer; distinctive ivory teeth were once prized as jewelry."},{name:"Tapir",sciName:"Tapirus terrestris",displayLatin:"Family: Tapiridae",family:"Order: Perissodactyla",clue:"Ancient odd-toed ungulate; disperses seeds in the neotropical understory."},{name:"Okapi",sciName:"Okapia johnstoni",displayLatin:"Family: Giraffidae",family:"Giraffidae",clue:"Elusive rainforest dweller; famous for its long, prehensile blue tongue."},{name:"Sloth",sciName:"Bradypus variegatus",family:"Order: Pilosa",clue:"Metabolism is so slow it hosts a mossy ecosystem in its fur."}]},{emoji:"",name:"River Mammals",animals:[{name:"Beaver",sciName:"Castor fiber",family:"Castoridae",clue:"Iron-reinforced teeth; radically alters landscapes to create moats."},{name:"Capybara",sciName:"Hydrochoerus hydrochaeris",family:"Caviidae",clue:"Gregarious semi-aquatic giant; often seen with other birds sitting on it."},{name:"Platypus",sciName:"Ornithorhynchus anatinus",family:"Order: Monotremata",clue:"Bio-fluorescent monotreme; detects electric fields with a sensitive bill."},{name:"Hippo",sciName:"Hippopotamus amphibius",displayLatin:"Family: Hippopotamidae",family:"Suborder: Whippomorpha",clue:"Responsible for more human fatalities in Africa than lions; secretes red sunscreen."},{name:"Otter",sciName:"Lutra lutra",family:"Mustelidae",clue:"Uses rocks as anvils to crack shellfish; sleeps holding hands to stay anchored."},{name:"Manatee",sciName:"Trichechus manatus",displayLatin:"Order: Sirenia",family:"Trichechidae",clue:"Slow-moving grazer; sensitive vibrissae cover its entire body."}]},{emoji:"",name:"Antelopes",animals:[{name:"Wildebeest",sciName:"Connochaetes taurinus",family:"Bovidae",clue:"Keystone migrator; calves can run minutes after birth to keep up with the mega-herd."},{name:"Impala",sciName:"Aepyceros melampus",family:"Bovidae",clue:"Ubiquitous prey species; distinguishes itself with a unique 'M' marking on the rear."},{name:"Gazelle",sciName:"Eudorcas thomsonii",family:"Bovidae",clue:"Delicate arid sprinter; performs vertical leaps to signal fitness to predators."},{name:"Oryx",sciName:"Oryx gazella",displayLatin:"Subfamily: Antilopinae",family:"Bovidae",clue:"Desert survivor; can raise its body temperature to 46C to avoid sweating."},{name:"Kudu",sciName:"Tragelaphus strepsiceros",family:"Bovidae",clue:"Woodland browser; famously elusive 'Grey Ghost' capable of clearing 2.5m fences."},{name:"Springbok",sciName:"Antidorcas marsupialis",family:"Bovidae",clue:"Arid specialist; namesake of a famous rugby team and known for stiff-legged leaps."}]},{emoji:"",name:"Small Mammals",animals:[{name:"Jerboa",sciName:"Jaculus",family:"Dipodidae",clue:"Bipedal desert rodent; extracts all necessary water from its food."},{name:"Chipmunk",sciName:"Tamias striatus",family:"Sciuridae",clue:"Ground-dwelling sciurid; excavates complex burrows with hidden entrances."},{name:"Giant Squirrel",sciName:"Ratufa indica",family:"Sciuridae",clue:"Canopy dweller; builds large globe-shaped nests high in the trees."},{name:"Rabbit",sciName:"Oryctolagus cuniculus",family:"Leporidae",clue:"Practice coprophagy (re-eating pellets) to extract maximum nutrients."},{name:"Hedgehog",sciName:"Erinaceus europaeus",family:"Erinaceidae",clue:"Immune to many snake venoms; uses anointing behavior to scent its spines."},{name:"Raccoon",sciName:"Procyon lotor",family:"Procyonidae",clue:"Highly dexterous tactile specialist; 'sees' with its wet front paws."},{name:"Skunk",sciName:"Mephitis mephitis",family:"Mephitidae",clue:"Aposematic coloring warns of its potent sulfur-based defense spray."},{name:"Meerkat",sciName:"Suricata suricatta",family:"Herpestidae",clue:"Eusocial mongoose; teaches young how to safely handle scorpions."},{name:"Bat",sciName:"Tadarida brasiliensis",family:"Order: Chiroptera",clue:"The only mammal capable of powered flight; comprises 20% of all mammal species."},{name:"Armadillo",sciName:"Dasypus novemcinctus",family:"Order: Cingulata",clue:"New World digger; gives birth to identical quadruplets."}]},{emoji:"",name:"Marsupials",animals:[{name:"Kangaroo",sciName:"Macropus rufus",family:"Macropodidae",clue:"Uses tail as a third leg; cannot move its hind legs independently on land."},{name:"Koala",sciName:"Phascolarctos cinereus",family:"Phascolarctidae",clue:"Specialized folivore; brain is smooth because energy is conserved for digestion."},{name:"Sugar Glider",sciName:"Petaurus breviceps",family:"Petauridae",clue:"Sap-loving nocturnal marsupial; volplanes between trees in family groups."},{name:"Opossum",sciName:"Didelphis virginiana",family:"Didelphidae",clue:"North America's only marsupial; immune to pit viper venom and eats thousands of ticks."},{name:"Wombat",sciName:"Vombatus ursinus",displayLatin:"Suborder: Vombatiformes",family:"Order: Diprotodontia",clue:"Fossorial grazer; crushes predators' skulls against the burrow roof with its rump."}]},{emoji:"",name:"Raptors",animals:[{name:"Eagle",sciName:"Haliaeetus leucocephalus",family:"Accipitridae",clue:"Kleptoparasite; often steals food from other birds despite its majestic reputation."},{name:"Owl",sciName:"Tyto alba",family:"Tytonidae",clue:"Silent flight feathers; ears are asymmetrical to pinpoint prey in total darkness."},{name:"Hawk",sciName:"Buteo jamaicensis",family:"Accipitridae",clue:"Ubiquitous soarer; highly variable plumage makes identification difficult."},{name:"Falcon",sciName:"Falco peregrinus",displayLatin:"Genus: Falco",family:"Order: Falconiformes",clue:"Specialized bird-hunter; kills mid-air with a 'tomial tooth' beak notch."},{name:"Vulture",sciName:"Cathartes aura",family:"Cathartidae",clue:"Uses strong stomach acid to sanitize the environment; finds food by smell."},{name:"Osprey",sciName:"Pandion haliaetus",family:"Pandionidae",clue:"Cosmopolitan raptor; the only one that plunges feet-first into water."}]},{emoji:"",name:"Water Birds",animals:[{name:"Penguin",sciName:"Aptenodytes forsteri",family:"Spheniscidae",clue:"Southern hemisphere diver; males incubate the egg on their feet for months."},{name:"Pelican",sciName:"Pelecanus occidentalis",family:"Pelecanidae",clue:"Cooperative fisher; uses a gular pouch to scoop, not store, prey."},{name:"Swan",sciName:"Cygnus olor",family:"Anatidae",clue:"Territorial waterfowl; historically owned by the British monarch."},{name:"Flamingo",sciName:"Phoenicopterus roseus",family:"Phoenicopteridae",clue:"Filter-feeds upside down; color is derived from brine shrimp pigments."},{name:"Stork",sciName:"Ciconia ciconia",family:"Ciconiidae",clue:"Mute migrant; communicates by clattering its bill during nest displays."},{name:"Mandarin Duck",sciName:"Aix galericulata",family:"Anatidae",clue:"Perching duck; symbol of wedded bliss in East Asian culture."}]},{emoji:"",name:"Exotic Birds",animals:[{name:"Macaw",sciName:"Ara macao",displayLatin:"Tribe: Arini",family:"Psittacidae",clue:"Neotropical giant; consumes clay licks to neutralize toxins in seeds."},{name:"Toucan",sciName:"Ramphastos toco",family:"Ramphastidae",clue:"Neotropical frugivore; massive bill helps regulate body heat."},{name:"Peacock",sciName:"Pavo cristatus",family:"Phasianidae",clue:"Sexual selection icon; distinct train feathers rattle to attract mates."},{name:"Hummingbird",sciName:"Archilochus colubris",family:"Trochilidae",clue:"High metabolism requires torpor at night; only bird capable of hovering."},{name:"Parrot",sciName:"Psittacus erithacus",family:"Psittacidae",clue:"Cognitive powerhouse; demonstrates reasoning skills equal to a young child."},{name:"Ibis",sciName:"Eudocimus ruber",family:"Threskiornithidae",clue:"Gregarious wader; uses a long, curved bill to probe mud for crustaceans."}]},{emoji:"",name:"Songbirds",animals:[{name:"Robin",sciName:"Erithacus rubecula",family:"Muscicapidae",clue:"Garden territorialist; follows large herbivores (or gardeners) to find disturbed worms."},{name:"Blue Jay",sciName:"Cyanocitta cristata",family:"Corvidae",clue:"Intelligent hoarder; plants thousands of oak trees annually by forgetting caches."},{name:"Java Sparrow",sciName:"Padda oryzivora",family:"Estrildidae",clue:"Social flock bird; originally a rice pest, now a popular cage bird."},{name:"Crow",sciName:"Corvus corone",family:"Corvidae",clue:"Tool maker; holds 'funerals' to learn about threats in the area."},{name:"Nicobar Pigeon",sciName:"Caloenas nicobarica",family:"Columbidae",clue:"Island nomad; possesses a distinct gizzard stone for grinding hard seeds."},{name:"Cardinal",sciName:"Cardinalis cardinalis",displayLatin:"Family: Cardinalidae",family:"Order: Passeriformes",clue:"Non-migratory territory defender; males feed females seeds during courtship."}]},{emoji:"",name:"Ground Birds",animals:[{name:"Ostrich",sciName:"Struthio camelus",family:"Struthionidae",clue:"Fastest runner on two legs; possesses two toes to reduce friction."},{name:"Emu",sciName:"Dromaius novaehollandiae",family:"Dromaiidae",clue:"Nomadic forager; males incubate the eggs and raise the chicks alone."},{name:"Cassowary",sciName:"Casuarius casuarius",family:"Casuariidae",clue:"Keystone rainforest gardener; swallows massive fruit whole."},{name:"Turkey",sciName:"Meleagris gallopavo",family:"Phasianidae",clue:"Forest forager; males form coalitions to court females."},{name:"Roadrunner",sciName:"Geococcyx californianus",family:"Cuculidae",clue:"Ground cuckoo; cooperatively hunts to kill venomous vipers."},{name:"Kiwi",sciName:"Apteryx mantelli",family:"Apterygidae",clue:"Honorary mammal; nostrils are located at the very tip of the beak."}]},{emoji:"",name:"Reptiles",animals:[{name:"Crocodile",sciName:"Crocodylus niloticus",displayLatin:"Order: Crocodylia",family:"Clade: Archosauria",clue:"Living fossil; capable of slowing heart rate to a few beats per minute."},{name:"Cobra",sciName:"Ophiophagus hannah",family:"Elapidae",clue:"Elapid intimidation; expands cervical ribs when threatened."},{name:"Tortoise",sciName:"Chelonoidis",family:"Testudinidae",clue:"Land-dwelling tank; water storage allows survival on arid islands."},{name:"Iguana",sciName:"Iguana iguana",displayLatin:"Family: Iguanidae",family:"Order: Squamata",clue:"Arboreal swimmer; possesses a photosensory 'third eye' on its head."},{name:"Komodo Dragon",sciName:"Varanus komodoensis",displayLatin:"Family: Varanidae",family:"Varanidae",clue:"Island gigantism example; capable of pathogenesis (virgin birth)."},{name:"Boa",sciName:"Boa constrictor",displayLatin:"Family: Boidae",family:"Order: Squamata",clue:"Ambush hunter; oxygenates blood independently to breathe while squeezing prey."},{name:"Chameleon",sciName:"Chamaeleo chamaeleon",displayLatin:"Suborder: Iguania",family:"Order: Squamata",clue:"Ballistic tongue projector; eyes move independently for 360-degree vision."}]},{emoji:"",name:"Amphibians",animals:[{name:"Bullfrog",sciName:"Lithobates catesbeianus",family:"Ranidae",clue:"Ambush predator; males battle physically for dominance of the pond."},{name:"Toad",sciName:"Bufo bufo",family:"Bufonidae",clue:"Terrestrial hopper; lacks teeth and swallows using its eyeballs."},{name:"Salamander",sciName:"Salamandra salamandra",displayLatin:"Order: Urodela",family:"Class: Amphibia",clue:"Permeable skin breather; toxic secretions deter predators."},{name:"Axolotl",sciName:"Ambystoma mexicanum",family:"Ambystomatidae",clue:"Neotenic salamander; possesses incredible limb regeneration abilities."},{name:"Frog (Tree)",sciName:"Agalychnis callidryas",family:"Hylidae",clue:"Arboreal acrobat; sleeps on the underside of leaves to hide bright colors."}]},{emoji:"",name:"Marine",animals:[{name:"Whale",sciName:"Balaenoptera musculus",family:"Balaenopteridae",clue:"Largest animal to have ever lived; feeds on the smallest prey."},{name:"Dolphin",sciName:"Tursiops truncatus",displayLatin:"Infraorder: Cetacea",family:"Order: Artiodactyla",clue:"Sleeps one brain hemisphere at a time; recognized by unique dorsal fins."},{name:"Shark",sciName:"Carcharodon carcharias",family:"Lamnidae",clue:"Apex predator; relies on a fatty liver for buoyancy rather than a swim bladder."},{name:"Octopus",sciName:"Octopus vulgaris",displayLatin:"Order: Octopoda",family:"Phylum: Mollusca",clue:"Problem solving invertebrate; skin contains chromatophores for instant camouflage."},{name:"Seal",sciName:"Phoca vitulina",family:"Phocidae",clue:"Coastal pinniped; lacks external ear flaps and moves by flopping on land."},{name:"Crab",sciName:"Callinectes sapidus",family:"Portunidae",clue:"Decapod scavenger; molts its hard exoskeleton to grow."}]},{emoji:"",name:"Fish",animals:[{name:"Goldfish",sciName:"Carassius auratus",family:"Cyprinidae",clue:"Domesticated carp; capable of surviving in freezing, low-oxygen water."},{name:"Salmon",sciName:"Salmo salar",displayLatin:"Order: Salmoniformes",family:"Class: Actinopterygii",clue:"Semelparous navigator; undergoes massive physiological changes from salt to fresh water."},{name:"Clownfish",sciName:"Amphiprion ocellaris",family:"Pomacentridae",clue:"Protandrous hermaphrodite; all are born male and the dominant turns female."},{name:"Seahorse",sciName:"Hippocampus guttulatus",family:"Syngnathidae",clue:"Poor swimmer; lacks a stomach and must eat constantly."},{name:"Piranha",sciName:"Pygocentrus nattereri",family:"Serrasalmidae",clue:"River scavenger; barks when threatened and rarely attacks healthy animals."}]},{emoji:"",name:"Insects+",animals:[{name:"Butterfly",sciName:"Danaus plexippus",family:"Nymphalidae",clue:"Migratory specialist; navigates via sun compass over thousands of miles."},{name:"Blue Carpenter Bee",sciName:"Xylocopa caerulea",family:"Apidae",clue:"Solitary buzzer; excavates nesting tunnels in dead wood."},{name:"Tarantula",sciName:"Brachypelma",family:"Theraphosidae",clue:"Long-lived ambusher; relies on vibrations rather than a web to hunt."},{name:"Scorpion",sciName:"Pandinus imperator",displayLatin:"Clade: Arachnopulmonata",family:"Class: Arachnida",clue:"Ancient arachnid; gives birth to live young that ride on her back."},{name:"Snail",sciName:"Cornu aspersum",family:"Helicidae",clue:"Gastropod grazer; estivates in a mucus seal during dry periods."},{name:"Mantis",sciName:"Mantis religiosa",displayLatin:"Order: Mantodea",family:"Class: Insecta",clue:"Visual hunter; only insect capable of 3D vision."}]}],i1=()=>{};var Bv={};const xT=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},s1=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],g=r[n++],v=r[n++],T=((l&7)<<18|(h&63)<<12|(g&63)<<6|v&63)-65536;t[a++]=String.fromCharCode(55296+(T>>10)),t[a++]=String.fromCharCode(56320+(T&1023))}else{const h=r[n++],g=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|g&63)}}return t.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],g=l+1<r.length,v=g?r[l+1]:0,T=l+2<r.length,E=T?r[l+2]:0,C=h>>2,R=(h&3)<<4|v>>4;let V=(v&15)<<2|E>>6,tt=E&63;T||(tt=64,g||(V=64)),a.push(n[C],n[R],n[V],n[tt])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):s1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],v=l<r.length?n[r.charAt(l)]:0;++l;const E=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||v==null||E==null||R==null)throw new r1;const V=h<<2|v>>4;if(a.push(V),E!==64){const tt=v<<4&240|E>>2;if(a.push(tt),R!==64){const ut=E<<6&192|R;a.push(ut)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a1=function(r){const t=xT(r);return CT.encodeByteArray(t,!0)},hf=function(r){return a1(r).replace(/\./g,"")},IT=function(r){try{return CT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function o1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const l1=()=>o1().__FIREBASE_DEFAULTS__,u1=()=>{if(typeof process>"u"||typeof Bv>"u")return;const r=Bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},c1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&IT(r[1]);return t&&JSON.parse(t)},Mf=()=>{try{return i1()||l1()||u1()||c1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},RT=r=>Mf()?.emulatorHosts?.[r],h1=r=>{const t=RT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},NT=()=>Mf()?.config,MT=r=>Mf()?.[`_${r}`];class f1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function cu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OT(r){return(await fetch(r,{credentials:"include"})).ok}function d1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hf(JSON.stringify(n)),hf(JSON.stringify(g)),""].join(".")}const hc={};function m1(){const r={prod:[],emulator:[]};for(const t of Object.keys(hc))hc[t]?r.emulator.push(t):r.prod.push(t);return r}function p1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let jv=!1;function LT(r,t){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||hc[r]===t||hc[r]||jv)return;hc[r]=t;function n(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=m1().prod.length>0;function g(){const V=document.getElementById(a);V&&V.remove()}function v(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function T(V,tt){V.setAttribute("width","24"),V.setAttribute("id",tt),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function E(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{jv=!0,g()},V}function C(V,tt){V.setAttribute("id",tt),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function R(){const V=p1(a),tt=n("text"),ut=document.getElementById(tt)||document.createElement("span"),ct=n("learnmore"),Tt=document.getElementById(ct)||document.createElement("a"),Nt=n("preprendIcon"),Bt=document.getElementById(Nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const Rt=V.element;v(Rt),C(Tt,ct);const Gt=E();T(Bt,Nt),Rt.append(Bt,ut,Tt,Gt),document.body.appendChild(Rt)}h?(ut.innerText="Preview backend disconnected.",Bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ut.innerText="Preview backend running in this workspace."),ut.setAttribute("id",tt)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fi())}function _1(){const r=Mf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function v1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T1(){const r=fi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function b1(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function w1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const E1="FirebaseError";class Js extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=E1,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],g=h?S1(h,a):"Error",v=`${this.serviceName}: ${g} (${l}).`;return new Js(l,v,a)}}function S1(r,t){return r.replace(A1,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const A1=/\{\$([^}]+)}/g;function x1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function oo(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],g=t[l];if(qv(h)&&qv(g)){if(!oo(h,g))return!1}else if(h!==g)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function qv(r){return r!==null&&typeof r=="object"}function Ic(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function C1(r,t){const n=new I1(r,t);return n.subscribe.bind(n)}class I1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");R1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=qm),l.error===void 0&&(l.error=qm),l.complete===void 0&&(l.complete=qm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function qm(){}const N1=1e3,M1=2,O1=14400*1e3,L1=.5;function Hv(r,t=N1,n=M1){const a=t*Math.pow(n,r),l=Math.round(L1*a*(Math.random()-.5)*2);return Math.min(O1,a+l)}function An(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qo="[DEFAULT]";class P1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new f1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k1(t))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Qo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qo){return this.instances.has(t)}getOptions(t=Qo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,g]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);a===v&&g.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:D1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qo){return this.component?this.component.multipleInstances?t:Qo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(r){return r===Qo?void 0:r}function k1(r){return r.instantiationMode==="EAGER"}class V1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new P1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ue||(ue={}));const z1={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},U1=ue.INFO,B1={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},j1=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=B1[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Of{constructor(t){this.name=t,this._logLevel=U1,this._logHandler=j1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ue))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...t),this._logHandler(this,ue.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...t),this._logHandler(this,ue.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...t),this._logHandler(this,ue.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...t),this._logHandler(this,ue.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...t),this._logHandler(this,ue.ERROR,...t)}}const q1=(r,t)=>t.some(n=>r instanceof n);let Fv,Gv;function H1(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F1(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,ap=new WeakMap,zT=new WeakMap,Hm=new WeakMap,Pp=new WeakMap;function G1(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",g)},h=()=>{n(no(r.result)),l()},g=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",g)});return t.then(n=>{n instanceof IDBCursor&&VT.set(n,r)}).catch(()=>{}),Pp.set(t,r),t}function Z1(r){if(ap.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",g),r.removeEventListener("abort",g)},h=()=>{n(),l()},g=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",g),r.addEventListener("abort",g)});ap.set(r,t)}let op={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return ap.get(r);if(t==="objectStoreNames")return r.objectStoreNames||zT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function K1(r){op=r(op)}function Y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Fm(this),t,...n);return zT.set(a,t.sort?t.sort():[t]),no(a)}:F1().includes(r)?function(...t){return r.apply(Fm(this),t),no(VT.get(this))}:function(...t){return no(r.apply(Fm(this),t))}}function Q1(r){return typeof r=="function"?Y1(r):(r instanceof IDBTransaction&&Z1(r),q1(r,H1())?new Proxy(r,op):r)}function no(r){if(r instanceof IDBRequest)return G1(r);if(Hm.has(r))return Hm.get(r);const t=Q1(r);return t!==r&&(Hm.set(r,t),Pp.set(t,r)),t}const Fm=r=>Pp.get(r);function UT(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const g=indexedDB.open(r,t),v=no(g);return a&&g.addEventListener("upgradeneeded",T=>{a(no(g.result),T.oldVersion,T.newVersion,no(g.transaction),T)}),n&&g.addEventListener("blocked",T=>n(T.oldVersion,T.newVersion,T)),v.then(T=>{h&&T.addEventListener("close",()=>h()),l&&T.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),v}const X1=["get","getKey","getAll","getAllKeys","count"],W1=["put","add","delete","clear"],Gm=new Map;function Zv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gm.get(t))return Gm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=W1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||X1.includes(n)))return;const h=async function(g,...v){const T=this.transaction(g,l?"readwrite":"readonly");let E=T.store;return a&&(E=E.index(v.shift())),(await Promise.all([E[n](...v),l&&T.done]))[0]};return Gm.set(t,h),h}K1(r=>({...r,get:(t,n,a)=>Zv(t,n)||r.get(t,n,a),has:(t,n)=>!!Zv(t,n)||r.has(t,n)}));class J1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function $1(r){return r.getComponent()?.type==="VERSION"}const lp="@firebase/app",Kv="0.14.7";const la=new Of("@firebase/app"),tA="@firebase/app-compat",eA="@firebase/analytics-compat",nA="@firebase/analytics",iA="@firebase/app-check-compat",sA="@firebase/app-check",rA="@firebase/auth",aA="@firebase/auth-compat",oA="@firebase/database",lA="@firebase/data-connect",uA="@firebase/database-compat",cA="@firebase/functions",hA="@firebase/functions-compat",fA="@firebase/installations",dA="@firebase/installations-compat",mA="@firebase/messaging",pA="@firebase/messaging-compat",gA="@firebase/performance",_A="@firebase/performance-compat",yA="@firebase/remote-config",vA="@firebase/remote-config-compat",TA="@firebase/storage",bA="@firebase/storage-compat",wA="@firebase/firestore",EA="@firebase/ai",SA="@firebase/firestore-compat",AA="firebase",xA="12.8.0";const up="[DEFAULT]",CA={[lp]:"fire-core",[tA]:"fire-core-compat",[nA]:"fire-analytics",[eA]:"fire-analytics-compat",[sA]:"fire-app-check",[iA]:"fire-app-check-compat",[rA]:"fire-auth",[aA]:"fire-auth-compat",[oA]:"fire-rtdb",[lA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[cA]:"fire-fn",[hA]:"fire-fn-compat",[fA]:"fire-iid",[dA]:"fire-iid-compat",[mA]:"fire-fcm",[pA]:"fire-fcm-compat",[gA]:"fire-perf",[_A]:"fire-perf-compat",[yA]:"fire-rc",[vA]:"fire-rc-compat",[TA]:"fire-gcs",[bA]:"fire-gcs-compat",[wA]:"fire-fst",[SA]:"fire-fst-compat",[EA]:"fire-vertex","fire-js":"fire-js",[AA]:"fire-js-all"};const ff=new Map,IA=new Map,cp=new Map;function Yv(r,t){try{r.container.addComponent(t)}catch(n){la.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ar(r){const t=r.name;if(cp.has(t))return la.debug(`There were multiple attempts to register component ${t}.`),!1;cp.set(t,r);for(const n of ff.values())Yv(n,r);for(const n of IA.values())Yv(n,r);return!0}function ol(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function As(r){return r==null?!1:r.settings!==void 0}const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},io=new al("app","Firebase",RA);class NA{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}const hu=xA;function BT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:up,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw io.create("bad-app-name",{appName:String(l)});if(n||(n=NT()),!n)throw io.create("no-options");const h=ff.get(l);if(h){if(oo(n,h.options)&&oo(a,h.config))return h;throw io.create("duplicate-app",{appName:l})}const g=new V1(l);for(const T of cp.values())g.addComponent(T);const v=new NA(n,a,g);return ff.set(l,v),v}function Dp(r=up){const t=ff.get(r);if(!t&&r===up&&NT())return BT();if(!t)throw io.create("no-app",{appName:r});return t}function Cs(r,t,n){let a=CA[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const g=[`Unable to register library "${a}" with version "${t}":`];l&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&g.push("and"),h&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),la.warn(g.join(" "));return}Ar(new Xs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const MA="firebase-heartbeat-database",OA=1,_c="firebase-heartbeat-store";let Zm=null;function jT(){return Zm||(Zm=UT(MA,OA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(r=>{throw io.create("idb-open",{originalErrorMessage:r.message})})),Zm}async function LA(r){try{const n=(await jT()).transaction(_c),a=await n.objectStore(_c).get(qT(r));return await n.done,a}catch(t){if(t instanceof Js)la.warn(t.message);else{const n=io.create("idb-get",{originalErrorMessage:t?.message});la.warn(n.message)}}}async function Qv(r,t){try{const a=(await jT()).transaction(_c,"readwrite");await a.objectStore(_c).put(t,qT(r)),await a.done}catch(n){if(n instanceof Js)la.warn(n.message);else{const a=io.create("idb-set",{originalErrorMessage:n?.message});la.warn(a.message)}}}function qT(r){return`${r.name}!${r.options.appId}`}const PA=1024,DA=30;class kA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>DA){const l=UA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){la.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Xv(),{heartbeatsToSend:n,unsentEntries:a}=VA(this._heartbeatsCache.heartbeats),l=hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return la.warn(t),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function VA(r,t=PA){const n=[];let a=r.slice();for(const l of r){const h=n.find(g=>g.agent===l.agent);if(h){if(h.dates.push(l.date),Wv(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Wv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class zA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Qv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Qv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Wv(r){return hf(JSON.stringify({version:2,heartbeats:r})).length}function UA(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}function BA(r){Ar(new Xs("platform-logger",t=>new J1(t),"PRIVATE")),Ar(new Xs("heartbeat",t=>new kA(t),"PRIVATE")),Cs(lp,Kv,r),Cs(lp,Kv,"esm2020"),Cs("fire-js","")}BA("");var jA="firebase",qA="12.8.0";Cs(jA,qA,"app");function HT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HA=HT,FT=new al("auth","Firebase",HT());const df=new Of("@firebase/auth");function FA(r,...t){df.logLevel<=ue.WARN&&df.warn(`Auth (${hu}): ${r}`,...t)}function tf(r,...t){df.logLevel<=ue.ERROR&&df.error(`Auth (${hu}): ${r}`,...t)}function xr(r,...t){throw Vp(r,...t)}function Ks(r,...t){return Vp(r,...t)}function kp(r,t,n){const a={...HA(),[t]:n};return new al("auth","Firebase",a).create(t,{appName:r.name})}function so(r){return kp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GA(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&xr(r,"argument-error"),kp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return FT.create(r,...t)}function zt(r,t,...n){if(!r)throw Vp(t,...n)}function ra(r){const t="INTERNAL ASSERTION FAILED: "+r;throw tf(t),new Error(t)}function ua(r,t){r||ra(t)}function hp(){return typeof self<"u"&&self.location?.href||""}function ZA(){return Jv()==="http:"||Jv()==="https:"}function Jv(){return typeof self<"u"&&self.location?.protocol||null}function KA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZA()||PT()||"connection"in navigator)?navigator.onLine:!0}function YA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Rc{constructor(t,n){this.shortDelay=t,this.longDelay=n,ua(n>t,"Short delay should be less than long delay!"),this.isMobile=g1()||v1()}get(){return KA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zp(r,t){ua(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class GT{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WA=new Rc(3e4,6e4);function Lf(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function fu(r,t,n,a,l={}){return ZT(r,l,async()=>{let h={},g={};a&&(t==="GET"?g=a:h={body:JSON.stringify(a)});const v=Ic({key:r.config.apiKey,...g}).slice(1),T=await r._getAdditionalHeaders();T["Content-Type"]="application/json",r.languageCode&&(T["X-Firebase-Locale"]=r.languageCode);const E={method:t,headers:T,...h};return y1()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&cu(r.emulatorConfig.host)&&(E.credentials="include"),GT.fetch()(await YT(r,r.config.apiHost,n,v),E)})}async function ZT(r,t,n){r._canInitEmulator=!1;const a={...QA,...t};try{const l=new JA(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const g=await h.json();if("needConfirmation"in g)throw Zh(r,"account-exists-with-different-credential",g);if(h.ok&&!("errorMessage"in g))return g;{const v=h.ok?g.errorMessage:g.error.message,[T,E]=v.split(" : ");if(T==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(r,"credential-already-in-use",g);if(T==="EMAIL_EXISTS")throw Zh(r,"email-already-in-use",g);if(T==="USER_DISABLED")throw Zh(r,"user-disabled",g);const C=a[T]||T.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw kp(r,C,E);xr(r,C)}}catch(l){if(l instanceof Js)throw l;xr(r,"network-request-failed",{message:String(l)})}}async function KT(r,t,n,a,l={}){const h=await fu(r,t,n,a,l);return"mfaPendingCredential"in h&&xr(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function YT(r,t,n,a){const l=`${t}${n}?${a}`,h=r,g=h.config.emulator?zp(r.config,l):`${r.config.apiScheme}://${l}`;return XA.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(g).toString():g}class JA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ks(this.auth,"network-request-failed")),WA.get())})}}function Zh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Ks(r,t,a);return l.customData._tokenResponse=n,l}async function $A(r,t){return fu(r,"POST","/v1/accounts:delete",t)}async function mf(r,t){return fu(r,"POST","/v1/accounts:lookup",t)}function fc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tx(r,t=!1){const n=An(r),a=await n.getIdToken(t),l=Up(a);zt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,g=h?.sign_in_provider;return{claims:l,token:a,authTime:fc(Km(l.auth_time)),issuedAtTime:fc(Km(l.iat)),expirationTime:fc(Km(l.exp)),signInProvider:g||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Km(r){return Number(r)*1e3}function Up(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const l=IT(n);return l?JSON.parse(l):(tf("Failed to decode base64 JWT payload"),null)}catch(l){return tf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function $v(r){const t=Up(r);return zt(t,"internal-error"),zt(typeof t.exp<"u","internal-error"),zt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function yc(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Js&&ex(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function ex({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class nx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pf(r){const t=r.auth,n=await r.getIdToken(),a=await yc(r,mf(t,{idToken:n}));zt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?QT(l.providerUserInfo):[],g=sx(r.providerData,h),v=r.isAnonymous,T=!(r.email&&l.passwordHash)&&!g?.length,E=v?T:!1,C={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:g,metadata:new fp(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,C)}async function ix(r){const t=An(r);await pf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sx(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function QT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rx(r,t){const n=await ZT(r,{},async()=>{const a=Ic({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,g=await YT(r,l,"/v1/token",`key=${h}`),v=await r._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const T={method:"POST",headers:v,body:a};return r.emulatorConfig&&cu(r.emulatorConfig.host)&&(T.credentials="include"),GT.fetch()(g,T)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ax(r,t){return fu(r,"POST","/v2/accounts:revokeToken",Lf(r,t))}class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){zt(t.idToken,"internal-error"),zt(typeof t.idToken<"u","internal-error"),zt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$v(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){zt(t.length!==0,"internal-error");const n=$v(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await rx(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,g=new Wl;return a&&(zt(typeof a=="string","internal-error",{appName:t}),g.refreshToken=a),l&&(zt(typeof l=="string","internal-error",{appName:t}),g.accessToken=l),h&&(zt(typeof h=="number","internal-error",{appName:t}),g.expirationTime=h),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return ra("not implemented")}}function Wa(r,t){zt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zs{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new nx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await yc(this,this.stsTokenManager.getToken(this.auth,t));return zt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tx(this,t)}reload(){return ix(this)}_assign(t){this!==t&&(zt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await pf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(so(this.auth));const t=await this.getIdToken();return await yc(this,$A(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,g=n.photoURL??void 0,v=n.tenantId??void 0,T=n._redirectEventId??void 0,E=n.createdAt??void 0,C=n.lastLoginAt??void 0,{uid:R,emailVerified:V,isAnonymous:tt,providerData:ut,stsTokenManager:ct}=n;zt(R&&ct,t,"internal-error");const Tt=Wl.fromJSON(this.name,ct);zt(typeof R=="string",t,"internal-error"),Wa(a,t.name),Wa(l,t.name),zt(typeof V=="boolean",t,"internal-error"),zt(typeof tt=="boolean",t,"internal-error"),Wa(h,t.name),Wa(g,t.name),Wa(v,t.name),Wa(T,t.name),Wa(E,t.name),Wa(C,t.name);const Nt=new Zs({uid:R,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:tt,photoURL:g,phoneNumber:h,tenantId:v,stsTokenManager:Tt,createdAt:E,lastLoginAt:C});return ut&&Array.isArray(ut)&&(Nt.providerData=ut.map(Bt=>({...Bt}))),T&&(Nt._redirectEventId=T),Nt}static async _fromIdTokenResponse(t,n,a=!1){const l=new Wl;l.updateFromServerResponse(n);const h=new Zs({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await pf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];zt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?QT(l.providerUserInfo):[],g=!(l.email&&l.passwordHash)&&!h?.length,v=new Wl;v.updateFromIdToken(a);const T=new Zs({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:g}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new fp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(T,E),T}}const t0=new Map;function aa(r){ua(r instanceof Function,"Expected a class definition");let t=t0.get(r);return t?(ua(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,t0.set(r,t),t)}class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XT.type="NONE";const e0=XT;function ef(r,t,n){return`firebase:${r}:${t}:${n}`}class Jl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=ef(this.userKey,l.apiKey,h),this.fullPersistenceKey=ef("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await mf(this.auth,{idToken:t}).catch(()=>{});return n?Zs._fromGetAccountInfoResponse(this.auth,n,t):null}return Zs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Jl(aa(e0),t,a);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||aa(e0);const g=ef(a,t.config.apiKey,t.name);let v=null;for(const E of n)try{const C=await E._get(g);if(C){let R;if(typeof C=="string"){const V=await mf(t,{idToken:C}).catch(()=>{});if(!V)break;R=await Zs._fromGetAccountInfoResponse(t,V,C)}else R=Zs._fromJSON(t,C);E!==h&&(v=R),h=E;break}}catch{}const T=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!T.length?new Jl(h,t,a):(h=T[0],v&&await h._set(g,v.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(g)}catch{}})),new Jl(h,t,a))}}function n0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nb(t))return"Blackberry";if(ib(t))return"Webos";if(JT(t))return"Safari";if((t.includes("chrome/")||$T(t))&&!t.includes("edge/"))return"Chrome";if(eb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function WT(r=fi()){return/firefox\//i.test(r)}function JT(r=fi()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $T(r=fi()){return/crios\//i.test(r)}function tb(r=fi()){return/iemobile/i.test(r)}function eb(r=fi()){return/android/i.test(r)}function nb(r=fi()){return/blackberry/i.test(r)}function ib(r=fi()){return/webos/i.test(r)}function Bp(r=fi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ox(r=fi()){return Bp(r)&&!!window.navigator?.standalone}function lx(){return T1()&&document.documentMode===10}function sb(r=fi()){return Bp(r)||eb(r)||ib(r)||nb(r)||/windows phone/i.test(r)||tb(r)}function rb(r,t=[]){let n;switch(r){case"Browser":n=n0(fi());break;case"Worker":n=`${n0(fi())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${hu}/${a}`}class ux{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((g,v)=>{try{const T=t(h);g(T)}catch(T){v(T)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function cx(r,t={}){return fu(r,"GET","/v2/passwordPolicy",Lf(r,t))}const hx=6;class fx{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class dx{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i0(this),this.idTokenSubscription=new i0(this),this.beforeStateQueue=new ux(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=aa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await mf(this,{idToken:t}),a=await Zs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(As(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,g=a?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===g)&&v?.user&&(a=v.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await pf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(As(this.app))return Promise.reject(so(this));const n=t?An(t):null;return n&&zt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&zt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return As(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(aa(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cx(this),n=new fx(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new al("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await ax(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&aa(t)||this._popupRedirectResolver;zt(n,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[aa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let g=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(v,this,"internal-error"),v.then(()=>{g||h(this.currentUser)}),typeof n=="function"){const T=t.addObserver(n,a,l);return()=>{g=!0,T()}}else{const T=t.addObserver(n);return()=>{g=!0,T()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&FA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Nc(r){return An(r)}class i0{constructor(t){this.auth=t,this.observer=null,this.addObserver=C1(n=>this.observer=n)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mx(r){jp=r}function px(r){return jp.loadJS(r)}function gx(){return jp.gapiScript}function _x(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function yx(r,t){const n=ol(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(oo(h,t??{}))return l;xr(l,"already-initialized")}return n.initialize({options:t})}function vx(r,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(aa);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Tx(r,t,n){const a=Nc(r);zt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=ab(t),{host:g,port:v}=bx(t),T=v===null?"":`:${v}`,E={url:`${h}//${g}${T}/`},C=Object.freeze({host:g,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){zt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),zt(oo(E,a.config.emulator)&&oo(C,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=C,a.settings.appVerificationDisabledForTesting=!0,cu(g)?(OT(`${h}//${g}${T}`),LT("Auth",!0)):wx()}function ab(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function bx(r){const t=ab(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:s0(a.substr(h.length+1))}}else{const[h,g]=a.split(":");return{host:h,port:s0(g)}}}function s0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function wx(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ob{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ra("not implemented")}_getIdTokenResponse(t){return ra("not implemented")}_linkToIdToken(t,n){return ra("not implemented")}_getReauthenticationResolver(t){return ra("not implemented")}}async function $l(r,t){return KT(r,"POST","/v1/accounts:signInWithIdp",Lf(r,t))}const Ex="http://localhost";class tl extends ob{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const g=new tl(a,l);return g.idToken=h.idToken||void 0,g.accessToken=h.accessToken||void 0,g.secret=h.secret,g.nonce=h.nonce,g.pendingToken=h.pendingToken||null,g}_getIdTokenResponse(t){const n=this.buildRequest();return $l(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,$l(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$l(t,n)}buildRequest(){const t={requestUri:Ex,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ic(n)}return t}}class qp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Mc extends qp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ja extends Mc{constructor(){super("facebook.com")}static credential(t){return tl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ja.credentialFromTaggedObject(t)}static credentialFromError(t){return Ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ja.credential(t.oauthAccessToken)}catch{return null}}}Ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ja.PROVIDER_ID="facebook.com";class sa extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return tl._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return sa.credentialFromTaggedObject(t)}static credentialFromError(t){return sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return sa.credential(n,a)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";class $a extends Mc{constructor(){super("github.com")}static credential(t){return tl._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $a.credential(t.oauthAccessToken)}catch{return null}}}$a.GITHUB_SIGN_IN_METHOD="github.com";$a.PROVIDER_ID="github.com";class to extends Mc{constructor(){super("twitter.com")}static credential(t,n){return tl._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return to.credentialFromTaggedObject(t)}static credentialFromError(t){return to.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return to.credential(n,a)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";async function Sx(r,t){return KT(r,"POST","/v1/accounts:signUp",Lf(r,t))}class lo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await Zs._fromIdTokenResponse(t,a,l),g=r0(a);return new lo({user:h,providerId:g,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=r0(a);return new lo({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function r0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Ax(r){if(As(r.app))return Promise.reject(so(r));const t=Nc(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new lo({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await Sx(t,{returnSecureToken:!0}),a=await lo._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(a.user),a}class gf extends Js{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new gf(t,n,a,l)}}function lb(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(r,h,t,a):h})}async function xx(r,t,n=!1){const a=await yc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return lo._forOperation(r,"link",a)}async function Cx(r,t,n=!1){const{auth:a}=r;if(As(a.app))return Promise.reject(so(a));const l="reauthenticate";try{const h=await yc(r,lb(a,l,t,r),n);zt(h.idToken,a,"internal-error");const g=Up(h.idToken);zt(g,a,"internal-error");const{sub:v}=g;return zt(r.uid===v,a,"user-mismatch"),lo._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&xr(a,"user-mismatch"),h}}async function Ix(r,t,n=!1){if(As(r.app))return Promise.reject(so(r));const a="signIn",l=await lb(r,a,t),h=await lo._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}function Rx(r,t,n,a){return An(r).onIdTokenChanged(t,n,a)}function Nx(r,t,n){return An(r).beforeAuthStateChanged(t,n)}function Mx(r,t,n,a){return An(r).onAuthStateChanged(t,n,a)}function Ox(r){return An(r).signOut()}const _f="__sak";class ub{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lx=1e3,Px=10;class cb extends ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((g,v,T)=>{this.notifyListeners(g,T)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const g=this.storage.getItem(a);!n&&this.localCache[a]===g||this.notifyListeners(a,g)},h=this.storage.getItem(a);lx()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Px):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},Lx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}cb.type="LOCAL";const Dx=cb;class hb extends ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}hb.type="SESSION";const fb=hb;function kx(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Pf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Pf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,g=this.handlersMap[l];if(!g?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const v=Array.from(g).map(async E=>E(n.origin,h)),T=await kx(v);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:T})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];function Hp(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}class Vx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,g;return new Promise((v,T)=>{const E=Hp("",20);l.port1.start();const C=setTimeout(()=>{T(new Error("unsupported_event"))},a);g={messageChannel:l,onMessage(R){const V=R;if(V.data.eventId===E)switch(V.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{T(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(V.data.response);break;default:clearTimeout(C),clearTimeout(h),T(new Error("invalid_response"));break}}},this.handlers.add(g),l.port1.addEventListener("message",g.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{g&&this.removeMessageHandler(g)})}}function br(){return window}function zx(r){br().location.href=r}function db(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function Ux(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bx(){return navigator?.serviceWorker?.controller||null}function jx(){return db()?self:null}const mb="firebaseLocalStorageDb",qx=1,yf="firebaseLocalStorage",pb="fbase_key";class Oc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Df(r,t){return r.transaction([yf],t?"readwrite":"readonly").objectStore(yf)}function Hx(){const r=indexedDB.deleteDatabase(mb);return new Oc(r).toPromise()}function dp(){const r=indexedDB.open(mb,qx);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(yf,{keyPath:pb})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(yf)?t(a):(a.close(),await Hx(),t(await dp()))})})}async function a0(r,t,n){const a=Df(r,!0).put({[pb]:t,value:n});return new Oc(a).toPromise()}async function Fx(r,t){const n=Df(r,!1).get(t),a=await new Oc(n).toPromise();return a===void 0?null:a.value}function o0(r,t){const n=Df(r,!0).delete(t);return new Oc(n).toPromise()}const Gx=800,Zx=3;class gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>Zx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(jx()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ux(),!this.activeServiceWorker)return;this.sender=new Vx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Bx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dp();return await a0(t,_f,"1"),await o0(t,_f),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>a0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>Fx(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>o0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Df(l,!1).getAll();return new Oc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gb.type="LOCAL";const Kx=gb;new Rc(3e4,6e4);function _b(r,t){return t?aa(t):(zt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fp extends ob{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $l(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $l(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $l(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Yx(r){return Ix(r.auth,new Fp(r),r.bypassAuthState)}function Qx(r){const{auth:t,user:n}=r;return zt(n,t,"internal-error"),Cx(n,new Fp(r),r.bypassAuthState)}async function Xx(r){const{auth:t,user:n}=r;return zt(n,t,"internal-error"),xx(n,new Fp(r),r.bypassAuthState)}class yb{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:g,type:v}=t;if(g){this.reject(g);return}const T={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(T))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Yx;case"linkViaPopup":case"linkViaRedirect":return Xx;case"reauthViaPopup":case"reauthViaRedirect":return Qx;default:xr(this.auth,"internal-error")}}resolve(t){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wx=new Rc(2e3,1e4);async function Jx(r,t,n){if(As(r.app))return Promise.reject(Ks(r,"operation-not-supported-in-this-environment"));const a=Nc(r);GA(r,t,qp);const l=_b(a,n);return new Xo(a,"signInViaPopup",t,l).executeNotNull()}class Xo extends yb{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return zt(t,this.auth,"internal-error"),t}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const t=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Wx.get())};t()}}Xo.currentPopupAction=null;const $x="pendingRedirect",nf=new Map;class tC extends yb{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=nf.get(this.auth._key());if(!t){try{const a=await eC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}nf.set(this.auth._key(),t)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(r,t){const n=sC(t),a=iC(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function nC(r,t){nf.set(r._key(),t)}function iC(r){return aa(r._redirectPersistence)}function sC(r){return ef($x,r.config.apiKey,r.name)}async function rC(r,t,n=!1){if(As(r.app))return Promise.reject(so(r));const a=Nc(r),l=_b(a,t),g=await new tC(a,l,n).execute();return g&&!n&&(delete g.user._redirectEventId,await a._persistUserIfCurrent(g.user),await a._setRedirectUser(null,t)),g}const aC=600*1e3;class oC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!vb(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ks(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aC&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(t))}saveEventToCache(t){this.cachedEventUids.add(l0(t)),this.lastProcessedEventTime=Date.now()}}function l0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function vb({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function lC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vb(r);default:return!1}}async function uC(r,t={}){return fu(r,"GET","/v1/projects",t)}const cC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hC=/^https?/;async function fC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await uC(r);for(const n of t)try{if(dC(n))return}catch{}xr(r,"unauthorized-domain")}function dC(r){const t=hp(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const g=new URL(r);return g.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&g.hostname===a}if(!hC.test(n))return!1;if(cC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const mC=new Rc(3e4,6e4);function u0(){const r=br().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function pC(r){return new Promise((t,n)=>{function a(){u0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{u0(),n(Ks(r,"network-request-failed"))},timeout:mC.get()})}if(br().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(br().gapi?.load)a();else{const l=_x("iframefcb");return br()[l]=()=>{gapi.load?a():n(Ks(r,"network-request-failed"))},px(`${gx()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw sf=null,t})}let sf=null;function gC(r){return sf=sf||pC(r),sf}const _C=new Rc(5e3,15e3),yC="__/auth/iframe",vC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wC(r){const t=r.config;zt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?zp(t,vC):`https://${r.config.authDomain}/${yC}`,a={apiKey:t.apiKey,appName:r.name,v:hu},l=bC.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Ic(a).slice(1)}`}async function EC(r){const t=await gC(r),n=br().gapi;return zt(n,r,"internal-error"),t.open({where:document.body,url:wC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const g=Ks(r,"network-request-failed"),v=br().setTimeout(()=>{h(g)},_C.get());function T(){br().clearTimeout(v),l(a)}a.ping(T).then(T,()=>{h(g)})}))}const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AC=500,xC=600,CC="_blank",IC="http://localhost";class c0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(r,t,n,a=AC,l=xC){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),g=Math.max((window.screen.availWidth-a)/2,0).toString();let v="";const T={...SC,width:a.toString(),height:l.toString(),top:h,left:g},E=fi().toLowerCase();n&&(v=$T(E)?CC:n),WT(E)&&(t=t||IC,T.scrollbars="yes");const C=Object.entries(T).reduce((V,[tt,ut])=>`${V}${tt}=${ut},`,"");if(ox(E)&&v!=="_self")return NC(t||"",v),new c0(null);const R=window.open(t||"",v,C);zt(R,r,"popup-blocked");try{R.focus()}catch{}return new c0(R)}function NC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const MC="__/auth/handler",OC="emulator/auth/handler",LC=encodeURIComponent("fac");async function h0(r,t,n,a,l,h){zt(r.config.authDomain,r,"auth-domain-config-required"),zt(r.config.apiKey,r,"invalid-api-key");const g={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:hu,eventId:l};if(t instanceof qp){t.setDefaultLanguage(r.languageCode),g.providerId=t.providerId||"",x1(t.getCustomParameters())||(g.customParameters=JSON.stringify(t.getCustomParameters()));for(const[C,R]of Object.entries({}))g[C]=R}if(t instanceof Mc){const C=t.getScopes().filter(R=>R!=="");C.length>0&&(g.scopes=C.join(","))}r.tenantId&&(g.tid=r.tenantId);const v=g;for(const C of Object.keys(v))v[C]===void 0&&delete v[C];const T=await r._getAppCheckToken(),E=T?`#${LC}=${encodeURIComponent(T)}`:"";return`${PC(r)}?${Ic(v).slice(1)}${E}`}function PC({config:r}){return r.emulator?zp(r,OC):`https://${r.authDomain}/${MC}`}const Ym="webStorageSupport";class DC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fb,this._completeRedirectFn=rC,this._overrideRedirectResult=nC}async _openPopup(t,n,a,l){ua(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await h0(t,n,a,hp(),l);return RC(t,h,Hp())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await h0(t,n,a,hp(),l);return zx(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(ua(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await EC(t),a=new oC(t);return n.register("authEvent",l=>(zt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ym,{type:Ym},l=>{const h=l?.[0]?.[Ym];h!==void 0&&n(!!h),xr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sb()||JT()||Bp()}}const kC=DC;var f0="@firebase/auth",d0="1.12.0";class VC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UC(r){Ar(new Xs("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:g,authDomain:v}=a.options;zt(g&&!g.includes(":"),"invalid-api-key",{appName:a.name});const T={apiKey:g,authDomain:v,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rb(r)},E=new dx(a,l,h,T);return vx(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Ar(new Xs("auth-internal",t=>{const n=Nc(t.getProvider("auth").getImmediate());return(a=>new VC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(f0,d0,zC(r)),Cs(f0,d0,"esm2020")}const BC=300,jC=MT("authIdTokenMaxAge")||BC;let m0=null;const qC=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>jC)return;const l=n?.token;m0!==l&&(m0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Tb(r=Dp()){const t=ol(r,"auth");if(t.isInitialized())return t.getImmediate();const n=yx(r,{popupRedirectResolver:kC,persistence:[Kx,Dx,fb]}),a=MT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const g=qC(h.toString());Nx(n,g,()=>g(n.currentUser)),Rx(n,v=>g(v))}}const l=RT("auth");return l&&Tx(n,`http://${l}`),n}function HC(){return document.getElementsByTagName("head")?.[0]??document}mx({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Ks("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",HC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UC("Browser");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ro,bb;(function(){var r;function t(U,M){function D(){}D.prototype=M.prototype,U.F=M.prototype,U.prototype=new D,U.prototype.constructor=U,U.D=function(j,B,H){for(var P=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)P[Wt-2]=arguments[Wt];return M.prototype[B].apply(j,P)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(U,M,D){D||(D=0);const j=Array(16);if(typeof M=="string")for(var B=0;B<16;++B)j[B]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(B=0;B<16;++B)j[B]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=U.g[0],D=U.g[1],B=U.g[2];let H=U.g[3],P;P=M+(H^D&(B^H))+j[0]+3614090360&4294967295,M=D+(P<<7&4294967295|P>>>25),P=H+(B^M&(D^B))+j[1]+3905402710&4294967295,H=M+(P<<12&4294967295|P>>>20),P=B+(D^H&(M^D))+j[2]+606105819&4294967295,B=H+(P<<17&4294967295|P>>>15),P=D+(M^B&(H^M))+j[3]+3250441966&4294967295,D=B+(P<<22&4294967295|P>>>10),P=M+(H^D&(B^H))+j[4]+4118548399&4294967295,M=D+(P<<7&4294967295|P>>>25),P=H+(B^M&(D^B))+j[5]+1200080426&4294967295,H=M+(P<<12&4294967295|P>>>20),P=B+(D^H&(M^D))+j[6]+2821735955&4294967295,B=H+(P<<17&4294967295|P>>>15),P=D+(M^B&(H^M))+j[7]+4249261313&4294967295,D=B+(P<<22&4294967295|P>>>10),P=M+(H^D&(B^H))+j[8]+1770035416&4294967295,M=D+(P<<7&4294967295|P>>>25),P=H+(B^M&(D^B))+j[9]+2336552879&4294967295,H=M+(P<<12&4294967295|P>>>20),P=B+(D^H&(M^D))+j[10]+4294925233&4294967295,B=H+(P<<17&4294967295|P>>>15),P=D+(M^B&(H^M))+j[11]+2304563134&4294967295,D=B+(P<<22&4294967295|P>>>10),P=M+(H^D&(B^H))+j[12]+1804603682&4294967295,M=D+(P<<7&4294967295|P>>>25),P=H+(B^M&(D^B))+j[13]+4254626195&4294967295,H=M+(P<<12&4294967295|P>>>20),P=B+(D^H&(M^D))+j[14]+2792965006&4294967295,B=H+(P<<17&4294967295|P>>>15),P=D+(M^B&(H^M))+j[15]+1236535329&4294967295,D=B+(P<<22&4294967295|P>>>10),P=M+(B^H&(D^B))+j[1]+4129170786&4294967295,M=D+(P<<5&4294967295|P>>>27),P=H+(D^B&(M^D))+j[6]+3225465664&4294967295,H=M+(P<<9&4294967295|P>>>23),P=B+(M^D&(H^M))+j[11]+643717713&4294967295,B=H+(P<<14&4294967295|P>>>18),P=D+(H^M&(B^H))+j[0]+3921069994&4294967295,D=B+(P<<20&4294967295|P>>>12),P=M+(B^H&(D^B))+j[5]+3593408605&4294967295,M=D+(P<<5&4294967295|P>>>27),P=H+(D^B&(M^D))+j[10]+38016083&4294967295,H=M+(P<<9&4294967295|P>>>23),P=B+(M^D&(H^M))+j[15]+3634488961&4294967295,B=H+(P<<14&4294967295|P>>>18),P=D+(H^M&(B^H))+j[4]+3889429448&4294967295,D=B+(P<<20&4294967295|P>>>12),P=M+(B^H&(D^B))+j[9]+568446438&4294967295,M=D+(P<<5&4294967295|P>>>27),P=H+(D^B&(M^D))+j[14]+3275163606&4294967295,H=M+(P<<9&4294967295|P>>>23),P=B+(M^D&(H^M))+j[3]+4107603335&4294967295,B=H+(P<<14&4294967295|P>>>18),P=D+(H^M&(B^H))+j[8]+1163531501&4294967295,D=B+(P<<20&4294967295|P>>>12),P=M+(B^H&(D^B))+j[13]+2850285829&4294967295,M=D+(P<<5&4294967295|P>>>27),P=H+(D^B&(M^D))+j[2]+4243563512&4294967295,H=M+(P<<9&4294967295|P>>>23),P=B+(M^D&(H^M))+j[7]+1735328473&4294967295,B=H+(P<<14&4294967295|P>>>18),P=D+(H^M&(B^H))+j[12]+2368359562&4294967295,D=B+(P<<20&4294967295|P>>>12),P=M+(D^B^H)+j[5]+4294588738&4294967295,M=D+(P<<4&4294967295|P>>>28),P=H+(M^D^B)+j[8]+2272392833&4294967295,H=M+(P<<11&4294967295|P>>>21),P=B+(H^M^D)+j[11]+1839030562&4294967295,B=H+(P<<16&4294967295|P>>>16),P=D+(B^H^M)+j[14]+4259657740&4294967295,D=B+(P<<23&4294967295|P>>>9),P=M+(D^B^H)+j[1]+2763975236&4294967295,M=D+(P<<4&4294967295|P>>>28),P=H+(M^D^B)+j[4]+1272893353&4294967295,H=M+(P<<11&4294967295|P>>>21),P=B+(H^M^D)+j[7]+4139469664&4294967295,B=H+(P<<16&4294967295|P>>>16),P=D+(B^H^M)+j[10]+3200236656&4294967295,D=B+(P<<23&4294967295|P>>>9),P=M+(D^B^H)+j[13]+681279174&4294967295,M=D+(P<<4&4294967295|P>>>28),P=H+(M^D^B)+j[0]+3936430074&4294967295,H=M+(P<<11&4294967295|P>>>21),P=B+(H^M^D)+j[3]+3572445317&4294967295,B=H+(P<<16&4294967295|P>>>16),P=D+(B^H^M)+j[6]+76029189&4294967295,D=B+(P<<23&4294967295|P>>>9),P=M+(D^B^H)+j[9]+3654602809&4294967295,M=D+(P<<4&4294967295|P>>>28),P=H+(M^D^B)+j[12]+3873151461&4294967295,H=M+(P<<11&4294967295|P>>>21),P=B+(H^M^D)+j[15]+530742520&4294967295,B=H+(P<<16&4294967295|P>>>16),P=D+(B^H^M)+j[2]+3299628645&4294967295,D=B+(P<<23&4294967295|P>>>9),P=M+(B^(D|~H))+j[0]+4096336452&4294967295,M=D+(P<<6&4294967295|P>>>26),P=H+(D^(M|~B))+j[7]+1126891415&4294967295,H=M+(P<<10&4294967295|P>>>22),P=B+(M^(H|~D))+j[14]+2878612391&4294967295,B=H+(P<<15&4294967295|P>>>17),P=D+(H^(B|~M))+j[5]+4237533241&4294967295,D=B+(P<<21&4294967295|P>>>11),P=M+(B^(D|~H))+j[12]+1700485571&4294967295,M=D+(P<<6&4294967295|P>>>26),P=H+(D^(M|~B))+j[3]+2399980690&4294967295,H=M+(P<<10&4294967295|P>>>22),P=B+(M^(H|~D))+j[10]+4293915773&4294967295,B=H+(P<<15&4294967295|P>>>17),P=D+(H^(B|~M))+j[1]+2240044497&4294967295,D=B+(P<<21&4294967295|P>>>11),P=M+(B^(D|~H))+j[8]+1873313359&4294967295,M=D+(P<<6&4294967295|P>>>26),P=H+(D^(M|~B))+j[15]+4264355552&4294967295,H=M+(P<<10&4294967295|P>>>22),P=B+(M^(H|~D))+j[6]+2734768916&4294967295,B=H+(P<<15&4294967295|P>>>17),P=D+(H^(B|~M))+j[13]+1309151649&4294967295,D=B+(P<<21&4294967295|P>>>11),P=M+(B^(D|~H))+j[4]+4149444226&4294967295,M=D+(P<<6&4294967295|P>>>26),P=H+(D^(M|~B))+j[11]+3174756917&4294967295,H=M+(P<<10&4294967295|P>>>22),P=B+(M^(H|~D))+j[2]+718787259&4294967295,B=H+(P<<15&4294967295|P>>>17),P=D+(H^(B|~M))+j[9]+3951481745&4294967295,U.g[0]=U.g[0]+M&4294967295,U.g[1]=U.g[1]+(B+(P<<21&4294967295|P>>>11))&4294967295,U.g[2]=U.g[2]+B&4294967295,U.g[3]=U.g[3]+H&4294967295}a.prototype.v=function(U,M){M===void 0&&(M=U.length);const D=M-this.blockSize,j=this.C;let B=this.h,H=0;for(;H<M;){if(B==0)for(;H<=D;)l(this,U,H),H+=this.blockSize;if(typeof U=="string"){for(;H<M;)if(j[B++]=U.charCodeAt(H++),B==this.blockSize){l(this,j),B=0;break}}else for(;H<M;)if(j[B++]=U[H++],B==this.blockSize){l(this,j),B=0;break}}this.h=B,this.o+=M},a.prototype.A=function(){var U=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);U[0]=128;for(var M=1;M<U.length-8;++M)U[M]=0;M=this.o*8;for(var D=U.length-8;D<U.length;++D)U[D]=M&255,M/=256;for(this.v(U),U=Array(16),M=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)U[M++]=this.g[D]>>>j&255;return U};function h(U,M){var D=v;return Object.prototype.hasOwnProperty.call(D,U)?D[U]:D[U]=M(U)}function g(U,M){this.h=M;const D=[];let j=!0;for(let B=U.length-1;B>=0;B--){const H=U[B]|0;j&&H==M||(D[B]=H,j=!1)}this.g=D}var v={};function T(U){return-128<=U&&U<128?h(U,function(M){return new g([M|0],M<0?-1:0)}):new g([U|0],U<0?-1:0)}function E(U){if(isNaN(U)||!isFinite(U))return R;if(U<0)return Tt(E(-U));const M=[];let D=1;for(let j=0;U>=D;j++)M[j]=U/D|0,D*=4294967296;return new g(M,0)}function C(U,M){if(U.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(U.charAt(0)=="-")return Tt(C(U.substring(1),M));if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=E(Math.pow(M,8));let j=R;for(let H=0;H<U.length;H+=8){var B=Math.min(8,U.length-H);const P=parseInt(U.substring(H,H+B),M);B<8?(B=E(Math.pow(M,B)),j=j.j(B).add(E(P))):(j=j.j(D),j=j.add(E(P)))}return j}var R=T(0),V=T(1),tt=T(16777216);r=g.prototype,r.m=function(){if(ct(this))return-Tt(this).m();let U=0,M=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);U+=(j>=0?j:4294967296+j)*M,M*=4294967296}return U},r.toString=function(U){if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(ut(this))return"0";if(ct(this))return"-"+Tt(this).toString(U);const M=E(Math.pow(U,6));var D=this;let j="";for(;;){const B=Gt(D,M).g;D=Nt(D,B.j(M));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(U);if(D=B,ut(D))return H+j;for(;H.length<6;)H="0"+H;j=H+j}},r.i=function(U){return U<0?0:U<this.g.length?this.g[U]:this.h};function ut(U){if(U.h!=0)return!1;for(let M=0;M<U.g.length;M++)if(U.g[M]!=0)return!1;return!0}function ct(U){return U.h==-1}r.l=function(U){return U=Nt(this,U),ct(U)?-1:ut(U)?0:1};function Tt(U){const M=U.g.length,D=[];for(let j=0;j<M;j++)D[j]=~U.g[j];return new g(D,~U.h).add(V)}r.abs=function(){return ct(this)?Tt(this):this},r.add=function(U){const M=Math.max(this.g.length,U.g.length),D=[];let j=0;for(let B=0;B<=M;B++){let H=j+(this.i(B)&65535)+(U.i(B)&65535),P=(H>>>16)+(this.i(B)>>>16)+(U.i(B)>>>16);j=P>>>16,H&=65535,P&=65535,D[B]=P<<16|H}return new g(D,D[D.length-1]&-2147483648?-1:0)};function Nt(U,M){return U.add(Tt(M))}r.j=function(U){if(ut(this)||ut(U))return R;if(ct(this))return ct(U)?Tt(this).j(Tt(U)):Tt(Tt(this).j(U));if(ct(U))return Tt(this.j(Tt(U)));if(this.l(tt)<0&&U.l(tt)<0)return E(this.m()*U.m());const M=this.g.length+U.g.length,D=[];for(var j=0;j<2*M;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let B=0;B<U.g.length;B++){const H=this.i(j)>>>16,P=this.i(j)&65535,Wt=U.i(B)>>>16,en=U.i(B)&65535;D[2*j+2*B]+=P*en,Bt(D,2*j+2*B),D[2*j+2*B+1]+=H*en,Bt(D,2*j+2*B+1),D[2*j+2*B+1]+=P*Wt,Bt(D,2*j+2*B+1),D[2*j+2*B+2]+=H*Wt,Bt(D,2*j+2*B+2)}for(U=0;U<M;U++)D[U]=D[2*U+1]<<16|D[2*U];for(U=M;U<2*M;U++)D[U]=0;return new g(D,0)};function Bt(U,M){for(;(U[M]&65535)!=U[M];)U[M+1]+=U[M]>>>16,U[M]&=65535,M++}function Rt(U,M){this.g=U,this.h=M}function Gt(U,M){if(ut(M))throw Error("division by zero");if(ut(U))return new Rt(R,R);if(ct(U))return M=Gt(Tt(U),M),new Rt(Tt(M.g),Tt(M.h));if(ct(M))return M=Gt(U,Tt(M)),new Rt(Tt(M.g),M.h);if(U.g.length>30){if(ct(U)||ct(M))throw Error("slowDivide_ only works with positive integers.");for(var D=V,j=M;j.l(U)<=0;)D=_e(D),j=_e(j);var B=$t(D,1),H=$t(j,1);for(j=$t(j,2),D=$t(D,2);!ut(j);){var P=H.add(j);P.l(U)<=0&&(B=B.add(D),H=P),j=$t(j,1),D=$t(D,1)}return M=Nt(U,B.j(M)),new Rt(B,M)}for(B=R;U.l(M)>=0;){for(D=Math.max(1,Math.floor(U.m()/M.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),H=E(D),P=H.j(M);ct(P)||P.l(U)>0;)D-=j,H=E(D),P=H.j(M);ut(H)&&(H=V),B=B.add(H),U=Nt(U,P)}return new Rt(B,U)}r.B=function(U){return Gt(this,U).h},r.and=function(U){const M=Math.max(this.g.length,U.g.length),D=[];for(let j=0;j<M;j++)D[j]=this.i(j)&U.i(j);return new g(D,this.h&U.h)},r.or=function(U){const M=Math.max(this.g.length,U.g.length),D=[];for(let j=0;j<M;j++)D[j]=this.i(j)|U.i(j);return new g(D,this.h|U.h)},r.xor=function(U){const M=Math.max(this.g.length,U.g.length),D=[];for(let j=0;j<M;j++)D[j]=this.i(j)^U.i(j);return new g(D,this.h^U.h)};function _e(U){const M=U.g.length+1,D=[];for(let j=0;j<M;j++)D[j]=U.i(j)<<1|U.i(j-1)>>>31;return new g(D,U.h)}function $t(U,M){const D=M>>5;M%=32;const j=U.g.length-D,B=[];for(let H=0;H<j;H++)B[H]=M>0?U.i(H+D)>>>M|U.i(H+D+1)<<32-M:U.i(H+D);return new g(B,U.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bb=a,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.B,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=E,g.fromString=C,ro=g}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wb,oc,Eb,rf,mp,Sb,Ab,xb;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var y=0;y<f.length;++y){var S=f[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var a=n(this);function l(f,y){if(y)t:{var S=a;f=f.split(".");for(var I=0;I<f.length-1;I++){var Z=f[I];if(!(Z in S))break t;S=S[Z]}f=f[f.length-1],I=S[f],y=y(I),y!=I&&y!=null&&t(S,f,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(y){var S=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&S.push([I,y[I]]);return S}});var h=h||{},g=this||self;function v(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function T(f,y,S){return f.call.apply(f.bind,arguments)}function E(f,y,S){return E=T,E.apply(null,arguments)}function C(f,y){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function R(f,y){function S(){}S.prototype=y.prototype,f.Z=y.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(I,Z,W){for(var gt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)gt[Vt-2]=arguments[Vt];return y.prototype[Z].apply(I,gt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function tt(f){const y=f.length;if(y>0){const S=Array(y);for(let I=0;I<y;I++)S[I]=f[I];return S}return[]}function ut(f,y){for(let I=1;I<arguments.length;I++){const Z=arguments[I];var S=typeof Z;if(S=S!="object"?S:Z?Array.isArray(Z)?"array":S:"null",S=="array"||S=="object"&&typeof Z.length=="number"){S=f.length||0;const W=Z.length||0;f.length=S+W;for(let gt=0;gt<W;gt++)f[S+gt]=Z[gt]}else f.push(Z)}}class ct{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Tt(f){g.setTimeout(()=>{throw f},0)}function Nt(){var f=U;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Bt{constructor(){this.h=this.g=null}add(y,S){const I=Rt.get();I.set(y,S),this.h?this.h.next=I:this.g=I,this.h=I}}var Rt=new ct(()=>new Gt,f=>f.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,$t=!1,U=new Bt,M=()=>{const f=Promise.resolve(void 0);_e=()=>{f.then(D)}};function D(){for(var f;f=Nt();){try{f.h.call(f.g)}catch(S){Tt(S)}var y=Rt;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}$t=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};g.addEventListener("test",S,y),g.removeEventListener("test",S,y)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function Wt(f,y){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}R(Wt,B),Wt.prototype.init=function(f,y){const S=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(S=="mouseover"?y=f.fromElement:S=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var en="closure_listenable_"+(Math.random()*1e6|0),J=0;function pt(f,y,S,I,Z){this.listener=f,this.proxy=null,this.src=y,this.type=S,this.capture=!!I,this.ha=Z,this.key=++J,this.da=this.fa=!1}function ht(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function te(f,y,S){for(const I in f)y.call(S,f[I],I,f)}function bt(f,y){for(const S in f)y.call(void 0,f[S],S,f)}function z(f){const y={};for(const S in f)y[S]=f[S];return y}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(f,y){let S,I;for(let Z=1;Z<arguments.length;Z++){I=arguments[Z];for(S in I)f[S]=I[S];for(let W=0;W<et.length;W++)S=et[W],Object.prototype.hasOwnProperty.call(I,S)&&(f[S]=I[S])}}function mt(f){this.src=f,this.g={},this.h=0}mt.prototype.add=function(f,y,S,I,Z){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const gt=yt(f,y,I,Z);return gt>-1?(y=f[gt],S||(y.fa=!1)):(y=new pt(y,this.src,W,!!I,Z),y.fa=S,f.push(y)),y};function wt(f,y){const S=y.type;if(S in f.g){var I=f.g[S],Z=Array.prototype.indexOf.call(I,y,void 0),W;(W=Z>=0)&&Array.prototype.splice.call(I,Z,1),W&&(ht(y),f.g[S].length==0&&(delete f.g[S],f.h--))}}function yt(f,y,S,I){for(let Z=0;Z<f.length;++Z){const W=f[Z];if(!W.da&&W.listener==y&&W.capture==!!S&&W.ha==I)return Z}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ee={};function Me(f,y,S,I,Z){if(Array.isArray(y)){for(let W=0;W<y.length;W++)Me(f,y[W],S,I,Z);return null}return S=ls(S),f&&f[en]?f.J(y,S,v(I)?!!I.capture:!1,Z):os(f,y,S,!1,I,Z)}function os(f,y,S,I,Z,W){if(!y)throw Error("Invalid event type");const gt=v(Z)?!!Z.capture:!!Z;let Vt=Zt(f);if(Vt||(f[Ut]=Vt=new mt(f)),S=Vt.add(y,S,I,gt,W),S.proxy)return S;if(I=qi(),S.proxy=I,I.src=f,I.listener=S,f.addEventListener)H||(Z=gt),Z===void 0&&(Z=!1),f.addEventListener(y.toString(),I,Z);else if(f.attachEvent)f.attachEvent(ee(y.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function qi(){function f(S){return y.call(f.src,f.listener,S)}const y=bi;return f}function Hi(f,y,S,I,Z){if(Array.isArray(y))for(var W=0;W<y.length;W++)Hi(f,y[W],S,I,Z);else I=v(I)?!!I.capture:!!I,S=ls(S),f&&f[en]?(f=f.i,W=String(y).toString(),W in f.g&&(y=f.g[W],S=yt(y,S,I,Z),S>-1&&(ht(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete f.g[W],f.h--)))):f&&(f=Zt(f))&&(y=f.g[y.toString()],f=-1,y&&(f=yt(y,S,I,Z)),(S=f>-1?y[f]:null)&&Fi(S))}function Fi(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[en])wt(y.i,f);else{var S=f.type,I=f.proxy;y.removeEventListener?y.removeEventListener(S,I,f.capture):y.detachEvent?y.detachEvent(ee(S),I):y.addListener&&y.removeListener&&y.removeListener(I),(S=Zt(y))?(wt(S,f),S.h==0&&(S.src=null,y[Ut]=null)):ht(f)}}}function ee(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function bi(f,y){if(f.da)f=!0;else{y=new Wt(y,this);const S=f.listener,I=f.ha||f.src;f.fa&&Fi(f),f=S.call(I,y)}return f}function Zt(f){return f=f[Ut],f instanceof mt?f:null}var On="__closure_events_fn_"+(Math.random()*1e9>>>0);function ls(f){return typeof f=="function"?f:(f[On]||(f[On]=function(y){return f.handleEvent(y)}),f[On])}function He(){j.call(this),this.i=new mt(this),this.M=this,this.G=null}R(He,j),He.prototype[en]=!0,He.prototype.removeEventListener=function(f,y,S,I){Hi(this,f,y,S,I)};function Fe(f,y){var S,I=f.G;if(I)for(S=[];I;I=I.G)S.push(I);if(f=f.M,I=y.type||y,typeof y=="string")y=new B(y,f);else if(y instanceof B)y.target=y.target||f;else{var Z=y;y=new B(I,f),ft(y,Z)}Z=!0;let W,gt;if(S)for(gt=S.length-1;gt>=0;gt--)W=y.g=S[gt],Z=Wn(W,I,!0,y)&&Z;if(W=y.g=f,Z=Wn(W,I,!0,y)&&Z,Z=Wn(W,I,!1,y)&&Z,S)for(gt=0;gt<S.length;gt++)W=y.g=S[gt],Z=Wn(W,I,!1,y)&&Z}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const S=f.g[y];for(let I=0;I<S.length;I++)ht(S[I]);delete f.g[y],f.h--}}this.G=null},He.prototype.J=function(f,y,S,I){return this.i.add(String(f),y,!1,S,I)},He.prototype.K=function(f,y,S,I){return this.i.add(String(f),y,!0,S,I)};function Wn(f,y,S,I){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let Z=!0;for(let W=0;W<y.length;++W){const gt=y[W];if(gt&&!gt.da&&gt.capture==S){const Vt=gt.listener,fe=gt.ha||gt.src;gt.fa&&wt(f.i,gt),Z=Vt.call(fe,I)!==!1&&Z}}return Z&&!I.defaultPrevented}function Is(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:g.setTimeout(f,y||0)}function Rr(f){f.g=Is(()=>{f.g=null,f.i&&(f.i=!1,Rr(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class un extends j{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Rr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(f){j.call(this),this.h=f,this.g={}}R(Rs,j);var xn=[];function $s(f){te(f.g,function(y,S){this.g.hasOwnProperty(S)&&Fi(y)},f),f.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),$s(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=g.JSON.stringify,fa=g.JSON.parse,Nr=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function qn(){}function Mr(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){B.call(this,"d")}R(nn,B);function Pn(){B.call(this,"c")}R(Pn,B);var De={},us=null;function tr(){return us=us||new He}De.Ia="serverreachability";function Or(f){B.call(this,De.Ia,f)}R(Or,B);function Hn(f){const y=tr();Fe(y,new Or(y))}De.STAT_EVENT="statevent";function cs(f,y){B.call(this,De.STAT_EVENT,f),this.stat=y}R(cs,B);function Be(f){const y=tr();Fe(y,new cs(y,f))}De.Ja="timingevent";function wi(f,y){B.call(this,De.Ja,f),this.size=y}R(wi,B);function Ei(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Gi(f,y,S,I,Z,W){f.info(function(){if(f.g)if(W){var gt="",Vt=W.split("&");for(let de=0;de<Vt.length;de++){var fe=Vt[de].split("=");if(fe.length>1){const ze=fe[0];fe=fe[1];const Ni=ze.split("_");gt=Ni.length>=2&&Ni[1]=="type"?gt+(ze+"="+fe+"&"):gt+(ze+"=redacted&")}}}else gt=null;else gt=W;return"XMLHTTP REQ ("+I+") [attempt "+Z+"]: "+y+`
`+S+`
`+gt})}function da(f,y,S,I,Z,W,gt){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Z+"]: "+y+`
`+S+`
`+W+" "+gt})}function ti(f,y,S,I){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+it(f,S)+(I?" "+I:"")})}function Si(f,y){f.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function it(f,y){if(!f.g)return y;if(!y)return null;try{const W=JSON.parse(y);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var S=W[f];if(!(S.length<2)){var I=S[1];if(Array.isArray(I)&&!(I.length<1)){var Z=I[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let gt=1;gt<I.length;gt++)I[gt]=""}}}}return Ln(W)}catch{return y}}var _t={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ge;function Se(){}R(Se,qn),Se.prototype.g=function(){return new XMLHttpRequest},Ge=new Se;function dt(f){return encodeURIComponent(String(f))}function Je(f){var y=1;f=f.split(":");const S=[];for(;y>0&&f.length;)S.push(f.shift()),y--;return f.length&&S.push(f.join(":")),S}function Ze(f,y,S,I){this.j=f,this.i=y,this.l=S,this.S=I||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cn}function Cn(){this.i=null,this.g="",this.h=!1}var je={},ke={};function mn(f,y,S){f.M=1,f.A=Ce(Ke(y)),f.u=S,f.R=!0,In(f,null)}function In(f,y){f.F=Date.now(),Ai(f),f.B=Ke(f.A);var S=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),ir(S.i,"t",I),f.C=0,S=f.j.L,f.h=new Cn,f.g=Eo(f.j,S?y:null,!f.u),f.P>0&&(f.O=new un(E(f.Y,f,f.g),f.P)),y=f.V,S=f.g,I=f.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(xn[0]=Z.toString()),Z=xn);for(let W=0;W<Z.length;W++){const gt=Me(S,Z[W],I||y.handleEvent,!1,y.h||y);if(!gt)break;y.g[gt.key]=gt}y=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Hn(),Gi(f.i,f.v,f.B,f.l,f.S,f.u)}Ze.prototype.ba=function(f){f=f.target;const y=this.O;y&&Yi(f)==3?y.j():this.Y(f)},Ze.prototype.Y=function(f){try{if(f==this.g)t:{const Vt=Yi(this.g),fe=this.g.ya(),de=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||_n(this.g)))){this.K||Vt!=4||fe==7||(fe==8||de<=0?Hn(3):Hn(2)),ei(this);var y=this.g.ca();this.X=y;var S=pe(this);if(this.o=y==200,da(this.i,this.v,this.B,this.l,this.S,Vt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var I,Z=this.g;if((I=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var W=I;break e}}W=null}if(f=W)ti(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,f);else{this.o=!1,this.m=3,Be(12),pn(this),Fn(this);break t}}if(this.R){f=!0;let ze;for(;!this.K&&this.C<S.length;)if(ze=Lr(this,S),ze==ke){Vt==4&&(this.m=4,Be(14),f=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==je){this.m=4,Be(15),ti(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else ti(this.i,this.l,ze,null),di(this,ze);if(er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||S.length!=0||this.h.h||(this.m=1,Be(16),f=!1),this.o=this.o&&f,!f)ti(this.i,this.l,S,"[Invalid Chunked Response]"),pn(this),Fn(this);else if(S.length>0&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.aa&&!gt.P&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),bo(gt),gt.P=!0,Be(11))}}else ti(this.i,this.l,S,null),di(this,S);Vt==4&&pn(this),this.o&&!this.K&&(Vt==4?gi(this.j,this):(this.o=!1,Ai(this)))}else Qi(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),pn(this),Fn(this)}}}catch{}};function pe(f){if(!er(f))return f.g.la();const y=_n(f.g);if(y==="")return"";let S="";const I=y.length,Z=Yi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return pn(f),Fn(f),"";f.h.i=new g.TextDecoder}for(let W=0;W<I;W++)f.h.h=!0,S+=f.h.i.decode(y[W],{stream:!(Z&&W==I-1)});return y.length=0,f.h.g+=S,f.C=0,f.h.g}function er(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Lr(f,y){var S=f.C,I=y.indexOf(`
`,S);return I==-1?ke:(S=Number(y.substring(S,I)),isNaN(S)?je:(I+=1,I+S>y.length?ke:(y=y.slice(I,I+S),f.C=I+S,y)))}Ze.prototype.cancel=function(){this.K=!0,pn(this)};function Ai(f){f.T=Date.now()+f.H,Ns(f,f.H)}function Ns(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ei(E(f.aa,f),y)}function ei(f){f.D&&(g.clearTimeout(f.D),f.D=null)}Ze.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Si(this.i,this.B),this.M!=2&&(Hn(),Be(17)),pn(this),this.m=2,Fn(this)):Ns(this,this.T-f)};function Fn(f){f.j.I==0||f.K||gi(f.j,f)}function pn(f){ei(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,$s(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function di(f,y){try{var S=f.j;if(S.I!=0&&(S.g==f||xi(S.h,f))){if(!f.L&&xi(S.h,f)&&S.I==3){try{var I=S.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Z=I;if(Z[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)ba(S),or(S);else break t;Br(S),Be(18)}}else S.xa=Z[1],0<S.xa-S.K&&Z[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ei(E(S.Va,S),6e3));hs(S.h)<=1&&S.ta&&(S.ta=void 0)}else Xi(S,11)}else if((f.L||S.g==f)&&ba(S),!P(y))for(Z=S.Ba.g.parse(y),y=0;y<Z.length;y++){let de=Z[y];const ze=de[0];if(!(ze<=S.K))if(S.K=ze,de=de[1],S.I==2)if(de[0]=="c"){S.M=de[1],S.ba=de[2];const Ni=de[3];Ni!=null&&(S.ka=Ni,S.j.info("VER="+S.ka));const Mi=de[4];Mi!=null&&(S.za=Mi,S.j.info("SVER="+S.za));const _i=de[5];_i!=null&&typeof _i=="number"&&_i>0&&(I=1.5*_i,S.O=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const Ji=f.g;if(Ji){const jr=Ji.g?Ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var W=I.h;W.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ms(W,W.h),W.h=null))}if(I.G){const qr=Ji.g?Ji.g.getResponseHeader("X-HTTP-Session-Id"):null;qr&&(I.wa=qr,St(I.J,I.G,qr))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),I=S;var gt=f;if(I.na=wo(I,I.L?I.ba:null,I.W),gt.L){pa(I.h,gt);var Vt=gt,fe=I.O;fe&&(Vt.H=fe),Vt.D&&(ei(Vt),Ai(Vt)),I.g=gt}else To(I);S.i.length>0&&ri(S)}else de[0]!="stop"&&de[0]!="close"||Xi(S,7);else S.I==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Xi(S,7):Xt(S):de[0]!="noop"&&S.l&&S.l.qa(de),S.A=0)}}Hn(4)}catch{}}var $e=class{constructor(f,y){this.g=f,this.map=y}};function ma(f){this.l=f||10,g.PerformanceNavigationTiming?(f=g.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function hs(f){return f.h?1:f.g?f.g.size:0}function xi(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ms(f,y){f.g?f.g.add(y):f.h=y}function pa(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ma.prototype.cancel=function(){if(this.i=ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ga(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const S of f.g.values())y=y.concat(S.G);return y}return tt(f.i)}var nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(f,y){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const I=f[S].indexOf("=");let Z,W=null;I>=0?(Z=f[S].substring(0,I),W=f[S].substring(I+1)):Z=f[S],y(Z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ne(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof ne?(this.l=f.l,Ye(this,f.j),this.o=f.o,this.g=f.g,mi(this,f.u),this.h=f.h,Dr(this,zr(f.i)),this.m=f.m):f&&(y=String(f).match(nr))?(this.l=!1,Ye(this,y[1]||"",!0),this.o=Ci(y[2]||""),this.g=Ci(y[3]||"",!0),mi(this,y[4]),this.h=Ci(y[5]||"",!0),Dr(this,y[6]||"",!0),this.m=Ci(y[7]||"")):(this.l=!1,this.i=new Ii(null,this.l))}ne.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(fs(y,_a,!0),":");var S=this.g;return(S||y=="file")&&(f.push("//"),(y=this.o)&&f.push(fs(y,_a,!0),"@"),f.push(dt(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(fs(S,S.charAt(0)=="/"?Zi:kr,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",fs(S,ds)),f.join("")},ne.prototype.resolve=function(f){const y=Ke(this);let S=!!f.j;S?Ye(y,f.j):S=!!f.o,S?y.o=f.o:S=!!f.g,S?y.g=f.g:S=f.u!=null;var I=f.h;if(S)mi(y,f.u);else if(S=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Z=y.h.lastIndexOf("/");Z!=-1&&(I=y.h.slice(0,Z+1)+I)}if(Z=I,Z==".."||Z==".")I="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){I=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const W=[];for(let gt=0;gt<Z.length;){const Vt=Z[gt++];Vt=="."?I&&gt==Z.length&&W.push(""):Vt==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),I&&gt==Z.length&&W.push("")):(W.push(Vt),I=!0)}I=W.join("/")}else I=Z}return S?y.h=I:S=f.i.toString()!=="",S?Dr(y,zr(f.i)):S=!!f.m,S&&(y.m=f.m),y};function Ke(f){return new ne(f)}function Ye(f,y,S){f.j=S?Ci(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function mi(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function Dr(f,y,S){y instanceof Ii?(f.i=y,sr(f.i,f.l)):(S||(y=fs(y,Ie)),f.i=new Ii(y,f.l))}function St(f,y,S){f.i.set(y,S)}function Ce(f){return St(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ci(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fs(f,y,S){return typeof f=="string"?(f=encodeURI(f).replace(y,Ve),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ve(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _a=/[#\/\?@]/g,kr=/[#\?:]/g,Zi=/[#\?]/g,Ie=/[#\?@]/g,ds=/#/g;function Ii(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function gn(f){f.g||(f.g=new Map,f.h=0,f.i&&Jt(f.i,function(y,S){f.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}r=Ii.prototype,r.add=function(f,y){gn(this),this.i=null,f=ms(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(y),this.h+=1,this};function ya(f,y){gn(f),y=ms(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Os(f,y){return gn(f),y=ms(f,y),f.g.has(y)}r.forEach=function(f,y){gn(this),this.g.forEach(function(S,I){S.forEach(function(Z){f.call(y,Z,I,this)},this)},this)};function Vr(f,y){gn(f);let S=[];if(typeof y=="string")Os(f,y)&&(S=S.concat(f.g.get(ms(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)S=S.concat(f[y]);return S}r.set=function(f,y){return gn(this),this.i=null,f=ms(this,f),Os(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=Vr(this,f),f.length>0?String(f[0]):y):y};function ir(f,y,S){ya(f,y),S.length>0&&(f.i=null,f.g.set(ms(f,y),tt(S)),f.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var S=y[I];const Z=dt(S);S=Vr(this,S);for(let W=0;W<S.length;W++){let gt=Z;S[W]!==""&&(gt+="="+dt(S[W])),f.push(gt)}}return this.i=f.join("&")};function zr(f){const y=new Ii;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function ms(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function sr(f,y){y&&!f.j&&(gn(f),f.i=null,f.g.forEach(function(S,I){const Z=I.toLowerCase();I!=Z&&(ya(this,I),ir(this,Z,S))},f)),f.j=y}function ni(f,y){const S=new $n;if(g.Image){const I=new Image;I.onload=C(ii,S,"TestLoadImage: loaded",!0,y,I),I.onerror=C(ii,S,"TestLoadImage: error",!1,y,I),I.onabort=C(ii,S,"TestLoadImage: abort",!1,y,I),I.ontimeout=C(ii,S,"TestLoadImage: timeout",!1,y,I),g.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else y(!1)}function va(f,y){const S=new $n,I=new AbortController,Z=setTimeout(()=>{I.abort(),ii(S,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:I.signal}).then(W=>{clearTimeout(Z),W.ok?ii(S,"TestPingServer: ok",!0,y):ii(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Z),ii(S,"TestPingServer: error",!1,y)})}function ii(f,y,S,I,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),I(S)}catch{}}function rr(){this.g=new Nr}function Lt(f){this.i=f.Sb||null,this.h=f.ab||!1}R(Lt,qn),Lt.prototype.g=function(){return new Dn(this.i,this.h)};function Dn(f,y){He.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Dn,He),r=Dn.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,pi(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||g).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ge(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ge(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Ls(this):pi(this),this.readyState==3&&ge(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,Ls(this))},r.Na=function(f){this.g&&(this.response=f,Ls(this))},r.ga=function(){this.g&&Ls(this)};function Ls(f){f.readyState=4,f.l=null,f.j=null,f.B=null,pi(f)}r.setRequestHeader=function(f,y){this.A.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=y.next();return f.join(`\r
`)};function pi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function si(f){let y="";return te(f,function(S,I){y+=I,y+=":",y+=S,y+=`\r
`}),y}function Ps(f,y,S){t:{for(I in S){var I=!1;break t}I=!0}I||(S=si(S),typeof f=="string"?S!=null&&dt(S):St(f,y,S))}function ae(f){He.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(ae,He);var Ri=/^https?$/i,Ds=["POST","PUT"];r=ae.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,y,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ge.g(),this.g.onreadystatechange=V(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(W){Qe(this,W);return}if(f=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Z in I)S.set(Z,I[Z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())S.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find(W=>W.toLowerCase()=="content-type"),Z=g.FormData&&f instanceof g.FormData,!(Array.prototype.indexOf.call(Ds,y,void 0)>=0)||I||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,gt]of S)this.g.setRequestHeader(W,gt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){Qe(this,W)}};function Qe(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Ki(f),ps(f)}function Ki(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Fe(this,"complete"),Fe(this,"abort"),ps(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),ae.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ar(this):this.Xa())},r.Xa=function(){ar(this)};function ar(f){if(f.h&&typeof h<"u"){if(f.v&&Yi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Fe(f,"readystatechange"),Yi(f)==4){f.h=!1;try{const W=f.ca();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var S;if(!(S=y)){var I;if(I=W===0){let gt=String(f.D).match(nr)[1]||null;!gt&&g.self&&g.self.location&&(gt=g.self.location.protocol.slice(0,-1)),I=!Ri.test(gt?gt.toLowerCase():"")}S=I}if(S)Fe(f,"complete"),Fe(f,"success");else{f.o=6;try{var Z=Yi(f)>2?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.ca()+"]",Ki(f)}}finally{ps(f)}}}}function ps(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,y||Fe(f,"ready");try{S.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yi(f){return f.g?f.g.readyState:0}r.ca=function(){try{return Yi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),fa(y)}};function _n(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(f){const y={};f=(f.g&&Yi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(P(f[I]))continue;var S=Je(f[I]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const W=y[Z]||[];y[Z]=W,W.push(S)}bt(y,function(I){return I.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(f,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||y}function ks(f){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gs("baseRetryDelayMs",5e3,f),this.Za=gs("retryDelaySeedMs",1e4,f),this.Ta=gs("forwardChannelMaxRetries",2,f),this.va=gs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ma(f&&f.concurrentRequestLimit),this.Ba=new rr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ks.prototype,r.ka=8,r.I=1,r.connect=function(f,y,S,I){Be(0),this.W=f,this.H=y||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.J=wo(this,null,this.W),ri(this)};function Xt(f){if(kn(f),f.I==3){var y=f.V++,S=Ke(f.J);if(St(S,"SID",f.M),St(S,"RID",y),St(S,"TYPE","terminate"),Vs(f,S),y=new Ze(f,f.j,y),y.M=2,y.A=Ce(Ke(S)),S=!1,g.navigator&&g.navigator.sendBeacon)try{S=g.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&g.Image&&(new Image().src=y.A,S=!0),S||(y.g=Eo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ai(y)}Wi(f)}function or(f){f.g&&(bo(f),f.g.cancel(),f.g=null)}function kn(f){or(f),f.v&&(g.clearTimeout(f.v),f.v=null),ba(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&g.clearTimeout(f.m),f.m=null)}function ri(f){if(!Pr(f.h)&&!f.m){f.m=!0;var y=f.Ea;_e||M(),$t||(_e(),$t=!0),U.add(y,f),f.D=0}}function Ur(f,y){return hs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ei(E(f.Ea,f,y),hl(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Z=new Ze(this,this.j,f);let W=this.o;if(this.U&&(W?(W=z(W),ft(W,this.U)):W=this.U),this.u!==null||this.R||(Z.J=W,W=null),this.S)t:{for(var y=0,S=0;S<this.i.length;S++){e:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=S;break t}if(y===4096||S===this.i.length-1){y=S+1;break t}}y=1e3}else y=1e3;y=cl(this,Z,y),S=Ke(this.J),St(S,"RID",f),St(S,"CVER",22),this.G&&St(S,"X-HTTP-Session-Id",this.G),Vs(this,S),W&&(this.R?y="headers="+dt(si(W))+"&"+y:this.u&&Ps(S,this.u,W)),Ms(this.h,Z),this.Ra&&St(S,"TYPE","init"),this.S?(St(S,"$req",y),St(S,"SID","null"),Z.U=!0,mn(Z,S,null)):mn(Z,S,y),this.I=2}}else this.I==3&&(f?vo(this,f):this.i.length==0||Pr(this.h)||vo(this))};function vo(f,y){var S;y?S=y.l:S=f.V++;const I=Ke(f.J);St(I,"SID",f.M),St(I,"RID",S),St(I,"AID",f.K),Vs(f,I),f.u&&f.o&&Ps(I,f.u,f.o),S=new Ze(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),y&&(f.i=y.G.concat(f.i)),y=cl(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ms(f.h,S),mn(S,I,y)}function Vs(f,y){f.H&&te(f.H,function(S,I){St(y,I,S)}),f.l&&te({},function(S,I){St(y,I,S)})}function cl(f,y,S){S=Math.min(f.i.length,S);const I=f.l?E(f.l.Ka,f.l,f):null;t:{var Z=f.i;let Vt=-1;for(;;){const fe=["count="+S];Vt==-1?S>0?(Vt=Z[0].g,fe.push("ofs="+Vt)):Vt=0:fe.push("ofs="+Vt);let de=!0;for(let ze=0;ze<S;ze++){var W=Z[ze].g;const Ni=Z[ze].map;if(W-=Vt,W<0)Vt=Math.max(0,Z[ze].g-100),de=!1;else try{W="req"+W+"_"||"";try{var gt=Ni instanceof Map?Ni:Object.entries(Ni);for(const[Mi,_i]of gt){let Ji=_i;v(_i)&&(Ji=Ln(_i)),fe.push(W+Mi+"="+encodeURIComponent(Ji))}}catch(Mi){throw fe.push(W+"type="+encodeURIComponent("_badmap")),Mi}}catch{I&&I(Ni)}}if(de){gt=fe.join("&");break t}}gt=void 0}return f=f.i.splice(0,S),y.G=f,gt}function To(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;_e||M(),$t||(_e(),$t=!0),U.add(y,f),f.A=0}}function Br(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ei(E(f.Da,f),hl(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,Ta(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ei(E(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),or(this),Ta(this))};function bo(f){f.B!=null&&(g.clearTimeout(f.B),f.B=null)}function Ta(f){f.g=new Ze(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Ke(f.na);St(y,"RID","rpc"),St(y,"SID",f.M),St(y,"AID",f.K),St(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&St(y,"TO",f.ia),St(y,"TYPE","xmlhttp"),Vs(f,y),f.u&&f.o&&Ps(y,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=Ce(Ke(y)),S.u=null,S.R=!0,In(S,f)}r.Va=function(){this.C!=null&&(this.C=null,or(this),Br(this),Be(19))};function ba(f){f.C!=null&&(g.clearTimeout(f.C),f.C=null)}function gi(f,y){var S=null;if(f.g==y){ba(f),bo(f),f.g=null;var I=2}else if(xi(f.h,y))S=y.G,pa(f.h,y),I=1;else return;if(f.I!=0){if(y.o)if(I==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var Z=f.D;I=tr(),Fe(I,new wi(I,S)),ri(f)}else To(f);else if(Z=y.m,Z==3||Z==0&&y.X>0||!(I==1&&Ur(f,y)||I==2&&Br(f)))switch(S&&S.length>0&&(y=f.h,y.i=y.i.concat(S)),Z){case 1:Xi(f,5);break;case 4:Xi(f,10);break;case 3:Xi(f,6);break;default:Xi(f,2)}}}function hl(f,y){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*y}function Xi(f,y){if(f.j.info("Error code "+y),y==2){var S=E(f.bb,f),I=f.Ua;const Z=!I;I=new ne(I||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ye(I,"https"),Ce(I),Z?ni(I.toString(),S):va(I.toString(),S)}else Be(2);f.I=0,f.l&&f.l.pa(y),Wi(f),kn(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function Wi(f){if(f.I=0,f.ja=[],f.l){const y=ga(f.h);(y.length!=0||f.i.length!=0)&&(ut(f.ja,y),ut(f.ja,f.i),f.h.i.length=0,tt(f.i),f.i.length=0),f.l.oa()}}function wo(f,y,S){var I=S instanceof ne?Ke(S):new ne(S);if(I.g!="")y&&(I.g=y+"."+I.g),mi(I,I.u);else{var Z=g.location;I=Z.protocol,y=y?y+"."+Z.hostname:Z.hostname,Z=+Z.port;const W=new ne(null);I&&Ye(W,I),y&&(W.g=y),Z&&mi(W,Z),S&&(W.h=S),I=W}return S=f.G,y=f.wa,S&&y&&St(I,S,y),St(I,"VER",f.ka),Vs(f,I),I}function Eo(f,y,S){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new ae(new Lt({ab:S})):new ae(f.ma),y.Fa(f.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}r=wa.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function lr(){}lr.prototype.g=function(f,y){return new Vn(f,y)};function Vn(f,y){He.call(this),this.g=new ks(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!P(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!P(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new zs(this)}R(Vn,He),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Xt(this.g)},Vn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=Ln(f),f=S);y.i.push(new $e(y.Ya++,f)),y.I==3&&ri(y)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,Vn.Z.N.call(this)};function So(f){nn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const S in y){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}R(So,nn);function fl(){Pn.call(this),this.status=1}R(fl,Pn);function zs(f){this.g=f}R(zs,wa),zs.prototype.ra=function(){Fe(this.g,"a")},zs.prototype.qa=function(f){Fe(this.g,new So(f))},zs.prototype.pa=function(f){Fe(this.g,new fl)},zs.prototype.oa=function(){Fe(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,xb=function(){return new lr},Ab=function(){return tr()},Sb=De,mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_t.NO_ERROR=0,_t.TIMEOUT=8,_t.HTTP_ERROR=6,rf=_t,qt.COMPLETE="complete",Eb=qt,Mr.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",He.prototype.listen=He.prototype.J,oc=Mr,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,wb=ae}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});class ci{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let du="12.8.0";function FC(r){du=r}const el=new Of("@firebase/firestore");function Zl(){return el.logLevel}function At(r,...t){if(el.logLevel<=ue.DEBUG){const n=t.map(Gp);el.debug(`Firestore (${du}): ${r}`,...n)}}function ca(r,...t){if(el.logLevel<=ue.ERROR){const n=t.map(Gp);el.error(`Firestore (${du}): ${r}`,...n)}}function su(r,...t){if(el.logLevel<=ue.WARN){const n=t.map(Gp);el.warn(`Firestore (${du}): ${r}`,...n)}}function Gp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function kt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,Cb(r,a,n)}function Cb(r,t,n){let a=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ca(a),new Error(a)}function xe(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||Cb(t,l,a)}function Ft(r,t){return r}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends Js{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oa{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Ib{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(ci.UNAUTHENTICATED)))}shutdown(){}}class ZC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KC{constructor(t){this.t=t,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){xe(this.o===void 0,42304);let a=this.i;const l=T=>this.i!==a?(a=this.i,n(T)):Promise.resolve();let h=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new oa,t.enqueueRetryable((()=>l(this.currentUser)))};const g=()=>{const T=h;t.enqueueRetryable((async()=>{await T.promise,await l(this.currentUser)}))},v=T=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit((T=>v(T))),setTimeout((()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new oa)}}),0),g()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(xe(typeof a.accessToken=="string",31837,{l:a}),new Ib(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string",2055,{h:t}),new ci(t)}}class YC{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class QC{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new YC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(ci.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,As(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){xe(this.o===void 0,3512);const a=h=>{h.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.m;return this.m=h.token,At("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class Zp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=WC(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function ce(r,t){return r<t?-1:r>t?1:0}function pp(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return Qm(l)===Qm(h)?ce(l,h):Qm(l)?1:-1}return ce(r.length,t.length)}const JC=55296,$C=57343;function Qm(r){const t=r.charCodeAt(0);return t>=JC&&t<=$C}function ru(r,t,n){return r.length===t.length&&r.every(((a,l)=>n(a,t[l])))}const _0="__name__";class Tr{constructor(t,n,a){n===void 0?n=0:n>t.length&&kt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&kt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Tr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Tr?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=Tr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return ce(t.length,n.length)}static compareSegments(t,n){const a=Tr.isNumericId(t),l=Tr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Tr.extractNumericId(t).compare(Tr.extractNumericId(n)):pp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ro.fromString(t.substring(4,t.length-2))}}class qe extends Tr{construct(t,n,a){return new qe(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new Et(rt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new qe(n)}static emptyPath(){return new qe([])}}const t2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Tr{construct(t,n,a){return new Qn(t,n,a)}static isValidIdentifier(t){return t2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new Qn([_0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new Et(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let g=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new Et(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const T=t[l+1];if(T!=="\\"&&T!=="."&&T!=="`")throw new Et(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=T,l+=2}else v==="`"?(g=!g,l++):v!=="."||g?(a+=v,l++):(h(),l++)}if(h(),g)throw new Et(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qn(n)}static emptyPath(){return new Qn([])}}class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(qe.fromString(t))}static fromName(t){return new Ot(qe.fromString(t).popFirst(5))}static empty(){return new Ot(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return qe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new qe(t.slice()))}}function Rb(r,t,n){if(!n)throw new Et(rt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function e2(r,t,n,a){if(t===!0&&a===!0)throw new Et(rt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function y0(r){if(!Ot.isDocumentKey(r))throw new Et(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function v0(r){if(Ot.isDocumentKey(r))throw new Et(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Nb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":kt(12329,{type:typeof r})}function Cr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Et(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(r);throw new Et(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function n2(r,t){if(t<=0)throw new Et(rt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}function Sn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Lc(r,t){if(!Nb(r))throw new Et(rt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const g=r[a];if(l&&typeof g!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&g!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new Et(rt.INVALID_ARGUMENT,n);return!0}const T0=-62135596800,b0=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(t){return We.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*b0);return new We(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Et(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<T0)throw new Et(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(t){return this.seconds===t.seconds?ce(this.nanoseconds,t.nanoseconds):ce(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lc(t,We._jsonSchema))return new We(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Sn("string",We._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new We(0,0))}static max(){return new jt(new We(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vc=-1;function i2(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(a===1e9?new We(n+1,0):new We(n,a));return new uo(l,Ot.empty(),t)}function s2(r){return new uo(r.readTime,r.key,vc)}class uo{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new uo(jt.min(),Ot.empty(),vc)}static max(){return new uo(jt.max(),Ot.empty(),vc)}}function r2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(r.documentKey,t.documentKey),n!==0?n:ce(r.largestBatchId,t.largestBatchId))}const a2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mu(r){if(r.code!==rt.FAILED_PRECONDITION||r.message!==a2)throw r;At("LocalStore","Unexpectedly lost primary lease")}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new lt(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):lt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):lt.reject(n)}static resolve(t){return new lt(((n,a)=>{n(t)}))}static reject(t){return new lt(((n,a)=>{a(t)}))}static waitFor(t){return new lt(((n,a)=>{let l=0,h=0,g=!1;t.forEach((v=>{++l,v.next((()=>{++h,g&&h===l&&n()}),(T=>a(T)))})),g=!0,h===l&&n()}))}static or(t){let n=lt.resolve(!1);for(const a of t)n=n.next((l=>l?lt.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new lt(((a,l)=>{const h=t.length,g=new Array(h);let v=0;for(let T=0;T<h;T++){const E=T;n(t[E]).next((C=>{g[E]=C,++v,v===h&&a(g)}),(C=>l(C)))}}))}static doWhile(t,n){return new lt(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function l2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pu(r){return r.name==="IndexedDbTransactionError"}class Vf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Vf.ce=-1;const Kp=-1;function zf(r){return r==null}function vf(r){return r===0&&1/r==-1/0}function u2(r){return typeof r=="number"&&Number.isInteger(r)&&!vf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Mb="";function c2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=w0(t)),t=h2(r.get(n),t);return w0(t)}function h2(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case Mb:n+="";break;default:n+=h}}return n}function w0(r){return r+Mb+""}function E0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function go(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function Ob(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class rn{constructor(t,n){this.comparator=t,this.root=n||Yn.EMPTY}insert(t,n){return new rn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(t){return new rn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yh(this.root,t,this.comparator,!0)}}class Yh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yn{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??Yn.RED,this.left=l??Yn.EMPTY,this.right=h??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new Yn(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Yn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw kt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw kt(27949);return t+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw kt(57766)}get value(){throw kt(16141)}get color(){throw kt(16727)}get left(){throw kt(29726)}get right(){throw kt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new Yn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(t){this.comparator=t,this.data=new rn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(t){return new S0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof Mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Mn(this.comparator);return n.data=t,n}}class S0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rs{constructor(t){this.fields=t,t.sort(Qn.comparator)}static empty(){return new rs([])}unionWith(t){let n=new Mn(Qn.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new rs(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ru(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class Lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Lb("Invalid base64 string: "+h):h}})(t);return new Xn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let g=0;g<l.length;++g)h+=String.fromCharCode(l[g]);return h})(t);return new Xn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ce(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const f2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(r){if(xe(!!r,39018),typeof r=="string"){let t=0;const n=f2.exec(r);if(xe(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:fn(r.seconds),nanos:fn(r.nanos)}}function fn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ho(r){return typeof r=="string"?Xn.fromBase64String(r):Xn.fromUint8Array(r)}const Pb="server_timestamp",Db="__type__",kb="__previous_value__",Vb="__local_write_time__";function Yp(r){return(r?.mapValue?.fields||{})[Db]?.stringValue===Pb}function Uf(r){const t=r.mapValue.fields[kb];return Yp(t)?Uf(t):t}function Tc(r){const t=co(r.mapValue.fields[Vb].timestampValue);return new We(t.seconds,t.nanos)}class d2{constructor(t,n,a,l,h,g,v,T,E,C,R){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=v,this.longPollingOptions=T,this.useFetchStreams=E,this.isUsingEmulator=C,this.apiKey=R}}const Tf="(default)";class bc{constructor(t,n){this.projectId=t,this.database=n||Tf}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(t){return t instanceof bc&&t.projectId===this.projectId&&t.database===this.database}}function m2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Et(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(r.options.projectId,t)}const zb="__type__",p2="__max__",Qh={mapValue:{}},Ub="__vector__",bf="value";function fo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:_2(r)?9007199254740991:g2(r)?10:11:kt(28295,{value:r})}function Ir(r,t){if(r===t)return!0;const n=fo(r);if(n!==fo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Tc(r).isEqual(Tc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const g=co(l.timestampValue),v=co(h.timestampValue);return g.seconds===v.seconds&&g.nanos===v.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return ho(l.bytesValue).isEqual(ho(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return fn(l.geoPointValue.latitude)===fn(h.geoPointValue.latitude)&&fn(l.geoPointValue.longitude)===fn(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return fn(l.integerValue)===fn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const g=fn(l.doubleValue),v=fn(h.doubleValue);return g===v?vf(g)===vf(v):isNaN(g)&&isNaN(v)}return!1})(r,t);case 9:return ru(r.arrayValue.values||[],t.arrayValue.values||[],Ir);case 10:case 11:return(function(l,h){const g=l.mapValue.fields||{},v=h.mapValue.fields||{};if(E0(g)!==E0(v))return!1;for(const T in g)if(g.hasOwnProperty(T)&&(v[T]===void 0||!Ir(g[T],v[T])))return!1;return!0})(r,t);default:return kt(52216,{left:r})}}function wc(r,t){return(r.values||[]).find((n=>Ir(n,t)))!==void 0}function au(r,t){if(r===t)return 0;const n=fo(r),a=fo(t);if(n!==a)return ce(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(r.booleanValue,t.booleanValue);case 2:return(function(h,g){const v=fn(h.integerValue||h.doubleValue),T=fn(g.integerValue||g.doubleValue);return v<T?-1:v>T?1:v===T?0:isNaN(v)?isNaN(T)?0:-1:1})(r,t);case 3:return A0(r.timestampValue,t.timestampValue);case 4:return A0(Tc(r),Tc(t));case 5:return pp(r.stringValue,t.stringValue);case 6:return(function(h,g){const v=ho(h),T=ho(g);return v.compareTo(T)})(r.bytesValue,t.bytesValue);case 7:return(function(h,g){const v=h.split("/"),T=g.split("/");for(let E=0;E<v.length&&E<T.length;E++){const C=ce(v[E],T[E]);if(C!==0)return C}return ce(v.length,T.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,g){const v=ce(fn(h.latitude),fn(g.latitude));return v!==0?v:ce(fn(h.longitude),fn(g.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return x0(r.arrayValue,t.arrayValue);case 10:return(function(h,g){const v=h.fields||{},T=g.fields||{},E=v[bf]?.arrayValue,C=T[bf]?.arrayValue,R=ce(E?.values?.length||0,C?.values?.length||0);return R!==0?R:x0(E,C)})(r.mapValue,t.mapValue);case 11:return(function(h,g){if(h===Qh.mapValue&&g===Qh.mapValue)return 0;if(h===Qh.mapValue)return 1;if(g===Qh.mapValue)return-1;const v=h.fields||{},T=Object.keys(v),E=g.fields||{},C=Object.keys(E);T.sort(),C.sort();for(let R=0;R<T.length&&R<C.length;++R){const V=pp(T[R],C[R]);if(V!==0)return V;const tt=au(v[T[R]],E[C[R]]);if(tt!==0)return tt}return ce(T.length,C.length)})(r.mapValue,t.mapValue);default:throw kt(23264,{he:n})}}function A0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return ce(r,t);const n=co(r),a=co(t),l=ce(n.seconds,a.seconds);return l!==0?l:ce(n.nanos,a.nanos)}function x0(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=au(n[l],a[l]);if(h)return h}return ce(n.length,a.length)}function ou(r){return gp(r)}function gp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=co(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ho(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ot.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=gp(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const g of a)h?h=!1:l+=",",l+=`${g}:${gp(n.fields[g])}`;return l+"}"})(r.mapValue):kt(61005,{value:r})}function af(r){switch(fo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uf(r);return t?16+af(t):16;case 5:return 2*r.stringValue.length;case 6:return ho(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+af(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return go(a.fields,((h,g)=>{l+=h.length+af(g)})),l})(r.mapValue);default:throw kt(13486,{value:r})}}function C0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function _p(r){return!!r&&"integerValue"in r}function Qp(r){return!!r&&"arrayValue"in r}function I0(r){return!!r&&"nullValue"in r}function R0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function of(r){return!!r&&"mapValue"in r}function g2(r){return(r?.mapValue?.fields||{})[zb]?.stringValue===Ub}function dc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return go(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=dc(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dc(r.arrayValue.values[n]);return t}return{...r}}function _2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===p2}class ji{constructor(t){this.value=t}static empty(){return new ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!of(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dc(n)}setAll(t){let n=Qn.emptyPath(),a={},l=[];t.forEach(((g,v)=>{if(!n.isImmediateParentOf(v)){const T=this.getFieldsMap(n);this.applyChanges(T,a,l),a={},l=[],n=v.popLast()}g?a[v.lastSegment()]=dc(g):l.push(v.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ir(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];of(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){go(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new ji(dc(this.value))}}function Bb(r){const t=[];return go(r.fields,((n,a)=>{const l=new Qn([n]);if(of(a)){const h=Bb(a.mapValue).fields;if(h.length===0)t.push(l);else for(const g of h)t.push(l.child(g))}else t.push(l)})),new rs(t)}class hi{constructor(t,n,a,l,h,g,v){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=g,this.documentState=v}static newInvalidDocument(t){return new hi(t,0,jt.min(),jt.min(),jt.min(),ji.empty(),0)}static newFoundDocument(t,n,a,l){return new hi(t,1,n,jt.min(),a,l,0)}static newNoDocument(t,n){return new hi(t,2,n,jt.min(),jt.min(),ji.empty(),0)}static newUnknownDocument(t,n){return new hi(t,3,n,jt.min(),jt.min(),ji.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wf{constructor(t,n){this.position=t,this.inclusive=n}}function N0(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],g=r.position[l];if(h.field.isKeyField()?a=Ot.comparator(Ot.fromName(g.referenceValue),n.key):a=au(g,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function M0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ir(r.position[n],t.position[n]))return!1;return!0}class Ec{constructor(t,n="asc"){this.field=t,this.dir=n}}function y2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class jb{}class En extends jb{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new T2(t,n,a):n==="array-contains"?new E2(t,a):n==="in"?new S2(t,a):n==="not-in"?new A2(t,a):n==="array-contains-any"?new x2(t,a):new En(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new b2(t,a):new w2(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(au(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(au(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends jb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ws(t,n)}matches(t){return qb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qb(r){return r.op==="and"}function Hb(r){return v2(r)&&qb(r)}function v2(r){for(const t of r.filters)if(t instanceof Ws)return!1;return!0}function yp(r){if(r instanceof En)return r.field.canonicalString()+r.op.toString()+ou(r.value);if(Hb(r))return r.filters.map((t=>yp(t))).join(",");{const t=r.filters.map((n=>yp(n))).join(",");return`${r.op}(${t})`}}function Fb(r,t){return r instanceof En?(function(a,l){return l instanceof En&&a.op===l.op&&a.field.isEqual(l.field)&&Ir(a.value,l.value)})(r,t):r instanceof Ws?(function(a,l){return l instanceof Ws&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,g,v)=>h&&Fb(g,l.filters[v])),!0):!1})(r,t):void kt(19439)}function Gb(r){return r instanceof En?(function(n){return`${n.field.canonicalString()} ${n.op} ${ou(n.value)}`})(r):r instanceof Ws?(function(n){return n.op.toString()+" {"+n.getFilters().map(Gb).join(" ,")+"}"})(r):"Filter"}class T2 extends En{constructor(t,n,a){super(t,n,a),this.key=Ot.fromName(a.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class b2 extends En{constructor(t,n){super(t,"in",n),this.keys=Zb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class w2 extends En{constructor(t,n){super(t,"not-in",n),this.keys=Zb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Zb(r,t){return(t.arrayValue?.values||[]).map((n=>Ot.fromName(n.referenceValue)))}class E2 extends En{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Qp(n)&&wc(n.arrayValue,this.value)}}class S2 extends En{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class A2 extends En{constructor(t,n){super(t,"not-in",n)}matches(t){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class x2 extends En{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>wc(this.value.arrayValue,a)))}}class C2{constructor(t,n=null,a=[],l=[],h=null,g=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=g,this.endAt=v,this.Te=null}}function O0(r,t=null,n=[],a=[],l=null,h=null,g=null){return new C2(r,t,n,a,l,h,g)}function Xp(r){const t=Ft(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>yp(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),zf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>ou(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>ou(a))).join(",")),t.Te=n}return t.Te}function Wp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!y2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Fb(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!M0(r.startAt,t.startAt)&&M0(r.endAt,t.endAt)}function vp(r){return Ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gu{constructor(t,n=null,a=[],l=[],h=null,g="F",v=null,T=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=g,this.startAt=v,this.endAt=T,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I2(r,t,n,a,l,h,g,v){return new gu(r,t,n,a,l,h,g,v)}function Jp(r){return new gu(r)}function L0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function R2(r){return Ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Kb(r){return r.collectionGroup!==null}function mc(r){const t=Ft(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(g){let v=new Mn(Qn.comparator);return g.filters.forEach((T=>{T.getFlattenedFilters().forEach((E=>{E.isInequality()&&(v=v.add(E.field))}))})),v})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Ec(h,a))})),n.has(Qn.keyField().canonicalString())||t.Ie.push(new Ec(Qn.keyField(),a))}return t.Ie}function wr(r){const t=Ft(r);return t.Ee||(t.Ee=N2(t,mc(r))),t.Ee}function N2(r,t){if(r.limitType==="F")return O0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Ec(l.field,h)}));const n=r.endAt?new wf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new wf(r.startAt.position,r.startAt.inclusive):null;return O0(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function Tp(r,t){const n=r.filters.concat([t]);return new gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function M2(r,t){const n=r.explicitOrderBy.concat([t]);return new gu(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Ef(r,t,n){return new gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Bf(r,t){return Wp(wr(r),wr(t))&&r.limitType===t.limitType}function Yb(r){return`${Xp(wr(r))}|lt:${r.limitType}`}function Kl(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>Gb(l))).join(", ")}]`),zf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(g){return`${g.field.canonicalString()} (${g.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>ou(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>ou(l))).join(",")),`Target(${a})`})(wr(r))}; limitType=${r.limitType})`}function jf(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of mc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(g,v,T){const E=N0(g,v,T);return g.inclusive?E<=0:E<0})(a.startAt,mc(a),l)||a.endAt&&!(function(g,v,T){const E=N0(g,v,T);return g.inclusive?E>=0:E>0})(a.endAt,mc(a),l))})(r,t)}function O2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Qb(r){return(t,n)=>{let a=!1;for(const l of mc(r)){const h=L2(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function L2(r,t,n){const a=r.field.isKeyField()?Ot.comparator(t.key,n.key):(function(h,g,v){const T=g.data.field(h),E=v.data.field(h);return T!==null&&E!==null?au(T,E):kt(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return kt(19790,{direction:r.dir})}}class ll{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){go(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}}const P2=new rn(Ot.comparator);function ha(){return P2}const Xb=new rn(Ot.comparator);function lc(...r){let t=Xb;for(const n of r)t=t.insert(n.key,n);return t}function Wb(r){let t=Xb;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Wo(){return pc()}function Jb(){return pc()}function pc(){return new ll((r=>r.toString()),((r,t)=>r.isEqual(t)))}const D2=new rn(Ot.comparator),k2=new Mn(Ot.comparator);function he(...r){let t=k2;for(const n of r)t=t.add(n);return t}const V2=new Mn(ce);function z2(){return V2}function $p(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(t)?"-0":t}}function $b(r){return{integerValue:""+r}}function tw(r,t){return u2(t)?$b(t):$p(r,t)}class qf{constructor(){this._=void 0}}function U2(r,t,n){return r instanceof Sc?(function(l,h){const g={fields:{[Db]:{stringValue:Pb},[Vb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Yp(h)&&(h=Uf(h)),h&&(g.fields[kb]=h),{mapValue:g}})(n,t):r instanceof Ac?nw(r,t):r instanceof xc?iw(r,t):(function(l,h){const g=ew(l,h),v=P0(g)+P0(l.Ae);return _p(g)&&_p(l.Ae)?$b(v):$p(l.serializer,v)})(r,t)}function B2(r,t,n){return r instanceof Ac?nw(r,t):r instanceof xc?iw(r,t):n}function ew(r,t){return r instanceof Cc?(function(a){return _p(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Sc extends qf{}class Ac extends qf{constructor(t){super(),this.elements=t}}function nw(r,t){const n=sw(t);for(const a of r.elements)n.some((l=>Ir(l,a)))||n.push(a);return{arrayValue:{values:n}}}class xc extends qf{constructor(t){super(),this.elements=t}}function iw(r,t){let n=sw(t);for(const a of r.elements)n=n.filter((l=>!Ir(l,a)));return{arrayValue:{values:n}}}class Cc extends qf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function P0(r){return fn(r.integerValue||r.doubleValue)}function sw(r){return Qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class rw{constructor(t,n){this.field=t,this.transform=n}}function j2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ac&&l instanceof Ac||a instanceof xc&&l instanceof xc?ru(a.elements,l.elements,Ir):a instanceof Cc&&l instanceof Cc?Ir(a.Ae,l.Ae):a instanceof Sc&&l instanceof Sc})(r.transform,t.transform)}class q2{constructor(t,n){this.version=t,this.transformResults=n}}class Ys{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ys}static exists(t){return new Ys(void 0,t)}static updateTime(t){return new Ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hf{}function aw(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lw(r.key,Ys.none()):new Pc(r.key,r.data,Ys.none());{const n=r.data,a=ji.empty();let l=new Mn(Qn.comparator);for(let h of t.fields)if(!l.has(h)){let g=n.field(h);g===null&&h.length>1&&(h=h.popLast(),g=n.field(h)),g===null?a.delete(h):a.set(h,g),l=l.add(h)}return new _o(r.key,a,new rs(l.toArray()),Ys.none())}}function H2(r,t,n){r instanceof Pc?(function(l,h,g){const v=l.value.clone(),T=k0(l.fieldTransforms,h,g.transformResults);v.setAll(T),h.convertToFoundDocument(g.version,v).setHasCommittedMutations()})(r,t,n):r instanceof _o?(function(l,h,g){if(!lf(l.precondition,h))return void h.convertToUnknownDocument(g.version);const v=k0(l.fieldTransforms,h,g.transformResults),T=h.data;T.setAll(ow(l)),T.setAll(v),h.convertToFoundDocument(g.version,T).setHasCommittedMutations()})(r,t,n):(function(l,h,g){h.convertToNoDocument(g.version).setHasCommittedMutations()})(0,t,n)}function gc(r,t,n,a){return r instanceof Pc?(function(h,g,v,T){if(!lf(h.precondition,g))return v;const E=h.value.clone(),C=V0(h.fieldTransforms,T,g);return E.setAll(C),g.convertToFoundDocument(g.version,E).setHasLocalMutations(),null})(r,t,n,a):r instanceof _o?(function(h,g,v,T){if(!lf(h.precondition,g))return v;const E=V0(h.fieldTransforms,T,g),C=g.data;return C.setAll(ow(h)),C.setAll(E),g.convertToFoundDocument(g.version,C).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(r,t,n,a):(function(h,g,v){return lf(h.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):v})(r,t,n)}function F2(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=ew(a.transform,l||null);h!=null&&(n===null&&(n=ji.empty()),n.set(a.field,h))}return n||null}function D0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ru(a,l,((h,g)=>j2(h,g)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Pc extends Hf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _o extends Hf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ow(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function k0(r,t,n){const a=new Map;xe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const h=r[l],g=h.transform,v=t.data.field(h.field);a.set(h.field,B2(g,v,n[l]))}return a}function V0(r,t,n){const a=new Map;for(const l of r){const h=l.transform,g=n.data.field(l.field);a.set(l.field,U2(h,g,t))}return a}class lw extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&H2(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=gc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=gc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=Jb();return this.mutations.forEach((l=>{const h=t.get(l.key),g=h.overlayedDocument;let v=this.applyToLocalView(g,h.mutatedFields);v=n.has(l.key)?null:v;const T=aw(g,v);T!==null&&a.set(l.key,T),g.isValidDocument()||g.convertToNoDocument(jt.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),he())}isEqual(t){return this.batchId===t.batchId&&ru(this.mutations,t.mutations,((n,a)=>D0(n,a)))&&ru(this.baseMutations,t.baseMutations,((n,a)=>D0(n,a)))}}class tg{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){xe(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return D2})();const h=t.mutations;for(let g=0;g<h.length;g++)l=l.insert(h[g].key,a[g].version);return new tg(t,n,a,l)}}class K2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y2{constructor(t,n){this.count=t,this.unchangedNames=n}}var wn,me;function Q2(r){switch(r){case rt.OK:return kt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return kt(15467,{code:r})}}function uw(r){if(r===void 0)return ca("GRPC error has no .code"),rt.UNKNOWN;switch(r){case wn.OK:return rt.OK;case wn.CANCELLED:return rt.CANCELLED;case wn.UNKNOWN:return rt.UNKNOWN;case wn.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case wn.INTERNAL:return rt.INTERNAL;case wn.UNAVAILABLE:return rt.UNAVAILABLE;case wn.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case wn.NOT_FOUND:return rt.NOT_FOUND;case wn.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case wn.ABORTED:return rt.ABORTED;case wn.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case wn.DATA_LOSS:return rt.DATA_LOSS;default:return kt(39323,{code:r})}}(me=wn||(wn={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";function X2(){return new TextEncoder}const W2=new ro([4294967295,4294967295],0);function z0(r){const t=X2().encode(r),n=new bb;return n.update(t),new Uint8Array(n.digest())}function U0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new ro([n,a],0),new ro([l,h],0)]}class eg{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(a<0)throw new uc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ro.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(ro.fromNumber(a)));return l.compare(W2)===1&&(l=new ro([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=z0(t),[a,l]=U0(n);for(let h=0;h<this.hashCount;h++){const g=this.ye(a,l,h);if(!this.we(g))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),g=new eg(h,l,n);return a.forEach((v=>g.insert(v))),g}insert(t){if(this.ge===0)return;const n=z0(t),[a,l]=U0(n);for(let h=0;h<this.hashCount;h++){const g=this.ye(a,l,h);this.be(g)}}be(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ff{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Dc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Ff(jt.min(),l,new rn(ce),ha(),he())}}class Dc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Dc(a,n,he(),he(),he())}}class uf{constructor(t,n,a,l){this.Se=t,this.removedTargetIds=n,this.key=a,this.De=l}}class cw{constructor(t,n){this.targetId=t,this.Ce=n}}class hw{constructor(t,n,a=Xn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class B0{constructor(){this.ve=0,this.Fe=j0(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=he(),n=he(),a=he();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:kt(38017,{changeType:h})}})),new Dc(this.Me,this.xe,t,n,a)}Ke(){this.Oe=!1,this.Fe=j0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class J2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ha(),this.He=Xh(),this.Je=Xh(),this.Ze=new rn(ce)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:kt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(vp(h))if(a===0){const g=new Ot(h.path);this.et(n,g,hi.newNoDocument(g,jt.min()))}else xe(a===1,20013,{expectedCount:a});else{const g=this._t(n);if(g!==a){const v=this.ut(t),T=v?this.ct(v,t,g):1;if(T!==0){this.it(n);const E=T===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,E)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let g,v;try{g=ho(a).toUint8Array()}catch(T){if(T instanceof Lb)return su("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw T}try{v=new eg(g,l,h)}catch(T){return su(T instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",T),null}return v.ge===0?null:v}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const g=this.Ge.ht(),v=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,g)=>{const v=this.ot(g);if(v){if(h.current&&vp(v.target)){const T=new Ot(v.target.path);this.It(T).has(g)||this.Et(g,T)||this.et(g,T,hi.newNoDocument(T,t))}h.Be&&(n.set(g,h.ke()),h.Ke())}}));let a=he();this.Je.forEach(((h,g)=>{let v=!0;g.forEachWhile((T=>{const E=this.ot(T);return!E||E.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(a=a.add(h))})),this.je.forEach(((h,g)=>g.setReadTime(t)));const l=new Ff(t,n,this.Ze,this.je,a);return this.je=ha(),this.He=Xh(),this.Je=Xh(),this.Ze=new rn(ce),l}Ye(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new B0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Mn(ce),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Mn(ce),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||At("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new B0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Xh(){return new rn(Ot.comparator)}function j0(){return new rn(Ot.comparator)}const $2={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eI={and:"AND",or:"OR"};class nI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bp(r,t){return r.useProto3Json||zf(t)?t:{value:t}}function Sf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fw(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function iI(r,t){return Sf(r,t.toTimestamp())}function Er(r){return xe(!!r,49232),jt.fromTimestamp((function(n){const a=co(n);return new We(a.seconds,a.nanos)})(r))}function ng(r,t){return wp(r,t).canonicalString()}function wp(r,t){const n=(function(l){return new qe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function dw(r){const t=qe.fromString(r);return xe(yw(t),10190,{key:t.toString()}),t}function Ep(r,t){return ng(r.databaseId,t.path)}function Xm(r,t){const n=dw(t);if(n.get(1)!==r.databaseId.projectId)throw new Et(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Et(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ot(pw(n))}function mw(r,t){return ng(r.databaseId,t)}function sI(r){const t=dw(r);return t.length===4?qe.emptyPath():pw(t)}function Sp(r){return new qe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pw(r){return xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function q0(r,t,n){return{name:Ep(r,t),fields:n.value.mapValue.fields}}function rI(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:kt(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(E,C){return E.useProto3Json?(xe(C===void 0||typeof C=="string",58123),Xn.fromBase64String(C||"")):(xe(C===void 0||C instanceof Buffer||C instanceof Uint8Array,16193),Xn.fromUint8Array(C||new Uint8Array))})(r,t.targetChange.resumeToken),g=t.targetChange.cause,v=g&&(function(E){const C=E.code===void 0?rt.UNKNOWN:uw(E.code);return new Et(C,E.message||"")})(g);n=new hw(a,l,h,v||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xm(r,a.document.name),h=Er(a.document.updateTime),g=a.document.createTime?Er(a.document.createTime):jt.min(),v=new ji({mapValue:{fields:a.document.fields}}),T=hi.newFoundDocument(l,h,g,v),E=a.targetIds||[],C=a.removedTargetIds||[];n=new uf(E,C,T.key,T)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Xm(r,a.document),h=a.readTime?Er(a.readTime):jt.min(),g=hi.newNoDocument(l,h),v=a.removedTargetIds||[];n=new uf([],v,g.key,g)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Xm(r,a.document),h=a.removedTargetIds||[];n=new uf([],h,l,null)}else{if(!("filter"in t))return kt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,g=new Y2(l,h),v=a.targetId;n=new cw(v,g)}}return n}function aI(r,t){let n;if(t instanceof Pc)n={update:q0(r,t.key,t.value)};else if(t instanceof lw)n={delete:Ep(r,t.key)};else if(t instanceof _o)n={update:q0(r,t.key,t.data),updateMask:pI(t.fieldMask)};else{if(!(t instanceof G2))return kt(16599,{dt:t.type});n={verify:Ep(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,g){const v=g.transform;if(v instanceof Sc)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Ac)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof xc)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Cc)return{fieldPath:g.field.canonicalString(),increment:v.Ae};throw kt(20930,{transform:g.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:iI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:kt(27497)})(r,t.precondition)),n}function oI(r,t){return r&&r.length>0?(xe(t!==void 0,14353),r.map((n=>(function(l,h){let g=l.updateTime?Er(l.updateTime):Er(h);return g.isEqual(jt.min())&&(g=Er(h)),new q2(g,l.transformResults||[])})(n,t)))):[]}function lI(r,t){return{documents:[mw(r,t.path)]}}function uI(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=mw(r,l);const h=(function(E){if(E.length!==0)return _w(Ws.create(E,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const g=(function(E){if(E.length!==0)return E.map((C=>(function(V){return{field:Yl(V.field),direction:fI(V.dir)}})(C)))})(t.orderBy);g&&(n.structuredQuery.orderBy=g);const v=bp(r,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:n,parent:l}}function cI(r){let t=sI(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){xe(a===1,65062);const C=n.from[0];C.allDescendants?l=C.collectionId:t=t.child(C.collectionId)}let h=[];n.where&&(h=(function(R){const V=gw(R);return V instanceof Ws&&Hb(V)?V.getFilters():[V]})(n.where));let g=[];n.orderBy&&(g=(function(R){return R.map((V=>(function(ut){return new Ec(Ql(ut.field),(function(Tt){switch(Tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ut.direction))})(V)))})(n.orderBy));let v=null;n.limit&&(v=(function(R){let V;return V=typeof R=="object"?R.value:R,zf(V)?null:V})(n.limit));let T=null;n.startAt&&(T=(function(R){const V=!!R.before,tt=R.values||[];return new wf(tt,V)})(n.startAt));let E=null;return n.endAt&&(E=(function(R){const V=!R.before,tt=R.values||[];return new wf(tt,V)})(n.endAt)),I2(t,l,g,h,v,"F",T,E)}function hI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ql(n.unaryFilter.field);return En.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ql(n.unaryFilter.field);return En.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ql(n.unaryFilter.field);return En.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Ql(n.unaryFilter.field);return En.create(g,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return kt(61313);default:return kt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return En.create(Ql(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return kt(58110);default:return kt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ws.create(n.compositeFilter.filters.map((a=>gw(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return kt(1026)}})(n.compositeFilter.op))})(r):kt(30097,{filter:r})}function fI(r){return $2[r]}function dI(r){return tI[r]}function mI(r){return eI[r]}function Yl(r){return{fieldPath:r.canonicalString()}}function Ql(r){return Qn.fromServerFormat(r.fieldPath)}function _w(r){return r instanceof En?(function(n){if(n.op==="=="){if(R0(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R0(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(n.field),op:dI(n.op),value:n.value}}})(r):r instanceof Ws?(function(n){const a=n.getFilters().map((l=>_w(l)));return a.length===1?a[0]:{compositeFilter:{op:mI(n.op),filters:a}}})(r):kt(54877,{filter:r})}function pI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function yw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function vw(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class eo{constructor(t,n,a,l,h=jt.min(),g=jt.min(),v=Xn.EMPTY_BYTE_STRING,T=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=v,this.expectedCount=T}withSequenceNumber(t){return new eo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gI{constructor(t){this.yt=t}}function _I(r){const t=cI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ef(t,t.limit,"L"):t}class yI{constructor(){this.Sn=new vI}addToCollectionParentIndex(t,n){return this.Sn.add(n),lt.resolve()}getCollectionParents(t,n){return lt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return lt.resolve()}deleteFieldIndex(t,n){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,n){return lt.resolve()}getDocumentsMatchingTarget(t,n){return lt.resolve(null)}getIndexType(t,n){return lt.resolve(0)}getFieldIndexes(t,n){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,n){return lt.resolve(uo.min())}getMinOffsetFromCollectionGroup(t,n){return lt.resolve(uo.min())}updateCollectionGroup(t,n,a){return lt.resolve()}updateIndexEntries(t,n){return lt.resolve()}}class vI{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new Mn(qe.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Mn(qe.comparator)).toArray()}}const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tw=41943040;class Bi{static withCacheSize(t){return new Bi(t,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi(Tw,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);class lu{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lu(0)}static ar(){return new lu(-1)}}const F0="LruGarbageCollector",TI=1048576;function G0([r,t],[n,a]){const l=ce(r,n);return l===0?ce(t,a):l}class bI{constructor(t){this.Pr=t,this.buffer=new Mn(G0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();G0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wI{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){At(F0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pu(n)?At(F0,"Ignoring IndexedDB error during garbage collection: ",n):await mu(n)}await this.Ar(3e5)}))}}class EI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return lt.resolve(Vf.ce);const a=new bI(n);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.Vr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(H0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let a,l,h,g,v,T,E;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,g=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(a=R,v=Date.now(),this.removeTargets(t,a,n)))).next((R=>(h=R,T=Date.now(),this.removeOrphanedDocuments(t,a)))).next((R=>(E=Date.now(),Zl()<=ue.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${g-C}ms
	Determined least recently used ${l} in `+(v-g)+`ms
	Removed ${h} targets in `+(T-v)+`ms
	Removed ${R} documents in `+(E-T)+`ms
Total Duration: ${E-C}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R}))))}}function SI(r,t){return new EI(r,t)}class AI{constructor(){this.changes=new ll((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,hi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?lt.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class xI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class CI{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&gc(a.mutation,l,rs.empty(),We.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,he()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=he()){const l=Wo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let g=lc();return h.forEach(((v,T)=>{g=g.insert(v,T.overlayedDocument)})),g}))))}getOverlayedDocuments(t,n){const a=Wo();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,he())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((g,v)=>{n.set(g,v)}))}))}computeViews(t,n,a,l){let h=ha();const g=pc(),v=(function(){return pc()})();return n.forEach(((T,E)=>{const C=a.get(E.key);l.has(E.key)&&(C===void 0||C.mutation instanceof _o)?h=h.insert(E.key,E):C!==void 0?(g.set(E.key,C.mutation.getFieldMask()),gc(C.mutation,E,C.mutation.getFieldMask(),We.now())):g.set(E.key,rs.empty())})),this.recalculateAndSaveOverlays(t,h).next((T=>(T.forEach(((E,C)=>g.set(E,C))),n.forEach(((E,C)=>v.set(E,new xI(C,g.get(E)??null)))),v)))}recalculateAndSaveOverlays(t,n){const a=pc();let l=new rn(((g,v)=>g-v)),h=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((g=>{for(const v of g)v.keys().forEach((T=>{const E=n.get(T);if(E===null)return;let C=a.get(T)||rs.empty();C=v.applyToLocalView(E,C),a.set(T,C);const R=(l.get(v.batchId)||he()).add(T);l=l.insert(v.batchId,R)}))})).next((()=>{const g=[],v=l.getReverseIterator();for(;v.hasNext();){const T=v.getNext(),E=T.key,C=T.value,R=Jb();C.forEach((V=>{if(!h.has(V)){const tt=aw(n.get(V),a.get(V));tt!==null&&R.set(V,tt),h=h.add(V)}})),g.push(this.documentOverlayCache.saveOverlays(t,E,R))}return lt.waitFor(g)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return R2(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Kb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const g=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):lt.resolve(Wo());let v=vc,T=h;return g.next((E=>lt.forEach(E,((C,R)=>(v<R.largestBatchId&&(v=R.largestBatchId),h.get(C)?lt.resolve():this.remoteDocumentCache.getEntry(t,C).next((V=>{T=T.insert(C,V)}))))).next((()=>this.populateOverlays(t,E,h))).next((()=>this.computeViews(t,T,E,he()))).next((C=>({batchId:v,changes:Wb(C)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next((a=>{let l=lc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let g=lc();return this.indexManager.getCollectionParents(t,h).next((v=>lt.forEach(v,(T=>{const E=(function(R,V){return new gu(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,T.child(h));return this.getDocumentsMatchingCollectionQuery(t,E,a,l).next((C=>{C.forEach(((R,V)=>{g=g.insert(R,V)}))}))})).next((()=>g))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((g=>{h.forEach(((T,E)=>{const C=E.getKey();g.get(C)===null&&(g=g.insert(C,hi.newInvalidDocument(C)))}));let v=lc();return g.forEach(((T,E)=>{const C=h.get(T);C!==void 0&&gc(C.mutation,E,rs.empty(),We.now()),jf(n,E)&&(v=v.insert(T,E))})),v}))}}class II{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return lt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Er(l.createTime)}})(n)),lt.resolve()}getNamedQuery(t,n){return lt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:_I(l.bundledQuery),readTime:Er(l.readTime)}})(n)),lt.resolve()}}class RI{constructor(){this.overlays=new rn(Ot.comparator),this.Lr=new Map}getOverlay(t,n){return lt.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Wo();return lt.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.bt(t,n,h)})),lt.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),lt.resolve()}getOverlaysForCollection(t,n,a){const l=Wo(),h=n.length+1,g=new Ot(n.child("")),v=this.overlays.getIteratorFrom(g);for(;v.hasNext();){const T=v.getNext().value,E=T.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===h&&T.largestBatchId>a&&l.set(T.getKey(),T)}return lt.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new rn(((E,C)=>E-C));const g=this.overlays.getIterator();for(;g.hasNext();){const E=g.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>a){let C=h.get(E.largestBatchId);C===null&&(C=Wo(),h=h.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const v=Wo(),T=h.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach(((E,C)=>v.set(E,C))),!(v.size()>=l)););return lt.resolve(v)}bt(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const g=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(a.key,new K2(n,a));let h=this.Lr.get(n);h===void 0&&(h=he(),this.Lr.set(n,h)),this.Lr.set(n,h.add(a.key))}}class NI{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,lt.resolve()}}class ig{constructor(){this.kr=new Mn(jn.Kr),this.qr=new Mn(jn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const a=new jn(t,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Wr(new jn(t,n))}Qr(t,n){t.forEach((a=>this.removeReference(a,n)))}Gr(t){const n=new Ot(new qe([])),a=new jn(n,t),l=new jn(n,t+1),h=[];return this.qr.forEachInRange([a,l],(g=>{this.Wr(g),h.push(g.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Ot(new qe([])),a=new jn(n,t),l=new jn(n,t+1);let h=he();return this.qr.forEachInRange([a,l],(g=>{h=h.add(g.key)})),h}containsKey(t){const n=new jn(t,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class jn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Ot.comparator(t.key,n.key)||ce(t.Hr,n.Hr)}static Ur(t,n){return ce(t.Hr,n.Hr)||Ot.comparator(t.key,n.key)}}class MI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Mn(jn.Kr)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const g=new Z2(h,n,a,l);this.mutationQueue.push(g);for(const v of l)this.Jr=this.Jr.add(new jn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return lt.resolve(g)}lookupMutationBatch(t,n){return lt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.Xr(a),h=l<0?0:l;return lt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Kp:this.Yn-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new jn(n,0),l=new jn(n,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(g=>{const v=this.Zr(g.Hr);h.push(v)})),lt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new Mn(ce);return n.forEach((l=>{const h=new jn(l,0),g=new jn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,g],(v=>{a=a.add(v.Hr)}))})),lt.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Ot.isDocumentKey(h)||(h=h.child(""));const g=new jn(new Ot(h),0);let v=new Mn(ce);return this.Jr.forEachWhile((T=>{const E=T.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(v=v.add(T.Hr)),!0)}),g),lt.resolve(this.Yr(v))}Yr(t){const n=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return lt.forEach(n.mutations,(l=>{const h=new jn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,n){const a=new jn(n,0),l=this.Jr.firstAfterOrEqual(a);return lt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class OI{constructor(t){this.ti=t,this.docs=(function(){return new rn(Ot.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,g=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return lt.resolve(a?a.document.mutableCopy():hi.newInvalidDocument(n))}getEntries(t,n){let a=ha();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():hi.newInvalidDocument(l))})),lt.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=ha();const g=n.path,v=new Ot(g.child("__id-9223372036854775808__")),T=this.docs.getIteratorFrom(v);for(;T.hasNext();){const{key:E,value:{document:C}}=T.getNext();if(!g.isPrefixOf(E.path))break;E.path.length>g.length+1||r2(s2(C),a)<=0||(l.has(C.key)||jf(n,C))&&(h=h.insert(C.key,C.mutableCopy()))}return lt.resolve(h)}getAllFromCollectionGroup(t,n,a,l){kt(9500)}ni(t,n){return lt.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new LI(this)}getSize(t){return lt.resolve(this.size)}}class LI extends AI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),lt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class PI{constructor(t){this.persistence=t,this.ri=new ll((n=>Xp(n)),Wp),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.ii=0,this.si=new ig,this.targetCount=0,this.oi=lu._r()}forEachTarget(t,n){return this.ri.forEach(((a,l)=>n(l))),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),lt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new lu(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,lt.resolve()}updateTargetData(t,n){return this.lr(n),lt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.ri.forEach(((g,v)=>{v.sequenceNumber<=n&&a.get(v.targetId)===null&&(this.ri.delete(g),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),lt.waitFor(h).next((()=>l))}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,n){const a=this.ri.get(n)||null;return lt.resolve(a)}addMatchingKeys(t,n,a){return this.si.$r(n,a),lt.resolve()}removeMatchingKeys(t,n,a){this.si.Qr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((g=>{h.push(l.markPotentiallyOrphaned(t,g))})),lt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),lt.resolve()}getMatchingKeysForTargetId(t,n){const a=this.si.jr(n);return lt.resolve(a)}containsKey(t,n){return lt.resolve(this.si.containsKey(n))}}class bw{constructor(t,n){this._i={},this.overlays={},this.ai=new Vf(0),this.ui=!1,this.ui=!0,this.ci=new NI,this.referenceDelegate=t(this),this.li=new PI(this),this.indexManager=new yI,this.remoteDocumentCache=(function(l){return new OI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new gI(n),this.Pi=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new RI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this._i[t.toKey()];return a||(a=new MI(n,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,a){At("MemoryPersistence","Starting transaction:",t);const l=new DI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,n){return lt.or(Object.values(this._i).map((a=>()=>a.containsKey(t,n))))}}class DI extends o2{constructor(t){super(),this.currentSequenceNumber=t}}class sg{constructor(t){this.persistence=t,this.Ri=new ig,this.Ai=null}static Vi(t){return new sg(t)}get di(){if(this.Ai)return this.Ai;throw kt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),lt.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),lt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),lt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.di,(a=>{const l=Ot.fromPath(a);return this.mi(t,l).next((h=>{h||n.removeEntry(l,jt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return lt.or([()=>lt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Af{constructor(t,n){this.persistence=t,this.fi=new ll((a=>c2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=SI(this,n)}static Vi(t,n){return new Af(t,n)}Ti(){}Ii(t){return lt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}pr(t){let n=0;return this.mr(t,(a=>{n++})).next((()=>n))}mr(t,n){return lt.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?lt.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(g=>this.wr(t,g,n).next((v=>{v||(a++,h.removeEntry(g,jt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),lt.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),lt.resolve()}removeReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),lt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=af(t.data.value)),n}wr(t,n,a){return lt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return lt.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class rg{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Ts=a,this.Is=l}static Es(t,n){let a=he(),l=he();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new rg(t,n.fromCache,a,l)}}class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class VI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return b1()?8:l2(fi())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.gs(t,n).next((g=>{h.result=g})).next((()=>{if(!h.result)return this.ps(t,n,l,a).next((g=>{h.result=g}))})).next((()=>{if(h.result)return;const g=new kI;return this.ys(t,n,g).next((v=>{if(h.result=v,this.As)return this.ws(t,n,g,v.size)}))})).next((()=>h.result))}ws(t,n,a,l){return a.documentReadCount<this.Vs?(Zl()<=ue.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),lt.resolve()):(Zl()<=ue.DEBUG&&At("QueryEngine","Query:",Kl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Zl()<=ue.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wr(n))):lt.resolve())}gs(t,n){if(L0(n))return lt.resolve(null);let a=wr(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Ef(n,null,"F"),a=wr(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const g=he(...h);return this.fs.getDocuments(t,g).next((v=>this.indexManager.getMinOffset(t,a).next((T=>{const E=this.bs(n,v);return this.Ss(n,E,g,T.readTime)?this.gs(t,Ef(n,null,"F")):this.Ds(t,E,n,T)}))))})))))}ps(t,n,a,l){return L0(n)||l.isEqual(jt.min())?lt.resolve(null):this.fs.getDocuments(t,a).next((h=>{const g=this.bs(n,h);return this.Ss(n,g,a,l)?lt.resolve(null):(Zl()<=ue.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Kl(n)),this.Ds(t,g,n,i2(l,vc)).next((v=>v)))}))}bs(t,n){let a=new Mn(Qb(t));return n.forEach(((l,h)=>{jf(t,h)&&(a=a.add(h))})),a}Ss(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,n,a){return Zl()<=ue.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Kl(n)),this.fs.getDocumentsMatchingQuery(t,n,uo.min(),a)}Ds(t,n,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((g=>{h=h.insert(g.key,g)})),h)))}}const ag="LocalStore",zI=3e8;class UI{constructor(t,n,a,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new rn(ce),this.Fs=new ll((h=>Xp(h)),Wp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function BI(r,t,n,a){return new UI(r,t,n,a)}async function ww(r,t){const n=Ft(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Os(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const g=[],v=[];let T=he();for(const E of l){g.push(E.batchId);for(const C of E.mutations)T=T.add(C.key)}for(const E of h){v.push(E.batchId);for(const C of E.mutations)T=T.add(C.key)}return n.localDocuments.getDocuments(a,T).next((E=>({Ns:E,removedBatchIds:g,addedBatchIds:v})))}))}))}function jI(r,t){const n=Ft(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.xs.newChangeBuffer({trackRemovals:!0});return(function(v,T,E,C){const R=E.batch,V=R.keys();let tt=lt.resolve();return V.forEach((ut=>{tt=tt.next((()=>C.getEntry(T,ut))).next((ct=>{const Tt=E.docVersions.get(ut);xe(Tt!==null,48541),ct.version.compareTo(Tt)<0&&(R.applyToRemoteDocument(ct,E),ct.isValidDocument()&&(ct.setReadTime(E.commitVersion),C.addEntry(ct)))}))})),tt.next((()=>v.mutationQueue.removeMutationBatch(T,R)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(v){let T=he();for(let E=0;E<v.mutationResults.length;++E)v.mutationResults[E].transformResults.length>0&&(T=T.add(v.batch.mutations[E].key));return T})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function Ew(r){const t=Ft(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function qI(r,t){const n=Ft(r),a=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const g=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const v=[];t.targetChanges.forEach(((C,R)=>{const V=l.get(R);if(!V)return;v.push(n.li.removeMatchingKeys(h,C.removedDocuments,R).next((()=>n.li.addMatchingKeys(h,C.addedDocuments,R))));let tt=V.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(R)!==null?tt=tt.withResumeToken(Xn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):C.resumeToken.approximateByteSize()>0&&(tt=tt.withResumeToken(C.resumeToken,a)),l=l.insert(R,tt),(function(ct,Tt,Nt){return ct.resumeToken.approximateByteSize()===0||Tt.snapshotVersion.toMicroseconds()-ct.snapshotVersion.toMicroseconds()>=zI?!0:Nt.addedDocuments.size+Nt.modifiedDocuments.size+Nt.removedDocuments.size>0})(V,tt,C)&&v.push(n.li.updateTargetData(h,tt))}));let T=ha(),E=he();if(t.documentUpdates.forEach((C=>{t.resolvedLimboDocuments.has(C)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,C))})),v.push(HI(h,g,t.documentUpdates).next((C=>{T=C.Bs,E=C.Ls}))),!a.isEqual(jt.min())){const C=n.li.getLastRemoteSnapshotVersion(h).next((R=>n.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));v.push(C)}return lt.waitFor(v).next((()=>g.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,T,E))).next((()=>T))})).then((h=>(n.vs=l,h)))}function HI(r,t,n){let a=he(),l=he();return n.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let g=ha();return n.forEach(((v,T)=>{const E=h.get(v);T.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(v)),T.isNoDocument()&&T.version.isEqual(jt.min())?(t.removeEntry(v,T.readTime),g=g.insert(v,T)):!E.isValidDocument()||T.version.compareTo(E.version)>0||T.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(T),g=g.insert(v,T)):At(ag,"Ignoring outdated watch update for ",v,". Current version:",E.version," Watch version:",T.version)})),{Bs:g,Ls:l}}))}function FI(r,t){const n=Ft(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function GI(r,t){const n=Ft(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.li.getTargetData(a,t).next((h=>h?(l=h,lt.resolve(l)):n.li.allocateTargetId(a).next((g=>(l=new eo(t,g,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(t,a.targetId)),a}))}async function Ap(r,t,n){const a=Ft(r),l=a.vs.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(g=>a.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!pu(g))throw g;At(ag,`Failed to update sequence numbers for target ${t}: ${g}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Z0(r,t,n){const a=Ft(r);let l=jt.min(),h=he();return a.persistence.runTransaction("Execute query","readwrite",(g=>(function(T,E,C){const R=Ft(T),V=R.Fs.get(C);return V!==void 0?lt.resolve(R.vs.get(V)):R.li.getTargetData(E,C)})(a,g,wr(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(g,v.targetId).next((T=>{h=T}))})).next((()=>a.Cs.getDocumentsMatchingQuery(g,t,n?l:jt.min(),n?h:he()))).next((v=>(ZI(a,O2(t),v),{documents:v,ks:h})))))}function ZI(r,t,n){let a=r.Ms.get(t)||jt.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Ms.set(t,a)}class K0{constructor(){this.activeTargetIds=z2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KI{constructor(){this.vo=new K0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,a){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new K0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class YI{Mo(t){}shutdown(){}}const Y0="ConnectivityMonitor";class Q0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){At(Y0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){At(Y0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wh=null;function xp(){return Wh===null?Wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wh++,"0x"+Wh.toString(16)}const Wm="RestConnection",QI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class XI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Tf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,n,a,l,h){const g=xp(),v=this.Qo(t,n.toUriEncodedString());At(Wm,`Sending RPC '${t}' ${g}:`,v,a);const T={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(T,l,h);const{host:E}=new URL(v),C=cu(E);return this.zo(t,v,T,a,C).then((R=>(At(Wm,`Received RPC '${t}' ${g}: `,R),R)),(R=>{throw su(Wm,`RPC '${t}' ${g} failed with error: `,R,"url: ",v,"request:",a),R}))}jo(t,n,a,l,h,g){return this.Wo(t,n,a,l,h)}Go(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+du})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,n){const a=QI[t];let l=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class WI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const ui="WebChannelConnection",ic=(r,t,n)=>{r.listen(t,(a=>{try{n(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class tu extends XI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!tu.c_){const t=Ab();ic(t,Sb.STAT_EVENT,(n=>{n.stat===mp.PROXY?At(ui,"STAT_EVENT: detected buffering proxy"):n.stat===mp.NOPROXY&&At(ui,"STAT_EVENT: detected no buffering proxy")})),tu.c_=!0}}zo(t,n,a,l,h){const g=xp();return new Promise(((v,T)=>{const E=new wb;E.setWithCredentials(!0),E.listenOnce(Eb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case rf.NO_ERROR:const R=E.getResponseJson();At(ui,`XHR for RPC '${t}' ${g} received:`,JSON.stringify(R)),v(R);break;case rf.TIMEOUT:At(ui,`RPC '${t}' ${g} timed out`),T(new Et(rt.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const V=E.getStatus();if(At(ui,`RPC '${t}' ${g} failed with status:`,V,"response text:",E.getResponseText()),V>0){let tt=E.getResponseJson();Array.isArray(tt)&&(tt=tt[0]);const ut=tt?.error;if(ut&&ut.status&&ut.message){const ct=(function(Nt){const Bt=Nt.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(Bt)>=0?Bt:rt.UNKNOWN})(ut.status);T(new Et(ct,ut.message))}else T(new Et(rt.UNKNOWN,"Server responded with status "+E.getStatus()))}else T(new Et(rt.UNAVAILABLE,"Connection failed."));break;default:kt(9055,{l_:t,streamId:g,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{At(ui,`RPC '${t}' ${g} completed.`)}}));const C=JSON.stringify(l);At(ui,`RPC '${t}' ${g} sending request:`,l),E.send(n,"POST",C,a,15)}))}T_(t,n,a){const l=xp(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],g=this.createWebChannelTransport(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(v.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Go(v.initMessageHeaders,n,a),v.encodeInitMessageHeaders=!0;const E=h.join("");At(ui,`Creating RPC '${t}' stream ${l}: ${E}`,v);const C=g.createWebChannel(E,v);this.I_(C);let R=!1,V=!1;const tt=new WI({Ho:ut=>{V?At(ui,`Not sending because RPC '${t}' stream ${l} is closed:`,ut):(R||(At(ui,`Opening RPC '${t}' stream ${l} transport.`),C.open(),R=!0),At(ui,`RPC '${t}' stream ${l} sending:`,ut),C.send(ut))},Jo:()=>C.close()});return ic(C,oc.EventType.OPEN,(()=>{V||(At(ui,`RPC '${t}' stream ${l} transport opened.`),tt.i_())})),ic(C,oc.EventType.CLOSE,(()=>{V||(V=!0,At(ui,`RPC '${t}' stream ${l} transport closed`),tt.o_(),this.E_(C))})),ic(C,oc.EventType.ERROR,(ut=>{V||(V=!0,su(ui,`RPC '${t}' stream ${l} transport errored. Name:`,ut.name,"Message:",ut.message),tt.o_(new Et(rt.UNAVAILABLE,"The operation could not be completed")))})),ic(C,oc.EventType.MESSAGE,(ut=>{if(!V){const ct=ut.data[0];xe(!!ct,16349);const Tt=ct,Nt=Tt?.error||Tt[0]?.error;if(Nt){At(ui,`RPC '${t}' stream ${l} received error:`,Nt);const Bt=Nt.status;let Rt=(function($t){const U=wn[$t];if(U!==void 0)return uw(U)})(Bt),Gt=Nt.message;Rt===void 0&&(Rt=rt.INTERNAL,Gt="Unknown error status: "+Bt+" with message "+Nt.message),V=!0,tt.o_(new Et(Rt,Gt)),C.close()}else At(ui,`RPC '${t}' stream ${l} received:`,ct),tt.__(ct)}})),tu.u_(),setTimeout((()=>{tt.s_()}),0),tt}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,a){super.Go(t,n,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xb()}}function JI(r){return new tu(r)}function Jm(){return typeof document<"u"?document:null}function Gf(r){return new nI(r,!0)}tu.c_=!1;class Sw{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=n,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const X0="PersistentStream";class Aw{constructor(t,n,a,l,h,g,v,T){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=v,this.listener=T,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(ca(n.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new Et(rt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return At(X0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(At(X0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $I extends Aw{constructor(t,n,a,l,h,g){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,g),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=rI(this.serializer,t),a=(function(h){if(!("targetChange"in h))return jt.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?jt.min():g.readTime?Er(g.readTime):jt.min()})(t);return this.listener.J_(n,a)}Z_(t){const n={};n.database=Sp(this.serializer),n.addTarget=(function(h,g){let v;const T=g.target;if(v=vp(T)?{documents:lI(h,T)}:{query:uI(h,T).ft},v.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){v.resumeToken=fw(h,g.resumeToken);const E=bp(h,g.expectedCount);E!==null&&(v.expectedCount=E)}else if(g.snapshotVersion.compareTo(jt.min())>0){v.readTime=Sf(h,g.snapshotVersion.toTimestamp());const E=bp(h,g.expectedCount);E!==null&&(v.expectedCount=E)}return v})(this.serializer,t);const a=hI(this.serializer,t);a&&(n.labels=a),this.K_(n)}X_(t){const n={};n.database=Sp(this.serializer),n.removeTarget=t,this.K_(n)}}class tR extends Aw{constructor(t,n,a,l,h,g){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,g),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return xe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,xe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){xe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=oI(t.writeResults,t.commitTime),a=Er(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=Sp(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>aI(this.serializer,a)))};this.K_(n)}}class eR{}class nR extends eR{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Et(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.Wo(t,wp(n,a),l,h,g))).catch((h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Et(rt.UNKNOWN,h.toString())}))}jo(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([g,v])=>this.connection.jo(t,wp(n,a),l,g,v,h))).catch((g=>{throw g.name==="FirebaseError"?(g.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Et(rt.UNKNOWN,g.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function iR(r,t,n,a){return new nR(r,t,n,a)}class sR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ca(n),this.aa=!1):At("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nl="RemoteStore";class rR{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((g=>{a.enqueueAndForget((async()=>{ul(this)&&(At(nl,"Restarting streams for network reachability change."),await(async function(T){const E=Ft(T);E.Ea.add(4),await kc(E),E.Va.set("Unknown"),E.Ea.delete(4),await Zf(E)})(this))}))})),this.Va=new sR(a,l)}}async function Zf(r){if(ul(r))for(const t of r.Ra)await t(!0)}async function kc(r){for(const t of r.Ra)await t(!1)}function xw(r,t){const n=Ft(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cg(n)?ug(n):_u(n).O_()&&lg(n,t))}function og(r,t){const n=Ft(r),a=_u(n);n.Ia.delete(t),a.O_()&&Cw(n,t),n.Ia.size===0&&(a.O_()?a.L_():ul(n)&&n.Va.set("Unknown"))}function lg(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_u(r).Z_(t)}function Cw(r,t){r.da.$e(t),_u(r).X_(t)}function ug(r){r.da=new J2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_u(r).start(),r.Va.ua()}function cg(r){return ul(r)&&!_u(r).x_()&&r.Ia.size>0}function ul(r){return Ft(r).Ea.size===0}function Iw(r){r.da=void 0}async function aR(r){r.Va.set("Online")}async function oR(r){r.Ia.forEach(((t,n)=>{lg(r,t)}))}async function lR(r,t){Iw(r),cg(r)?(r.Va.ha(t),ug(r)):r.Va.set("Unknown")}async function uR(r,t,n){if(r.Va.set("Online"),t instanceof hw&&t.state===2&&t.cause)try{await(async function(l,h){const g=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,g),l.Ia.delete(v),l.da.removeTarget(v))})(r,t)}catch(a){At(nl,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await xf(r,a)}else if(t instanceof uf?r.da.Xe(t):t instanceof cw?r.da.st(t):r.da.tt(t),!n.isEqual(jt.min()))try{const a=await Ew(r.localStore);n.compareTo(a)>=0&&await(function(h,g){const v=h.da.Tt(g);return v.targetChanges.forEach(((T,E)=>{if(T.resumeToken.approximateByteSize()>0){const C=h.Ia.get(E);C&&h.Ia.set(E,C.withResumeToken(T.resumeToken,g))}})),v.targetMismatches.forEach(((T,E)=>{const C=h.Ia.get(T);if(!C)return;h.Ia.set(T,C.withResumeToken(Xn.EMPTY_BYTE_STRING,C.snapshotVersion)),Cw(h,T);const R=new eo(C.target,T,E,C.sequenceNumber);lg(h,R)})),h.remoteSyncer.applyRemoteEvent(v)})(r,n)}catch(a){At(nl,"Failed to raise snapshot:",a),await xf(r,a)}}async function xf(r,t,n){if(!pu(t))throw t;r.Ea.add(1),await kc(r),r.Va.set("Offline"),n||(n=()=>Ew(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{At(nl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Zf(r)}))}function Rw(r,t){return t().catch((n=>xf(r,n,t)))}async function Kf(r){const t=Ft(r),n=mo(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Kp;for(;cR(t);)try{const l=await FI(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,hR(t,l)}catch(l){await xf(t,l)}Nw(t)&&Mw(t)}function cR(r){return ul(r)&&r.Ta.length<10}function hR(r,t){r.Ta.push(t);const n=mo(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function Nw(r){return ul(r)&&!mo(r).x_()&&r.Ta.length>0}function Mw(r){mo(r).start()}async function fR(r){mo(r).ra()}async function dR(r){const t=mo(r);for(const n of r.Ta)t.ea(n.mutations)}async function mR(r,t,n){const a=r.Ta.shift(),l=tg.from(a,t,n);await Rw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Kf(r)}async function pR(r,t){t&&mo(r).Y_&&await(async function(a,l){if((function(g){return Q2(g)&&g!==rt.ABORTED})(l.code)){const h=a.Ta.shift();mo(a).B_(),await Rw(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Kf(a)}})(r,t),Nw(r)&&Mw(r)}async function W0(r,t){const n=Ft(r);n.asyncQueue.verifyOperationInProgress(),At(nl,"RemoteStore received new credentials");const a=ul(n);n.Ea.add(3),await kc(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Zf(n)}async function gR(r,t){const n=Ft(r);t?(n.Ea.delete(2),await Zf(n)):t||(n.Ea.add(2),await kc(n),n.Va.set("Unknown"))}function _u(r){return r.ma||(r.ma=(function(n,a,l){const h=Ft(n);return h.sa(),new $I(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:aR.bind(null,r),Yo:oR.bind(null,r),t_:lR.bind(null,r),J_:uR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),cg(r)?ug(r):r.Va.set("Unknown")):(await r.ma.stop(),Iw(r))}))),r.ma}function mo(r){return r.fa||(r.fa=(function(n,a,l){const h=Ft(n);return h.sa(),new tR(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fR.bind(null,r),t_:pR.bind(null,r),ta:dR.bind(null,r),na:mR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Kf(r)):(await r.fa.stop(),r.Ta.length>0&&(At(nl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class hg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((g=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const g=Date.now()+a,v=new hg(t,n,g,l,h);return v.start(a),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,t){if(ca("AsyncQueue",`${t}: ${r}`),pu(r))return new Et(rt.UNAVAILABLE,`${t}: ${r}`);throw r}class eu{static emptySet(t){return new eu(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Ot.comparator(n.key,a.key):(n,a)=>Ot.comparator(n.key,a.key),this.keyedMap=lc(),this.sortedSet=new rn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new eu;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class J0{constructor(){this.ga=new rn(Ot.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):kt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class uu{constructor(t,n,a,l,h,g,v,T,E){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=v,this.excludesMetadataChanges=T,this.hasCachedResults=E}static fromInitialDocuments(t,n,a,l,h){const g=[];return n.forEach((v=>{g.push({type:0,doc:v})})),new uu(t,n,eu.emptySet(n),g,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class _R{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class yR{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ft(n),h=l.queries;l.queries=$0(),h.forEach(((g,v)=>{for(const T of v.ba)T.onError(a)}))})(this,new Et(rt.ABORTED,"Firestore shutting down"))}}function $0(){return new ll((r=>Yb(r)),Bf)}async function Ow(r,t){const n=Ft(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new _R,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(g){const v=fg(g,`Initialization of query '${Kl(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.ba.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&dg(n)}async function Lw(r,t){const n=Ft(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const g=h.ba.indexOf(t);g>=0&&(h.ba.splice(g,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function vR(r,t){const n=Ft(r);let a=!1;for(const l of t){const h=l.query,g=n.queries.get(h);if(g){for(const v of g.ba)v.Fa(l)&&(a=!0);g.wa=l}}a&&dg(n)}function TR(r,t,n){const a=Ft(r),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(n);a.queries.delete(t)}function dg(r){r.Ca.forEach((t=>{t.next()}))}var Cp,tT;(tT=Cp||(Cp={})).Ma="default",tT.Cache="cache";class Pw{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new uu(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cp.Cache}}class Dw{constructor(t){this.key=t}}class kw{constructor(t){this.key=t}}class bR{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=he(),this.mutatedKeys=he(),this.eu=Qb(t),this.tu=new eu(this.eu)}get nu(){return this.Za}ru(t,n){const a=n?n.iu:new J0,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,g=l,v=!1;const T=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((C,R)=>{const V=l.get(C),tt=jf(this.query,R)?R:null,ut=!!V&&this.mutatedKeys.has(V.key),ct=!!tt&&(tt.hasLocalMutations||this.mutatedKeys.has(tt.key)&&tt.hasCommittedMutations);let Tt=!1;V&&tt?V.data.isEqual(tt.data)?ut!==ct&&(a.track({type:3,doc:tt}),Tt=!0):this.su(V,tt)||(a.track({type:2,doc:tt}),Tt=!0,(T&&this.eu(tt,T)>0||E&&this.eu(tt,E)<0)&&(v=!0)):!V&&tt?(a.track({type:0,doc:tt}),Tt=!0):V&&!tt&&(a.track({type:1,doc:V}),Tt=!0,(T||E)&&(v=!0)),Tt&&(tt?(g=g.add(tt),h=ct?h.add(C):h.delete(C)):(g=g.delete(C),h=h.delete(C)))})),this.query.limit!==null)for(;g.size>this.query.limit;){const C=this.query.limitType==="F"?g.last():g.first();g=g.delete(C.key),h=h.delete(C.key),a.track({type:1,doc:C})}return{tu:g,iu:a,Ss:v,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const g=t.iu.ya();g.sort(((C,R)=>(function(tt,ut){const ct=Tt=>{switch(Tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt(20277,{Vt:Tt})}};return ct(tt)-ct(ut)})(C.type,R.type)||this.eu(C.doc,R.doc))),this.ou(a),l=l??!1;const v=n&&!l?this._u():[],T=this.Ya.size===0&&this.current&&!l?1:0,E=T!==this.Xa;return this.Xa=T,g.length!==0||E?{snapshot:new uu(this.query,t.tu,h,g,t.mutatedKeys,T===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=he(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return t.forEach((a=>{this.Ya.has(a)||n.push(new kw(a))})),this.Ya.forEach((a=>{t.has(a)||n.push(new Dw(a))})),n}cu(t){this.Za=t.ks,this.Ya=he();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mg="SyncEngine";class wR{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class ER{constructor(t){this.key=t,this.hu=!1}}class SR{constructor(t,n,a,l,h,g){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Pu={},this.Tu=new ll((v=>Yb(v)),Bf),this.Iu=new Map,this.Eu=new Set,this.Ru=new rn(Ot.comparator),this.Au=new Map,this.Vu=new ig,this.du={},this.mu=new Map,this.fu=lu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AR(r,t,n=!0){const a=qw(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await Vw(a,t,n,!0),l}async function xR(r,t){const n=qw(r);await Vw(n,t,!0,!1)}async function Vw(r,t,n,a){const l=await GI(r.localStore,wr(t)),h=l.targetId,g=r.sharedClientState.addLocalQueryTarget(h,n);let v;return a&&(v=await CR(r,t,h,g==="current",l.resumeToken)),r.isPrimaryClient&&n&&xw(r.remoteStore,l),v}async function CR(r,t,n,a,l){r.pu=(R,V,tt)=>(async function(ct,Tt,Nt,Bt){let Rt=Tt.view.ru(Nt);Rt.Ss&&(Rt=await Z0(ct.localStore,Tt.query,!1).then((({documents:U})=>Tt.view.ru(U,Rt))));const Gt=Bt&&Bt.targetChanges.get(Tt.targetId),_e=Bt&&Bt.targetMismatches.get(Tt.targetId)!=null,$t=Tt.view.applyChanges(Rt,ct.isPrimaryClient,Gt,_e);return nT(ct,Tt.targetId,$t.au),$t.snapshot})(r,R,V,tt);const h=await Z0(r.localStore,t,!0),g=new bR(t,h.ks),v=g.ru(h.documents),T=Dc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),E=g.applyChanges(v,r.isPrimaryClient,T);nT(r,n,E.au);const C=new wR(t,n,g);return r.Tu.set(t,C),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),E.snapshot}async function IR(r,t,n){const a=Ft(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((g=>!Bf(g,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Ap(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&og(a.remoteStore,l.targetId),Ip(a,l.targetId)})).catch(mu)):(Ip(a,l.targetId),await Ap(a.localStore,l.targetId,!0))}async function RR(r,t){const n=Ft(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),og(n.remoteStore,a.targetId))}async function NR(r,t,n){const a=VR(r);try{const l=await(function(g,v){const T=Ft(g),E=We.now(),C=v.reduce(((tt,ut)=>tt.add(ut.key)),he());let R,V;return T.persistence.runTransaction("Locally write mutations","readwrite",(tt=>{let ut=ha(),ct=he();return T.xs.getEntries(tt,C).next((Tt=>{ut=Tt,ut.forEach(((Nt,Bt)=>{Bt.isValidDocument()||(ct=ct.add(Nt))}))})).next((()=>T.localDocuments.getOverlayedDocuments(tt,ut))).next((Tt=>{R=Tt;const Nt=[];for(const Bt of v){const Rt=F2(Bt,R.get(Bt.key).overlayedDocument);Rt!=null&&Nt.push(new _o(Bt.key,Rt,Bb(Rt.value.mapValue),Ys.exists(!0)))}return T.mutationQueue.addMutationBatch(tt,E,Nt,v)})).next((Tt=>{V=Tt;const Nt=Tt.applyToLocalDocumentSet(R,ct);return T.documentOverlayCache.saveOverlays(tt,Tt.batchId,Nt)}))})).then((()=>({batchId:V.batchId,changes:Wb(R)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(g,v,T){let E=g.du[g.currentUser.toKey()];E||(E=new rn(ce)),E=E.insert(v,T),g.du[g.currentUser.toKey()]=E})(a,l.batchId,n),await Vc(a,l.changes),await Kf(a.remoteStore)}catch(l){const h=fg(l,"Failed to persist write");n.reject(h)}}async function zw(r,t){const n=Ft(r);try{const a=await qI(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const g=n.Au.get(h);g&&(xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?g.hu=!0:l.modifiedDocuments.size>0?xe(g.hu,14607):l.removedDocuments.size>0&&(xe(g.hu,42227),g.hu=!1))})),await Vc(n,a,t)}catch(a){await mu(a)}}function eT(r,t,n){const a=Ft(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,g)=>{const v=g.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(g,v){const T=Ft(g);T.onlineState=v;let E=!1;T.queries.forEach(((C,R)=>{for(const V of R.ba)V.va(v)&&(E=!0)})),E&&dg(T)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function MR(r,t,n){const a=Ft(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let g=new rn(Ot.comparator);g=g.insert(h,hi.newNoDocument(h,jt.min()));const v=he().add(h),T=new Ff(jt.min(),new Map,new rn(ce),g,v);await zw(a,T),a.Ru=a.Ru.remove(h),a.Au.delete(t),pg(a)}else await Ap(a.localStore,t,!1).then((()=>Ip(a,t,n))).catch(mu)}async function OR(r,t){const n=Ft(r),a=t.batch.batchId;try{const l=await jI(n.localStore,t);Bw(n,a,null),Uw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Vc(n,l)}catch(l){await mu(l)}}async function LR(r,t,n){const a=Ft(r);try{const l=await(function(g,v){const T=Ft(g);return T.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let C;return T.mutationQueue.lookupMutationBatch(E,v).next((R=>(xe(R!==null,37113),C=R.keys(),T.mutationQueue.removeMutationBatch(E,R)))).next((()=>T.mutationQueue.performConsistencyCheck(E))).next((()=>T.documentOverlayCache.removeOverlaysForBatchId(E,C,v))).next((()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,C))).next((()=>T.localDocuments.getDocuments(E,C)))}))})(a.localStore,t);Bw(a,t,n),Uw(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Vc(a,l)}catch(l){await mu(l)}}function Uw(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Bw(r,t,n){const a=Ft(r);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Ip(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||jw(r,a)}))}function jw(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(og(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),pg(r))}function nT(r,t,n){for(const a of n)a instanceof Dw?(r.Vu.addReference(a.key,t),PR(r,a)):a instanceof kw?(At(mg,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||jw(r,a.key)):kt(19791,{wu:a})}function PR(r,t){const n=t.key,a=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(a)||(At(mg,"New document in limbo: "+n),r.Eu.add(a),pg(r))}function pg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Ot(qe.fromString(t)),a=r.fu.next();r.Au.set(a,new ER(n)),r.Ru=r.Ru.insert(n,a),xw(r.remoteStore,new eo(wr(Jp(n.path)),a,"TargetPurposeLimboResolution",Vf.ce))}}async function Vc(r,t,n){const a=Ft(r),l=[],h=[],g=[];a.Tu.isEmpty()||(a.Tu.forEach(((v,T)=>{g.push(a.pu(T,t,n).then((E=>{if((E||n)&&a.isPrimaryClient){const C=E?!E.fromCache:n?.targetChanges.get(T.targetId)?.current;a.sharedClientState.updateQueryState(T.targetId,C?"current":"not-current")}if(E){l.push(E);const C=rg.Es(T.targetId,E);h.push(C)}})))})),await Promise.all(g),a.Pu.J_(l),await(async function(T,E){const C=Ft(T);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>lt.forEach(E,(V=>lt.forEach(V.Ts,(tt=>C.persistence.referenceDelegate.addReference(R,V.targetId,tt))).next((()=>lt.forEach(V.Is,(tt=>C.persistence.referenceDelegate.removeReference(R,V.targetId,tt)))))))))}catch(R){if(!pu(R))throw R;At(ag,"Failed to update sequence numbers: "+R)}for(const R of E){const V=R.targetId;if(!R.fromCache){const tt=C.vs.get(V),ut=tt.snapshotVersion,ct=tt.withLastLimboFreeSnapshotVersion(ut);C.vs=C.vs.insert(V,ct)}}})(a.localStore,h))}async function DR(r,t){const n=Ft(r);if(!n.currentUser.isEqual(t)){At(mg,"User change. New user:",t.toKey());const a=await ww(n.localStore,t);n.currentUser=t,(function(h,g){h.mu.forEach((v=>{v.forEach((T=>{T.reject(new Et(rt.CANCELLED,g))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Vc(n,a.Ns)}}function kR(r,t){const n=Ft(r),a=n.Au.get(t);if(a&&a.hu)return he().add(a.key);{let l=he();const h=n.Iu.get(t);if(!h)return l;for(const g of h){const v=n.Tu.get(g);l=l.unionWith(v.view.nu)}return l}}function qw(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MR.bind(null,t),t.Pu.J_=vR.bind(null,t.eventManager),t.Pu.yu=TR.bind(null,t.eventManager),t}function VR(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LR.bind(null,t),t}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return BI(this.persistence,new VI,t.initialUser,this.serializer)}Cu(t){return new bw(sg.Vi,this.serializer)}Du(t){return new KI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class zR extends Cf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){xe(this.persistence.referenceDelegate instanceof Af,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wI(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Bi.withCacheSize(this.cacheSizeBytes):Bi.DEFAULT;return new bw((a=>Af.Vi(a,n)),this.serializer)}}class Rp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>eT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DR.bind(null,this.syncEngine),await gR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yR})()}createDatastore(t){const n=Gf(t.databaseInfo.databaseId),a=JI(t.databaseInfo);return iR(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,g,v){return new rR(a,l,h,g,v)})(this.localStore,this.datastore,t.asyncQueue,(n=>eT(this.syncEngine,n,0)),(function(){return Q0.v()?new Q0:new YI})())}createSyncEngine(t,n){return(function(l,h,g,v,T,E,C){const R=new SR(l,h,g,v,T,E);return C&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ft(n);At(nl,"RemoteStore shutting down."),a.Ea.add(5),await kc(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};class Hw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ca("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const po="FirestoreClient";class UR{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=l,this.user=ci.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async g=>{At(po,"Received user=",g.uid),await this.authCredentialListener(g),this.user=g})),this.appCheckCredentials.start(a,(g=>(At(po,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=fg(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function $m(r,t){r.asyncQueue.verifyOperationInProgress(),At(po,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ww(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function iT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await BR(r);At(po,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>W0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>W0(t.remoteStore,l))),r._onlineComponents=t}async function BR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){At(po,"Using user provided OfflineComponentProvider");try{await $m(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===rt.FAILED_PRECONDITION||l.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;su("Error using user provided cache. Falling back to memory cache: "+n),await $m(r,new Cf)}}else At(po,"Using default OfflineComponentProvider"),await $m(r,new zR(void 0));return r._offlineComponents}async function Fw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(At(po,"Using user provided OnlineComponentProvider"),await iT(r,r._uninitializedComponentsProvider._online)):(At(po,"Using default OnlineComponentProvider"),await iT(r,new Rp))),r._onlineComponents}function jR(r){return Fw(r).then((t=>t.syncEngine))}async function Gw(r){const t=await Fw(r),n=t.eventManager;return n.onListen=AR.bind(null,t.syncEngine),n.onUnlisten=IR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RR.bind(null,t.syncEngine),n}function qR(r,t,n={}){const a=new oa;return r.asyncQueue.enqueueAndForget((async()=>(function(h,g,v,T,E){const C=new Hw({next:V=>{C.Nu(),g.enqueueAndForget((()=>Lw(h,R)));const tt=V.docs.has(v);!tt&&V.fromCache?E.reject(new Et(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&V.fromCache&&T&&T.source==="server"?E.reject(new Et(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(V)},error:V=>E.reject(V)}),R=new Pw(Jp(v.path),C,{includeMetadataChanges:!0,Ka:!0});return Ow(h,R)})(await Gw(r),r.asyncQueue,t,n,a))),a.promise}function HR(r,t,n={}){const a=new oa;return r.asyncQueue.enqueueAndForget((async()=>(function(h,g,v,T,E){const C=new Hw({next:V=>{C.Nu(),g.enqueueAndForget((()=>Lw(h,R))),V.fromCache&&T.source==="server"?E.reject(new Et(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(V)},error:V=>E.reject(V)}),R=new Pw(v,C,{includeMetadataChanges:!0,Ka:!0});return Ow(h,R)})(await Gw(r),r.asyncQueue,t,n,a))),a.promise}function FR(r,t){const n=new oa;return r.asyncQueue.enqueueAndForget((async()=>NR(await jR(r),t,n))),n.promise}function Zw(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const GR="ComponentProvider",sT=new Map;function ZR(r,t,n,a,l){return new d2(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Zw(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const Kw="firestore.googleapis.com",rT=!0;class aT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Et(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kw,this.ssl=rT}else this.host=t.host,this.ssl=t.ssl??rT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Tw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TI)throw new Et(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zw(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Et(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yf{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new GC;switch(a.type){case"firstParty":return new QC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Et(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=sT.get(n);a&&(At(GR,"Removing Datastore"),sT.delete(n),a.terminate())})(this),Promise.resolve()}}function KR(r,t,n,a={}){r=Cr(r,Yf);const l=cu(t),h=r._getSettings(),g={...h,emulatorOptions:r._getEmulatorOptions()},v=`${t}:${n}`;l&&(OT(`https://${v}`),LT("Firestore",!0)),h.host!==Kw&&h.host!==v&&su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T={...h,host:v,ssl:l,emulatorOptions:a};if(!oo(T,g)&&(r._setSettings(T),a.mockUserToken)){let E,C;if(typeof a.mockUserToken=="string")E=a.mockUserToken,C=ci.MOCK_USER;else{E=d1(a.mockUserToken,r._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new Et(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new ci(R)}r._authCredentials=new ZC(new Ib(E,C))}}class yo{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new yo(this.firestore,t,this._query)}}class dn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Lc(n,dn._jsonSchema))return new dn(t,a||null,new Ot(qe.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Sn("string",dn._jsonSchemaVersion),referencePath:Sn("string")};class ao extends yo{constructor(t,n,a){super(t,n,Jp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new Ot(t))}withConverter(t){return new ao(this.firestore,t,this._path)}}function Fl(r,t,...n){if(r=An(r),Rb("collection","path",t),r instanceof Yf){const a=qe.fromString(t,...n);return v0(a),new ao(r,null,a)}{if(!(r instanceof dn||r instanceof ao))throw new Et(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(qe.fromString(t,...n));return v0(a),new ao(r.firestore,null,a)}}function Xl(r,t,...n){if(r=An(r),arguments.length===1&&(t=Zp.newId()),Rb("doc","path",t),r instanceof Yf){const a=qe.fromString(t,...n);return y0(a),new dn(r,null,new Ot(a))}{if(!(r instanceof dn||r instanceof ao))throw new Et(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(qe.fromString(t,...n));return y0(a),new dn(r.firestore,r instanceof ao?r.converter:null,new Ot(a))}}const oT="AsyncQueue";class lT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sw(this,"async_queue_retry"),this._c=()=>{const a=Jm();a&&At(oT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new oa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!pu(t))throw t;At(oT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ca("INTERNAL UNHANDLED ERROR: ",uT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=hg.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&kt(47125,{Pc:uT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function uT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class yu extends Yf{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new lT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lT(t),this._firestoreClient=void 0,await t}}}function YR(r,t){const n=typeof r=="object"?r:Dp(),a=typeof r=="string"?r:Tf,l=ol(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=h1("firestore");h&&KR(l,...h)}return l}function gg(r){if(r._terminated)throw new Et(rt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QR(r),r._firestoreClient}function QR(r){const t=r._freezeSettings(),n=ZR(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new UR(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class xs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xs(Xn.fromBase64String(t))}catch(n){throw new Et(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xs(Xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lc(t,xs._jsonSchema))return xs.fromBase64String(t.bytes)}}xs._jsonSchemaVersion="firestore/bytes/1.0",xs._jsonSchema={type:Sn("string",xs._jsonSchemaVersion),bytes:Sn("string")};class _g{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Et(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zc{constructor(t){this._methodName=t}}class Sr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Et(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Et(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ce(this._lat,t._lat)||ce(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(t){if(Lc(t,Sr._jsonSchema))return new Sr(t.latitude,t.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:Sn("string",Sr._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};class Qs{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lc(t,Qs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Qs(t.vectorValues);throw new Et(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:Sn("string",Qs._jsonSchemaVersion),vectorValues:Sn("object")};const XR=/^__.*__$/;class WR{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new _o(t,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(t,this.data,n,this.fieldTransforms)}}class Yw{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new _o(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt(40011,{dataSource:r})}}class yg{constructor(t,n,a,l,h,g){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new yg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const n=this.path?.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return If(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(Qw(this.dataSource)&&XR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class JR{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Gf(t)}createContext(t,n,a,l=!1){return new yg({dataSource:t,methodName:n,targetDoc:a,path:Qn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(r){const t=r._freezeSettings(),n=Gf(r._databaseId);return new JR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function Xw(r,t,n,a,l,h={}){const g=r.createContext(h.merge||h.mergeFields?2:0,t,n,l);bg("Data must be an object, but it was:",g,a);const v=Ww(a,g);let T,E;if(h.merge)T=new rs(g.fieldMask),E=g.fieldTransforms;else if(h.mergeFields){const C=[];for(const R of h.mergeFields){const V=il(t,R,n);if(!g.contains(V))throw new Et(rt.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);tE(C,V)||C.push(V)}T=new rs(C),E=g.fieldTransforms.filter((R=>T.covers(R.field)))}else T=null,E=g.fieldTransforms;return new WR(new ji(v),T,E)}class Xf extends zc{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xf}}class vg extends zc{_toFieldTransform(t){return new rw(t.path,new Sc)}isEqual(t){return t instanceof vg}}class Tg extends zc{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new Cc(t.serializer,tw(t.serializer,this.Vc));return new rw(t.path,n)}isEqual(t){return t instanceof Tg&&this.Vc===t.Vc}}function $R(r,t,n,a){const l=r.createContext(1,t,n);bg("Data must be an object, but it was:",l,a);const h=[],g=ji.empty();go(a,((T,E)=>{const C=$w(t,T,n);E=An(E);const R=l.childContextForFieldPath(C);if(E instanceof Xf)h.push(C);else{const V=Uc(E,R);V!=null&&(h.push(C),g.set(C,V))}}));const v=new rs(h);return new Yw(g,v,l.fieldTransforms)}function tN(r,t,n,a,l,h){const g=r.createContext(1,t,n),v=[il(t,a,n)],T=[l];if(h.length%2!=0)throw new Et(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)v.push(il(t,h[V])),T.push(h[V+1]);const E=[],C=ji.empty();for(let V=v.length-1;V>=0;--V)if(!tE(E,v[V])){const tt=v[V];let ut=T[V];ut=An(ut);const ct=g.childContextForFieldPath(tt);if(ut instanceof Xf)E.push(tt);else{const Tt=Uc(ut,ct);Tt!=null&&(E.push(tt),C.set(tt,Tt))}}const R=new rs(E);return new Yw(C,R,g.fieldTransforms)}function eN(r,t,n,a=!1){return Uc(n,r.createContext(a?4:3,t))}function Uc(r,t){if(Jw(r=An(r)))return bg("Unsupported field value:",t,r),Ww(r,t);if(r instanceof zc)return(function(a,l){if(!Qw(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let g=0;for(const v of a){let T=Uc(v,l.childContextForArray(g));T==null&&(T={nullValue:"NULL_VALUE"}),h.push(T),g++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=An(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=We.fromDate(a);return{timestampValue:Sf(l.serializer,h)}}if(a instanceof We){const h=new We(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Sf(l.serializer,h)}}if(a instanceof Sr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xs)return{bytesValue:fw(l.serializer,a._byteString)};if(a instanceof dn){const h=l.databaseId,g=a.firestore._databaseId;if(!g.isEqual(h))throw l.createError(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ng(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Qs)return(function(g,v){const T=g instanceof Qs?g.toArray():g;return{mapValue:{fields:{[zb]:{stringValue:Ub},[bf]:{arrayValue:{values:T.map((C=>{if(typeof C!="number")throw v.createError("VectorValues must only contain numeric values.");return $p(v.serializer,C)}))}}}}}})(a,l);if(vw(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${kf(a)}`)})(r,t)}function Ww(r,t){const n={};return Ob(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):go(r,((a,l)=>{const h=Uc(l,t.childContextForField(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function Jw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof We||r instanceof Sr||r instanceof xs||r instanceof dn||r instanceof zc||r instanceof Qs||vw(r))}function bg(r,t,n){if(!Jw(n)||!Nb(n)){const a=kf(n);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function il(r,t,n){if((t=An(t))instanceof _g)return t._internalPath;if(typeof t=="string")return $w(r,t);throw If("Field path arguments must be of type string or ",r,!1,void 0,n)}const nN=new RegExp("[~\\*/\\[\\]]");function $w(r,t,n){if(t.search(nN)>=0)throw If(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new _g(...t.split("."))._internalPath}catch{throw If(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function If(r,t,n,a,l){const h=a&&!a.isEmpty(),g=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let T="";return(h||g)&&(T+=" (found",h&&(T+=` in field ${a}`),g&&(T+=` in document ${l}`),T+=")"),new Et(rt.INVALID_ARGUMENT,v+r+T)}function tE(r,t){return r.some((n=>n.isEqual(t)))}class iN{convertValue(t,n="none"){switch(fo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ho(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw kt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return go(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[bf].arrayValue?.values?.map((a=>fn(a.doubleValue)));return new Qs(n)}convertGeoPoint(t){return new Sr(fn(t.latitude),fn(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Uf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Tc(t));default:return null}}convertTimestamp(t){const n=co(t);return new We(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=qe.fromString(t);xe(yw(a),9688,{name:t});const l=new bc(a.get(1),a.get(3)),h=new Ot(a.popFirst(5));return l.isEqual(n)||ca(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}class eE extends iN{constructor(t){super(),this.firestore=t}convertBytes(t){return new xs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function Jh(){return new vg("serverTimestamp")}function Gl(r){return new Tg("increment",r)}const cT="@firebase/firestore",hT="4.10.0";class nE{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(il("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sN extends nE{data(){return super.data()}}function rN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Et(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class Eg extends wg{}function sc(r,t,...n){let a=[];t instanceof wg&&a.push(t),a=a.concat(n),(function(h){const g=h.filter((T=>T instanceof Sg)).length,v=h.filter((T=>T instanceof Wf)).length;if(g>1||g>0&&v>0)throw new Et(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Wf extends Eg{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Wf(t,n,a)}_apply(t){const n=this._parse(t);return iE(t._query,n),new yo(t.firestore,t.converter,Tp(t._query,n))}_parse(t){const n=Qf(t.firestore);return(function(h,g,v,T,E,C,R){let V;if(E.isKeyField()){if(C==="array-contains"||C==="array-contains-any")throw new Et(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if(C==="in"||C==="not-in"){dT(R,C);const ut=[];for(const ct of R)ut.push(fT(T,h,ct));V={arrayValue:{values:ut}}}else V=fT(T,h,R)}else C!=="in"&&C!=="not-in"&&C!=="array-contains-any"||dT(R,C),V=eN(v,g,R,C==="in"||C==="not-in");return En.create(E,C,V)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function rc(r,t,n){const a=t,l=il("where",r);return Wf._create(l,a,n)}class Sg extends wg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Sg(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Ws.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let g=l;const v=h.getFlattenedFilters();for(const T of v)iE(g,T),g=Tp(g,T)})(t._query,n),new yo(t.firestore,t.converter,Tp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends Eg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ag(t,n)}_apply(t){const n=(function(l,h,g){if(l.startAt!==null)throw new Et(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Et(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ec(h,g)})(t._query,this._field,this._direction);return new yo(t.firestore,t.converter,M2(t._query,n))}}function tp(r,t="asc"){const n=t,a=il("orderBy",r);return Ag._create(a,n)}class xg extends Eg{constructor(t,n,a){super(),this.type=t,this._limit=n,this._limitType=a}static _create(t,n,a){return new xg(t,n,a)}_apply(t){return new yo(t.firestore,t.converter,Ef(t._query,this._limit,this._limitType))}}function $h(r){return n2("limit",r),xg._create("limit",r,"F")}function fT(r,t,n){if(typeof(n=An(n))=="string"){if(n==="")throw new Et(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kb(t)&&n.indexOf("/")!==-1)throw new Et(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(qe.fromString(n));if(!Ot.isDocumentKey(a))throw new Et(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return C0(r,new Ot(a))}if(n instanceof dn)return C0(r,n._key);throw new Et(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function dT(r,t){if(!Array.isArray(r)||r.length===0)throw new Et(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iE(r,t){const n=(function(l,h){for(const g of l)for(const v of g.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Et(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Et(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function sE(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class cc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $o extends nE{constructor(t,n,a,l,h,g){super(t,n,a,l,g),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(il("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:Sn("string",$o._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class cf extends $o{data(t={}){return super.data(t)}}class nu{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new cc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new cf(this._firestore,this._userDataWriter,a.key,a,new cc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map((v=>{const T=new cf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new cc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:T,oldIndex:-1,newIndex:g++}}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const T=new cf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new cc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,C=-1;return v.type!==0&&(E=g.indexOf(v.doc.key),g=g.delete(v.doc.key)),v.type!==1&&(g=g.add(v.doc),C=g.indexOf(v.doc.key)),{type:aN(v.type),doc:T,oldIndex:E,newIndex:C}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=nu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt(61501,{type:r})}}nu._jsonSchemaVersion="firestore/querySnapshot/1.0",nu._jsonSchema={type:Sn("string",nu._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};function oN(r){r=Cr(r,dn);const t=Cr(r.firestore,yu),n=gg(t);return qR(n,r._key).then((a=>cN(t,r,a)))}function ep(r){r=Cr(r,yo);const t=Cr(r.firestore,yu),n=gg(t),a=new eE(t);return rN(r._query),HR(n,r._query).then((l=>new nu(t,a,r,l)))}function np(r,t,n){r=Cr(r,dn);const a=Cr(r.firestore,yu),l=sE(r.converter,t,n),h=Qf(a);return Cg(a,[Xw(h,"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Ys.none())])}function lN(r,t,n,...a){r=Cr(r,dn);const l=Cr(r.firestore,yu),h=Qf(l);let g;return g=typeof(t=An(t))=="string"||t instanceof _g?tN(h,"updateDoc",r._key,t,n,a):$R(h,"updateDoc",r._key,t),Cg(l,[g.toMutation(r._key,Ys.exists(!0))])}function uN(r,t){const n=Cr(r.firestore,yu),a=Xl(r),l=sE(r.converter,t),h=Qf(r.firestore);return Cg(n,[Xw(h,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Ys.exists(!1))]).then((()=>a))}function Cg(r,t){const n=gg(r);return FR(n,t)}function cN(r,t,n){const a=n.docs.get(t._key),l=new eE(r);return new $o(r,l,t._key,a,new cc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){FC(hu),Ar(new Xs("firestore",((a,{instanceIdentifier:l,options:h})=>{const g=a.getProvider("app").getImmediate(),v=new yu(new KC(a.getProvider("auth-internal")),new XC(g,a.getProvider("app-check-internal")),m2(g,l),g);return h={useFetchStreams:n,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),Cs(cT,hT,t),Cs(cT,hT,"esm2020")})();const rE="@firebase/installations",Ig="0.6.19";const aE=1e4,oE=`w:${Ig}`,lE="FIS_v2",hN="https://firebaseinstallations.googleapis.com/v1",fN=3600*1e3,dN="installations",mN="Installations";const pN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sl=new al(dN,mN,pN);function uE(r){return r instanceof Js&&r.code.includes("request-failed")}function cE({projectId:r}){return`${hN}/projects/${r}/installations`}function hE(r){return{token:r.token,requestStatus:2,expiresIn:_N(r.expiresIn),creationTime:Date.now()}}async function fE(r,t){const a=(await t.json()).error;return sl.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function dE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function gN(r,{refreshToken:t}){const n=dE(r);return n.append("Authorization",yN(t)),n}async function mE(r){const t=await r();return t.status>=500&&t.status<600?r():t}function _N(r){return Number(r.replace("s","000"))}function yN(r){return`${lE} ${r}`}async function vN({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const a=cE(r),l=dE(r),h=t.getImmediate({optional:!0});if(h){const E=await h.getHeartbeatsHeader();E&&l.append("x-firebase-client",E)}const g={fid:n,authVersion:lE,appId:r.appId,sdkVersion:oE},v={method:"POST",headers:l,body:JSON.stringify(g)},T=await mE(()=>fetch(a,v));if(T.ok){const E=await T.json();return{fid:E.fid||n,registrationStatus:2,refreshToken:E.refreshToken,authToken:hE(E.authToken)}}else throw await fE("Create Installation",T)}function pE(r){return new Promise(t=>{setTimeout(t,r)})}function TN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const bN=/^[cdef][\w-]{21}$/,Np="";function wN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=EN(r);return bN.test(n)?n:Np}catch{return Np}}function EN(r){return TN(r).substr(0,22)}function Jf(r){return`${r.appName}!${r.appId}`}const gE=new Map;function _E(r,t){const n=Jf(r);yE(n,t),SN(n,t)}function yE(r,t){const n=gE.get(r);if(n)for(const a of n)a(t)}function SN(r,t){const n=AN();n&&n.postMessage({key:r,fid:t}),xN()}let Jo=null;function AN(){return!Jo&&"BroadcastChannel"in self&&(Jo=new BroadcastChannel("[Firebase] FID Change"),Jo.onmessage=r=>{yE(r.data.key,r.data.fid)}),Jo}function xN(){gE.size===0&&Jo&&(Jo.close(),Jo=null)}const CN="firebase-installations-database",IN=1,rl="firebase-installations-store";let ip=null;function Rg(){return ip||(ip=UT(CN,IN,{upgrade:(r,t)=>{t===0&&r.createObjectStore(rl)}})),ip}async function Rf(r,t){const n=Jf(r),l=(await Rg()).transaction(rl,"readwrite"),h=l.objectStore(rl),g=await h.get(n);return await h.put(t,n),await l.done,(!g||g.fid!==t.fid)&&_E(r,t.fid),t}async function vE(r){const t=Jf(r),a=(await Rg()).transaction(rl,"readwrite");await a.objectStore(rl).delete(t),await a.done}async function $f(r,t){const n=Jf(r),l=(await Rg()).transaction(rl,"readwrite"),h=l.objectStore(rl),g=await h.get(n),v=t(g);return v===void 0?await h.delete(n):await h.put(v,n),await l.done,v&&(!g||g.fid!==v.fid)&&_E(r,v.fid),v}async function Ng(r){let t;const n=await $f(r.appConfig,a=>{const l=RN(a),h=NN(r,l);return t=h.registrationPromise,h.installationEntry});return n.fid===Np?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function RN(r){const t=r||{fid:wN(),registrationStatus:0};return TE(t)}function NN(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(sl.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=MN(r,n);return{installationEntry:n,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:ON(r)}:{installationEntry:t}}async function MN(r,t){try{const n=await vN(r,t);return Rf(r.appConfig,n)}catch(n){throw uE(n)&&n.customData.serverCode===409?await vE(r.appConfig):await Rf(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function ON(r){let t=await mT(r.appConfig);for(;t.registrationStatus===1;)await pE(100),t=await mT(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await Ng(r);return a||n}return t}function mT(r){return $f(r,t=>{if(!t)throw sl.create("installation-not-found");return TE(t)})}function TE(r){return LN(r)?{fid:r.fid,registrationStatus:0}:r}function LN(r){return r.registrationStatus===1&&r.registrationTime+aE<Date.now()}async function PN({appConfig:r,heartbeatServiceProvider:t},n){const a=DN(r,n),l=gN(r,n),h=t.getImmediate({optional:!0});if(h){const E=await h.getHeartbeatsHeader();E&&l.append("x-firebase-client",E)}const g={installation:{sdkVersion:oE,appId:r.appId}},v={method:"POST",headers:l,body:JSON.stringify(g)},T=await mE(()=>fetch(a,v));if(T.ok){const E=await T.json();return hE(E)}else throw await fE("Generate Auth Token",T)}function DN(r,{fid:t}){return`${cE(r)}/${t}/authTokens:generate`}async function Mg(r,t=!1){let n;const a=await $f(r.appConfig,h=>{if(!bE(h))throw sl.create("not-registered");const g=h.authToken;if(!t&&zN(g))return h;if(g.requestStatus===1)return n=kN(r,t),h;{if(!navigator.onLine)throw sl.create("app-offline");const v=BN(h);return n=VN(r,v),v}});return n?await n:a.authToken}async function kN(r,t){let n=await pT(r.appConfig);for(;n.authToken.requestStatus===1;)await pE(100),n=await pT(r.appConfig);const a=n.authToken;return a.requestStatus===0?Mg(r,t):a}function pT(r){return $f(r,t=>{if(!bE(t))throw sl.create("not-registered");const n=t.authToken;return jN(n)?{...t,authToken:{requestStatus:0}}:t})}async function VN(r,t){try{const n=await PN(r,t),a={...t,authToken:n};return await Rf(r.appConfig,a),n}catch(n){if(uE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vE(r.appConfig);else{const a={...t,authToken:{requestStatus:0}};await Rf(r.appConfig,a)}throw n}}function bE(r){return r!==void 0&&r.registrationStatus===2}function zN(r){return r.requestStatus===2&&!UN(r)}function UN(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+fN}function BN(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function jN(r){return r.requestStatus===1&&r.requestTime+aE<Date.now()}async function qN(r){const t=r,{installationEntry:n,registrationPromise:a}=await Ng(t);return a?a.catch(console.error):Mg(t).catch(console.error),n.fid}async function HN(r,t=!1){const n=r;return await FN(n),(await Mg(n,t)).token}async function FN(r){const{registrationPromise:t}=await Ng(r);t&&await t}function GN(r){if(!r||!r.options)throw sp("App Configuration");if(!r.name)throw sp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw sp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function sp(r){return sl.create("missing-app-config-values",{valueName:r})}const wE="installations",ZN="installations-internal",KN=r=>{const t=r.getProvider("app").getImmediate(),n=GN(t),a=ol(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},YN=r=>{const t=r.getProvider("app").getImmediate(),n=ol(t,wE).getImmediate();return{getId:()=>qN(n),getToken:l=>HN(n,l)}};function QN(){Ar(new Xs(wE,KN,"PUBLIC")),Ar(new Xs(ZN,YN,"PRIVATE"))}QN();Cs(rE,Ig);Cs(rE,Ig,"esm2020");const Nf="analytics",XN="firebase_id",WN="origin",JN=60*1e3,$N="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Og="https://www.googletagmanager.com/gtag/js";const Ti=new Of("@firebase/analytics");const tM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},as=new al("analytics","Analytics",tM);function eM(r){if(!r.startsWith(Og)){const t=as.create("invalid-gtag-resource",{gtagURL:r});return Ti.warn(t.message),""}return r}function EE(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function nM(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function iM(r,t){const n=nM("firebase-js-sdk-policy",{createScriptURL:eM}),a=document.createElement("script"),l=`${Og}?l=${r}&id=${t}`;a.src=n?n?.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function sM(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function rM(r,t,n,a,l,h){const g=a[l];try{if(g)await t[g];else{const T=(await EE(n)).find(E=>E.measurementId===l);T&&await t[T.appId]}}catch(v){Ti.error(v)}r("config",l,h)}async function aM(r,t,n,a,l){try{let h=[];if(l&&l.send_to){let g=l.send_to;Array.isArray(g)||(g=[g]);const v=await EE(n);for(const T of g){const E=v.find(R=>R.measurementId===T),C=E&&t[E.appId];if(C)h.push(C);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),r("event",a,l||{})}catch(h){Ti.error(h)}}function oM(r,t,n,a){async function l(h,...g){try{if(h==="event"){const[v,T]=g;await aM(r,t,n,v,T)}else if(h==="config"){const[v,T]=g;await rM(r,t,n,a,v,T)}else if(h==="consent"){const[v,T]=g;r("consent",v,T)}else if(h==="get"){const[v,T,E]=g;r("get",v,T,E)}else if(h==="set"){const[v]=g;r("set",v)}else r(h,...g)}catch(v){Ti.error(v)}}return l}function lM(r,t,n,a,l){let h=function(...g){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(h=window[l]),window[l]=oM(h,r,t,n),{gtagCore:h,wrappedGtag:window[l]}}function uM(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Og)&&n.src.includes(r))return n;return null}const cM=30,hM=1e3;class fM{constructor(t={},n=hM){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const SE=new fM;function dM(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function mM(r){const{appId:t,apiKey:n}=r,a={method:"GET",headers:dM(n)},l=$N.replace("{app-id}",t),h=await fetch(l,a);if(h.status!==200&&h.status!==304){let g="";try{const v=await h.json();v.error?.message&&(g=v.error.message)}catch{}throw as.create("config-fetch-failed",{httpStatus:h.status,responseMessage:g})}return h.json()}async function pM(r,t=SE,n){const{appId:a,apiKey:l,measurementId:h}=r.options;if(!a)throw as.create("no-app-id");if(!l){if(h)return{measurementId:h,appId:a};throw as.create("no-api-key")}const g=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},v=new yM;return setTimeout(async()=>{v.abort()},JN),AE({appId:a,apiKey:l,measurementId:h},g,v,t)}async function AE(r,{throttleEndTimeMillis:t,backoffCount:n},a,l=SE){const{appId:h,measurementId:g}=r;try{await gM(a,t)}catch(v){if(g)return Ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:g};throw v}try{const v=await mM(r);return l.deleteThrottleMetadata(h),v}catch(v){const T=v;if(!_M(T)){if(l.deleteThrottleMetadata(h),g)return Ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${T?.message}]`),{appId:h,measurementId:g};throw v}const E=Number(T?.customData?.httpStatus)===503?Hv(n,l.intervalMillis,cM):Hv(n,l.intervalMillis),C={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return l.setThrottleMetadata(h,C),Ti.debug(`Calling attemptFetch again in ${E} millis`),AE(r,C,a,l)}}function gM(r,t){return new Promise((n,a)=>{const l=Math.max(t-Date.now(),0),h=setTimeout(n,l);r.addEventListener(()=>{clearTimeout(h),a(as.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function _M(r){if(!(r instanceof Js)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class yM{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function vM(r,t,n,a,l){if(l&&l.global){r("event",n,a);return}else{const h=await t,g={...a,send_to:h};r("event",n,g)}}async function TM(r,t,n,a){if(a&&a.global){const l={};for(const h of Object.keys(n))l[`user_properties.${h}`]=n[h];return r("set",l),Promise.resolve()}else{const l=await t;r("config",l,{update:!0,user_properties:n})}}async function bM(){if(DT())try{await kT()}catch(r){return Ti.warn(as.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Ti.warn(as.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wM(r,t,n,a,l,h,g){const v=pM(r);v.then(V=>{n[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&Ti.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Ti.error(V)),t.push(v);const T=bM().then(V=>{if(V)return a.getId()}),[E,C]=await Promise.all([v,T]);uM(h)||iM(h,E.measurementId),l("js",new Date);const R=g?.config??{};return R[WN]="firebase",R.update=!0,C!=null&&(R[XN]=C),l("config",E.measurementId,R),E.measurementId}class EM{constructor(t){this.app=t}_delete(){return delete iu[this.app.options.appId],Promise.resolve()}}let iu={},gT=[];const _T={};let rp="dataLayer",SM="gtag",yT,Lg,vT=!1;function AM(){const r=[];if(PT()&&r.push("This is a browser extension environment."),w1()||r.push("Cookies are not available."),r.length>0){const t=r.map((a,l)=>`(${l+1}) ${a}`).join(" "),n=as.create("invalid-analytics-context",{errorInfo:t});Ti.warn(n.message)}}function xM(r,t,n){AM();const a=r.options.appId;if(!a)throw as.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw as.create("no-api-key");if(iu[a]!=null)throw as.create("already-exists",{id:a});if(!vT){sM(rp);const{wrappedGtag:h,gtagCore:g}=lM(iu,gT,_T,rp,SM);Lg=h,yT=g,vT=!0}return iu[a]=wM(r,gT,_T,t,yT,rp,n),new EM(r)}function CM(r=Dp()){r=An(r);const t=ol(r,Nf);return t.isInitialized()?t.getImmediate():IM(r)}function IM(r,t={}){const n=ol(r,Nf);if(n.isInitialized()){const l=n.getImmediate();if(oo(t,n.getOptions()))return l;throw as.create("already-initialized")}return n.initialize({options:t})}function RM(r,t,n){r=An(r),TM(Lg,iu[r.app.options.appId],t,n).catch(a=>Ti.error(a))}function Mp(r,t,n,a){r=An(r),vM(Lg,iu[r.app.options.appId],t,n,a).catch(l=>Ti.error(l))}const TT="@firebase/analytics",bT="0.10.19";function NM(){Ar(new Xs(Nf,(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return xM(a,l,n)},"PUBLIC")),Ar(new Xs("analytics-internal",r,"PRIVATE")),Cs(TT,bT),Cs(TT,bT,"esm2020");function r(t){try{const n=t.getProvider(Nf).getImmediate();return{logEvent:(a,l,h)=>Mp(n,a,l,h),setUserProperties:(a,l)=>RM(n,a,l)}}catch(n){throw as.create("interop-component-reg-failed",{reason:n})}}}NM();const MM={apiKey:"AIzaSyDG8l4zCw8qFP_YcPzCJZ1pX7v94SW1TOM",authDomain:"wildguess-810cb.firebaseapp.com",projectId:"wildguess-810cb",storageBucket:"wildguess-810cb.firebasestorage.app",messagingSenderId:"534801192362",appId:"1:534801192362:web:90d4053ad89a2dbe0307d3",measurementId:"G-7RKBPRH5JQ"},Pg=BT(MM);Tb(Pg);const Gs=YR(Pg),wT=CM(Pg),ET={win1:{url:"https://assets.mixkit.co/active_storage/sfx/103/103-preview.mp3",volume:.4},win2:{url:"https://assets.mixkit.co/active_storage/sfx/2066/2066-preview.mp3",volume:.4},win3:{url:"https://assets.mixkit.co/active_storage/sfx/2063/2063-preview.mp3",volume:.4},unlock:{url:"https://assets.mixkit.co/active_storage/sfx/1104/1104-preview.mp3",volume:.4},error:[{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.025},{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.05},{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.075}],click:{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.5},countdown:{url:"https://assets.mixkit.co/active_storage/sfx/112/112-preview.mp3",volume:.075},start:{url:"https://assets.mixkit.co/active_storage/sfx/75/75-preview.mp3",volume:.4},hover:[{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.4},{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.3},{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.2}]};class OM{constructor(){this.sounds={},this.indices={},this.muted=!1,Object.keys(ET).forEach(t=>{const n=ET[t],a=l=>{const h=new Audio(l.url);return h.volume=l.volume,h.preservesPitch!==void 0&&(h.preservesPitch=!1),h.mozPreservesPitch!==void 0&&(h.mozPreservesPitch=!1),h.webkitPreservesPitch!==void 0&&(h.webkitPreservesPitch=!1),h};Array.isArray(n)?(this.sounds[t]=n.map(l=>a(l)),this.indices[t]=0):this.sounds[t]=a(n)})}play(t,n=0){if(!this.sounds[t]){console.error(` Sound not found: ${t}`);return}if(!this.muted)try{let a;if(Array.isArray(this.sounds[t])){const l=this.indices[t]%this.sounds[t].length;a=this.sounds[t][l],this.indices[t]++}else a=this.sounds[t];if(a.currentTime=0,n>0){const l=1+(Math.random()*n*2-n);a.playbackRate=l}else a.playbackRate=1;a.play().catch(l=>{l.name!=="NotAllowedError"&&console.warn(` Audio Error '${t}':`,l)})}catch(a){console.error("Sound Error:",a)}}playWin(){if(this.muted)return;const t=Math.floor(Math.random()*3)+1;this.play(`win${t}`)}toggleMute(){return this.muted=!this.muted,this.muted}}const we=new OM,vr=AT.reduce((r,t)=>r.concat(t.animals.map(n=>({...n,group:t.name,groupEmoji:t.emoji}))),[]).sort((r,t)=>r.name.localeCompare(t.name)),LM=({lat:r,lng:t,zoom:n})=>{const a=Dt.useRef(null),l=Dt.useRef(null),h=Dt.useRef(null),g=Dt.useRef(null);return Dt.useEffect(()=>{if(a.current&&!l.current){l.current=Gh.map(a.current,{zoomControl:!1,attributionControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([r,t],n),Gh.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap &copy; CARTO",maxZoom:19}).addTo(l.current);const v=Gh.divIcon({className:"custom-pin",html:"<div></div>",iconSize:[20,20],iconAnchor:[10,10]});h.current=Gh.marker([r,t],{icon:v}).addTo(l.current),g.current=new ResizeObserver(()=>{l.current&&l.current.invalidateSize()}),g.current.observe(a.current)}return()=>{g.current&&g.current.disconnect(),l.current&&(l.current.remove(),l.current=null)}},[]),Dt.useEffect(()=>{l.current&&h.current&&(l.current.flyTo([r,t],n,{animate:!0,duration:2}),h.current.setLatLng([r,t]))},[r,t,n]),N.jsx("div",{ref:a,className:"w-full h-full"})},ST=()=>{const r=new Date,t=r.toISOString().split("T")[0],n=new Date(r.getFullYear(),0,1),a=Math.floor((r-n)/864e5),l=Math.ceil((a+n.getDay()+1)/7),h=`${r.getFullYear()}-W${l}`;return{dayKey:t,weekKey:h}},PM=({onComplete:r,stickers:t,isReady:n})=>{const[a,l]=Dt.useState(3),[h,g]=Dt.useState(""),v=["","","","","","","","","","","","","",""];return Dt.useEffect(()=>{we.play("countdown")},[]),Dt.useEffect(()=>{if(a>0){const T=setTimeout(()=>l(E=>E-1),1e3);return()=>clearTimeout(T)}},[a]),Dt.useEffect(()=>{if(a===0&&n){const T=setTimeout(r,500);return()=>clearTimeout(T)}},[a,n,r]),Dt.useEffect(()=>{const T=setInterval(()=>{g(v[Math.floor(Math.random()*v.length)])},150);return()=>clearInterval(T)},[]),N.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-gradient-to-b from-green-900 to-green-700 overflow-hidden relative text-white",children:[N.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-50",children:t&&t.map(T=>N.jsx("div",{className:"absolute emoji-sticker transition-transform duration-1000 ease-in-out",style:{top:`${T.top}%`,left:`${T.left}%`,fontSize:`${T.size}rem`,transform:`rotate(${T.rotation}deg)`,opacity:T.opacity},children:T.emoji},T.id))}),N.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[N.jsx("h2",{className:"text-4xl font-black mb-8 animate-pulse text-emerald-100 drop-shadow-md tracking-wider uppercase",children:"GET READY"}),N.jsx("div",{className:"text-9xl mb-8 font-mono font-bold drop-shadow-2xl text-white",children:a>0?a:n?"GO!":N.jsx("span",{className:"text-6xl animate-pulse",children:""})}),a===0&&!n&&N.jsx("div",{className:"text-emerald-200 font-mono font-bold uppercase tracking-widest animate-pulse mb-4",children:"Acquiring Target Data..."}),N.jsx("div",{className:"text-7xl swap-anim filter drop-shadow-xl",children:h})]})]})},DM=()=>{const[r,t]=Dt.useState("menu"),[n,a]=Dt.useState(!1),[l,h]=Dt.useState(null),[g,v]=Dt.useState(null),[T,E]=Dt.useState(0),[C,R]=Dt.useState(15),[V,tt]=Dt.useState(5),[ut,ct]=Dt.useState(!1),[Tt,Nt]=Dt.useState([]),[Bt,Rt]=Dt.useState(null),[Gt,_e]=Dt.useState(null),[$t,U]=Dt.useState(0),[M,D]=Dt.useState(""),[j,B]=Dt.useState(null),[H,P]=Dt.useState(""),Wt=Tb(),en=new sa,[J,pt]=Dt.useState(!1),[ht,te]=Dt.useState(!0),[bt,z]=Dt.useState(!1),[et,ft]=Dt.useState(!1),[mt,wt]=Dt.useState([]),[yt,Ut]=Dt.useState("allTime"),[Ee,Me]=Dt.useState(!1),[os,qi]=Dt.useState(0),[Hi,Fi]=Dt.useState(0),[ee,bi]=Dt.useState(!1),[Zt,On]=Dt.useState(0),[ls,He]=Dt.useState(!1),[Fe,Wn]=Dt.useState(!1),[Is,Rr]=Dt.useState(new Set),un=async()=>{if(j){we.play("unlock",.3),Wn(!0);try{const it=Fl(Gs,"games"),_t=sc(it,rc("userId","==",j.uid),rc("result","==","win")),qt=await ep(_t),Ge=new Set;qt.forEach(Se=>{const dt=Se.data();dt.animalName&&Ge.add(dt.animalName)}),Rr(Ge)}catch(it){console.error("Error fetching journal:",it)}}};Dt.useEffect(()=>{const it=Mx(Wt,async _t=>{if(console.log(" Auth State Changed:",_t?"Logged In":"Logged Out"),_t){B(_t),console.log(" User ID:",_t.uid);try{console.log(" Reading Profile from Firestore...");const qt=Xl(Gs,"users",_t.uid),Ge=await oN(qt);Ge.exists()?(console.log(" Profile FOUND:",Ge.data()),P(Ge.data().username),pt(!0)):(console.log(" No Profile Document found in Firestore for this ID."),pt(!1))}catch(qt){console.error(" READ ERROR:",qt),alert("Database Read Failed: "+qt.message)}}else console.log(" Signing in Anonymously..."),Ax(Wt).catch(qt=>{console.error("Auth Error:",qt)});te(!1)});return()=>it()},[]);const Rs=()=>{const it=we.toggleMute();a(it)},xn=Dt.useRef(null),$s=["Connecting to Satellite ","Triangulating Signal ","Tracking Wildlife ","Filtering Bad Data ","Verifying Coordinates ","Consulting Biologists ","Loading Map Tiles ","Enhancing Image "],Ln=[{title:"CLUE 1: THE MAP",text:" There is an **animal sighting** at this location. You'll have 4 more clues after this to make the best informed guess.",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-24 md:left-1/3 md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 2: REGION",text:" The map zooms in and the **Location Name** appears. This will make it slightly easier to identify the animal.",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-32 md:left-10 md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 3: TAXONOMY",text:" Still unsure? Here is the **Family and Scientific Name**. We'll give you a chance to guess shortly...",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-56 md:left-10 md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 4: THE HINT",text:" This is a **cryptic behavior or trait description**. Are you ready to make a wild guess?",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-80 md:left-10 md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"I'm Ready to Guess"},{title:"MAKE A GUESS",text:"Start by selecting a **Category**. You can also look through **All Animals** or **search** for an animal if you find that easier.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"-bottom-[10px] left-1/2 -translate-x-1/2 border-t-[10px] border-t-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent md:bottom-auto md:top-1/2 md:-right-[10px] md:left-auto md:translate-x-0 md:-translate-y-1/2 md:border-t-transparent md:border-b-transparent md:border-l-[10px] md:border-l-white md:border-r-0",hideButton:!0},{title:"PICK THE ANIMAL",text:"Choose the **animal** you think is at this sighting.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"-bottom-[10px] left-1/2 -translate-x-1/2 border-t-[10px] border-t-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent md:bottom-auto md:top-1/2 md:-right-[10px] md:left-auto md:translate-x-0 md:-translate-y-1/2 md:border-t-transparent md:border-b-transparent md:border-l-[10px] md:border-l-white md:border-r-0",hideButton:!0},{title:"WRONG! BUT WAIT...",text:"Still didn't get it? Use the **photo** to make a final guess.",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent md:bottom-auto md:top-1/2 md:-right-[10px] md:left-auto md:translate-x-0 md:-translate-y-1/2 md:border-t-transparent md:border-b-transparent md:border-l-[10px] md:border-l-white md:border-r-0",hideButton:!0},{title:"SUCCESS!",text:"Well done! You guessed correctly! Click **Play Again** to have another go.",positionClasses:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",arrowClasses:"hidden",buttonText:"Play Again"},{title:"GAME OVER",text:"Oh well! At least you know what it is. Click **Play Again** to give it another go.",positionClasses:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",arrowClasses:"hidden",buttonText:"Play Again"}],fa=Dt.useMemo(()=>{const it=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ge=16.666666666666668,Se=100/5;return it.slice(0,30).map((dt,Je)=>{const Ze=Je%6,Cn=Math.floor(Je/6);return{id:Je,emoji:dt,left:Ze*Ge+Math.random()*(Ge*.7),top:Cn*Se+Math.random()*(Se*.7),rotation:Math.floor(Math.random()*60)-30,size:3+Math.random()*2,opacity:.1+Math.random()*.1}})},[]);Dt.useEffect(()=>{let it;return Ee&&(qi(0),Fi(0),it=setInterval(()=>{qi(_t=>Math.min(_t+5,95)),Fi(_t=>(_t+1)%$s.length)},400)),()=>clearInterval(it)},[Ee]),Dt.useEffect(()=>{Mr()},[]),Dt.useEffect(()=>{r==="menu"&&Nr(yt)},[r,yt]);const Nr=async(it=yt)=>{try{let _t;const{dayKey:qt,weekKey:Ge}=ST();if(it==="daily"){const Je=Fl(Gs,"leaderboards","daily",qt);_t=sc(Je,tp("score","desc"),$h(10))}else if(it==="weekly"){const Je=Fl(Gs,"leaderboards","weekly",Ge);_t=sc(Je,tp("score","desc"),$h(10))}else{const Je=Fl(Gs,"users");_t=sc(Je,tp("totalScore","desc"),$h(10))}const Se=await ep(_t),dt=[];Se.forEach(Je=>{const Ze=Je.data();dt.push({id:Je.id,username:Ze.username,totalScore:Ze.totalScore||Ze.score||0,gamesPlayed:Ze.gamesPlayed||0,discoveries:Ze.discoveries||0})}),wt(dt)}catch(_t){console.error("Error fetching leaderboard:",_t),wt([])}};Dt.useEffect(()=>{r==="countdown"&&(Nt([]),tt(5),ct(!1),Rt(null),_e(null),U(_t=>_t+1),E(-1),localStorage.getItem("wildGuess_tutorial_complete")?bi(!1):(bi(!0),On(0)),g?(h(g),v(null)):(h(null),qn().then(_t=>{h(_t)})))},[r]);const qn=async()=>{const it=localStorage.getItem("wildGuess_played"),_t=localStorage.getItem("wildGuess_reported");let qt=it?JSON.parse(it):[],Ge=_t?JSON.parse(_t):[];const Se=vr.filter(mn=>!qt.includes(mn.name));let dt;Se.length===0?(qt=[],localStorage.removeItem("wildGuess_played"),dt=vr[Math.floor(Math.random()*vr.length)]):dt=Se[Math.floor(Math.random()*Se.length)],qt.includes(dt.name)||(qt.push(dt.name),localStorage.setItem("wildGuess_played",JSON.stringify(qt)));const Je=Math.floor(Math.random()*30)+1,ke=`https://api.inaturalist.org/v1/observations?taxon_name=${dt.sciName}&quality_grade=research&photos=true&per_page=1&page=${Je}&without_taxon_id=47144,47126,47170&without_term_value_id=19,23,25,26,27,28,29,30&photo_license=cc0,cc-by,cc-by-nc,cc-by-sa,cc-by-nc-sa`;console.log(`Hunting for: ${dt.name} | Query: ${dt.sciName}`);try{const In=await(await fetch(ke)).json();if(!In.results||In.results.length===0)return console.warn("No valid results found, retrying..."),qn();const pe=In.results[0];if(Ge.includes(pe.id))return console.warn(`Skipping reported bad data ID: ${pe.id}`),qn();const er=pe.taxon?.name?.toLowerCase()||"",Lr=dt.sciName.toLowerCase();if(!er.includes(Lr))return console.warn(`MISMATCH: Asked for '${Lr}' but got '${er}'. Retrying...`),qn();const Ai=[19,23,25,26,27,28,29,30];if(pe.annotations&&pe.annotations.some(di=>Ai.includes(di.value_id)))return console.warn("Manual Filter: Caught a 'Track' or 'Scat'. Retrying..."),qn();if(pe.description||pe.tags&&pe.tags.length>0){const $e=((pe.description||"")+" "+(pe.tags||[]).join(" ")).toLowerCase();if(["dead","carcass","roadkill","deceased","skull","bone","skeleton","remains","track","print","footprint","scat","droppings","feces","zoo","captive","aquarium","pet","domestic"].some(Pr=>$e.includes(Pr)))return console.warn("Manual Filter: Suspicious keyword. Retrying..."),qn()}const Ns=pe.geojson?.coordinates[1]||pe.location?.split(",")[0],ei=pe.geojson?.coordinates[0]||pe.location?.split(",")[1];if(!Ns||!ei||!pe.photos||pe.photos.length===0)return qn();const Fn=new Date(pe.observed_on||pe.created_at),pn=Fn.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return{id:pe.id,name:dt.name,correctName:dt.name,sciName:dt.displayLatin||dt.sciName,family:dt.family||"Unknown Family",image:pe.photos[0].url.replace("square","original").replace("small","original").replace("medium","original").replace("large","original"),lat:parseFloat(Ns),lng:parseFloat(ei),location:pe.place_guess||"Unknown Wilderness",recordedBy:pe.user?.login||pe.user?.name||"Unknown Observer",link:pe.uri,stats:{trait:dt.clue||dt.hint||"No hint available.",date:pn,year:Fn.getFullYear()}}}catch(mn){return console.error("Fetch failed:",mn),qn()}},Mr=async()=>{try{const it=await qn();v(it)}catch(it){console.warn("Background fetch failed",it)}},Jn=async it=>{if(!bt){if(!it.trim()){alert("Please enter a valid name.");return}if(!j){alert("Waiting for connection... please wait 2 seconds and try again.");return}z(!0),console.log(" Attempting to create profile for:",j.uid);try{const _t=Xl(Gs,"users",j.uid);await np(_t,{username:it,createdAt:Jh(),lastLogin:Jh(),gamesPlayed:0,totalScore:0},{merge:!0}),console.log(" Write Complete! Reloading..."),window.location.reload()}catch(_t){console.error(" WRITE ERROR:",_t),alert("Save Failed: "+_t.message),z(!1)}}},nn=()=>{xn.current&&clearInterval(xn.current),t("menu")},Pn=async()=>{try{we.play("click"),await Jx(Wt,en)}catch(it){console.error("Login failed:",it),we.play("error")}},De=()=>{we.play("start"),Mp(wT,"level_start",{level_name:"wild_guess_standard"}),t("countdown")},us=()=>{Ox(Wt).then(()=>{P(""),pt(!1),B(null)}).catch(it=>{console.error("Error signing out:",it)})},tr=()=>{t("game"),E(0),Or(),Mr()},Or=(it=!1)=>{R(15),xn.current&&clearInterval(xn.current),!(!it&&ee)&&(xn.current=setInterval(()=>{R(_t=>_t<=1?(Hn(),15):_t-1)},1e3))},Hn=()=>{E(it=>it>=4?(Gi("loss"),4):(ct(!1),tt(_t=>Math.max(1,_t-1)),it+1))},cs=()=>{T<4&&(R(15),Hn())},Be=it=>{we.play("click"),_e(it),ee&&Zt===4&&ti()},wi=()=>{_e(null),ee&&(Zt===5||Zt===6)&&On(4)},Ei=()=>{if(!l||!l.id)return;const it=localStorage.getItem("wildGuess_reported");let _t=it?JSON.parse(it):[];_t.includes(l.id)?alert("You have already reported this entry."):(_t.push(l.id),localStorage.setItem("wildGuess_reported",JSON.stringify(_t)),alert("Reported! This specific entry will not appear in your game again."))},$n=it=>{if(ee){const _t=it===l.correctName;Zt===5?_t?(we.playWin(),Gi("win"),On(7)):(we.play("error",.3),Nt([it]),E(4),tt(1),On(6)):Zt===6&&(_t?(we.playWin(),Gi("win"),On(7)):(we.play("error",.3),Gi("loss"),On(8)));return}ut||r!=="game"||(it===l.correctName?(we.playWin(),Gi("win")):(we.play("error",.3),Nt(_t=>[..._t,it]),T===4?Gi("loss"):(R(15),Hn())))},Gi=async it=>{xn.current&&clearInterval(xn.current);let _t=0,qt=!1;if(it==="win"?_t=V:we.play("error"),Rt(it),t("summary"),j)try{if(it==="win"){const pe=sc(Fl(Gs,"games"),rc("userId","==",j.uid),rc("animalName","==",l.correctName),rc("result","==","win"),$h(1));(await ep(pe)).empty?(qt=!0,console.log(" New Species Registered in Journal!")):console.log(" Species already in Journal. No new registry.")}Mp(wT,"level_end",{level_name:"wild_guess_standard",success:it==="win",score:_t,animal:l.correctName,is_new_discovery:qt});const Ge=uN(Fl(Gs,"games"),{userId:j.uid,animalName:l.correctName,animalSciName:l.sciName,location:l.location,result:it,pointsEarned:_t,timestamp:Jh()}),{dayKey:Se,weekKey:dt}=ST(),Je=Xl(Gs,"users",j.uid),Ze=Xl(Gs,"leaderboards","daily",Se,j.uid),Cn=Xl(Gs,"leaderboards","weekly",dt,j.uid),je=lN(Je,{totalScore:Gl(_t),gamesPlayed:Gl(1),discoveries:Gl(qt?1:0),lastPlayed:Jh()}),ke={username:H,photoURL:j.photoURL||null,score:Gl(_t),gamesPlayed:Gl(1),discoveries:Gl(qt?1:0)},mn=np(Ze,ke,{merge:!0}),In=np(Cn,ke,{merge:!0});await Promise.all([Ge,je,mn,In]),console.log(` Game Saved! +${_t} pts`)}catch(Ge){console.error("Error saving game:",Ge)}},da=()=>{ee?(bi(!1),localStorage.setItem("wildGuess_tutorial_complete","true"),Nt([]),Or(!0)):(bi(!0),On(0),E(0),tt(5),Nt([]),_e(null),xn.current&&clearInterval(xn.current))},ti=()=>{if(we.play("click",.2),Zt>=7){bi(!1),localStorage.setItem("wildGuess_tutorial_complete","true"),He(!0),setTimeout(()=>He(!1),8e3),De();return}if(Zt<Ln.length-1){const it=Zt+1;On(it),it===1&&(E(1),tt(4)),it===2&&(E(2),tt(3)),it===3&&(E(3),tt(2)),it===6&&(E(4),tt(1))}};Fe&&(Is.size,vr.length,vr.map((it,_t)=>{const qt=Is.has(it.name);return N.jsxs("div",{className:`aspect-square rounded-xl flex flex-col items-center justify-center p-2 transition-all duration-500 border-2 ${qt?"bg-white border-amber-200 shadow-md rotate-0 opacity-100":"bg-slate-100 border-slate-200 shadow-none opacity-60"}`,children:[N.jsx("div",{className:"text-4xl md:text-5xl mb-2 transition-all duration-500",style:qt?{}:{color:"transparent",textShadow:"0 0 0 #94a3b8",filter:"blur(1px)"},children:it.emoji||it.groupEmoji||""}),N.jsx("div",{className:`text-[9px] md:text-[10px] font-bold text-center uppercase tracking-tight leading-tight transition-opacity duration-500 ${qt?"text-slate-700 opacity-100":"text-slate-400 opacity-0"}`,children:it.name})]},_t)}));const Si=Fe&&N.jsx("div",{className:"fixed inset-0 z-[90] bg-slate-900/95 backdrop-blur-md flex items-center justify-center p-4",children:N.jsxs("div",{className:"bg-amber-50 rounded-2xl w-full max-w-4xl h-[85vh] flex flex-col shadow-2xl overflow-hidden border-4 border-amber-200 relative animate-pop",children:[N.jsx("button",{onClick:()=>Wn(!1),className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/10 hover:bg-black/20 rounded-full text-amber-900 font-bold flex items-center justify-center transition-colors text-xl",children:""}),N.jsxs("div",{className:"bg-amber-100 p-6 border-b border-amber-200 text-center flex-shrink-0",children:[N.jsx("h2",{className:"font-freckle text-3xl text-amber-900 uppercase tracking-wide",children:"Field Journal"}),N.jsxs("div",{className:"flex justify-center items-center gap-2 mt-2",children:[N.jsx("span",{className:"text-amber-800/60 text-xs font-bold uppercase tracking-widest",children:"Collection Progress:"}),N.jsxs("span",{className:"bg-amber-300 text-amber-900 px-2 py-0.5 rounded text-xs font-black",children:[Is.size," / ",vr.length]})]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-4 md:p-8 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]",children:N.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-3 md:gap-4",children:vr.map((it,_t)=>{const qt=Is.has(it.name);return N.jsxs("div",{className:`aspect-square rounded-xl flex flex-col items-center justify-center p-2 transition-all duration-500 border-2 ${qt?"bg-white border-amber-200 shadow-md rotate-0 opacity-100":"bg-slate-100 border-slate-200 shadow-none opacity-60"}`,children:[N.jsx("div",{className:"text-4xl md:text-5xl mb-2 transition-all duration-500",style:qt?{}:{color:"transparent",textShadow:"0 0 0 #94a3b8",filter:"blur(1px)"},children:it.emoji||it.groupEmoji||""}),N.jsx("div",{className:`text-[9px] md:text-[10px] font-bold text-center uppercase tracking-tight leading-tight transition-opacity duration-500 ${qt?"text-slate-700 opacity-100":"text-slate-400 opacity-0"}`,children:it.name})]},_t)})})})]})});return r==="menu"?N.jsxs("div",{className:"h-screen w-full bg-gradient-to-b from-green-900 to-green-700 overflow-x-hidden overflow-y-auto md:overflow-hidden relative flex flex-col md:flex-row items-center justify-start md:justify-center p-4 gap-6 py-12 md:py-0",children:[N.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:fa.map(it=>N.jsx("div",{className:"absolute emoji-sticker transition-transform duration-1000 ease-in-out hover:scale-110",style:{top:`${it.top}%`,left:`${it.left}%`,fontSize:`${it.size}rem`,transform:`rotate(${it.rotation}deg)`,opacity:it.opacity},children:it.emoji},it.id))}),N.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full max-w-md md:w-1/2 md:items-end md:pr-8 flex-shrink-0",children:[N.jsxs("h1",{className:"font-freckle text-5xl md:text-7xl text-green-950 sticker-text drop-shadow-2xl mb-4 tracking-wider leading-none whitespace-nowrap",children:["W",N.jsx("span",{className:"-mx-4 md:-mx-7 relative -top-1",children:""}),"LD GUESS"]}),N.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-5 md:p-6 rounded-3xl shadow-2xl w-full text-center border-4 border-white transform -rotate-1 mb-6",children:[N.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px] mb-3",children:"HOW TO PLAY"}),N.jsxs("div",{className:"flex justify-between items-start px-1 mb-2 gap-1",children:[N.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[N.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),N.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Real-Life Animal Sighting"})]}),N.jsx("div",{className:"text-slate-300 text-xl mt-2",children:""}),N.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[N.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),N.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Analyze the Clues"})]}),N.jsx("div",{className:"text-slate-300 text-xl mt-2",children:""}),N.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[N.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),N.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Identify the Animal"})]})]})]}),N.jsx("button",{onClick:De,onMouseEnter:()=>we.play("hover",.2),className:"relative overflow-hidden text-white font-bold py-4 rounded-full shadow-[0_6px_0_#14532d] active:shadow-none active:translate-y-1 transform transition-all border-4 border-white w-full hover:scale-105 bg-green-600 hover:bg-green-500",children:N.jsx("span",{className:"text-2xl font-black tracking-widest uppercase drop-shadow-md",children:"START EXPEDITION"})}),N.jsx("div",{className:"mt-4 flex flex-col items-center gap-3 w-full",children:j?N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"bg-black/20 text-white/80 px-4 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-2",children:[j.photoURL&&N.jsx("img",{src:j.photoURL,alt:"User",className:"w-4 h-4 rounded-full border border-white/50"}),"Playing as: ",N.jsx("span",{className:"text-white",children:H})]}),N.jsxs("button",{onMouseEnter:()=>we.play("hover",.2),onClick:un,className:"bg-amber-100 text-amber-900 border-2 border-amber-300 px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[N.jsx("span",{className:"text-lg",children:""})," Field Journal"]}),N.jsx("button",{onMouseEnter:()=>we.play("hover",.2),onClick:()=>{we.play("click"),us()},className:"text-[10px] text-green-200/70 hover:text-white font-bold uppercase tracking-widest transition-colors hover:underline decoration-green-400 decoration-2 underline-offset-4",children:"( Logout )"})]}):N.jsxs(N.Fragment,{children:[N.jsxs("button",{onClick:Pn,onMouseEnter:()=>we.play("hover",.2),className:"bg-white text-slate-700 border-2 border-slate-200 px-5 py-2 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[N.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[N.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),N.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),N.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),N.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Login with Google"]}),H&&N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"text-[10px] text-green-200/50 font-bold uppercase tracking-widest mt-1",children:["Playing as Guest: ",H]}),N.jsx("button",{onClick:un,className:"mt-1 text-[10px] text-amber-100 hover:text-white underline",children:"View Guest Journal"})]})]})})]}),N.jsxs("div",{className:"relative z-10 w-full max-w-md md:w-1/2 h-[500px] md:h-[80vh] flex flex-col md:pl-8 flex-shrink-0 mb-12 md:mb-0",children:["                    ",N.jsxs("div",{className:"bg-orange-50/95 backdrop-blur-sm rounded-3xl shadow-2xl border-4 border-orange-100 overflow-hidden flex flex-col h-full max-h-[500px] md:max-h-full",children:[N.jsxs("div",{className:"bg-orange-100 p-2 border-b border-orange-200 flex flex-col gap-2",children:[N.jsx("div",{className:"flex justify-between items-center px-2",children:N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-xl",children:""}),N.jsx("h2",{className:"text-orange-800 font-black tracking-wide text-sm uppercase",children:"Top Explorers"})]})}),N.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:["daily","weekly","allTime"].map(it=>N.jsx("button",{onMouseEnter:()=>we.play("hover",.2),onClick:()=>{we.play("click",.1),Ut(it)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${yt===it?"bg-white text-orange-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:it==="allTime"?"All Time":it},it))})]}),N.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-3 space-y-2",children:mt.length===0?N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-orange-300 opacity-50",children:[N.jsx("span",{className:"text-4xl mb-2",children:""}),N.jsx("span",{className:"font-bold text-sm uppercase",children:"Loading Scores..."})]}):mt.map((it,_t)=>N.jsxs("div",{onMouseEnter:()=>we.play("hover",.2),className:`flex items-center justify-between p-3 rounded-xl border-b-4 transition-transform hover:scale-[1.01] ${it.id===j?.uid?"bg-white border-emerald-200 shadow-sm ring-2 ring-emerald-400 ring-offset-1":"bg-white border-orange-100 shadow-sm"}`,children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:`
                                                font-black text-sm w-8 h-8 flex items-center justify-center rounded-lg
                                                ${_t===0?"bg-yellow-400 text-yellow-900":_t===1?"bg-slate-300 text-slate-700":_t===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400"}
                                                `,children:_t+1}),N.jsxs("div",{className:"flex flex-col",children:[N.jsxs("span",{className:`font-bold text-sm leading-tight ${it.id===j?.uid?"text-emerald-700":"text-slate-700"}`,children:[it.username," ",it.id===j?.uid&&"(You)"]}),N.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[N.jsxs("span",{className:"text-[9px] text-slate-400 uppercase font-bold tracking-wider",children:[it.gamesPlayed||0," Expeditions"]}),N.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[it.discoveries||0," Animals Found"]})]})]})]}),N.jsx("div",{className:"bg-orange-100 px-3 py-1 rounded-lg",children:N.jsxs("span",{className:"font-mono font-black text-orange-600 text-sm",children:[it.totalScore||0,N.jsx("span",{className:"text-[9px] ml-0.5 opacity-60",children:"PTS"})]})})]},it.id))})]})]}),!ht&&!J&&N.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/90 backdrop-blur-sm flex items-center justify-center p-4",children:N.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-8 shadow-2xl text-center border-4 border-emerald-100 relative overflow-hidden",children:[N.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),N.jsx("h2",{className:"text-3xl font-freckle text-green-950 mb-2",children:"Welcome to Wild Guess!"}),N.jsx("p",{className:"text-slate-500 mb-6",children:"Join the expedition to track your scores and compete on the leaderboard."}),N.jsxs("button",{onClick:Pn,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-slate-200 text-slate-700 font-bold py-3 rounded-xl shadow-sm hover:bg-slate-50 hover:border-slate-300 transition-all mb-6 group",children:[N.jsxs("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",children:[N.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),N.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),N.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),N.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]}),N.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[N.jsx("div",{className:"h-px bg-slate-200 flex-1"}),N.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Or Play as Guest"}),N.jsx("div",{className:"h-px bg-slate-200 flex-1"})]}),N.jsxs("form",{onSubmit:it=>{it.preventDefault();const _t=new FormData(it.target);Jn(_t.get("username"))},className:"space-y-4",children:[N.jsx("input",{name:"username",type:"text",placeholder:"Enter Guest Name...",maxLength:15,required:!0,className:"w-full px-4 py-3 text-lg border-2 border-slate-200 rounded-xl focus:border-emerald-500 focus:outline-none text-center font-bold text-slate-700 bg-slate-50"}),N.jsx("button",{type:"submit",disabled:bt,className:`w-full font-bold py-3 rounded-xl transition transform shadow-lg text-white ${bt?"bg-slate-400 cursor-not-allowed":"bg-slate-400 hover:bg-slate-500 hover:scale-[1.02]"}`,children:bt?"STARTING...":"PLAY AS GUEST"})]})]})}),Si]}):r==="countdown"?N.jsx(PM,{onComplete:tr,stickers:fa,isReady:!!l}):N.jsxs("div",{className:"h-screen w-full flex flex-col md:flex-row bg-slate-100 overflow-hidden relative",children:[N.jsxs("div",{id:"landscape-warning",className:"fixed inset-0 z-[100] bg-slate-900 text-white flex-col items-center justify-center p-6 text-center",children:[N.jsx("div",{className:"text-6xl mb-6",children:""}),N.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Please Rotate Device"}),N.jsx("p",{className:"text-slate-300",children:"This game is designed for portrait mode."})]}),N.jsxs("div",{className:"flex-1 flex flex-col bg-white m-2 rounded-xl shadow-sm overflow-hidden relative order-1",children:[N.jsx("div",{className:"h-2 bg-slate-200 w-full flex-shrink-0",children:N.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-1000 linear",style:{width:`${C/15*100}%`}})}),N.jsxs("div",{className:"flex-1 relative",children:[N.jsxs("button",{onClick:nn,onMouseEnter:()=>we.play("hover",.2),className:"absolute top-2 left-2 z-[60] bg-gradient-to-b from-blue-400 to-blue-600 border-2 border-slate-300 rounded shadow-md text-white font-bold uppercase tracking-widest text-[10px] px-2 py-1 flex items-center gap-1 hover:from-blue-500 hover:to-blue-700 active:scale-95 transition-all",children:[N.jsx("span",{className:"text-xs filter drop-shadow-sm",children:""}),N.jsx("span",{className:"drop-shadow-sm",children:"EXIT"})]}),N.jsx("button",{onClick:Rs,className:"absolute top-2 left-20 z-[60] bg-white/90 border-2 border-slate-300 rounded shadow-md text-slate-500 font-bold text-[10px] px-2 py-1 hover:bg-slate-50 active:scale-95 transition-all",children:n?"":""}),N.jsxs("button",{onClick:da,onMouseEnter:()=>we.play("hover",.2),className:`absolute top-2 right-2 z-[60] flex items-center gap-2 px-2 py-1 rounded shadow-md border-2 transition-all text-[10px] font-bold uppercase tracking-widest ${ee?"bg-emerald-500 border-emerald-600 text-white":"bg-white border-slate-300 text-slate-400 hover:bg-slate-50"}`,children:[N.jsx("span",{className:"text-xs",children:ee?"ON":"OFF"}),N.jsx("span",{children:""})]}),ls&&N.jsxs("div",{className:"absolute top-12 right-2 z-[70] bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-lg animate-pop max-w-[150px] text-right",children:["Tutorial hidden.",N.jsx("br",{}),'Tap "OFF" to restart.']}),N.jsxs("div",{className:"absolute inset-0",children:[N.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ${T>=0?"opacity-100":"opacity-0"}`,children:l&&N.jsx(LM,{lat:l.lat,lng:l.lng,zoom:T===0?2:T===1?5:11})}),N.jsx("div",{className:`hidden md:block absolute inset-0 z-10 transition-opacity duration-1000 bg-slate-200 overflow-hidden ${T>=4?"opacity-100":"opacity-0 pointer-events-none"}`,children:l?.image&&N.jsxs("div",{className:"w-full h-full relative",children:[N.jsx("img",{src:l.image,className:"w-full h-full object-cover blur-xl scale-110 transform",alt:"Revealed Animal"}),N.jsx("div",{className:"absolute inset-0 bg-black/10"})]})})]},$t),N.jsxs("div",{className:"hidden md:block absolute top-0 left-0 right-0 z-30 pt-6 text-center pointer-events-none",children:[N.jsxs("h2",{className:"text-3xl md:text-4xl font-black text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)] tracking-tight uppercase leading-none",children:["Take a ",N.jsx("span",{className:"text-emerald-400",children:"Wild Guess"})]}),N.jsx("p",{className:"text-white text-sm font-bold mt-1 drop-shadow-[0_1px_2px_rgba(0,0,0,0.9)] uppercase tracking-widest",children:"Can you identify this animal?"})]}),N.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none flex flex-col items-center pt-12 pb-2 px-2 md:pt-24 md:pb-4 md:px-4",children:[T===4&&l?.image&&N.jsx("div",{className:"w-full flex justify-center mb-2 md:mb-8 order-first pointer-events-auto",children:N.jsxs("div",{className:"group relative bg-slate-200 rounded-2xl shadow-2xl overflow-hidden border-4 border-white w-48 h-32 md:w-64 md:h-48 flex-shrink-0 animate-pop transform hover:scale-105 transition-transform cursor-pointer",children:[N.jsx("img",{src:l.image,className:"w-full h-full object-cover blur-[2px] scale-110 transition-all duration-700 group-hover:blur-none group-hover:scale-105",alt:"Mystery Clue"}),N.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:N.jsx("span",{className:"text-6xl md:text-8xl font-black text-white/90 drop-shadow-md group-hover:opacity-50 transition-opacity",children:"?"})})]})}),N.jsx("div",{className:`order-1 w-full flex justify-center md:static transition-all duration-500 transform ${T>=1?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"} ${T===4?"hidden md:flex":""}`,children:N.jsxs("div",{className:"bg-white/90 backdrop-blur-md px-3 py-1 md:px-4 md:py-2 rounded-lg shadow-xl border border-white/50",children:[N.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block text-center tracking-wider",children:"Location"}),N.jsx("span",{className:"text-slate-800 font-bold text-xs md:text-lg leading-tight block",children:l?.location})]})}),N.jsx("div",{className:`order-2 w-full flex justify-center md:static mt-auto mb-2 md:mb-4 transition-all duration-500 transform ${T>=3?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"}`,children:N.jsxs("div",{className:"bg-emerald-50/95 backdrop-blur-md px-3 py-1.5 md:px-5 md:py-3 rounded-lg shadow-xl border border-emerald-100 max-w-sm text-center mx-4",children:[N.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-emerald-600 uppercase block mb-0.5 tracking-wider",children:"Hint"}),N.jsxs("div",{className:"text-emerald-900 font-medium italic text-xs md:text-lg leading-tight",children:['"',l?.stats?.trait,'"']})]})}),N.jsx("div",{className:`order-3 w-full flex justify-center md:static transition-all duration-500 transform ${T>=2?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"} ${T===4?"hidden md:flex":""}`,children:N.jsxs("div",{className:"bg-white/90 backdrop-blur-md px-3 py-1 md:px-6 md:py-3 rounded-lg shadow-xl border border-white/50 text-center min-w-[160px] md:min-w-[220px]",children:[N.jsxs("div",{className:"mb-0.5 md:mb-2",children:[N.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block tracking-wider",children:"Family"}),N.jsx("span",{className:"text-indigo-600 font-mono font-bold text-xs md:text-lg leading-none",children:l?.family})]}),N.jsxs("div",{className:"border-t border-slate-200/50 pt-0.5 md:pt-2",children:[N.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block tracking-wider",children:"Scientific Name"}),N.jsx("span",{className:"text-emerald-800 italic font-serif text-sm md:text-xl leading-none",children:l?.displayLatin||l?.sciName})]})]})})]})]}),N.jsxs("div",{className:"h-14 bg-white border-t border-slate-100 flex items-center justify-between px-4 z-10 flex-shrink-0",children:[N.jsxs("div",{className:"text-slate-500 font-mono text-sm",children:["PTS: ",N.jsx("span",{className:"text-emerald-600 font-bold",children:V})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onMouseEnter:()=>we.play("hover"),onClick:()=>Gi("surrender"),disabled:ee,className:`px-4 py-2 text-xs rounded-full transition-all duration-300 ${T===4?"bg-red-500 text-white font-black tracking-widest shadow-lg hover:bg-red-600 hover:scale-105 animate-pulse":"text-slate-400 hover:text-red-500 font-medium"} ${ee?"opacity-30 cursor-not-allowed pointer-events-none":""}`,children:"GIVE UP"}),T<4&&N.jsx("button",{onMouseEnter:()=>we.play("hover",.2),onClick:()=>{we.play("click",.2),cs()},disabled:ee,className:`bg-blue-50 text-blue-600 px-4 py-1 rounded-full text-xs font-bold hover:bg-blue-100 transition ${ee?"opacity-30 cursor-not-allowed pointer-events-none":""}`,children:"NEXT CLUE"})]})]})]}),N.jsxs("div",{className:"h-[45%] md:h-full md:w-96 bg-slate-50 overflow-hidden border-t md:border-t-0 md:border-l border-slate-200 order-2 flex flex-col shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-40 relative",children:[N.jsx("div",{className:"p-2 border-b border-slate-200 bg-slate-100 flex-shrink-0 z-10",children:N.jsxs("div",{className:"relative",children:[N.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:""}),N.jsx("input",{type:"text",value:M,onChange:it=>{D(it.target.value),ee&&Zt===4&&ti()},placeholder:"Search animals...",onClick:()=>we.play("click",.2),disabled:ut||ee&&Zt<4,className:"w-full pl-8 pr-3 py-2 bg-white border border-slate-300 rounded-lg text-xs font-bold text-slate-700 placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all shadow-sm disabled:opacity-50 disabled:bg-slate-50"}),M&&N.jsx("button",{onClick:()=>D(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 text-xs font-bold px-1",children:""})]})}),N.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-2 content-start",children:M?N.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[vr.filter(it=>it.name.toLowerCase().includes(M.toLowerCase())).map((it,_t)=>{const qt=Tt.includes(it.name);return N.jsxs("button",{disabled:ut||qt||ee&&Zt!==5&&Zt!==6,onClick:()=>{$n(it.name),D("")},className:`rounded-lg font-bold shadow-sm border border-slate-100 transition-all py-2 px-2 text-xs text-left flex items-center ${qt?"bg-red-50 text-red-300 border-red-100 cursor-not-allowed":"bg-white text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"} ${ut||ee&&Zt!==5&&Zt!==6?"opacity-50":""}`,children:[N.jsx("span",{className:"mr-2 text-base",children:it.groupEmoji}),N.jsx("span",{className:"truncate",children:it.name})]},_t)}),vr.filter(it=>it.name.toLowerCase().includes(M.toLowerCase())).length===0&&N.jsx("div",{className:"col-span-2 text-center text-slate-400 text-xs py-4 italic",children:"No animals found"})]}):N.jsxs(N.Fragment,{children:[!Gt&&N.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 h-full content-start",children:[N.jsxs("button",{onClick:()=>Be("ALL"),disabled:ut||ee&&Zt<4,className:`rounded-xl flex items-center shadow-sm transition-all duration-200 bg-slate-200 text-slate-700 hover:bg-slate-300 hover:shadow-md cursor-pointer border border-slate-300 flex-row justify-start px-2 py-1 h-11 md:flex-col md:justify-center md:aspect-square md:h-auto md:px-0 ${ut||ee&&Zt<4?"opacity-50":""}`,children:[N.jsx("span",{className:"text-xl mr-2 md:mr-0 md:mb-1",children:""}),N.jsx("span",{className:"text-[10px] md:text-[10px] font-bold uppercase tracking-tight text-left md:text-center leading-tight",children:"All Animals"})]}),AT.map((it,_t)=>N.jsxs("button",{disabled:ut||ee&&Zt<4,onClick:()=>Be(it),className:`rounded-xl flex items-center shadow-sm transition-all duration-200 bg-white hover:bg-emerald-50 hover:shadow-md cursor-pointer border border-slate-100 flex-row justify-start px-2 py-1 h-11 md:flex-col md:justify-center md:aspect-square md:h-auto md:px-0 ${ut||ee&&Zt<4?"opacity-50":""}`,children:[N.jsx("span",{className:"text-xl mr-2 md:mr-0 md:mb-1",children:it.emoji}),N.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-tight text-left md:text-center leading-tight",children:it.name})]},_t))]}),Gt&&N.jsxs("div",{className:"flex flex-col h-full",children:[N.jsx("button",{onMouseEnter:()=>we.play("hover",.1),onClick:()=>{we.play("click",.2),wi()},disabled:ee&&Zt!==5&&Zt!==6,className:`mb-2 flex items-center justify-center bg-slate-100 border border-slate-200 rounded-lg text-slate-500 hover:text-emerald-600 hover:bg-emerald-50 text-[10px] uppercase font-bold px-2 py-1.5 flex-shrink-0 transition-colors ${ee&&Zt!==5&&Zt!==6?"opacity-50":""}`,children:" Back to Categories"}),N.jsxs("div",{className:"text-center mb-2 flex-shrink-0",children:[N.jsx("span",{className:"text-xl inline-block mr-2",children:Gt==="ALL"?"":Gt.emoji}),N.jsx("span",{className:"text-sm font-bold text-slate-700",children:Gt==="ALL"?"All Animals":Gt.name})]}),N.jsx("div",{className:`grid gap-2 flex-1 content-start ${Gt==="ALL"?"grid-cols-3":"grid-cols-2"}`,children:(Gt==="ALL"?vr:Gt.animals).map((it,_t)=>{const qt=Tt.includes(it.name);return N.jsxs("button",{disabled:ut||qt||ee&&Zt!==5&&Zt!==6,onClick:()=>$n(it.name),className:`rounded-lg font-bold shadow-sm border border-slate-100 transition-all leading-tight ${Gt==="ALL"?"py-1 px-1 text-[9px] h-10 flex flex-col justify-center items-center":"py-2 px-2 text-xs"} ${qt?"bg-red-50 text-red-300 border-red-100 cursor-not-allowed":"bg-white text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"} ${ut||ee&&Zt!==5&&Zt!==6?"opacity-50":""}`,children:[Gt==="ALL"&&N.jsx("span",{className:"opacity-60 text-xs mb-0.5",children:it.groupEmoji}),N.jsx("span",{className:"truncate w-full text-center",children:it.name})]},_t)})})]})]})})]}),r==="summary"&&N.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:N.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-pop flex flex-col max-h-[90vh]",children:[N.jsxs("div",{className:"h-64 bg-slate-200 relative flex-shrink-0",children:[l?.image?N.jsx("img",{src:l.image,className:"w-full h-full object-cover",alt:"Animal"}):N.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:"No Image"}),N.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 pt-12",children:[N.jsx("h2",{className:"text-white text-3xl font-bold leading-none",children:l?.correctName}),N.jsx("p",{className:"text-white/80 text-sm italic font-serif mt-1",children:l?.sciName})]})]}),N.jsxs("div",{className:"p-6 text-center flex-1 overflow-y-auto custom-scroll",children:[Bt==="win"?N.jsxs("div",{className:"mb-6",children:[N.jsx("div",{className:"text-5xl mb-2 animate-bounce",children:""}),N.jsx("h3",{className:"text-2xl font-bold text-emerald-600 mb-1",children:"Correct!"}),N.jsxs("p",{className:"text-slate-600 font-medium",children:["You earned ",N.jsxs("span",{className:"text-emerald-600 font-bold",children:[V," points"]}),"."]})]}):N.jsxs("div",{className:"mb-6",children:[N.jsx("div",{className:"text-5xl mb-2",children:""}),N.jsx("h3",{className:"text-2xl font-bold text-red-600 mb-1",children:"Missed it!"}),N.jsx("p",{className:"text-slate-600",children:"Better luck next time."})]}),N.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-left space-y-3 text-sm border border-slate-100 shadow-inner",children:[N.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[N.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Observed By"}),l?.link?N.jsxs("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 font-medium hover:underline truncate max-w-[150px]",children:[l.recordedBy," "]}):N.jsx("span",{className:"text-slate-700 font-medium",children:l?.recordedBy})]}),N.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[N.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Date"}),N.jsx("span",{className:"text-slate-700 font-medium",children:l?.stats?.date})]}),N.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[N.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Location"}),N.jsx("span",{className:"text-slate-700 text-right max-w-[60%] font-medium",children:l?.location})]}),N.jsxs("div",{className:"pt-2 text-center border-t border-slate-200 mt-2",children:[N.jsxs("p",{className:"text-[10px] text-slate-400 leading-tight mb-2",children:["Data source: ",N.jsx("a",{href:"https://www.inaturalist.org",target:"_blank",className:"underline hover:text-emerald-500",children:"iNaturalist"})," (Research Grade). ",N.jsx("br",{}),"Photos & coordinates are user-submitted."]}),N.jsxs("div",{className:"bg-orange-50 border border-orange-100 rounded p-2 mt-2",children:[N.jsx("p",{className:"text-[9px] text-orange-600 font-bold uppercase mb-1",children:" Data Disclaimer"}),N.jsx("p",{className:"text-[9px] text-slate-500 leading-snug mb-2",children:"Occasional inaccuracies (e.g., GPS errors) or sensitive content may occur in community data."}),N.jsxs("button",{onClick:Ei,className:"bg-white border border-slate-200 shadow-sm text-[9px] text-slate-600 font-bold uppercase px-2 py-1 rounded hover:bg-slate-50 hover:text-red-500 transition-colors flex items-center justify-center w-full gap-1",children:[N.jsx("span",{children:""})," Report Bad Data / Location"]})]})]})]})]}),N.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex-shrink-0 flex flex-col gap-2",children:[N.jsx("button",{onClick:De,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 rounded-xl transition shadow-lg shadow-emerald-200 transform hover:scale-[1.02]",children:"PLAY AGAIN"}),N.jsxs("button",{onClick:un,className:"w-full bg-amber-100 hover:bg-amber-200 text-amber-900 font-bold py-3 rounded-xl transition border-2 border-amber-200 flex items-center justify-center gap-2",children:[N.jsx("span",{className:"text-lg",children:""})," OPEN FIELD JOURNAL"]})]})]})}),Si,ee&&N.jsx("div",{className:`absolute z-[100] max-w-[280px] ${Ln[Zt].positionClasses}`,children:N.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-4 border-2 border-emerald-500 relative animate-pop",children:[N.jsx("div",{className:`absolute w-0 h-0 border-[10px] ${Ln[Zt].arrowClasses}`}),N.jsx("p",{className:"text-slate-700 font-bold text-sm mb-3 leading-snug",children:Ln[Zt].text.split("**").map((it,_t)=>_t%2===1?N.jsx("span",{className:"text-emerald-600 font-black",children:it},_t):it)}),!Ln[Zt].hideButton&&N.jsx("button",{onMouseEnter:()=>we.play("hover"),onClick:ti,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 rounded-lg text-xs uppercase tracking-wider shadow-sm",children:Ln[Zt].buttonText})]})})]})};$S.createRoot(document.getElementById("root")).render(N.jsx(GS.StrictMode,{children:N.jsx(DM,{})}));
