(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function n(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=n(u);fetch(u.href,h)}})();function kp(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var jm={exports:{}},rc={};var Ov;function ZS(){if(Ov)return rc;Ov=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,u,h){var g=null;if(h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),"key"in u){h={};for(var b in u)b!=="key"&&(h[b]=u[b])}else h=u;return u=h.ref,{$$typeof:a,type:r,key:g,ref:u!==void 0?u:null,props:h}}return rc.Fragment=t,rc.jsx=n,rc.jsxs=n,rc}var Mv;function KS(){return Mv||(Mv=1,jm.exports=ZS()),jm.exports}var R=KS(),Um={exports:{}},Kt={};var kv;function YS(){if(kv)return Kt;kv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.iterator;function et(z){return z===null||typeof z!="object"?null:(z=M&&z[M]||z["@@iterator"],typeof z=="function"?z:null)}var ft={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ut=Object.assign,yt={};function Ot(z,nt,dt){this.props=z,this.context=nt,this.refs=yt,this.updater=dt||ft}Ot.prototype.isReactComponent={},Ot.prototype.setState=function(z,nt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,nt,"setState")},Ot.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function Vt(){}Vt.prototype=Ot.prototype;function kt(z,nt,dt){this.props=z,this.context=nt,this.refs=yt,this.updater=dt||ft}var _e=kt.prototype=new Vt;_e.constructor=kt,ut(_e,Ot.prototype),_e.isPureReactComponent=!0;var ye=Array.isArray;function $t(){}var j={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function D(z,nt,dt){var mt=dt.ref;return{$$typeof:a,type:z,key:nt,ref:mt!==void 0?mt:null,props:dt}}function H(z,nt){return D(z.type,nt,z.props)}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===a}function q(z){var nt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(dt){return nt[dt]})}var P=/\/+/g;function Lt(z,nt){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):nt.toString(36)}function tn(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then($t,$t):(z.status="pending",z.then(function(nt){z.status==="pending"&&(z.status="fulfilled",z.value=nt)},function(nt){z.status==="pending"&&(z.status="rejected",z.reason=nt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function $(z,nt,dt,mt,vt){var bt=typeof z;(bt==="undefined"||bt==="boolean")&&(z=null);var Gt=!1;if(z===null)Gt=!0;else switch(bt){case"bigint":case"string":case"number":Gt=!0;break;case"object":switch(z.$$typeof){case a:case t:Gt=!0;break;case C:return Gt=z._init,$(Gt(z._payload),nt,dt,mt,vt)}}if(Gt)return vt=vt(z),Gt=mt===""?"."+Lt(z,0):mt,ye(vt)?(dt="",Gt!=null&&(dt=Gt.replace(P,"$&/")+"/"),$(vt,nt,dt,"",function(Jn){return Jn})):vt!=null&&(U(vt)&&(vt=H(vt,dt+(vt.key==null||z&&z.key===vt.key?"":(""+vt.key).replace(P,"$&/")+"/")+Gt)),nt.push(vt)),1;Gt=0;var xe=mt===""?".":mt+":";if(ye(z))for(var Ie=0;Ie<z.length;Ie++)mt=z[Ie],bt=xe+Lt(mt,Ie),Gt+=$(mt,nt,dt,bt,vt);else if(Ie=et(z),typeof Ie=="function")for(z=Ie.call(z),Ie=0;!(mt=z.next()).done;)mt=mt.value,bt=xe+Lt(mt,Ie++),Gt+=$(mt,nt,dt,bt,vt);else if(bt==="object"){if(typeof z.then=="function")return $(tn(z),nt,dt,mt,vt);throw nt=String(z),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Gt}function pt(z,nt,dt){if(z==null)return z;var mt=[],vt=0;return $(z,mt,"","",function(bt){return nt.call(dt,bt,vt++)}),mt}function ht(z){if(z._status===-1){var nt=z._result;nt=nt(),nt.then(function(dt){(z._status===0||z._status===-1)&&(z._status=1,z._result=dt)},function(dt){(z._status===0||z._status===-1)&&(z._status=2,z._result=dt)}),z._status===-1&&(z._status=0,z._result=nt)}if(z._status===1)return z._result.default;throw z._result}var te=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},wt={map:pt,forEach:function(z,nt,dt){pt(z,function(){nt.apply(this,arguments)},dt)},count:function(z){var nt=0;return pt(z,function(){nt++}),nt},toArray:function(z){return pt(z,function(nt){return nt})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Kt.Activity=N,Kt.Children=wt,Kt.Component=Ot,Kt.Fragment=n,Kt.Profiler=u,Kt.PureComponent=kt,Kt.StrictMode=r,Kt.Suspense=v,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return j.H.useMemoCache(z)}},Kt.cache=function(z){return function(){return z.apply(null,arguments)}},Kt.cacheSignal=function(){return null},Kt.cloneElement=function(z,nt,dt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var mt=ut({},z.props),vt=z.key;if(nt!=null)for(bt in nt.key!==void 0&&(vt=""+nt.key),nt)!O.call(nt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&nt.ref===void 0||(mt[bt]=nt[bt]);var bt=arguments.length-2;if(bt===1)mt.children=dt;else if(1<bt){for(var Gt=Array(bt),xe=0;xe<bt;xe++)Gt[xe]=arguments[xe+2];mt.children=Gt}return D(z.type,vt,mt)},Kt.createContext=function(z){return z={$$typeof:g,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},Kt.createElement=function(z,nt,dt){var mt,vt={},bt=null;if(nt!=null)for(mt in nt.key!==void 0&&(bt=""+nt.key),nt)O.call(nt,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(vt[mt]=nt[mt]);var Gt=arguments.length-2;if(Gt===1)vt.children=dt;else if(1<Gt){for(var xe=Array(Gt),Ie=0;Ie<Gt;Ie++)xe[Ie]=arguments[Ie+2];vt.children=xe}if(z&&z.defaultProps)for(mt in Gt=z.defaultProps,Gt)vt[mt]===void 0&&(vt[mt]=Gt[mt]);return D(z,bt,vt)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(z){return{$$typeof:b,render:z}},Kt.isValidElement=U,Kt.lazy=function(z){return{$$typeof:C,_payload:{_status:-1,_result:z},_init:ht}},Kt.memo=function(z,nt){return{$$typeof:E,type:z,compare:nt===void 0?null:nt}},Kt.startTransition=function(z){var nt=j.T,dt={};j.T=dt;try{var mt=z(),vt=j.S;vt!==null&&vt(dt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then($t,te)}catch(bt){te(bt)}finally{nt!==null&&dt.types!==null&&(nt.types=dt.types),j.T=nt}},Kt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Kt.use=function(z){return j.H.use(z)},Kt.useActionState=function(z,nt,dt){return j.H.useActionState(z,nt,dt)},Kt.useCallback=function(z,nt){return j.H.useCallback(z,nt)},Kt.useContext=function(z){return j.H.useContext(z)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(z,nt){return j.H.useDeferredValue(z,nt)},Kt.useEffect=function(z,nt){return j.H.useEffect(z,nt)},Kt.useEffectEvent=function(z){return j.H.useEffectEvent(z)},Kt.useId=function(){return j.H.useId()},Kt.useImperativeHandle=function(z,nt,dt){return j.H.useImperativeHandle(z,nt,dt)},Kt.useInsertionEffect=function(z,nt){return j.H.useInsertionEffect(z,nt)},Kt.useLayoutEffect=function(z,nt){return j.H.useLayoutEffect(z,nt)},Kt.useMemo=function(z,nt){return j.H.useMemo(z,nt)},Kt.useOptimistic=function(z,nt){return j.H.useOptimistic(z,nt)},Kt.useReducer=function(z,nt,dt){return j.H.useReducer(z,nt,dt)},Kt.useRef=function(z){return j.H.useRef(z)},Kt.useState=function(z){return j.H.useState(z)},Kt.useSyncExternalStore=function(z,nt,dt){return j.H.useSyncExternalStore(z,nt,dt)},Kt.useTransition=function(){return j.H.useTransition()},Kt.version="19.2.4",Kt}var Lv;function Lp(){return Lv||(Lv=1,Um.exports=YS()),Um.exports}var It=Lp();const QS=kp(It);var Bm={exports:{}},oc={},qm={exports:{}},Hm={};var Pv;function WS(){return Pv||(Pv=1,(function(a){function t($,pt){var ht=$.length;$.push(pt);t:for(;0<ht;){var te=ht-1>>>1,wt=$[te];if(0<u(wt,pt))$[te]=pt,$[ht]=wt,ht=te;else break t}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var pt=$[0],ht=$.pop();if(ht!==pt){$[0]=ht;t:for(var te=0,wt=$.length,z=wt>>>1;te<z;){var nt=2*(te+1)-1,dt=$[nt],mt=nt+1,vt=$[mt];if(0>u(dt,ht))mt<wt&&0>u(vt,dt)?($[te]=vt,$[mt]=ht,te=mt):($[te]=dt,$[nt]=ht,te=nt);else if(mt<wt&&0>u(vt,ht))$[te]=vt,$[mt]=ht,te=mt;else break t}}return pt}function u($,pt){var ht=$.sortIndex-pt.sortIndex;return ht!==0?ht:$.id-pt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var g=Date,b=g.now();a.unstable_now=function(){return g.now()-b}}var v=[],E=[],C=1,N=null,M=3,et=!1,ft=!1,ut=!1,yt=!1,Ot=typeof setTimeout=="function"?setTimeout:null,Vt=typeof clearTimeout=="function"?clearTimeout:null,kt=typeof setImmediate<"u"?setImmediate:null;function _e($){for(var pt=n(E);pt!==null;){if(pt.callback===null)r(E);else if(pt.startTime<=$)r(E),pt.sortIndex=pt.expirationTime,t(v,pt);else break;pt=n(E)}}function ye($){if(ut=!1,_e($),!ft)if(n(v)!==null)ft=!0,$t||($t=!0,q());else{var pt=n(E);pt!==null&&tn(ye,pt.startTime-$)}}var $t=!1,j=-1,O=5,D=-1;function H(){return yt?!0:!(a.unstable_now()-D<O)}function U(){if(yt=!1,$t){var $=a.unstable_now();D=$;var pt=!0;try{t:{ft=!1,ut&&(ut=!1,Vt(j),j=-1),et=!0;var ht=M;try{e:{for(_e($),N=n(v);N!==null&&!(N.expirationTime>$&&H());){var te=N.callback;if(typeof te=="function"){N.callback=null,M=N.priorityLevel;var wt=te(N.expirationTime<=$);if($=a.unstable_now(),typeof wt=="function"){N.callback=wt,_e($),pt=!0;break e}N===n(v)&&r(v),_e($)}else r(v);N=n(v)}if(N!==null)pt=!0;else{var z=n(E);z!==null&&tn(ye,z.startTime-$),pt=!1}}break t}finally{N=null,M=ht,et=!1}pt=void 0}}finally{pt?q():$t=!1}}}var q;if(typeof kt=="function")q=function(){kt(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Lt=P.port2;P.port1.onmessage=U,q=function(){Lt.postMessage(null)}}else q=function(){Ot(U,0)};function tn($,pt){j=Ot(function(){$(a.unstable_now())},pt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function($){switch(M){case 1:case 2:case 3:var pt=3;break;default:pt=M}var ht=M;M=pt;try{return $()}finally{M=ht}},a.unstable_requestPaint=function(){yt=!0},a.unstable_runWithPriority=function($,pt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ht=M;M=$;try{return pt()}finally{M=ht}},a.unstable_scheduleCallback=function($,pt,ht){var te=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?te+ht:te):ht=te,$){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=ht+wt,$={id:C++,callback:pt,priorityLevel:$,startTime:ht,expirationTime:wt,sortIndex:-1},ht>te?($.sortIndex=ht,t(E,$),n(v)===null&&$===n(E)&&(ut?(Vt(j),j=-1):ut=!0,tn(ye,ht-te))):($.sortIndex=wt,t(v,$),ft||et||(ft=!0,$t||($t=!0,q()))),$},a.unstable_shouldYield=H,a.unstable_wrapCallback=function($){var pt=M;return function(){var ht=M;M=pt;try{return $.apply(this,arguments)}finally{M=ht}}}})(Hm)),Hm}var Dv;function XS(){return Dv||(Dv=1,qm.exports=WS()),qm.exports}var Fm={exports:{}},ci={};var Vv;function JS(){if(Vv)return ci;Vv=1;var a=Lp();function t(v){var E="https://react.dev/errors/"+v;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)E+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,E,C){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:v,containerInfo:E,implementation:C}}var g=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(v,E){if(v==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ci.createPortal=function(v,E){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(v,E,null,C)},ci.flushSync=function(v){var E=g.T,C=r.p;try{if(g.T=null,r.p=2,v)return v()}finally{g.T=E,r.p=C,r.d.f()}},ci.preconnect=function(v,E){typeof v=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,r.d.C(v,E))},ci.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},ci.preinit=function(v,E){if(typeof v=="string"&&E&&typeof E.as=="string"){var C=E.as,N=b(C,E.crossOrigin),M=typeof E.integrity=="string"?E.integrity:void 0,et=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;C==="style"?r.d.S(v,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:N,integrity:M,fetchPriority:et}):C==="script"&&r.d.X(v,{crossOrigin:N,integrity:M,fetchPriority:et,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},ci.preinitModule=function(v,E){if(typeof v=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var C=b(E.as,E.crossOrigin);r.d.M(v,{crossOrigin:C,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&r.d.M(v)},ci.preload=function(v,E){if(typeof v=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var C=E.as,N=b(C,E.crossOrigin);r.d.L(v,C,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},ci.preloadModule=function(v,E){if(typeof v=="string")if(E){var C=b(E.as,E.crossOrigin);r.d.m(v,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:C,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else r.d.m(v)},ci.requestFormReset=function(v){r.d.r(v)},ci.unstable_batchedUpdates=function(v,E){return v(E)},ci.useFormState=function(v,E,C){return g.H.useFormState(v,E,C)},ci.useFormStatus=function(){return g.H.useHostTransitionStatus()},ci.version="19.2.4",ci}var zv;function $S(){if(zv)return Fm.exports;zv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Fm.exports=JS(),Fm.exports}var jv;function tx(){if(jv)return oc;jv=1;var a=XS(),t=Lp(),n=$S();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function g(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function b(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(r(188))}function E(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(r(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return v(m),e;if(p===c)return v(m),i;p=p.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=p;else{for(var T=!1,A=m.child;A;){if(A===o){T=!0,o=m,c=p;break}if(A===c){T=!0,c=m,o=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===o){T=!0,o=p,c=m;break}if(A===c){T=!0,c=p,o=m;break}A=A.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:i}function C(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=C(e),i!==null)return i;e=e.sibling}return null}var N=Object.assign,M=Symbol.for("react.element"),et=Symbol.for("react.transitional.element"),ft=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),yt=Symbol.for("react.strict_mode"),Ot=Symbol.for("react.profiler"),Vt=Symbol.for("react.consumer"),kt=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),$t=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function Lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ut:return"Fragment";case Ot:return"Profiler";case yt:return"StrictMode";case ye:return"Suspense";case $t:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ft:return"Portal";case kt:return e.displayName||"Context";case Vt:return(e._context.displayName||"Context")+".Consumer";case _e:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return i=e.displayName||null,i!==null?i:Lt(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return Lt(e(i))}catch{}}return null}var tn=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},te=[],wt=-1;function z(e){return{current:e}}function nt(e){0>wt||(e.current=te[wt],te[wt]=null,wt--)}function dt(e,i){wt++,te[wt]=e.current,e.current=i}var mt=z(null),vt=z(null),bt=z(null),Gt=z(null);function xe(e,i){switch(dt(bt,i),dt(vt,e),dt(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?tv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=tv(i),e=ev(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(mt),dt(mt,e)}function Ie(){nt(mt),nt(vt),nt(bt)}function Jn(e){e.memoizedState!==null&&dt(Gt,e);var i=mt.current,o=ev(i,e.type);i!==o&&(dt(vt,e),dt(mt,o))}function cs(e){vt.current===e&&(nt(mt),nt(vt)),Gt.current===e&&(nt(Gt),nc._currentValue=ht)}var Ii,hs;function Ri(e){if(Ii===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ii=i&&i[1]||"",hs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ii+e+hs}var Ms=!1;function kn(e,i){if(!e||Ms)return"";Ms=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(tt){var W=tt}Reflect.construct(e,[],ot)}else{try{ot.call()}catch(tt){W=tt}e.call(ot.prototype)}}else{try{throw Error()}catch(tt){W=tt}(ot=e())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(tt){if(tt&&W&&typeof tt.stack=="string")return[tt.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var V=T.split(`
`),Y=A.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===Y.length)for(c=V.length-1,m=Y.length-1;1<=c&&0<=m&&V[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==Y[m]){var it=`
`+V[c].replace(" at new "," at ");return e.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",e.displayName)),it}while(1<=c&&0<=m);break}}}finally{Ms=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Ri(o):""}function Ni(e,i){switch(e.tag){case 26:case 27:case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return e.child!==i&&i!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return kn(e.type,!1);case 11:return kn(e.type.render,!1);case 1:return kn(e.type,!0);case 31:return Ri("Activity");default:return""}}function In(e){try{var i="",o=null;do i+=Ni(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var en=Object.prototype.hasOwnProperty,Ye=a.unstable_scheduleCallback,pi=a.unstable_cancelCallback,bo=a.unstable_shouldYield,fr=a.unstable_requestPaint,gn=a.unstable_now,ia=a.unstable_getCurrentPriorityLevel,fs=a.unstable_ImmediatePriority,ee=a.unstable_UserBlockingPriority,$n=a.unstable_NormalPriority,ne=a.unstable_LowPriority,ti=a.unstable_IdlePriority,Oa=a.log,Ma=a.unstable_setDisableYieldValue,Ln=null,He=null;function cn(e){if(typeof Oa=="function"&&Ma(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Ln,e)}catch{}}var Fe=Math.clz32?Math.clz32:dr,ei=Math.log,sa=Math.LN2;function dr(e){return e>>>=0,e===0?32:31-(ei(e)/sa|0)|0}var gi=256,Le=262144,Qe=4194304;function Rn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=c&134217727;return A!==0?(c=A&~p,c!==0?m=Rn(c):(T&=A,T!==0?m=Rn(T):o||(o=A&~e,o!==0&&(m=Rn(o))))):(A=c&~p,A!==0?m=Rn(A):T!==0?m=Rn(T):o||(o=c&~e,o!==0&&(m=Rn(o)))),m===0?0:i!==0&&i!==m&&(i&p)===0&&(p=m&-m,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:m}function yi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Oi(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var e=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),e}function Mi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function ki(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mr(e,i,o,c,m,p){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var A=e.entanglements,V=e.expirationTimes,Y=e.hiddenUpdates;for(o=T&~o;0<o;){var it=31-Fe(o),ot=1<<it;A[it]=0,V[it]=-1;var W=Y[it];if(W!==null)for(Y[it]=null,it=0;it<W.length;it++){var tt=W[it];tt!==null&&(tt.lane&=-536870913)}o&=~ot}c!==0&&ks(e,c,0),p!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~i))}function ks(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Fe(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function Ls(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-Fe(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function La(e,i){var o=i&-i;return o=(o&42)!==0?1:_n(o),(o&(e.suspendedLanes|i))!==0?0:o}function _n(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ps(){var e=pt.p;return e!==0?e:(e=window.event,e===void 0?32:Sv(e.type))}function ni(e,i){var o=pt.p;try{return pt.p=e,i()}finally{pt.p=o}}var Fn=Math.random().toString(36).slice(2),We="__reactFiber$"+Fn,nn="__reactProps$"+Fn,ii="__reactContainer$"+Fn,hn="__reactEvents$"+Fn,pr="__reactListeners$"+Fn,aa="__reactHandles$"+Fn,gr="__reactResources$"+Fn,vi="__reactMarker$"+Fn;function J(e){delete e[We],delete e[nn],delete e[hn],delete e[pr],delete e[aa]}function ct(e){var i=e[We];if(i)return i;for(var o=e.parentNode;o;){if(i=o[ii]||o[We]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=lv(e);e!==null;){if(o=e[We])return o;e=lv(e)}return i}e=o,o=e.parentNode}return null}function Tt(e){if(e=e[We]||e[ii]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Ut(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Ge(e){var i=e[gr];return i||(i=e[gr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[vi]=!0}var Ne=new Set,be={};function Pn(e,i){Gn(e,i),Gn(e+"Capture",i)}function Gn(e,i){for(be[e]=i,e=0;e<i.length;e++)Ne.add(i[e])}var bi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ds={},ds={};function Ze(e){return en.call(ds,e)?!0:en.call(Ds,e)?!1:bi.test(e)?ds[e]=!0:(Ds[e]=!0,!1)}function qt(e,i,o){if(Ze(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Rt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function ze(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ms(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,p=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function St(e){if(!e._valueTracker){var i=Dn(e)?"checked":"value";e._valueTracker=ms(e,i,""+e[i])}}function Ae(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Dn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function Li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function Ue(e){return e.replace(ps,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _r(e,i,o,c,m,p,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+je(i)):e.value!==""+je(i)&&(e.value=""+je(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Qi(e,T,je(i)):o!=null?Qi(e,T,je(o)):c!=null&&e.removeAttribute("value"),m==null&&p!=null&&(e.defaultChecked=!!p),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+je(A):e.removeAttribute("name")}function Pa(e,i,o,c,m,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){St(e);return}o=o!=null?""+je(o):"",i=i!=null?""+je(i):o,A||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=A?e.checked:!!c,e.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),St(e)}function Qi(e,i,o){i==="number"&&Li(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Oe(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+je(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function gs(e,i,o){if(i!=null&&(i=""+je(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+je(o):""}function Pi(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(tn(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=je(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),St(e)}function yn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vs(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||yr.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function Da(e,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&Vs(e,m,c)}else for(var p in i)i.hasOwnProperty(p)&&Vs(e,p,i[p])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return _s.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function si(){}var vr=null;function ai(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,zt=null;function Vn(e){var i=Tt(e);if(i&&(e=i.stateNode)){var o=e[nn]||null;t:switch(e=i.stateNode,i.type){case"input":if(_r(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ue(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[nn]||null;if(!m)throw Error(r(90));_r(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&Ae(c)}break t;case"textarea":gs(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Oe(e,!!o.multiple,i,!1)}}}var ve=!1;function zs(e,i,o){if(ve)return e(i,o);ve=!0;try{var c=e(i);return c}finally{if(ve=!1,(la!==null||zt!==null)&&(Sh(),la&&(i=la,e=zt,zt=la=null,Vn(i),e)))for(i=0;i<e.length;i++)Vn(e[i])}}function wi(e,i){var o=e.stateNode;if(o===null)return null;var c=o[nn]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(ri)try{var re={};Object.defineProperty(re,"passive",{get:function(){js=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{js=!1}var Di=null,Us=null,Xe=null;function Wi(){if(Xe)return Xe;var e,i=Us,o=i.length,c,m="value"in Di?Di.value:Di.textContent,p=m.length;for(e=0;e<o&&i[e]===m[e];e++);var T=o-e;for(c=1;c<=T&&i[o-c]===m[p-c];c++);return Xe=m.slice(e,1<c?1-c:void 0)}function ua(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function Xi(){return!1}function vn(e){function i(o,c,m,p,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(o=e[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ys:Xi,this.isPropagationStopped=Xi,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),i}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=vn(Ji),Bs=N({},Ji,{view:0,detail:0}),Jt=vn(Bs),ca,zn,oi,za=N({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(ca=e.screenX-oi.screenX,zn=e.screenY-oi.screenY):zn=ca=0,oi=e),ca)},movementY:function(e){return"movementY"in e?e.movementY:zn}}),wo=vn(za),qs=N({},za,{dataTransfer:0}),dl=vn(qs),To=N({},Bs,{relatedTarget:0}),ja=vn(To),Eo=N({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),br=vn(Eo),wr=N({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ti=vn(wr),ml=N({},Ji,{data:0}),$i=vn(ml),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},So={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=xo[e])?!!i[e]:!1}function ha(){return Tr}var jn=N({},Bs,{key:function(e){if(e.key){var i=ts[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?So[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ao=vn(jn),pl=N({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=vn(pl),f=N({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),y=vn(f),S=N({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=vn(S),Z=N({},za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X=vn(Z),gt=N({},Ji,{newState:0,oldState:0}),Ht=vn(gt),de=[9,13,27,32],me=ri&&"CompositionEvent"in window,Be=null;ri&&"documentMode"in document&&(Be=document.documentMode);var Vi=ri&&"TextEvent"in window&&!Be,zi=ri&&(!me||Be&&8<Be&&11>=Be),Ei=" ",es=!1;function Ua(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function ns(e,i){switch(e){case"compositionend":return Ba(i);case"keypress":return i.which!==32?null:(es=!0,Ei);case"textInput":return e=i.data,e===Ei&&es?null:e;default:return null}}function Sr(e,i){if(Er)return e==="compositionend"||!me&&Ua(e,i)?(e=Wi(),Xe=Us=Di=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zi&&i.locale!=="ko"?null:i.data;default:return null}}var id={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!id[e.type]:i==="textarea"}function Bc(e,i,o,c){la?zt?zt.push(c):zt=[c]:la=c,i=Oh(i,"onChange"),0<i.length&&(o=new vs("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var ws=null,Co=null;function Io(e){Yy(e,0)}function Ro(e){var i=Ut(e);if(Ae(i))return e}function No(e,i){if(e==="change")return i}var qc=!1;if(ri){var Ts;if(ri){var xr="oninput"in document;if(!xr){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),xr=typeof Hc.oninput=="function"}Ts=xr}else Ts=!1;qc=Ts&&(!document.documentMode||9<document.documentMode)}function gl(){ws&&(ws.detachEvent("onpropertychange",Fc),Co=ws=null)}function Fc(e){if(e.propertyName==="value"&&Ro(Co)){var i=[];Bc(i,Co,e,ai(e)),zs(Io,i)}}function Fs(e,i,o){e==="focusin"?(gl(),ws=i,Co=o,ws.attachEvent("onpropertychange",Fc)):e==="focusout"&&gl()}function sd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ro(Co)}function Ar(e,i){if(e==="click")return Ro(i)}function ad(e,i){if(e==="input"||e==="change")return Ro(i)}function Gs(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Un=typeof Object.is=="function"?Object.is:Gs;function Cr(e,i){if(Un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!en.call(i,m)||!Un(e[m],i[m]))return!1}return!0}function _l(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oo(e,i){var o=_l(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=_l(o)}}function yl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?yl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Mo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Li(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=Li(e.document)}return i}function fa(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var vl=ri&&"documentMode"in document&&11>=document.documentMode,da=null,bl=null,ko=null,Ir=!1;function Gc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ir||da==null||da!==Li(c)||(c=da,"selectionStart"in c&&fa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ko&&Cr(ko,c)||(ko=c,c=Oh(bl,"onSelect"),0<c.length&&(i=new vs("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=da)))}function ma(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Rr={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},wl={},Zc={};ri&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Bn(e){if(wl[e])return wl[e];if(!Rr[e])return e;var i=Rr[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Zc)return wl[e]=i[o];return e}var Lo=Bn("animationend"),Kc=Bn("animationiteration"),Po=Bn("animationstart"),rd=Bn("transitionrun"),Yc=Bn("transitionstart"),od=Bn("transitioncancel"),Nr=Bn("transitionend"),Qc=new Map,pa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pa.push("scrollEnd");function ji(e,i){Qc.set(e,i),Pn(i,[e])}var Do=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ui=[],li=0,Tl=0;function Vo(){for(var e=li,i=Tl=li=0;i<e;){var o=Ui[i];Ui[i++]=null;var c=Ui[i];Ui[i++]=null;var m=Ui[i];Ui[i++]=null;var p=Ui[i];if(Ui[i++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}p!==0&&Or(o,m,p)}}function ga(e,i,o,c){Ui[li++]=e,Ui[li++]=i,Ui[li++]=o,Ui[li++]=c,Tl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Su(e,i,o,c){return ga(e,i,o,c),zo(e)}function Es(e,i){return ga(e,null,null,i),zo(e)}function Or(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,p=e.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(m=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,m&&i!==null&&(m=31-Fe(o),e=p.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),p):null}function zo(e){if(50<Qu)throw Qu=0,um=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var qa={};function ld(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(e,i,o,c){return new ld(e,i,o,c)}function El(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ss(e,i){var o=e.alternate;return o===null?(o=ui(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function xu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function jo(e,i,o,c,m,p){var T=0;if(c=e,typeof e=="function")El(e)&&(T=1);else if(typeof e=="string")T=LS(e,o,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=ui(31,o,i,m),e.elementType=D,e.lanes=p,e;case ut:return Ha(o.children,m,p,i);case yt:T=8,m|=24;break;case Ot:return e=ui(12,o,i,m|2),e.elementType=Ot,e.lanes=p,e;case ye:return e=ui(13,o,i,m),e.elementType=ye,e.lanes=p,e;case $t:return e=ui(19,o,i,m),e.elementType=$t,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kt:T=10;break t;case Vt:T=9;break t;case _e:T=11;break t;case j:T=14;break t;case O:T=16,c=null;break t}T=29,o=Error(r(130,e===null?"null":typeof e,"")),c=null}return i=ui(T,o,i,m),i.elementType=e,i.type=c,i.lanes=p,i}function Ha(e,i,o,c){return e=ui(7,e,c,i),e.lanes=o,e}function Sl(e,i,o){return e=ui(6,e,null,i),e.lanes=o,e}function Au(e){var i=ui(18,null,null,0);return i.stateNode=e,i}function Cu(e,i,o){return i=ui(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function l(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:In(i)},s.set(e,i),i)}return{value:e,source:i,stack:In(i)}}var d=[],_=0,w=null,x=0,k=[],G=0,Q=null,rt=1,_t="";function Mt(e,i){d[_++]=x,d[_++]=w,w=e,x=i}function Wt(e,i,o){k[G++]=rt,k[G++]=_t,k[G++]=Q,Q=e;var c=rt;e=_t;var m=32-Fe(c)-1;c&=~(1<<m),o+=1;var p=32-Fe(i)+m;if(30<p){var T=m-m%5;p=(c&(1<<T)-1).toString(32),c>>=T,m-=T,rt=1<<32-Fe(i)+m|o<<m|c,_t=p+e}else rt=1<<p|o<<m|c,_t=e}function Nn(e){e.return!==null&&(Mt(e,1),Wt(e,1,0))}function on(e){for(;e===w;)w=d[--_],d[_]=null,x=d[--_],d[_]=null;for(;e===Q;)Q=k[--G],k[G]=null,_t=k[--G],k[G]=null,rt=k[--G],k[G]=null}function Si(e,i){k[G++]=rt,k[G++]=_t,k[G++]=Q,rt=i.id,_t=i.overflow,Q=e}var we=null,Te=null,ie=!1,_a=null,Bi=!1,xl=Error(r(519));function ya(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(l(i,e)),xl}function Iu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[We]=e,i[nn]=c,o){case"dialog":ae("cancel",i),ae("close",i);break;case"iframe":case"object":case"embed":ae("load",i);break;case"video":case"audio":for(o=0;o<Xu.length;o++)ae(Xu[o],i);break;case"source":ae("error",i);break;case"img":case"image":case"link":ae("error",i),ae("load",i);break;case"details":ae("toggle",i);break;case"input":ae("invalid",i),Pa(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ae("invalid",i);break;case"textarea":ae("invalid",i),Pi(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Jy(i.textContent,o)?(c.popover!=null&&(ae("beforetoggle",i),ae("toggle",i)),c.onScroll!=null&&ae("scroll",i),c.onScrollEnd!=null&&ae("scrollend",i),c.onClick!=null&&(i.onclick=si),i=!0):i=!1,i||ya(e,!0)}function an(e){for(we=e.return;we;)switch(we.tag){case 5:case 31:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:we=we.return}}function Zs(e){if(e!==we)return!1;if(!ie)return an(e),ie=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Sm(e.type,e.memoizedProps)),o=!o),o&&Te&&ya(e),an(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Te=ov(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Te=ov(e)}else i===27?(i=Te,Gr(e.type)?(e=Rm,Rm=null,Te=e):Te=i):Te=we?As(e.stateNode.nextSibling):null;return!0}function Fa(){Te=we=null,ie=!1}function Ru(){var e=_a;return e!==null&&(Gi===null?Gi=e:Gi.push.apply(Gi,e),_a=null),e}function Uo(e){_a===null?_a=[e]:_a.push(e)}var Bo=z(null),va=null,Ks=null;function Mr(e,i,o){dt(Bo,i._currentValue),i._currentValue=o}function Ga(e){e._currentValue=Bo.current,nt(Bo)}function ud(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function cd(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var p=m.dependencies;if(p!==null){var T=m.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=m;for(var V=0;V<i.length;V++)if(A.context===i[V]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),ud(p.return,o,e),c||(T=null);break t}p=A.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),ud(T,o,e),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===e){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Al(e,i,o,c){e=null;for(var m=i,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=m.type;Un(m.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(m===Gt.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(nc):e=[nc])}m=m.return}e!==null&&cd(i,e,o,c),i.flags|=262144}function Wc(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qo(e){va=e,Ks=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zn(e){return Vg(va,e)}function Xc(e,i){return va===null&&qo(e),Vg(e,i)}function Vg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ks===null){if(e===null)throw Error(r(308));Ks=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ks=Ks.next=i;return o}var NE=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},OE=a.unstable_scheduleCallback,ME=a.unstable_NormalPriority,bn={$$typeof:kt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new NE,data:new Map,refCount:0}}function Nu(e){e.refCount--,e.refCount===0&&OE(ME,function(){e.controller.abort()})}var Ou=null,fd=0,Cl=0,Il=null;function kE(e,i){if(Ou===null){var o=Ou=[];fd=0,Cl=pm(),Il={status:"pending",value:void 0,then:function(c){o.push(c)}}}return fd++,i.then(zg,zg),i}function zg(){if(--fd===0&&Ou!==null){Il!==null&&(Il.status="fulfilled");var e=Ou;Ou=null,Cl=0,Il=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function LE(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var jg=$.S;$.S=function(e,i){Ty=gn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&kE(e,i),jg!==null&&jg(e,i)};var Ho=z(null);function dd(){var e=Ho.current;return e!==null?e:qe.pooledCache}function Jc(e,i){i===null?dt(Ho,Ho.current):dt(Ho,i.pool)}function Ug(){var e=dd();return e===null?null:{parent:bn._currentValue,pool:e}}var Rl=Error(r(460)),md=Error(r(474)),$c=Error(r(542)),th={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(si,si),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Fg(e),e;default:if(typeof i.status=="string")i.then(si,si);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Fg(e),e}throw Go=i,Rl}}function Fo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Go=o,Rl):o}}var Go=null;function Hg(){if(Go===null)throw Error(r(459));var e=Go;return Go=null,e}function Fg(e){if(e===Rl||e===$c)throw Error(r(483))}var Nl=null,Mu=0;function eh(e){var i=Mu;return Mu+=1,Nl===null&&(Nl=[]),qg(Nl,e,i)}function ku(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function nh(e,i){throw i.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Gg(e){function i(F,B){if(e){var K=F.deletions;K===null?(F.deletions=[B],F.flags|=16):K.push(B)}}function o(F,B){if(!e)return null;for(;B!==null;)i(F,B),B=B.sibling;return null}function c(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function m(F,B){return F=Ss(F,B),F.index=0,F.sibling=null,F}function p(F,B,K){return F.index=K,e?(K=F.alternate,K!==null?(K=K.index,K<B?(F.flags|=67108866,B):K):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function T(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function A(F,B,K,st){return B===null||B.tag!==6?(B=Sl(K,F.mode,st),B.return=F,B):(B=m(B,K),B.return=F,B)}function V(F,B,K,st){var Pt=K.type;return Pt===ut?it(F,B,K.props.children,st,K.key):B!==null&&(B.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===O&&Fo(Pt)===B.type)?(B=m(B,K.props),ku(B,K),B.return=F,B):(B=jo(K.type,K.key,K.props,null,F.mode,st),ku(B,K),B.return=F,B)}function Y(F,B,K,st){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Cu(K,F.mode,st),B.return=F,B):(B=m(B,K.children||[]),B.return=F,B)}function it(F,B,K,st,Pt){return B===null||B.tag!==7?(B=Ha(K,F.mode,st,Pt),B.return=F,B):(B=m(B,K),B.return=F,B)}function ot(F,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Sl(""+B,F.mode,K),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case et:return K=jo(B.type,B.key,B.props,null,F.mode,K),ku(K,B),K.return=F,K;case ft:return B=Cu(B,F.mode,K),B.return=F,B;case O:return B=Fo(B),ot(F,B,K)}if(tn(B)||q(B))return B=Ha(B,F.mode,K,null),B.return=F,B;if(typeof B.then=="function")return ot(F,eh(B),K);if(B.$$typeof===kt)return ot(F,Xc(F,B),K);nh(F,B)}return null}function W(F,B,K,st){var Pt=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Pt!==null?null:A(F,B,""+K,st);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case et:return K.key===Pt?V(F,B,K,st):null;case ft:return K.key===Pt?Y(F,B,K,st):null;case O:return K=Fo(K),W(F,B,K,st)}if(tn(K)||q(K))return Pt!==null?null:it(F,B,K,st,null);if(typeof K.then=="function")return W(F,B,eh(K),st);if(K.$$typeof===kt)return W(F,B,Xc(F,K),st);nh(F,K)}return null}function tt(F,B,K,st,Pt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return F=F.get(K)||null,A(B,F,""+st,Pt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case et:return F=F.get(st.key===null?K:st.key)||null,V(B,F,st,Pt);case ft:return F=F.get(st.key===null?K:st.key)||null,Y(B,F,st,Pt);case O:return st=Fo(st),tt(F,B,K,st,Pt)}if(tn(st)||q(st))return F=F.get(K)||null,it(B,F,st,Pt,null);if(typeof st.then=="function")return tt(F,B,K,eh(st),Pt);if(st.$$typeof===kt)return tt(F,B,K,Xc(B,st),Pt);nh(B,st)}return null}function Ct(F,B,K,st){for(var Pt=null,Ee=null,Nt=B,Xt=B=0,le=null;Nt!==null&&Xt<K.length;Xt++){Nt.index>Xt?(le=Nt,Nt=null):le=Nt.sibling;var Se=W(F,Nt,K[Xt],st);if(Se===null){Nt===null&&(Nt=le);break}e&&Nt&&Se.alternate===null&&i(F,Nt),B=p(Se,B,Xt),Ee===null?Pt=Se:Ee.sibling=Se,Ee=Se,Nt=le}if(Xt===K.length)return o(F,Nt),ie&&Mt(F,Xt),Pt;if(Nt===null){for(;Xt<K.length;Xt++)Nt=ot(F,K[Xt],st),Nt!==null&&(B=p(Nt,B,Xt),Ee===null?Pt=Nt:Ee.sibling=Nt,Ee=Nt);return ie&&Mt(F,Xt),Pt}for(Nt=c(Nt);Xt<K.length;Xt++)le=tt(Nt,F,Xt,K[Xt],st),le!==null&&(e&&le.alternate!==null&&Nt.delete(le.key===null?Xt:le.key),B=p(le,B,Xt),Ee===null?Pt=le:Ee.sibling=le,Ee=le);return e&&Nt.forEach(function(Wr){return i(F,Wr)}),ie&&Mt(F,Xt),Pt}function jt(F,B,K,st){if(K==null)throw Error(r(151));for(var Pt=null,Ee=null,Nt=B,Xt=B=0,le=null,Se=K.next();Nt!==null&&!Se.done;Xt++,Se=K.next()){Nt.index>Xt?(le=Nt,Nt=null):le=Nt.sibling;var Wr=W(F,Nt,Se.value,st);if(Wr===null){Nt===null&&(Nt=le);break}e&&Nt&&Wr.alternate===null&&i(F,Nt),B=p(Wr,B,Xt),Ee===null?Pt=Wr:Ee.sibling=Wr,Ee=Wr,Nt=le}if(Se.done)return o(F,Nt),ie&&Mt(F,Xt),Pt;if(Nt===null){for(;!Se.done;Xt++,Se=K.next())Se=ot(F,Se.value,st),Se!==null&&(B=p(Se,B,Xt),Ee===null?Pt=Se:Ee.sibling=Se,Ee=Se);return ie&&Mt(F,Xt),Pt}for(Nt=c(Nt);!Se.done;Xt++,Se=K.next())Se=tt(Nt,F,Xt,Se.value,st),Se!==null&&(e&&Se.alternate!==null&&Nt.delete(Se.key===null?Xt:Se.key),B=p(Se,B,Xt),Ee===null?Pt=Se:Ee.sibling=Se,Ee=Se);return e&&Nt.forEach(function(GS){return i(F,GS)}),ie&&Mt(F,Xt),Pt}function Ve(F,B,K,st){if(typeof K=="object"&&K!==null&&K.type===ut&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case et:t:{for(var Pt=K.key;B!==null;){if(B.key===Pt){if(Pt=K.type,Pt===ut){if(B.tag===7){o(F,B.sibling),st=m(B,K.props.children),st.return=F,F=st;break t}}else if(B.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===O&&Fo(Pt)===B.type){o(F,B.sibling),st=m(B,K.props),ku(st,K),st.return=F,F=st;break t}o(F,B);break}else i(F,B);B=B.sibling}K.type===ut?(st=Ha(K.props.children,F.mode,st,K.key),st.return=F,F=st):(st=jo(K.type,K.key,K.props,null,F.mode,st),ku(st,K),st.return=F,F=st)}return T(F);case ft:t:{for(Pt=K.key;B!==null;){if(B.key===Pt)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(F,B.sibling),st=m(B,K.children||[]),st.return=F,F=st;break t}else{o(F,B);break}else i(F,B);B=B.sibling}st=Cu(K,F.mode,st),st.return=F,F=st}return T(F);case O:return K=Fo(K),Ve(F,B,K,st)}if(tn(K))return Ct(F,B,K,st);if(q(K)){if(Pt=q(K),typeof Pt!="function")throw Error(r(150));return K=Pt.call(K),jt(F,B,K,st)}if(typeof K.then=="function")return Ve(F,B,eh(K),st);if(K.$$typeof===kt)return Ve(F,B,Xc(F,K),st);nh(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(F,B.sibling),st=m(B,K),st.return=F,F=st):(o(F,B),st=Sl(K,F.mode,st),st.return=F,F=st),T(F)):o(F,B)}return function(F,B,K,st){try{Mu=0;var Pt=Ve(F,B,K,st);return Nl=null,Pt}catch(Nt){if(Nt===Rl||Nt===$c)throw Nt;var Ee=ui(29,Nt,null,F.mode);return Ee.lanes=st,Ee.return=F,Ee}}}var Zo=Gg(!0),Zg=Gg(!1),kr=!1;function pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ce&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=zo(e),Or(e,null,o),i}return ga(e,c,i,o),zo(e)}function Lu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Ls(e,o)}}function _d(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?m=p=i:p=p.next=i}else m=p=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var yd=!1;function Pu(){if(yd){var e=Il;if(e!==null)throw e}}function Du(e,i,o,c){yd=!1;var m=e.updateQueue;kr=!1;var p=m.firstBaseUpdate,T=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,Y=V.next;V.next=null,T===null?p=Y:T.next=Y,T=V;var it=e.alternate;it!==null&&(it=it.updateQueue,A=it.lastBaseUpdate,A!==T&&(A===null?it.firstBaseUpdate=Y:A.next=Y,it.lastBaseUpdate=V))}if(p!==null){var ot=m.baseState;T=0,it=Y=V=null,A=p;do{var W=A.lane&-536870913,tt=W!==A.lane;if(tt?(oe&W)===W:(c&W)===W){W!==0&&W===Cl&&(yd=!0),it!==null&&(it=it.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Ct=e,jt=A;W=i;var Ve=o;switch(jt.tag){case 1:if(Ct=jt.payload,typeof Ct=="function"){ot=Ct.call(Ve,ot,W);break t}ot=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=jt.payload,W=typeof Ct=="function"?Ct.call(Ve,ot,W):Ct,W==null)break t;ot=N({},ot,W);break t;case 2:kr=!0}}W=A.callback,W!==null&&(e.flags|=64,tt&&(e.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[W]:tt.push(W))}else tt={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},it===null?(Y=it=tt,V=ot):it=it.next=tt,T|=W;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;tt=A,A=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);it===null&&(V=ot),m.baseState=V,m.firstBaseUpdate=Y,m.lastBaseUpdate=it,p===null&&(m.shared.lanes=0),Ur|=T,e.lanes=T,e.memoizedState=ot}}function Kg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Yg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Kg(o[e],i)}var Ol=z(null),ih=z(0);function Qg(e,i){e=tr,dt(ih,e),dt(Ol,i),tr=e|i.baseLanes}function vd(){dt(ih,tr),dt(Ol,Ol.current)}function bd(){tr=ih.current,nt(Ol),nt(ih)}var is=z(null),xs=null;function Dr(e){var i=e.alternate;dt(fn,fn.current&1),dt(is,e),xs===null&&(i===null||Ol.current!==null||i.memoizedState!==null)&&(xs=e)}function wd(e){dt(fn,fn.current),dt(is,e),xs===null&&(xs=e)}function Wg(e){e.tag===22?(dt(fn,fn.current),dt(is,e),xs===null&&(xs=e)):Vr()}function Vr(){dt(fn,fn.current),dt(is,is.current)}function ss(e){nt(is),xs===e&&(xs=null),nt(fn)}var fn=z(0);function sh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cm(o)||Im(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Za=0,Qt=null,Pe=null,wn=null,ah=!1,Ml=!1,Ko=!1,rh=0,Vu=0,kl=null,PE=0;function ln(){throw Error(r(321))}function Td(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Un(e[o],i[o]))return!1;return!0}function Ed(e,i,o,c,m,p){return Za=p,Qt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=e===null||e.memoizedState===null?k_:zd,Ko=!1,p=o(c,m),Ko=!1,Ml&&(p=Jg(i,o,c,m)),Xg(e),p}function Xg(e){$.H=Uu;var i=Pe!==null&&Pe.next!==null;if(Za=0,wn=Pe=Qt=null,ah=!1,Vu=0,kl=null,i)throw Error(r(300));e===null||Tn||(e=e.dependencies,e!==null&&Wc(e)&&(Tn=!0))}function Jg(e,i,o,c){Qt=e;var m=0;do{if(Ml&&(kl=null),Vu=0,Ml=!1,25<=m)throw Error(r(301));if(m+=1,wn=Pe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=L_,p=i(o,c)}while(Ml);return p}function DE(){var e=$.H,i=e.useState()[0];return i=typeof i.then=="function"?zu(i):i,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(Qt.flags|=1024),i}function Sd(){var e=rh!==0;return rh=0,e}function xd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Ad(e){if(ah){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ah=!1}Za=0,wn=Pe=Qt=null,Ml=!1,Vu=rh=0,kl=null}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Qt.memoizedState=wn=e:wn=wn.next=e,wn}function dn(){if(Pe===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var i=wn===null?Qt.memoizedState:wn.next;if(i!==null)wn=i,Pe=e;else{if(e===null)throw Qt.alternate===null?Error(r(467)):Error(r(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},wn===null?Qt.memoizedState=wn=e:wn=wn.next=e}return wn}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(e){var i=Vu;return Vu+=1,kl===null&&(kl=[]),e=qg(kl,e,i),i=Qt,(wn===null?i.memoizedState:wn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?k_:zd),e}function lh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zu(e);if(e.$$typeof===kt)return Zn(e)}throw Error(r(438,String(e)))}function Cd(e){var i=null,o=Qt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Qt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=oh(),Qt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=H;return i.index++,o}function Ka(e,i){return typeof i=="function"?i(e):i}function uh(e){var i=dn();return Id(i,Pe,e)}function Id(e,i,o){var c=e.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=e.baseQueue,p=c.pending;if(p!==null){if(m!==null){var T=m.next;m.next=p.next,p.next=T}i.baseQueue=m=p,c.pending=null}if(p=e.baseState,m===null)e.memoizedState=p;else{i=m.next;var A=T=null,V=null,Y=i,it=!1;do{var ot=Y.lane&-536870913;if(ot!==Y.lane?(oe&ot)===ot:(Za&ot)===ot){var W=Y.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ot===Cl&&(it=!0);else if((Za&W)===W){Y=Y.next,W===Cl&&(it=!0);continue}else ot={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(A=V=ot,T=p):V=V.next=ot,Qt.lanes|=W,Ur|=W;ot=Y.action,Ko&&o(p,ot),p=Y.hasEagerState?Y.eagerState:o(p,ot)}else W={lane:ot,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(A=V=W,T=p):V=V.next=W,Qt.lanes|=ot,Ur|=ot;Y=Y.next}while(Y!==null&&Y!==i);if(V===null?T=p:V.next=A,!Un(p,e.memoizedState)&&(Tn=!0,it&&(o=Il,o!==null)))throw o;e.memoizedState=p,e.baseState=T,e.baseQueue=V,c.lastRenderedState=p}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Rd(e){var i=dn(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,p=i.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do p=e(p,T.action),T=T.next;while(T!==m);Un(p,i.memoizedState)||(Tn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,c]}function $g(e,i,o){var c=Qt,m=dn(),p=ie;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=i();var T=!Un((Pe||m).memoizedState,o);if(T&&(m.memoizedState=o,Tn=!0),m=m.queue,Md(n_.bind(null,c,m,e),[e]),m.getSnapshot!==i||T||wn!==null&&wn.memoizedState.tag&1){if(c.flags|=2048,Ll(9,{destroy:void 0},e_.bind(null,c,m,o,i),null),qe===null)throw Error(r(349));p||(Za&127)!==0||t_(c,i,o)}return o}function t_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Qt.updateQueue,i===null?(i=oh(),Qt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function e_(e,i,o,c){i.value=o,i.getSnapshot=c,i_(i)&&s_(e)}function n_(e,i,o){return o(function(){i_(i)&&s_(e)})}function i_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Un(e,o)}catch{return!0}}function s_(e){var i=Es(e,2);i!==null&&Zi(i,e,2)}function Nd(e){var i=xi();if(typeof e=="function"){var o=e;if(e=o(),Ko){cn(!0);try{o()}finally{cn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},i}function a_(e,i,o,c){return e.baseState=o,Id(e,Pe,typeof c=="function"?c:Ka)}function VE(e,i,o,c,m){if(fh(e))throw Error(r(485));if(e=i.action,e!==null){var p={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};$.T!==null?o(!0):p.isTransition=!1,c(p),o=i.pending,o===null?(p.next=i.pending=p,r_(i,p)):(p.next=o.next,i.pending=o.next=p)}}function r_(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var p=$.T,T={};$.T=T;try{var A=o(m,c),V=$.S;V!==null&&V(T,A),o_(e,i,A)}catch(Y){Od(e,i,Y)}finally{p!==null&&T.types!==null&&(p.types=T.types),$.T=p}}else try{p=o(m,c),o_(e,i,p)}catch(Y){Od(e,i,Y)}}function o_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){l_(e,i,c)},function(c){return Od(e,i,c)}):l_(e,i,o)}function l_(e,i,o){i.status="fulfilled",i.value=o,u_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,r_(e,o)))}function Od(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,u_(i),i=i.next;while(i!==c)}e.action=null}function u_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function c_(e,i){return i}function h_(e,i){if(ie){var o=qe.formState;if(o!==null){t:{var c=Qt;if(ie){if(Te){e:{for(var m=Te,p=Bi;m.nodeType!==8;){if(!p){m=null;break e}if(m=As(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Te=As(m.nextSibling),c=m.data==="F!";break t}}ya(c)}c=!1}c&&(i=o[0])}}return o=xi(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:i},o.queue=c,o=N_.bind(null,Qt,c),c.dispatch=o,c=Nd(!1),p=Vd.bind(null,Qt,!1,c.queue),c=xi(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=VE.bind(null,Qt,m,p,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function f_(e){var i=dn();return d_(i,Pe,e)}function d_(e,i,o){if(i=Id(e,i,c_)[0],e=uh(Ka)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=zu(i)}catch(T){throw T===Rl?$c:T}else c=i;i=dn();var m=i.queue,p=m.dispatch;return o!==i.memoizedState&&(Qt.flags|=2048,Ll(9,{destroy:void 0},zE.bind(null,m,o),null)),[c,p,e]}function zE(e,i){e.action=i}function m_(e){var i=dn(),o=Pe;if(o!==null)return d_(i,o,e);dn(),i=i.memoizedState,o=dn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Ll(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Qt.updateQueue,i===null&&(i=oh(),Qt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function p_(){return dn().memoizedState}function ch(e,i,o,c){var m=xi();Qt.flags|=e,m.memoizedState=Ll(1|i,{destroy:void 0},o,c===void 0?null:c)}function hh(e,i,o,c){var m=dn();c=c===void 0?null:c;var p=m.memoizedState.inst;Pe!==null&&c!==null&&Td(c,Pe.memoizedState.deps)?m.memoizedState=Ll(i,p,o,c):(Qt.flags|=e,m.memoizedState=Ll(1|i,p,o,c))}function g_(e,i){ch(8390656,8,e,i)}function Md(e,i){hh(2048,8,e,i)}function jE(e){Qt.flags|=4;var i=Qt.updateQueue;if(i===null)i=oh(),Qt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function __(e){var i=dn().memoizedState;return jE({ref:i,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function y_(e,i){return hh(4,2,e,i)}function v_(e,i){return hh(4,4,e,i)}function b_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function w_(e,i,o){o=o!=null?o.concat([e]):null,hh(4,4,b_.bind(null,i,e),o)}function kd(){}function T_(e,i){var o=dn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Td(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function E_(e,i){var o=dn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Td(i,c[1]))return c[0];if(c=e(),Ko){cn(!0);try{e()}finally{cn(!1)}}return o.memoizedState=[c,i],c}function Ld(e,i,o){return o===void 0||(Za&1073741824)!==0&&(oe&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=Sy(),Qt.lanes|=e,Ur|=e,o)}function S_(e,i,o,c){return Un(o,i)?o:Ol.current!==null?(e=Ld(e,o,c),Un(e,i)||(Tn=!0),e):(Za&42)===0||(Za&1073741824)!==0&&(oe&261930)===0?(Tn=!0,e.memoizedState=o):(e=Sy(),Qt.lanes|=e,Ur|=e,i)}function x_(e,i,o,c,m){var p=pt.p;pt.p=p!==0&&8>p?p:8;var T=$.T,A={};$.T=A,Vd(e,!1,i,o);try{var V=m(),Y=$.S;if(Y!==null&&Y(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var it=LE(V,c);ju(e,i,it,os(e))}else ju(e,i,c,os(e))}catch(ot){ju(e,i,{then:function(){},status:"rejected",reason:ot},os())}finally{pt.p=p,T!==null&&A.types!==null&&(T.types=A.types),$.T=T}}function UE(){}function Pd(e,i,o,c){if(e.tag!==5)throw Error(r(476));var m=A_(e).queue;x_(e,m,i,ht,o===null?UE:function(){return C_(e),o(c)})}function A_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:ht},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function C_(e){var i=A_(e);i.next===null&&(i=e.alternate.memoizedState),ju(e,i.next.queue,{},os())}function Dd(){return Zn(nc)}function I_(){return dn().memoizedState}function R_(){return dn().memoizedState}function BE(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=os();e=Lr(o);var c=Pr(i,e,o);c!==null&&(Zi(c,i,o),Lu(c,i,o)),i={cache:hd()},e.payload=i;return}i=i.return}}function qE(e,i,o){var c=os();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fh(e)?O_(i,o):(o=Su(e,i,o,c),o!==null&&(Zi(o,e,c),M_(o,i,c)))}function N_(e,i,o){var c=os();ju(e,i,o,c)}function ju(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fh(e))O_(i,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,A=p(T,o);if(m.hasEagerState=!0,m.eagerState=A,Un(A,T))return ga(e,i,m,0),qe===null&&Vo(),!1}catch{}if(o=Su(e,i,m,c),o!==null)return Zi(o,e,c),M_(o,i,c),!0}return!1}function Vd(e,i,o,c){if(c={lane:2,revertLane:pm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fh(e)){if(i)throw Error(r(479))}else i=Su(e,o,c,2),i!==null&&Zi(i,e,2)}function fh(e){var i=e.alternate;return e===Qt||i!==null&&i===Qt}function O_(e,i){Ml=ah=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function M_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Ls(e,o)}}var Uu={readContext:Zn,use:lh,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Uu.useEffectEvent=ln;var k_={readContext:Zn,use:lh,useCallback:function(e,i){return xi().memoizedState=[e,i===void 0?null:i],e},useContext:Zn,useEffect:g_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,ch(4194308,4,b_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return ch(4194308,4,e,i)},useInsertionEffect:function(e,i){ch(4,2,e,i)},useMemo:function(e,i){var o=xi();i=i===void 0?null:i;var c=e();if(Ko){cn(!0);try{e()}finally{cn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=xi();if(o!==void 0){var m=o(i);if(Ko){cn(!0);try{o(i)}finally{cn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=qE.bind(null,Qt,e),[c.memoizedState,e]},useRef:function(e){var i=xi();return e={current:e},i.memoizedState=e},useState:function(e){e=Nd(e);var i=e.queue,o=N_.bind(null,Qt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:kd,useDeferredValue:function(e,i){var o=xi();return Ld(o,e,i)},useTransition:function(){var e=Nd(!1);return e=x_.bind(null,Qt,e.queue,!0,!1),xi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Qt,m=xi();if(ie){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),qe===null)throw Error(r(349));(oe&127)!==0||t_(c,i,o)}m.memoizedState=o;var p={value:o,getSnapshot:i};return m.queue=p,g_(n_.bind(null,c,p,e),[e]),c.flags|=2048,Ll(9,{destroy:void 0},e_.bind(null,c,p,o,i),null),o},useId:function(){var e=xi(),i=qe.identifierPrefix;if(ie){var o=_t,c=rt;o=(c&~(1<<32-Fe(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=rh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=PE++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Dd,useFormState:h_,useActionState:h_,useOptimistic:function(e){var i=xi();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Vd.bind(null,Qt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Cd,useCacheRefresh:function(){return xi().memoizedState=BE.bind(null,Qt)},useEffectEvent:function(e){var i=xi(),o={impl:e};return i.memoizedState=o,function(){if((Ce&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},zd={readContext:Zn,use:lh,useCallback:T_,useContext:Zn,useEffect:Md,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:E_,useReducer:uh,useRef:p_,useState:function(){return uh(Ka)},useDebugValue:kd,useDeferredValue:function(e,i){var o=dn();return S_(o,Pe.memoizedState,e,i)},useTransition:function(){var e=uh(Ka)[0],i=dn().memoizedState;return[typeof e=="boolean"?e:zu(e),i]},useSyncExternalStore:$g,useId:I_,useHostTransitionStatus:Dd,useFormState:f_,useActionState:f_,useOptimistic:function(e,i){var o=dn();return a_(o,Pe,e,i)},useMemoCache:Cd,useCacheRefresh:R_};zd.useEffectEvent=__;var L_={readContext:Zn,use:lh,useCallback:T_,useContext:Zn,useEffect:Md,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:E_,useReducer:Rd,useRef:p_,useState:function(){return Rd(Ka)},useDebugValue:kd,useDeferredValue:function(e,i){var o=dn();return Pe===null?Ld(o,e,i):S_(o,Pe.memoizedState,e,i)},useTransition:function(){var e=Rd(Ka)[0],i=dn().memoizedState;return[typeof e=="boolean"?e:zu(e),i]},useSyncExternalStore:$g,useId:I_,useHostTransitionStatus:Dd,useFormState:m_,useActionState:m_,useOptimistic:function(e,i){var o=dn();return Pe!==null?a_(o,Pe,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Cd,useCacheRefresh:R_};L_.useEffectEvent=__;function jd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:N({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Ud={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=os(),m=Lr(c);m.payload=i,o!=null&&(m.callback=o),i=Pr(e,m,c),i!==null&&(Zi(i,e,c),Lu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=os(),m=Lr(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Pr(e,m,c),i!==null&&(Zi(i,e,c),Lu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=os(),c=Lr(o);c.tag=2,i!=null&&(c.callback=i),i=Pr(e,c,o),i!==null&&(Zi(i,e,o),Lu(i,e,o))}};function P_(e,i,o,c,m,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,T):i.prototype&&i.prototype.isPureReactComponent?!Cr(o,c)||!Cr(m,p):!0}function D_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Ud.enqueueReplaceState(i,i.state,null)}function Yo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=N({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function V_(e){Do(e)}function z_(e){console.error(e)}function j_(e){Do(e)}function dh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function U_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Bd(e,i,o){return o=Lr(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(e,i)},o}function B_(e){return e=Lr(e),e.tag=3,e}function q_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;e.payload=function(){return m(p)},e.callback=function(){U_(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){U_(i,o,c),typeof m!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function HE(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Al(i,o,m,!0),o=is.current,o!==null){switch(o.tag){case 31:case 13:return xs===null?xh():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===th?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),fm(e,c,m)),!1;case 22:return o.flags|=65536,c===th?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),fm(e,c,m)),!1}throw Error(r(435,o.tag))}return fm(e,c,m),xh(),!1}if(ie)return i=is.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==xl&&(e=Error(r(422),{cause:c}),Uo(l(e,o)))):(c!==xl&&(i=Error(r(423),{cause:c}),Uo(l(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=l(c,o),m=Bd(e.stateNode,c,m),_d(e,m),un!==4&&(un=2)),!1;var p=Error(r(520),{cause:c});if(p=l(p,o),Yu===null?Yu=[p]:Yu.push(p),un!==4&&(un=2),i===null)return!0;c=l(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Bd(o.stateNode,c,e),_d(o,e),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Br===null||!Br.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=B_(m),q_(m,e,o,c),_d(o,m),!1}o=o.return}while(o!==null);return!1}var qd=Error(r(461)),Tn=!1;function Kn(e,i,o,c){i.child=e===null?Zg(i,null,o,c):Zo(i,e.child,o,c)}function H_(e,i,o,c,m){o=o.render;var p=i.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return qo(i),c=Ed(e,i,o,T,p,m),A=Sd(),e!==null&&!Tn?(xd(e,i,m),Ya(e,i,m)):(ie&&A&&Nn(i),i.flags|=1,Kn(e,i,c,m),i.child)}function F_(e,i,o,c,m){if(e===null){var p=o.type;return typeof p=="function"&&!El(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,G_(e,i,p,c,m)):(e=jo(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!Wd(e,m)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Cr,o(T,c)&&e.ref===i.ref)return Ya(e,i,m)}return i.flags|=1,e=Ss(p,c),e.ref=i.ref,e.return=i,i.child=e}function G_(e,i,o,c,m){if(e!==null){var p=e.memoizedProps;if(Cr(p,c)&&e.ref===i.ref)if(Tn=!1,i.pendingProps=c=p,Wd(e,m))(e.flags&131072)!==0&&(Tn=!0);else return i.lanes=e.lanes,Ya(e,i,m)}return Hd(e,i,o,c,m)}function Z_(e,i,o,c){var m=c.children,p=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~p}else c=0,i.child=null;return K_(e,i,p,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jc(i,p!==null?p.cachePool:null),p!==null?Qg(i,p):vd(),Wg(i);else return c=i.lanes=536870912,K_(e,i,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(Jc(i,p.cachePool),Qg(i,p),Vr(),i.memoizedState=null):(e!==null&&Jc(i,null),vd(),Vr());return Kn(e,i,m,o),i.child}function Bu(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function K_(e,i,o,c,m){var p=dd();return p=p===null?null:{parent:bn._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},e!==null&&Jc(i,null),vd(),Wg(i),e!==null&&Al(e,i,c,!0),i.childLanes=m,null}function mh(e,i){return i=gh({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Y_(e,i,o){return Zo(i,e.child,null,o),e=mh(i,i.pendingProps),e.flags|=2,ss(i),i.memoizedState=null,e}function FE(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(ie){if(c.mode==="hidden")return e=mh(i,c),i.lanes=536870912,Bu(null,e);if(wd(i),(e=Te)?(e=rv(e,Bi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Q!==null?{id:rt,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},o=Au(e),o.return=i,i.child=o,we=i,Te=null)):e=null,e===null)throw ya(i);return i.lanes=536870912,null}return mh(i,c)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(wd(i),m)if(i.flags&256)i.flags&=-257,i=Y_(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Tn||Al(e,i,o,!1),m=(o&e.childLanes)!==0,Tn||m){if(c=qe,c!==null&&(T=La(c,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,Es(e,T),Zi(c,e,T),qd;xh(),i=Y_(e,i,o)}else e=p.treeContext,Te=As(T.nextSibling),we=i,ie=!0,_a=null,Bi=!1,e!==null&&Si(i,e),i=mh(i,c),i.flags|=4096;return i}return e=Ss(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ph(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Hd(e,i,o,c,m){return qo(i),o=Ed(e,i,o,c,void 0,m),c=Sd(),e!==null&&!Tn?(xd(e,i,m),Ya(e,i,m)):(ie&&c&&Nn(i),i.flags|=1,Kn(e,i,o,m),i.child)}function Q_(e,i,o,c,m,p){return qo(i),i.updateQueue=null,o=Jg(i,c,o,m),Xg(e),c=Sd(),e!==null&&!Tn?(xd(e,i,p),Ya(e,i,p)):(ie&&c&&Nn(i),i.flags|=1,Kn(e,i,o,p),i.child)}function W_(e,i,o,c,m){if(qo(i),i.stateNode===null){var p=qa,T=o.contextType;typeof T=="object"&&T!==null&&(p=Zn(T)),p=new o(c,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ud,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=c,p.state=i.memoizedState,p.refs={},pd(i),T=o.contextType,p.context=typeof T=="object"&&T!==null?Zn(T):qa,p.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(jd(i,o,T,c),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Ud.enqueueReplaceState(p,p.state,null),Du(i,c,p,m),Pu(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){p=i.stateNode;var A=i.memoizedProps,V=Yo(o,A);p.props=V;var Y=p.context,it=o.contextType;T=qa,typeof it=="object"&&it!==null&&(T=Zn(it));var ot=o.getDerivedStateFromProps;it=typeof ot=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,it||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||Y!==T)&&D_(i,p,c,T),kr=!1;var W=i.memoizedState;p.state=W,Du(i,c,p,m),Pu(),Y=i.memoizedState,A||W!==Y||kr?(typeof ot=="function"&&(jd(i,o,ot,c),Y=i.memoizedState),(V=kr||P_(i,o,V,c,W,Y,T))?(it||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Y),p.props=c,p.state=Y,p.context=T,c=V):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{p=i.stateNode,gd(e,i),T=i.memoizedProps,it=Yo(o,T),p.props=it,ot=i.pendingProps,W=p.context,Y=o.contextType,V=qa,typeof Y=="object"&&Y!==null&&(V=Zn(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ot||W!==V)&&D_(i,p,c,V),kr=!1,W=i.memoizedState,p.state=W,Du(i,c,p,m),Pu();var tt=i.memoizedState;T!==ot||W!==tt||kr||e!==null&&e.dependencies!==null&&Wc(e.dependencies)?(typeof A=="function"&&(jd(i,o,A,c),tt=i.memoizedState),(it=kr||P_(i,o,it,c,W,tt,V)||e!==null&&e.dependencies!==null&&Wc(e.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,tt,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,tt,V)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&W===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&W===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=tt),p.props=c,p.state=tt,p.context=V,c=it):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&W===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&W===e.memoizedState||(i.flags|=1024),c=!1)}return p=c,ph(e,i),c=(i.flags&128)!==0,p||c?(p=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&c?(i.child=Zo(i,e.child,null,m),i.child=Zo(i,null,o,m)):Kn(e,i,o,m),i.memoizedState=p.state,e=i.child):e=Ya(e,i,m),e}function X_(e,i,o,c){return Fa(),i.flags|=256,Kn(e,i,o,c),i.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(e){return{baseLanes:e,cachePool:Ug()}}function Zd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=rs),e}function J_(e,i,o){var c=i.pendingProps,m=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(fn.current&2)!==0),T&&(m=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(ie){if(m?Dr(i):Vr(),(e=Te)?(e=rv(e,Bi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Q!==null?{id:rt,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},o=Au(e),o.return=i,i.child=o,we=i,Te=null)):e=null,e===null)throw ya(i);return Im(e)?i.lanes=32:i.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(Vr(),m=i.mode,A=gh({mode:"hidden",children:A},m),c=Ha(c,m,o,null),A.return=i,c.return=i,A.sibling=c,i.child=A,c=i.child,c.memoizedState=Gd(o),c.childLanes=Zd(e,T,o),i.memoizedState=Fd,Bu(null,c)):(Dr(i),Kd(i,A))}var V=e.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(p)i.flags&256?(Dr(i),i.flags&=-257,i=Yd(e,i,o)):i.memoizedState!==null?(Vr(),i.child=e.child,i.flags|=128,i=null):(Vr(),A=c.fallback,m=i.mode,c=gh({mode:"visible",children:c.children},m),A=Ha(A,m,o,null),A.flags|=2,c.return=i,A.return=i,c.sibling=A,i.child=c,Zo(i,e.child,null,o),c=i.child,c.memoizedState=Gd(o),c.childLanes=Zd(e,T,o),i.memoizedState=Fd,i=Bu(null,c));else if(Dr(i),Im(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(r(419)),c.stack="",c.digest=T,Uo({value:c,source:null,stack:null}),i=Yd(e,i,o)}else if(Tn||Al(e,i,o,!1),T=(o&e.childLanes)!==0,Tn||T){if(T=qe,T!==null&&(c=La(T,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,Es(e,c),Zi(T,e,c),qd;Cm(A)||xh(),i=Yd(e,i,o)}else Cm(A)?(i.flags|=192,i.child=e.child,i=null):(e=V.treeContext,Te=As(A.nextSibling),we=i,ie=!0,_a=null,Bi=!1,e!==null&&Si(i,e),i=Kd(i,c.children),i.flags|=4096);return i}return m?(Vr(),A=c.fallback,m=i.mode,V=e.child,Y=V.sibling,c=Ss(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Y!==null?A=Ss(Y,A):(A=Ha(A,m,o,null),A.flags|=2),A.return=i,c.return=i,c.sibling=A,i.child=c,Bu(null,c),c=i.child,A=e.child.memoizedState,A===null?A=Gd(o):(m=A.cachePool,m!==null?(V=bn._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=Ug(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=Zd(e,T,o),i.memoizedState=Fd,Bu(e.child,c)):(Dr(i),o=e.child,e=o.sibling,o=Ss(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function Kd(e,i){return i=gh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function gh(e,i){return e=ui(22,e,null,i),e.lanes=0,e}function Yd(e,i,o){return Zo(i,e.child,null,o),e=Kd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function $_(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),ud(e.return,i,o)}function Qd(e,i,o,c,m,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:p}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=p)}function ty(e,i,o){var c=i.pendingProps,m=c.revealOrder,p=c.tail;c=c.children;var T=fn.current,A=(T&2)!==0;if(A?(T=T&1|2,i.flags|=128):T&=1,dt(fn,T),Kn(e,i,c,o),c=ie?x:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$_(e,o,i);else if(e.tag===19)$_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&sh(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Qd(i,!1,m,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&sh(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Qd(i,!0,o,null,p,c);break;case"together":Qd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ya(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ur|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Al(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,o=Ss(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Ss(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Wd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Wc(e)))}function GE(e,i,o){switch(i.tag){case 3:xe(i,i.stateNode.containerInfo),Mr(i,bn,e.memoizedState.cache),Fa();break;case 27:case 5:Jn(i);break;case 4:xe(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Dr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?J_(e,i,o):(Dr(i),e=Ya(e,i,o),e!==null?e.sibling:null);Dr(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Al(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return ty(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),dt(fn,fn.current),c)break;return null;case 22:return i.lanes=0,Z_(e,i,o,i.pendingProps);case 24:Mr(i,bn,e.memoizedState.cache)}return Ya(e,i,o)}function ey(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Tn=!0;else{if(!Wd(e,o)&&(i.flags&128)===0)return Tn=!1,GE(e,i,o);Tn=(e.flags&131072)!==0}else Tn=!1,ie&&(i.flags&1048576)!==0&&Wt(i,x,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Fo(i.elementType),i.type=e,typeof e=="function")El(e)?(c=Yo(e,c),i.tag=1,i=W_(null,i,e,c,o)):(i.tag=0,i=Hd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===_e){i.tag=11,i=H_(null,i,e,c,o);break t}else if(m===j){i.tag=14,i=F_(null,i,e,c,o);break t}}throw i=Lt(e)||e,Error(r(306,i,""))}}return i;case 0:return Hd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Yo(c,i.pendingProps),W_(e,i,c,m,o);case 3:t:{if(xe(i,i.stateNode.containerInfo),e===null)throw Error(r(387));c=i.pendingProps;var p=i.memoizedState;m=p.element,gd(e,i),Du(i,c,null,o);var T=i.memoizedState;if(c=T.cache,Mr(i,bn,c),c!==p.cache&&cd(i,[bn],o,!0),Pu(),c=T.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=X_(e,i,c,o);break t}else if(c!==m){m=l(Error(r(424)),i),Uo(m),i=X_(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Te=As(e.firstChild),we=i,ie=!0,_a=null,Bi=!0,o=Zg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Fa(),c===m){i=Ya(e,i,o);break t}Kn(e,i,c,o)}i=i.child}return i;case 26:return ph(e,i),e===null?(o=fv(i.type,null,i.pendingProps,null))?i.memoizedState=o:ie||(o=i.type,e=i.pendingProps,c=Mh(bt.current).createElement(o),c[We]=i,c[nn]=e,Yn(c,o,e),fe(c),i.stateNode=c):i.memoizedState=fv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Jn(i),e===null&&ie&&(c=i.stateNode=uv(i.type,i.pendingProps,bt.current),we=i,Bi=!0,m=Te,Gr(i.type)?(Rm=m,Te=As(c.firstChild)):Te=m),Kn(e,i,i.pendingProps.children,o),ph(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&ie&&((m=c=Te)&&(c=wS(c,i.type,i.pendingProps,Bi),c!==null?(i.stateNode=c,we=i,Te=As(c.firstChild),Bi=!1,m=!0):m=!1),m||ya(i)),Jn(i),m=i.type,p=i.pendingProps,T=e!==null?e.memoizedProps:null,c=p.children,Sm(m,p)?c=null:T!==null&&Sm(m,T)&&(i.flags|=32),i.memoizedState!==null&&(m=Ed(e,i,DE,null,null,o),nc._currentValue=m),ph(e,i),Kn(e,i,c,o),i.child;case 6:return e===null&&ie&&((e=o=Te)&&(o=TS(o,i.pendingProps,Bi),o!==null?(i.stateNode=o,we=i,Te=null,e=!0):e=!1),e||ya(i)),null;case 13:return J_(e,i,o);case 4:return xe(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Zo(i,null,c,o):Kn(e,i,c,o),i.child;case 11:return H_(e,i,i.type,i.pendingProps,o);case 7:return Kn(e,i,i.pendingProps,o),i.child;case 8:return Kn(e,i,i.pendingProps.children,o),i.child;case 12:return Kn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Mr(i,i.type,c.value),Kn(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,qo(i),m=Zn(m),c=c(m),i.flags|=1,Kn(e,i,c,o),i.child;case 14:return F_(e,i,i.type,i.pendingProps,o);case 15:return G_(e,i,i.type,i.pendingProps,o);case 19:return ty(e,i,o);case 31:return FE(e,i,o);case 22:return Z_(e,i,o,i.pendingProps);case 24:return qo(i),c=Zn(bn),e===null?(m=dd(),m===null&&(m=qe,p=hd(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),i.memoizedState={parent:c,cache:m},pd(i),Mr(i,bn,m)):((e.lanes&o)!==0&&(gd(e,i),Du(i,null,null,o),Pu()),m=e.memoizedState,p=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Mr(i,bn,c)):(c=p.cache,Mr(i,bn,c),c!==m.cache&&cd(i,[bn],o,!0))),Kn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Qa(e){e.flags|=4}function Xd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Go=th,md}else e.flags&=-16777217}function ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_v(i))if(Iy())e.flags|=8192;else throw Go=th,md}function _h(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ka():536870912,e.lanes|=i,zl|=i)}function qu(e,i){if(!ie)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Je(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function ZE(e,i,o){var c=i.pendingProps;switch(on(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ga(bn),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Zs(i)?Qa(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ru())),Je(i),null;case 26:var m=i.type,p=i.memoizedState;return e===null?(Qa(i),p!==null?(Je(i),ny(i,p)):(Je(i),Xd(i,m,null,c,o))):p?p!==e.memoizedState?(Qa(i),Je(i),ny(i,p)):(Je(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Qa(i),Je(i),Xd(i,m,e,c,o)),null;case 27:if(cs(i),o=bt.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Qa(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Je(i),null}e=mt.current,Zs(i)?Iu(i):(e=uv(m,c,o),i.stateNode=e,Qa(i))}return Je(i),null;case 5:if(cs(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Qa(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Je(i),null}if(p=mt.current,Zs(i))Iu(i);else{var T=Mh(bt.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}p[We]=i,p[nn]=c;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=p;t:switch(Yn(p,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Qa(i)}}return Je(i),Xd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Qa(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(e=bt.current,Zs(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=we,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[We]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Jy(e.nodeValue,o)),e||ya(i,!0)}else e=Mh(e).createTextNode(c),e[We]=i,i.stateNode=e}return Je(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=Zs(i),o!==null){if(e===null){if(!c)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[We]=i}else Fa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),e=!1}else o=Ru(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(ss(i),i):(ss(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Je(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Zs(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[We]=i}else Fa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),m=!1}else m=Ru(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(ss(i),i):(ss(i),null)}return ss(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),_h(i,i.updateQueue),Je(i),null);case 4:return Ie(),e===null&&vm(i.stateNode.containerInfo),Je(i),null;case 10:return Ga(i.type),Je(i),null;case 19:if(nt(fn),c=i.memoizedState,c===null)return Je(i),null;if(m=(i.flags&128)!==0,p=c.rendering,p===null)if(m)qu(c,!1);else{if(un!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(p=sh(e),p!==null){for(i.flags|=128,qu(c,!1),e=p.updateQueue,i.updateQueue=e,_h(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)xu(o,e),o=o.sibling;return dt(fn,fn.current&1|2),ie&&Mt(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&gn()>Th&&(i.flags|=128,m=!0,qu(c,!1),i.lanes=4194304)}else{if(!m)if(e=sh(p),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,_h(i,e),qu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!ie)return Je(i),null}else 2*gn()-c.renderingStartTime>Th&&o!==536870912&&(i.flags|=128,m=!0,qu(c,!1),i.lanes=4194304);c.isBackwards?(p.sibling=i.child,i.child=p):(e=c.last,e!==null?e.sibling=p:i.child=p,c.last=p)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=gn(),e.sibling=null,o=fn.current,dt(fn,m?o&1|2:o&1),ie&&Mt(i,c.treeForkCount),e):(Je(i),null);case 22:case 23:return ss(i),bd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),o=i.updateQueue,o!==null&&_h(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&nt(Ho),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ga(bn),Je(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function KE(e,i){switch(on(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ga(bn),Ie(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return cs(i),null;case 31:if(i.memoizedState!==null){if(ss(i),i.alternate===null)throw Error(r(340));Fa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(ss(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Fa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(fn),null;case 4:return Ie(),null;case 10:return Ga(i.type),null;case 22:case 23:return ss(i),bd(),e!==null&&nt(Ho),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ga(bn),null;case 25:return null;default:return null}}function iy(e,i){switch(on(i),i.tag){case 3:Ga(bn),Ie();break;case 26:case 27:case 5:cs(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&ss(i);break;case 13:ss(i);break;case 19:nt(fn);break;case 10:Ga(i.type);break;case 22:case 23:ss(i),bd(),e!==null&&nt(Ho);break;case 24:Ga(bn)}}function Hu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var p=o.create,T=o.inst;c=p(),T.destroy=c}o=o.next}while(o!==m)}}catch(A){ke(i,i.return,A)}}function zr(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&e)===e){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,m=i;var V=o,Y=A;try{Y()}catch(it){ke(m,V,it)}}}c=c.next}while(c!==p)}}catch(it){ke(i,i.return,it)}}function sy(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Yg(i,o)}catch(c){ke(e,e.return,c)}}}function ay(e,i,o){o.props=Yo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){ke(e,i,c)}}function Fu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){ke(e,i,m)}}function ba(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ke(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ke(e,i,m)}else o.current=null}function ry(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ke(e,e.return,m)}}function Jd(e,i,o){try{var c=e.stateNode;pS(c,e.type,o,i),c[nn]=i}catch(m){ke(e,e.return,m)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gr(e.type)||e.tag===4}function $d(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tm(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=si));else if(c!==4&&(c===27&&Gr(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(tm(e,i,o),e=e.sibling;e!==null;)tm(e,i,o),e=e.sibling}function yh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Gr(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(yh(e,i,o),e=e.sibling;e!==null;)yh(e,i,o),e=e.sibling}function ly(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Yn(i,c,o),i[We]=e,i[nn]=o}catch(p){ke(e,e.return,p)}}var Wa=!1,En=!1,em=!1,uy=typeof WeakSet=="function"?WeakSet:Set,qn=null;function YE(e,i){if(e=e.containerInfo,Tm=jh,e=Mo(e),fa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,A=-1,V=-1,Y=0,it=0,ot=e,W=null;e:for(;;){for(var tt;ot!==o||m!==0&&ot.nodeType!==3||(A=T+m),ot!==p||c!==0&&ot.nodeType!==3||(V=T+c),ot.nodeType===3&&(T+=ot.nodeValue.length),(tt=ot.firstChild)!==null;)W=ot,ot=tt;for(;;){if(ot===e)break e;if(W===o&&++Y===m&&(A=T),W===p&&++it===c&&(V=T),(tt=ot.nextSibling)!==null)break;ot=W,W=ot.parentNode}ot=tt}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Em={focusedElem:e,selectionRange:o},jh=!1,qn=i;qn!==null;)if(i=qn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,qn=e;else for(;qn!==null;){switch(i=qn,p=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=i,m=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var Ct=Yo(o.type,m);e=c.getSnapshotBeforeUpdate(Ct,p),c.__reactInternalSnapshotBeforeUpdate=e}catch(jt){ke(o,o.return,jt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Am(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Am(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,qn=e;break}qn=i.return}}function cy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ja(e,o),c&4&&Hu(5,o);break;case 1:if(Ja(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){ke(o,o.return,T)}else{var m=Yo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ke(o,o.return,T)}}c&64&&sy(o),c&512&&Fu(o,o.return);break;case 3:if(Ja(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Yg(e,i)}catch(T){ke(o,o.return,T)}}break;case 27:i===null&&c&4&&ly(o);case 26:case 5:Ja(e,o),i===null&&c&4&&ry(o),c&512&&Fu(o,o.return);break;case 12:Ja(e,o);break;case 31:Ja(e,o),c&4&&dy(e,o);break;case 13:Ja(e,o),c&4&&my(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=iS.bind(null,o),ES(e,o))));break;case 22:if(c=o.memoizedState!==null||Wa,!c){i=i!==null&&i.memoizedState!==null||En,m=Wa;var p=En;Wa=c,(En=i)&&!p?$a(e,o,(o.subtreeFlags&8772)!==0):Ja(e,o),Wa=m,En=p}break;case 30:break;default:Ja(e,o)}}function hy(e){var i=e.alternate;i!==null&&(e.alternate=null,hy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&J(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sn=null,qi=!1;function Xa(e,i,o){for(o=o.child;o!==null;)fy(e,i,o),o=o.sibling}function fy(e,i,o){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Ln,o)}catch{}switch(o.tag){case 26:En||ba(o,i),Xa(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:En||ba(o,i);var c=sn,m=qi;Gr(o.type)&&(sn=o.stateNode,qi=!1),Xa(e,i,o),$u(o.stateNode),sn=c,qi=m;break;case 5:En||ba(o,i);case 6:if(c=sn,m=qi,sn=null,Xa(e,i,o),sn=c,qi=m,sn!==null)if(qi)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(o.stateNode)}catch(p){ke(o,i,p)}else try{sn.removeChild(o.stateNode)}catch(p){ke(o,i,p)}break;case 18:sn!==null&&(qi?(e=sn,sv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Zl(e)):sv(sn,o.stateNode));break;case 4:c=sn,m=qi,sn=o.stateNode.containerInfo,qi=!0,Xa(e,i,o),sn=c,qi=m;break;case 0:case 11:case 14:case 15:zr(2,o,i),En||zr(4,o,i),Xa(e,i,o);break;case 1:En||(ba(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ay(o,i,c)),Xa(e,i,o);break;case 21:Xa(e,i,o);break;case 22:En=(c=En)||o.memoizedState!==null,Xa(e,i,o),En=c;break;default:Xa(e,i,o)}}function dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zl(e)}catch(o){ke(i,i.return,o)}}}function my(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zl(e)}catch(o){ke(i,i.return,o)}}function QE(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new uy),i;default:throw Error(r(435,e.tag))}}function vh(e,i){var o=QE(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=sS.bind(null,e,c);c.then(m,m)}})}function Hi(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],p=e,T=i,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Gr(A.type)){sn=A.stateNode,qi=!1;break t}break;case 5:sn=A.stateNode,qi=!1;break t;case 3:case 4:sn=A.stateNode.containerInfo,qi=!0;break t}A=A.return}if(sn===null)throw Error(r(160));fy(p,T,m),sn=null,qi=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)py(i,e),i=i.sibling}var Ys=null;function py(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hi(i,e),Fi(e),c&4&&(zr(3,e,e.return),Hu(3,e),zr(5,e,e.return));break;case 1:Hi(i,e),Fi(e),c&512&&(En||o===null||ba(o,o.return)),c&64&&Wa&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Ys;if(Hi(i,e),Fi(e),c&512&&(En||o===null||ba(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[vi]||p[We]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),Yn(p,c,o),p[We]=e,fe(p),c=p;break t;case"link":var T=pv("link","href",m).get(c+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}p=m.createElement(c),Yn(p,c,o),m.head.appendChild(p);break;case"meta":if(T=pv("meta","content",m).get(c+(o.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}p=m.createElement(c),Yn(p,c,o),m.head.appendChild(p);break;default:throw Error(r(468,c))}p[We]=e,fe(p),c=p}e.stateNode=c}else gv(m,e.type,e.stateNode);else e.stateNode=mv(m,c,e.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?gv(m,e.type,e.stateNode):mv(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Jd(e,e.memoizedProps,o.memoizedProps)}break;case 27:Hi(i,e),Fi(e),c&512&&(En||o===null||ba(o,o.return)),o!==null&&c&4&&Jd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Hi(i,e),Fi(e),c&512&&(En||o===null||ba(o,o.return)),e.flags&32){m=e.stateNode;try{yn(m,"")}catch(Ct){ke(e,e.return,Ct)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Jd(e,m,o!==null?o.memoizedProps:m)),c&1024&&(em=!0);break;case 6:if(Hi(i,e),Fi(e),c&4){if(e.stateNode===null)throw Error(r(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Ct){ke(e,e.return,Ct)}}break;case 3:if(Ph=null,m=Ys,Ys=kh(i.containerInfo),Hi(i,e),Ys=m,Fi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Zl(i.containerInfo)}catch(Ct){ke(e,e.return,Ct)}em&&(em=!1,gy(e));break;case 4:c=Ys,Ys=kh(e.stateNode.containerInfo),Hi(i,e),Fi(e),Ys=c;break;case 12:Hi(i,e),Fi(e);break;case 31:Hi(i,e),Fi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 13:Hi(i,e),Fi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wh=gn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 22:m=e.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Y=Wa,it=En;if(Wa=Y||m,En=it||V,Hi(i,e),En=it,Wa=Y,Fi(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||V||Wa||En||Qo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){V=o=i;try{if(p=V.stateNode,m)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=V.stateNode;var ot=V.memoizedProps.style,W=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ct){ke(V,V.return,Ct)}}}else if(i.tag===6){if(o===null){V=i;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(Ct){ke(V,V.return,Ct)}}}else if(i.tag===18){if(o===null){V=i;try{var tt=V.stateNode;m?av(tt,!0):av(V.stateNode,!1)}catch(Ct){ke(V,V.return,Ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,vh(e,o))));break;case 19:Hi(i,e),Fi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 30:break;case 21:break;default:Hi(i,e),Fi(e)}}function Fi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(oy(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,p=$d(e);yh(e,p,m);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var A=$d(e);yh(e,A,T);break;case 3:case 4:var V=o.stateNode.containerInfo,Y=$d(e);tm(e,Y,V);break;default:throw Error(r(161))}}catch(it){ke(e,e.return,it)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;gy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ja(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cy(e,i.alternate,i),i=i.sibling}function Qo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),Qo(i);break;case 1:ba(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ay(i,i.return,o),Qo(i);break;case 27:$u(i.stateNode);case 26:case 5:ba(i,i.return),Qo(i);break;case 22:i.memoizedState===null&&Qo(i);break;case 30:Qo(i);break;default:Qo(i)}e=e.sibling}}function $a(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:$a(m,p,o),Hu(4,p);break;case 1:if($a(m,p,o),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){ke(c,c.return,Y)}if(c=p,m=c.updateQueue,m!==null){var A=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Kg(V[m],A)}catch(Y){ke(c,c.return,Y)}}o&&T&64&&sy(p),Fu(p,p.return);break;case 27:ly(p);case 26:case 5:$a(m,p,o),o&&c===null&&T&4&&ry(p),Fu(p,p.return);break;case 12:$a(m,p,o);break;case 31:$a(m,p,o),o&&T&4&&dy(m,p);break;case 13:$a(m,p,o),o&&T&4&&my(m,p);break;case 22:p.memoizedState===null&&$a(m,p,o),Fu(p,p.return);break;case 30:break;default:$a(m,p,o)}i=i.sibling}}function nm(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Nu(o))}function im(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Nu(e))}function Qs(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_y(e,i,o,c),i=i.sibling}function _y(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Qs(e,i,o,c),m&2048&&Hu(9,i);break;case 1:Qs(e,i,o,c);break;case 3:Qs(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Nu(e)));break;case 12:if(m&2048){Qs(e,i,o,c),e=i.stateNode;try{var p=i.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){ke(i,i.return,V)}}else Qs(e,i,o,c);break;case 31:Qs(e,i,o,c);break;case 13:Qs(e,i,o,c);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?Qs(e,i,o,c):Gu(e,i):p._visibility&2?Qs(e,i,o,c):(p._visibility|=2,Pl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&nm(T,i);break;case 24:Qs(e,i,o,c),m&2048&&im(i.alternate,i);break;default:Qs(e,i,o,c)}}function Pl(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=e,T=i,A=o,V=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Pl(p,T,A,V,m),Hu(8,T);break;case 23:break;case 22:var it=T.stateNode;T.memoizedState!==null?it._visibility&2?Pl(p,T,A,V,m):Gu(p,T):(it._visibility|=2,Pl(p,T,A,V,m)),m&&Y&2048&&nm(T.alternate,T);break;case 24:Pl(p,T,A,V,m),m&&Y&2048&&im(T.alternate,T);break;default:Pl(p,T,A,V,m)}i=i.sibling}}function Gu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Gu(o,c),m&2048&&nm(c.alternate,c);break;case 24:Gu(o,c),m&2048&&im(c.alternate,c);break;default:Gu(o,c)}i=i.sibling}}var Zu=8192;function Dl(e,i,o){if(e.subtreeFlags&Zu)for(e=e.child;e!==null;)yy(e,i,o),e=e.sibling}function yy(e,i,o){switch(e.tag){case 26:Dl(e,i,o),e.flags&Zu&&e.memoizedState!==null&&PS(o,Ys,e.memoizedState,e.memoizedProps);break;case 5:Dl(e,i,o);break;case 3:case 4:var c=Ys;Ys=kh(e.stateNode.containerInfo),Dl(e,i,o),Ys=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Zu,Zu=16777216,Dl(e,i,o),Zu=c):Dl(e,i,o));break;default:Dl(e,i,o)}}function vy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];qn=c,wy(c,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:Ku(e),e.flags&2048&&zr(9,e,e.return);break;case 3:Ku(e);break;case 12:Ku(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,bh(e)):Ku(e);break;default:Ku(e)}}function bh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];qn=c,wy(c,e)}vy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:zr(8,i,i.return),bh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,bh(i));break;default:bh(i)}e=e.sibling}}function wy(e,i){for(;qn!==null;){var o=qn;switch(o.tag){case 0:case 11:case 15:zr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Nu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,qn=c;else t:for(o=e;qn!==null;){c=qn;var m=c.sibling,p=c.return;if(hy(c),c===o){qn=null;break t}if(m!==null){m.return=p,qn=m;break t}qn=p}}}var WE={getCacheForType:function(e){var i=Zn(bn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Zn(bn).controller.signal}},XE=typeof WeakMap=="function"?WeakMap:Map,Ce=0,qe=null,se=null,oe=0,Me=0,as=null,jr=!1,Vl=!1,sm=!1,tr=0,un=0,Ur=0,Wo=0,am=0,rs=0,zl=0,Yu=null,Gi=null,rm=!1,wh=0,Ty=0,Th=1/0,Eh=null,Br=null,On=0,qr=null,jl=null,er=0,om=0,lm=null,Ey=null,Qu=0,um=null;function os(){return(Ce&2)!==0&&oe!==0?oe&-oe:$.T!==null?pm():Ps()}function Sy(){if(rs===0)if((oe&536870912)===0||ie){var e=Le;Le<<=1,(Le&3932160)===0&&(Le=262144),rs=e}else rs=536870912;return e=is.current,e!==null&&(e.flags|=32),rs}function Zi(e,i,o){(e===qe&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Ul(e,0),Hr(e,oe,rs,!1)),ki(e,o),((Ce&2)===0||e!==qe)&&(e===qe&&((Ce&2)===0&&(Wo|=o),un===4&&Hr(e,oe,rs,!1)),wa(e))}function xy(e,i,o){if((Ce&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||yi(e,i),m=c?tS(e,i):hm(e,i,!0),p=c;do{if(m===0){Vl&&!c&&Hr(e,i,0,!1);break}else{if(o=e.current.alternate,p&&!JE(o)){m=hm(e,i,!1),p=!1;continue}if(m===2){if(p=i,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var A=e;m=Yu;var V=A.current.memoizedState.isDehydrated;if(V&&(Ul(A,T).flags|=256),T=hm(A,T,!1),T!==2){if(sm&&!V){A.errorRecoveryDisabledLanes|=p,Wo|=p,m=4;break t}p=Gi,Gi=m,p!==null&&(Gi===null?Gi=p:Gi.push.apply(Gi,p))}m=T}if(p=!1,m!==2)continue}}if(m===1){Ul(e,0),Hr(e,i,0,!0);break}t:{switch(c=e,p=m,p){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Hr(c,i,rs,!jr);break t;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=wh+300-gn(),10<m)){if(Hr(c,i,rs,!jr),_i(c,0,!0)!==0)break t;er=i,c.timeoutHandle=nv(Ay.bind(null,c,o,Gi,Eh,rm,i,rs,Wo,zl,jr,p,"Throttled",-0,0),m);break t}Ay(c,o,Gi,Eh,rm,i,rs,Wo,zl,jr,p,null,-0,0)}}break}while(!0);wa(e)}function Ay(e,i,o,c,m,p,T,A,V,Y,it,ot,W,tt){if(e.timeoutHandle=-1,ot=i.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},yy(i,p,ot);var Ct=(p&62914560)===p?wh-gn():(p&4194048)===p?Ty-gn():0;if(Ct=DS(ot,Ct),Ct!==null){er=p,e.cancelPendingCommit=Ct(Ly.bind(null,e,i,p,o,c,m,T,A,V,it,ot,null,W,tt)),Hr(e,p,T,!Y);return}}Ly(e,i,p,o,c,m,T,A,V)}function JE(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],p=m.getSnapshot;m=m.value;try{if(!Un(p(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(e,i,o,c){i&=~am,i&=~Wo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var p=31-Fe(m),T=1<<p;c[p]=-1,m&=~T}o!==0&&ks(e,o,i)}function Sh(){return(Ce&6)===0?(Wu(0),!1):!0}function cm(){if(se!==null){if(Me===0)var e=se.return;else e=se,Ks=va=null,Ad(e),Nl=null,Mu=0,e=se;for(;e!==null;)iy(e.alternate,e),e=e.return;se=null}}function Ul(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,yS(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),er=0,cm(),qe=e,se=o=Ss(e.current,null),oe=i,Me=0,as=null,jr=!1,Vl=yi(e,i),sm=!1,zl=rs=am=Wo=Ur=un=0,Gi=Yu=null,rm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-Fe(c),p=1<<m;i|=e[m],c&=~p}return tr=i,Vo(),o}function Cy(e,i){Qt=null,$.H=Uu,i===Rl||i===$c?(i=Hg(),Me=3):i===md?(i=Hg(),Me=4):Me=i===qd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,as=i,se===null&&(un=1,dh(e,l(i,e.current)))}function Iy(){var e=is.current;return e===null?!0:(oe&4194048)===oe?xs===null:(oe&62914560)===oe||(oe&536870912)!==0?e===xs:!1}function Ry(){var e=$.H;return $.H=Uu,e===null?Uu:e}function Ny(){var e=$.A;return $.A=WE,e}function xh(){un=4,jr||(oe&4194048)!==oe&&is.current!==null||(Vl=!0),(Ur&134217727)===0&&(Wo&134217727)===0||qe===null||Hr(qe,oe,rs,!1)}function hm(e,i,o){var c=Ce;Ce|=2;var m=Ry(),p=Ny();(qe!==e||oe!==i)&&(Eh=null,Ul(e,i)),i=!1;var T=un;t:do try{if(Me!==0&&se!==null){var A=se,V=as;switch(Me){case 8:cm(),T=6;break t;case 3:case 2:case 9:case 6:is.current===null&&(i=!0);var Y=Me;if(Me=0,as=null,Bl(e,A,V,Y),o&&Vl){T=0;break t}break;default:Y=Me,Me=0,as=null,Bl(e,A,V,Y)}}$E(),T=un;break}catch(it){Cy(e,it)}while(!0);return i&&e.shellSuspendCounter++,Ks=va=null,Ce=c,$.H=m,$.A=p,se===null&&(qe=null,oe=0,Vo()),T}function $E(){for(;se!==null;)Oy(se)}function tS(e,i){var o=Ce;Ce|=2;var c=Ry(),m=Ny();qe!==e||oe!==i?(Eh=null,Th=gn()+500,Ul(e,i)):Vl=yi(e,i);t:do try{if(Me!==0&&se!==null){i=se;var p=as;e:switch(Me){case 1:Me=0,as=null,Bl(e,i,p,1);break;case 2:case 9:if(Bg(p)){Me=0,as=null,My(i);break}i=function(){Me!==2&&Me!==9||qe!==e||(Me=7),wa(e)},p.then(i,i);break t;case 3:Me=7;break t;case 4:Me=5;break t;case 7:Bg(p)?(Me=0,as=null,My(i)):(Me=0,as=null,Bl(e,i,p,7));break;case 5:var T=null;switch(se.tag){case 26:T=se.memoizedState;case 5:case 27:var A=se;if(T?_v(T):A.stateNode.complete){Me=0,as=null;var V=A.sibling;if(V!==null)se=V;else{var Y=A.return;Y!==null?(se=Y,Ah(Y)):se=null}break e}}Me=0,as=null,Bl(e,i,p,5);break;case 6:Me=0,as=null,Bl(e,i,p,6);break;case 8:cm(),un=6;break t;default:throw Error(r(462))}}eS();break}catch(it){Cy(e,it)}while(!0);return Ks=va=null,$.H=c,$.A=m,Ce=o,se!==null?0:(qe=null,oe=0,Vo(),un)}function eS(){for(;se!==null&&!bo();)Oy(se)}function Oy(e){var i=ey(e.alternate,e,tr);e.memoizedProps=e.pendingProps,i===null?Ah(e):se=i}function My(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Q_(o,i,i.pendingProps,i.type,void 0,oe);break;case 11:i=Q_(o,i,i.pendingProps,i.type.render,i.ref,oe);break;case 5:Ad(i);default:iy(o,i),i=se=xu(i,tr),i=ey(o,i,tr)}e.memoizedProps=e.pendingProps,i===null?Ah(e):se=i}function Bl(e,i,o,c){Ks=va=null,Ad(i),Nl=null,Mu=0;var m=i.return;try{if(HE(e,m,i,o,oe)){un=1,dh(e,l(o,e.current)),se=null;return}}catch(p){if(m!==null)throw se=m,p;un=1,dh(e,l(o,e.current)),se=null;return}i.flags&32768?(ie||c===1?e=!0:Vl||(oe&536870912)!==0?e=!1:(jr=e=!0,(c===2||c===9||c===3||c===6)&&(c=is.current,c!==null&&c.tag===13&&(c.flags|=16384))),ky(i,e)):Ah(i)}function Ah(e){var i=e;do{if((i.flags&32768)!==0){ky(i,jr);return}e=i.return;var o=ZE(i.alternate,i,tr);if(o!==null){se=o;return}if(i=i.sibling,i!==null){se=i;return}se=i=e}while(i!==null);un===0&&(un=5)}function ky(e,i){do{var o=KE(e.alternate,e);if(o!==null){o.flags&=32767,se=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){se=e;return}se=e=o}while(e!==null);un=6,se=null}function Ly(e,i,o,c,m,p,T,A,V){e.cancelPendingCommit=null;do Ch();while(On!==0);if((Ce&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(p=i.lanes|i.childLanes,p|=Tl,mr(e,o,p,T,A,V),e===qe&&(se=qe=null,oe=0),jl=i,qr=e,er=o,om=p,lm=m,Ey=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aS($n,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=pt.p,pt.p=2,T=Ce,Ce|=4;try{YE(e,i,o)}finally{Ce=T,pt.p=m,$.T=c}}On=1,Py(),Dy(),Vy()}}function Py(){if(On===1){On=0;var e=qr,i=jl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=pt.p;pt.p=2;var m=Ce;Ce|=4;try{py(i,e);var p=Em,T=Mo(e.containerInfo),A=p.focusedElem,V=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&yl(A.ownerDocument.documentElement,A)){if(V!==null&&fa(A)){var Y=V.start,it=V.end;if(it===void 0&&(it=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(it,A.value.length);else{var ot=A.ownerDocument||document,W=ot&&ot.defaultView||window;if(W.getSelection){var tt=W.getSelection(),Ct=A.textContent.length,jt=Math.min(V.start,Ct),Ve=V.end===void 0?jt:Math.min(V.end,Ct);!tt.extend&&jt>Ve&&(T=Ve,Ve=jt,jt=T);var F=Oo(A,jt),B=Oo(A,Ve);if(F&&B&&(tt.rangeCount!==1||tt.anchorNode!==F.node||tt.anchorOffset!==F.offset||tt.focusNode!==B.node||tt.focusOffset!==B.offset)){var K=ot.createRange();K.setStart(F.node,F.offset),tt.removeAllRanges(),jt>Ve?(tt.addRange(K),tt.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),tt.addRange(K))}}}}for(ot=[],tt=A;tt=tt.parentNode;)tt.nodeType===1&&ot.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ot.length;A++){var st=ot[A];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}jh=!!Tm,Em=Tm=null}finally{Ce=m,pt.p=c,$.T=o}}e.current=i,On=2}}function Dy(){if(On===2){On=0;var e=qr,i=jl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=pt.p;pt.p=2;var m=Ce;Ce|=4;try{cy(e,i.alternate,i)}finally{Ce=m,pt.p=c,$.T=o}}On=3}}function Vy(){if(On===4||On===3){On=0,fr();var e=qr,i=jl,o=er,c=Ey;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?On=5:(On=0,jl=qr=null,zy(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Br=null),xt(o),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Ln,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,m=pt.p,pt.p=2,$.T=null;try{for(var p=e.onRecoverableError,T=0;T<c.length;T++){var A=c[T];p(A.value,{componentStack:A.stack})}}finally{$.T=i,pt.p=m}}(er&3)!==0&&Ch(),wa(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===um?Qu++:(Qu=0,um=e):Qu=0,Wu(0)}}function zy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Nu(i)))}function Ch(){return Py(),Dy(),Vy(),jy()}function jy(){if(On!==5)return!1;var e=qr,i=om;om=0;var o=xt(er),c=$.T,m=pt.p;try{pt.p=32>o?32:o,$.T=null,o=lm,lm=null;var p=qr,T=er;if(On=0,jl=qr=null,er=0,(Ce&6)!==0)throw Error(r(331));var A=Ce;if(Ce|=4,by(p.current),_y(p,p.current,T,o),Ce=A,Wu(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Ln,p)}catch{}return!0}finally{pt.p=m,$.T=c,zy(e,i)}}function Uy(e,i,o){i=l(o,i),i=Bd(e.stateNode,i,2),e=Pr(e,i,2),e!==null&&(ki(e,2),wa(e))}function ke(e,i,o){if(e.tag===3)Uy(e,e,o);else for(;i!==null;){if(i.tag===3){Uy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Br===null||!Br.has(c))){e=l(o,e),o=B_(2),c=Pr(i,o,2),c!==null&&(q_(o,c,i,e),ki(c,2),wa(c));break}}i=i.return}}function fm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new XE;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(sm=!0,m.add(o),e=nS.bind(null,e,i,o),i.then(e,e))}function nS(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,qe===e&&(oe&o)===o&&(un===4||un===3&&(oe&62914560)===oe&&300>gn()-wh?(Ce&2)===0&&Ul(e,0):am|=o,zl===oe&&(zl=0)),wa(e)}function By(e,i){i===0&&(i=ka()),e=Es(e,i),e!==null&&(ki(e,i),wa(e))}function iS(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),By(e,o)}function sS(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),By(e,o)}function aS(e,i){return Ye(e,i)}var Ih=null,ql=null,dm=!1,Rh=!1,mm=!1,Fr=0;function wa(e){e!==ql&&e.next===null&&(ql===null?Ih=ql=e:ql=ql.next=e),Rh=!0,dm||(dm=!0,oS())}function Wu(e,i){if(!mm&&Rh){mm=!0;do for(var o=!1,c=Ih;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var T=c.suspendedLanes,A=c.pingedLanes;p=(1<<31-Fe(42|e)+1)-1,p&=m&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Gy(c,p))}else p=oe,p=_i(c,c===qe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||yi(c,p)||(o=!0,Gy(c,p));c=c.next}while(o);mm=!1}}function rS(){qy()}function qy(){Rh=dm=!1;var e=0;Fr!==0&&_S()&&(e=Fr);for(var i=gn(),o=null,c=Ih;c!==null;){var m=c.next,p=Hy(c,i);p===0?(c.next=null,o===null?Ih=m:o.next=m,m===null&&(ql=o)):(o=c,(e!==0||(p&3)!==0)&&(Rh=!0)),c=m}On!==0&&On!==5||Wu(e),Fr!==0&&(Fr=0)}function Hy(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-Fe(p),A=1<<T,V=m[T];V===-1?((A&o)===0||(A&c)!==0)&&(m[T]=Oi(A,i)):V<=i&&(e.expiredLanes|=A),p&=~A}if(i=qe,o=oe,o=_i(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&pi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||yi(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&pi(c),xt(o)){case 2:case 8:o=ee;break;case 32:o=$n;break;case 268435456:o=ti;break;default:o=$n}return c=Fy.bind(null,e),o=Ye(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&pi(c),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,i){if(On!==0&&On!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ch()&&e.callbackNode!==o)return null;var c=oe;return c=_i(e,e===qe?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(xy(e,c,i),Hy(e,gn()),e.callbackNode!=null&&e.callbackNode===o?Fy.bind(null,e):null)}function Gy(e,i){if(Ch())return null;xy(e,i,!0)}function oS(){vS(function(){(Ce&6)!==0?Ye(fs,rS):qy()})}function pm(){if(Fr===0){var e=Cl;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Fr=e}return Fr}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Ky(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function lS(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var p=Zy((m[nn]||null).action),T=c.submitter;T&&(i=(i=T[nn]||null)?Zy(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var A=new vs("action","action",null,c,m);e.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fr!==0){var V=T?Ky(m,T):new FormData(m);Pd(o,{pending:!0,data:V,method:m.method,action:p},null,V)}}else typeof p=="function"&&(A.preventDefault(),V=T?Ky(m,T):new FormData(m),Pd(o,{pending:!0,data:V,method:m.method,action:p},p,V))},currentTarget:m}]})}}for(var gm=0;gm<pa.length;gm++){var _m=pa[gm],uS=_m.toLowerCase(),cS=_m[0].toUpperCase()+_m.slice(1);ji(uS,"on"+cS)}ji(Lo,"onAnimationEnd"),ji(Kc,"onAnimationIteration"),ji(Po,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(rd,"onTransitionRun"),ji(Yc,"onTransitionStart"),ji(od,"onTransitionCancel"),ji(Nr,"onTransitionEnd"),Gn("onMouseEnter",["mouseout","mouseover"]),Gn("onMouseLeave",["mouseout","mouseover"]),Gn("onPointerEnter",["pointerout","pointerover"]),Gn("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function Yy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var p=void 0;if(i)for(var T=c.length-1;0<=T;T--){var A=c[T],V=A.instance,Y=A.currentTarget;if(A=A.listener,V!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=Y;try{p(m)}catch(it){Do(it)}m.currentTarget=null,p=V}else for(T=0;T<c.length;T++){if(A=c[T],V=A.instance,Y=A.currentTarget,A=A.listener,V!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=Y;try{p(m)}catch(it){Do(it)}m.currentTarget=null,p=V}}}}function ae(e,i){var o=i[hn];o===void 0&&(o=i[hn]=new Set);var c=e+"__bubble";o.has(c)||(Qy(i,e,2,!1),o.add(c))}function ym(e,i,o){var c=0;i&&(c|=4),Qy(o,e,c,i)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function vm(e){if(!e[Nh]){e[Nh]=!0,Ne.forEach(function(o){o!=="selectionchange"&&(hS.has(o)||ym(o,!1,e),ym(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nh]||(i[Nh]=!0,ym("selectionchange",!1,i))}}function Qy(e,i,o,c){switch(Sv(i)){case 2:var m=jS;break;case 8:m=US;break;default:m=Lm}o=m.bind(null,i,o,e),m=void 0,!js||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function bm(e,i,o,c,m){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===m)break;if(T===4)for(T=c.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;A!==null;){if(T=ct(A),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){c=p=T;continue t}A=A.parentNode}}c=c.return}zs(function(){var Y=p,it=ai(o),ot=[];t:{var W=Qc.get(e);if(W!==void 0){var tt=vs,Ct=e;switch(e){case"keypress":if(ua(o)===0)break t;case"keydown":case"keyup":tt=Ao;break;case"focusin":Ct="focus",tt=ja;break;case"focusout":Ct="blur",tt=ja;break;case"beforeblur":case"afterblur":tt=ja;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=y;break;case Lo:case Kc:case Po:tt=br;break;case Nr:tt=I;break;case"scroll":case"scrollend":tt=Jt;break;case"wheel":tt=X;break;case"copy":case"cut":case"paste":tt=Ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Hs;break;case"toggle":case"beforetoggle":tt=Ht}var jt=(i&4)!==0,Ve=!jt&&(e==="scroll"||e==="scrollend"),F=jt?W!==null?W+"Capture":null:W;jt=[];for(var B=Y,K;B!==null;){var st=B;if(K=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||K===null||F===null||(st=wi(B,F),st!=null&&jt.push(Ju(B,st,K))),Ve)break;B=B.return}0<jt.length&&(W=new tt(W,Ct,null,o,it),ot.push({event:W,listeners:jt}))}}if((i&7)===0){t:{if(W=e==="mouseover"||e==="pointerover",tt=e==="mouseout"||e==="pointerout",W&&o!==vr&&(Ct=o.relatedTarget||o.fromElement)&&(ct(Ct)||Ct[ii]))break t;if((tt||W)&&(W=it.window===it?it:(W=it.ownerDocument)?W.defaultView||W.parentWindow:window,tt?(Ct=o.relatedTarget||o.toElement,tt=Y,Ct=Ct?ct(Ct):null,Ct!==null&&(Ve=h(Ct),jt=Ct.tag,Ct!==Ve||jt!==5&&jt!==27&&jt!==6)&&(Ct=null)):(tt=null,Ct=Y),tt!==Ct)){if(jt=wo,st="onMouseLeave",F="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(jt=Hs,st="onPointerLeave",F="onPointerEnter",B="pointer"),Ve=tt==null?W:Ut(tt),K=Ct==null?W:Ut(Ct),W=new jt(st,B+"leave",tt,o,it),W.target=Ve,W.relatedTarget=K,st=null,ct(it)===Y&&(jt=new jt(F,B+"enter",Ct,o,it),jt.target=K,jt.relatedTarget=Ve,st=jt),Ve=st,tt&&Ct)e:{for(jt=fS,F=tt,B=Ct,K=0,st=F;st;st=jt(st))K++;st=0;for(var Pt=B;Pt;Pt=jt(Pt))st++;for(;0<K-st;)F=jt(F),K--;for(;0<st-K;)B=jt(B),st--;for(;K--;){if(F===B||B!==null&&F===B.alternate){jt=F;break e}F=jt(F),B=jt(B)}jt=null}else jt=null;tt!==null&&Wy(ot,W,tt,jt,!1),Ct!==null&&Ve!==null&&Wy(ot,Ve,Ct,jt,!0)}}t:{if(W=Y?Ut(Y):window,tt=W.nodeName&&W.nodeName.toLowerCase(),tt==="select"||tt==="input"&&W.type==="file")var Ee=No;else if(bs(W))if(qc)Ee=ad;else{Ee=sd;var Nt=Fs}else tt=W.nodeName,!tt||tt.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&ra(Y.elementType)&&(Ee=No):Ee=Ar;if(Ee&&(Ee=Ee(e,Y))){Bc(ot,Ee,o,it);break t}Nt&&Nt(e,W,Y),e==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&Qi(W,"number",W.value)}switch(Nt=Y?Ut(Y):window,e){case"focusin":(bs(Nt)||Nt.contentEditable==="true")&&(da=Nt,bl=Y,ko=null);break;case"focusout":ko=bl=da=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,Gc(ot,o,it);break;case"selectionchange":if(vl)break;case"keydown":case"keyup":Gc(ot,o,it)}var Xt;if(me)t:{switch(e){case"compositionstart":var le="onCompositionStart";break t;case"compositionend":le="onCompositionEnd";break t;case"compositionupdate":le="onCompositionUpdate";break t}le=void 0}else Er?Ua(e,o)&&(le="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(le="onCompositionStart");le&&(zi&&o.locale!=="ko"&&(Er||le!=="onCompositionStart"?le==="onCompositionEnd"&&Er&&(Xt=Wi()):(Di=it,Us="value"in Di?Di.value:Di.textContent,Er=!0)),Nt=Oh(Y,le),0<Nt.length&&(le=new $i(le,e,null,o,it),ot.push({event:le,listeners:Nt}),Xt?le.data=Xt:(Xt=Ba(o),Xt!==null&&(le.data=Xt)))),(Xt=Vi?ns(e,o):Sr(e,o))&&(le=Oh(Y,"onBeforeInput"),0<le.length&&(Nt=new $i("onBeforeInput","beforeinput",null,o,it),ot.push({event:Nt,listeners:le}),Nt.data=Xt)),lS(ot,e,Y,o,it)}Yy(ot,i)})}function Ju(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Oh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=wi(e,o),m!=null&&c.unshift(Ju(e,m,p)),m=wi(e,i),m!=null&&c.push(Ju(e,m,p))),e.tag===3)return c;e=e.return}return[]}function fS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,i,o,c,m){for(var p=i._reactName,T=[];o!==null&&o!==c;){var A=o,V=A.alternate,Y=A.stateNode;if(A=A.tag,V!==null&&V===c)break;A!==5&&A!==26&&A!==27||Y===null||(V=Y,m?(Y=wi(o,p),Y!=null&&T.unshift(Ju(o,Y,V))):m||(Y=wi(o,p),Y!=null&&T.push(Ju(o,Y,V)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var dS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(dS,`
`).replace(mS,"")}function Jy(e,i){return i=Xy(i),Xy(e)===i}function De(e,i,o,c,m,p){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||yn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&yn(e,""+c);break;case"className":Rt(e,"class",c);break;case"tabIndex":Rt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Rt(e,o,c);break;case"style":Da(e,c,p);break;case"data":if(i!=="object"){Rt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=oa(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&De(e,i,"name",m.name,m,null),De(e,i,"formEncType",m.formEncType,m,null),De(e,i,"formMethod",m.formMethod,m,null),De(e,i,"formTarget",m.formTarget,m,null)):(De(e,i,"encType",m.encType,m,null),De(e,i,"method",m.method,m,null),De(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=oa(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=si);break;case"onScroll":c!=null&&ae("scroll",e);break;case"onScrollEnd":c!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=oa(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":ae("beforetoggle",e),ae("toggle",e),qt(e,"popover",c);break;case"xlinkActuate":ze(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ze(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ze(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ze(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ze(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ze(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ze(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ze(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ze(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Va.get(o)||o,qt(e,o,c))}}function wm(e,i,o,c,m,p){switch(o){case"style":Da(e,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"children":typeof c=="string"?yn(e,c):(typeof c=="number"||typeof c=="bigint")&&yn(e,""+c);break;case"onScroll":c!=null&&ae("scroll",e);break;case"onScrollEnd":c!=null&&ae("scrollend",e);break;case"onClick":c!=null&&(e.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!be.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),p=e[nn]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(i,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):qt(e,o,c)}}}function Yn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var c=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:De(e,i,p,T,o,null)}}m&&De(e,i,"srcSet",o.srcSet,o,null),c&&De(e,i,"src",o.src,o,null);return;case"input":ae("invalid",e);var A=p=T=m=null,V=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var it=o[c];if(it!=null)switch(c){case"name":m=it;break;case"type":T=it;break;case"checked":V=it;break;case"defaultChecked":Y=it;break;case"value":p=it;break;case"defaultValue":A=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,i));break;default:De(e,i,c,it,o,null)}}Pa(e,p,A,V,Y,T,m,!1);return;case"select":ae("invalid",e),c=T=p=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:De(e,i,m,A,o,null)}i=p,o=T,e.multiple=!!c,i!=null?Oe(e,!!c,i,!1):o!=null&&Oe(e,!!c,o,!0);return;case"textarea":ae("invalid",e),p=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":m=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:De(e,i,T,A,o,null)}Pi(e,c,m,p);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":De(e,i,V,c,o,null));return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(c=0;c<Xu.length;c++)ae(Xu[c],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:De(e,i,Y,c,o,null)}return;default:if(ra(i)){for(it in o)o.hasOwnProperty(it)&&(c=o[it],c!==void 0&&wm(e,i,it,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&De(e,i,A,c,o,null))}function pS(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,T=null,A=null,V=null,Y=null,it=null;for(tt in o){var ot=o[tt];if(o.hasOwnProperty(tt)&&ot!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":V=ot;default:c.hasOwnProperty(tt)||De(e,i,tt,null,c,ot)}}for(var W in c){var tt=c[W];if(ot=o[W],c.hasOwnProperty(W)&&(tt!=null||ot!=null))switch(W){case"type":p=tt;break;case"name":m=tt;break;case"checked":Y=tt;break;case"defaultChecked":it=tt;break;case"value":T=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,i));break;default:tt!==ot&&De(e,i,W,tt,c,ot)}}_r(e,T,A,V,Y,it,p,m);return;case"select":tt=T=A=W=null;for(p in o)if(V=o[p],o.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":tt=V;default:c.hasOwnProperty(p)||De(e,i,p,null,c,V)}for(m in c)if(p=c[m],V=o[m],c.hasOwnProperty(m)&&(p!=null||V!=null))switch(m){case"value":W=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==V&&De(e,i,m,p,c,V)}i=A,o=T,c=tt,W!=null?Oe(e,!!o,W,!1):!!c!=!!o&&(i!=null?Oe(e,!!o,i,!0):Oe(e,!!o,o?[]:"",!1));return;case"textarea":tt=W=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:De(e,i,A,null,c,m)}for(T in c)if(m=c[T],p=o[T],c.hasOwnProperty(T)&&(m!=null||p!=null))switch(T){case"value":W=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==p&&De(e,i,T,m,c,p)}gs(e,W,tt);return;case"option":for(var Ct in o)W=o[Ct],o.hasOwnProperty(Ct)&&W!=null&&!c.hasOwnProperty(Ct)&&(Ct==="selected"?e.selected=!1:De(e,i,Ct,null,c,W));for(V in c)W=c[V],tt=o[V],c.hasOwnProperty(V)&&W!==tt&&(W!=null||tt!=null)&&(V==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":De(e,i,V,W,c,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in o)W=o[jt],o.hasOwnProperty(jt)&&W!=null&&!c.hasOwnProperty(jt)&&De(e,i,jt,null,c,W);for(Y in c)if(W=c[Y],tt=o[Y],c.hasOwnProperty(Y)&&W!==tt&&(W!=null||tt!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:De(e,i,Y,W,c,tt)}return;default:if(ra(i)){for(var Ve in o)W=o[Ve],o.hasOwnProperty(Ve)&&W!==void 0&&!c.hasOwnProperty(Ve)&&wm(e,i,Ve,void 0,c,W);for(it in c)W=c[it],tt=o[it],!c.hasOwnProperty(it)||W===tt||W===void 0&&tt===void 0||wm(e,i,it,W,c,tt);return}}for(var F in o)W=o[F],o.hasOwnProperty(F)&&W!=null&&!c.hasOwnProperty(F)&&De(e,i,F,null,c,W);for(ot in c)W=c[ot],tt=o[ot],!c.hasOwnProperty(ot)||W===tt||W==null&&tt==null||De(e,i,ot,W,c,tt)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],p=m.transferSize,T=m.initiatorType,A=m.duration;if(p&&A&&$y(T)){for(T=0,A=m.responseEnd,c+=1;c<o.length;c++){var V=o[c],Y=V.startTime;if(Y>A)break;var it=V.transferSize,ot=V.initiatorType;it&&$y(ot)&&(V=V.responseEnd,T+=it*(V<A?1:(A-Y)/(V-Y)))}if(--c,i+=8*(p+T)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Tm=null,Em=null;function Mh(e){return e.nodeType===9?e:e.ownerDocument}function tv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Sm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xm=null;function _S(){var e=window.event;return e&&e.type==="popstate"?e===xm?!1:(xm=e,!0):(xm=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(e){return iv.resolve(null).then(e).catch(bS)}:nv;function bS(e){setTimeout(function(){throw e})}function Gr(e){return e==="head"}function sv(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Zl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")$u(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,$u(o);for(var p=o.firstChild;p;){var T=p.nextSibling,A=p.nodeName;p[vi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&$u(e.ownerDocument.body);o=m}while(o);Zl(i)}function av(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Am(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Am(o),J(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function wS(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[vi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=As(e.nextSibling),e===null)break}return null}function TS(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=As(e.nextSibling),e===null))return null;return e}function rv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=As(e.nextSibling),e===null))return null;return e}function Cm(e){return e.data==="$?"||e.data==="$~"}function Im(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ES(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function As(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Rm=null;function ov(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return As(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function lv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function uv(e,i,o){switch(i=Mh(o),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function $u(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);J(e)}var Cs=new Map,cv=new Set;function kh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=pt.d;pt.d={f:SS,r:xS,D:AS,C:CS,L:IS,m:RS,X:OS,S:NS,M:MS};function SS(){var e=nr.f(),i=Sh();return e||i}function xS(e){var i=Tt(e);i!==null&&i.tag===5&&i.type==="form"?C_(i):nr.r(e)}var Hl=typeof document>"u"?null:document;function hv(e,i,o){var c=Hl;if(c&&typeof i=="string"&&i){var m=Ue(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),cv.has(m)||(cv.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),Yn(i,"link",e),fe(i),c.head.appendChild(i)))}}function AS(e){nr.D(e),hv("dns-prefetch",e,null)}function CS(e,i){nr.C(e,i),hv("preconnect",e,i)}function IS(e,i,o){nr.L(e,i,o);var c=Hl;if(c&&e&&i){var m='link[rel="preload"][as="'+Ue(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ue(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ue(o.imageSizes)+'"]')):m+='[href="'+Ue(e)+'"]';var p=m;switch(i){case"style":p=Fl(e);break;case"script":p=Gl(e)}Cs.has(p)||(e=N({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Cs.set(p,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(tc(p))||i==="script"&&c.querySelector(ec(p))||(i=c.createElement("link"),Yn(i,"link",e),fe(i),c.head.appendChild(i)))}}function RS(e,i){nr.m(e,i);var o=Hl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Ue(c)+'"][href="'+Ue(e)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Gl(e)}if(!Cs.has(p)&&(e=N({rel:"modulepreload",href:e},i),Cs.set(p,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ec(p)))return}c=o.createElement("link"),Yn(c,"link",e),fe(c),o.head.appendChild(c)}}}function NS(e,i,o){nr.S(e,i,o);var c=Hl;if(c&&e){var m=Ge(c).hoistableStyles,p=Fl(e);i=i||"default";var T=m.get(p);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(tc(p)))A.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Cs.get(p))&&Nm(e,o);var V=T=c.createElement("link");fe(V),Yn(V,"link",e),V._p=new Promise(function(Y,it){V.onload=Y,V.onerror=it}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Lh(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:A},m.set(p,T)}}}function OS(e,i){nr.X(e,i);var o=Hl;if(o&&e){var c=Ge(o).hoistableScripts,m=Gl(e),p=c.get(m);p||(p=o.querySelector(ec(m)),p||(e=N({src:e,async:!0},i),(i=Cs.get(m))&&Om(e,i),p=o.createElement("script"),fe(p),Yn(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function MS(e,i){nr.M(e,i);var o=Hl;if(o&&e){var c=Ge(o).hoistableScripts,m=Gl(e),p=c.get(m);p||(p=o.querySelector(ec(m)),p||(e=N({src:e,async:!0,type:"module"},i),(i=Cs.get(m))&&Om(e,i),p=o.createElement("script"),fe(p),Yn(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function fv(e,i,o,c){var m=(m=bt.current)?kh(m):null;if(!m)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Fl(o.href),o=Ge(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Fl(o.href);var p=Ge(m).hoistableStyles,T=p.get(e);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=m.querySelector(tc(e)))&&!p._p&&(T.instance=p,T.state.loading=5),Cs.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Cs.set(e,o),p||kS(m,e,o,T.state))),i&&c===null)throw Error(r(528,""));return T}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Gl(o),o=Ge(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fl(e){return'href="'+Ue(e)+'"'}function tc(e){return'link[rel="stylesheet"]['+e+"]"}function dv(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function kS(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Yn(i,"link",o),fe(i),e.head.appendChild(i))}function Gl(e){return'[src="'+Ue(e)+'"]'}function ec(e){return"script[async]"+e}function mv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ue(o.href)+'"]');if(c)return i.instance=c,fe(c),c;var m=N({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),fe(c),Yn(c,"style",m),Lh(c,o.precedence,e),i.instance=c;case"stylesheet":m=Fl(o.href);var p=e.querySelector(tc(m));if(p)return i.state.loading|=4,i.instance=p,fe(p),p;c=dv(o),(m=Cs.get(m))&&Nm(c,m),p=(e.ownerDocument||e).createElement("link"),fe(p);var T=p;return T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),Yn(p,"link",c),i.state.loading|=4,Lh(p,o.precedence,e),i.instance=p;case"script":return p=Gl(o.src),(m=e.querySelector(ec(p)))?(i.instance=m,fe(m),m):(c=o,(m=Cs.get(p))&&(c=N({},o),Om(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),fe(m),Yn(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Lh(c,o.precedence,e));return i.instance}function Lh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===i)p=A;else if(p!==m)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Nm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ph=null;function pv(e,i,o){if(Ph===null){var c=new Map,m=Ph=new Map;m.set(o,c)}else m=Ph,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var p=o[m];if(!(p[vi]||p[We]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=e+T;var A=c.get(T);A?A.push(p):c.set(T,[p])}}return c}function gv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function LS(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _v(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function PS(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Fl(c.href),p=i.querySelector(tc(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Dh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=p,fe(p);return}p=i.ownerDocument||i,c=dv(c),(m=Cs.get(m))&&Nm(c,m),p=p.createElement("link"),fe(p);var T=p;T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),Yn(p,"link",c),o.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Dh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Mm=0;function DS(e,i){return e.stylesheets&&e.count===0&&zh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+i);0<e.imgBytes&&Mm===0&&(Mm=62500*gS());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Mm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vh=null;function zh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vh=new Map,i.forEach(VS,e),Vh=null,Dh.call(e))}function VS(e,i){if(!(i.state.loading&4)){var o=Vh.get(e);if(o)var c=o.get(null);else{o=new Map,Vh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var T=m[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=i.instance,T=m.getAttribute("data-precedence"),p=o.get(T)||c,p===c&&o.set(null,m),o.set(T,m),this.count++,c=Dh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var nc={$$typeof:kt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function zS(e,i,o,c,m,p,T,A,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function yv(e,i,o,c,m,p,T,A,V,Y,it,ot){return e=new zS(e,i,o,T,V,Y,it,ot,A),i=1,p===!0&&(i|=24),p=ui(3,null,null,i),e.current=p,p.stateNode=e,i=hd(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:i},pd(p),e}function vv(e){return e?(e=qa,e):qa}function bv(e,i,o,c,m,p){m=vv(m),c.context===null?c.context=m:c.pendingContext=m,c=Lr(i),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Pr(e,c,i),o!==null&&(Zi(o,e,i),Lu(o,e,i))}function wv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function km(e,i){wv(e,i),(e=e.alternate)&&wv(e,i)}function Tv(e){if(e.tag===13||e.tag===31){var i=Es(e,67108864);i!==null&&Zi(i,e,67108864),km(e,67108864)}}function Ev(e){if(e.tag===13||e.tag===31){var i=os();i=_n(i);var o=Es(e,i);o!==null&&Zi(o,e,i),km(e,i)}}var jh=!0;function jS(e,i,o,c){var m=$.T;$.T=null;var p=pt.p;try{pt.p=2,Lm(e,i,o,c)}finally{pt.p=p,$.T=m}}function US(e,i,o,c){var m=$.T;$.T=null;var p=pt.p;try{pt.p=8,Lm(e,i,o,c)}finally{pt.p=p,$.T=m}}function Lm(e,i,o,c){if(jh){var m=Pm(c);if(m===null)bm(e,i,c,Uh,o),xv(e,c);else if(qS(m,e,i,o,c))c.stopPropagation();else if(xv(e,c),i&4&&-1<BS.indexOf(e)){for(;m!==null;){var p=Tt(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Rn(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var V=1<<31-Fe(T);A.entanglements[1]|=V,T&=~V}wa(p),(Ce&6)===0&&(Th=gn()+500,Wu(0))}}break;case 31:case 13:A=Es(p,2),A!==null&&Zi(A,p,2),Sh(),km(p,2)}if(p=Pm(c),p===null&&bm(e,i,c,Uh,o),p===m)break;m=p}m!==null&&c.stopPropagation()}else bm(e,i,c,null,o)}}function Pm(e){return e=ai(e),Dm(e)}var Uh=null;function Dm(e){if(Uh=null,e=ct(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=g(i),e!==null)return e;e=null}else if(o===31){if(e=b(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Uh=e,null}function Sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case fs:return 2;case ee:return 8;case $n:case ne:return 32;case ti:return 268435456;default:return 32}default:return 32}}var Vm=!1,Zr=null,Kr=null,Yr=null,ic=new Map,sc=new Map,Qr=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(e,i){switch(e){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":ic.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(i.pointerId)}}function ac(e,i,o,c,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},i!==null&&(i=Tt(i),i!==null&&Tv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function qS(e,i,o,c,m){switch(i){case"focusin":return Zr=ac(Zr,e,i,o,c,m),!0;case"dragenter":return Kr=ac(Kr,e,i,o,c,m),!0;case"mouseover":return Yr=ac(Yr,e,i,o,c,m),!0;case"pointerover":var p=m.pointerId;return ic.set(p,ac(ic.get(p)||null,e,i,o,c,m)),!0;case"gotpointercapture":return p=m.pointerId,sc.set(p,ac(sc.get(p)||null,e,i,o,c,m)),!0}return!1}function Av(e){var i=ct(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=g(o),i!==null){e.blockedOn=i,ni(e.priority,function(){Ev(o)});return}}else if(i===31){if(i=b(o),i!==null){e.blockedOn=i,ni(e.priority,function(){Ev(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Pm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);vr=c,o.target.dispatchEvent(c),vr=null}else return i=Tt(o),i!==null&&Tv(i),e.blockedOn=o,!1;i.shift()}return!0}function Cv(e,i,o){Bh(e)&&o.delete(i)}function HS(){Vm=!1,Zr!==null&&Bh(Zr)&&(Zr=null),Kr!==null&&Bh(Kr)&&(Kr=null),Yr!==null&&Bh(Yr)&&(Yr=null),ic.forEach(Cv),sc.forEach(Cv)}function qh(e,i){e.blockedOn===i&&(e.blockedOn=null,Vm||(Vm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,HS)))}var Hh=null;function Iv(e){Hh!==e&&(Hh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Dm(c||o)===null)continue;break}var p=Tt(o);p!==null&&(e.splice(i,3),i-=3,Pd(p,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Zl(e){function i(V){return qh(V,e)}Zr!==null&&qh(Zr,e),Kr!==null&&qh(Kr,e),Yr!==null&&qh(Yr,e),ic.forEach(i),sc.forEach(i);for(var o=0;o<Qr.length;o++){var c=Qr[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Qr.length&&(o=Qr[0],o.blockedOn===null);)Av(o),o.blockedOn===null&&Qr.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],p=o[c+1],T=m[nn]||null;if(typeof p=="function")T||Iv(o);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(m=p,T=p[nn]||null)A=T.formAction;else if(Dm(m)!==null)continue}else A=T.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),Iv(o)}}}function Rv(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function zm(e){this._internalRoot=e}Fh.prototype.render=zm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=os();bv(o,c,e,i,null,null)},Fh.prototype.unmount=zm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;bv(e.current,2,null,e,null,null),Sh(),i[ii]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ps();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Qr.length&&i!==0&&i<Qr[o].priority;o++);Qr.splice(o,0,e),o===0&&Av(e)}};var Nv=t.version;if(Nv!=="19.2.4")throw Error(r(527,Nv,"19.2.4"));pt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=E(i),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var FS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Ln=Gh.inject(FS),He=Gh}catch{}}return oc.createRoot=function(e,i){if(!u(e))throw Error(r(299));var o=!1,c="",m=V_,p=z_,T=j_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=yv(e,1,!1,null,null,o,c,null,m,p,T,Rv),e[ii]=i.current,vm(e),new zm(i)},oc.hydrateRoot=function(e,i,o){if(!u(e))throw Error(r(299));var c=!1,m="",p=V_,T=z_,A=j_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),i=yv(e,1,!0,i,o??null,c,m,V,p,T,A,Rv),i.context=vv(null),o=i.current,c=os(),c=_n(c),m=Lr(c),m.callback=null,Pr(o,m,c),o=c,i.current.lanes=o,ki(i,o),wa(i),e[ii]=i.current,vm(e),new Fh(i)},oc.version="19.2.4",oc}var Uv;function ex(){if(Uv)return Bm.exports;Uv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Bm.exports=tx(),Bm.exports}var nx=ex();const ix=kp(nx);var cc={exports:{}};var sx=cc.exports,Bv;function ax(){return Bv||(Bv=1,(function(a,t){(function(n,r){r(t)})(sx,(function(n){var r="1.9.4";function u(s){var l,d,_,w;for(d=1,_=arguments.length;d<_;d++){w=arguments[d];for(l in w)s[l]=w[l]}return s}var h=Object.create||(function(){function s(){}return function(l){return s.prototype=l,new s}})();function g(s,l){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(l,_.length?_.concat(d.call(arguments)):arguments)}}var b=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++b),s._leaflet_id}function E(s,l,d){var _,w,x,k;return k=function(){_=!1,w&&(x.apply(d,w),w=!1)},x=function(){_?w=arguments:(s.apply(d,arguments),setTimeout(k,l),_=!0)},x}function C(s,l,d){var _=l[1],w=l[0],x=_-w;return s===_&&d?s:((s-w)%x+x)%x+w}function N(){return!1}function M(s,l){if(l===!1)return s;var d=Math.pow(10,l===void 0?6:l);return Math.round(s*d)/d}function et(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function ft(s){return et(s).split(/\s+/)}function ut(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in l)s.options[d]=l[d];return s.options}function yt(s,l,d){var _=[];for(var w in s)_.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!l||l.indexOf("?")===-1?"?":"&")+_.join("&")}var Ot=/\{ *([\w_ -]+) *\}/g;function Vt(s,l){return s.replace(Ot,function(d,_){var w=l[_];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(l)),w})}var kt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function _e(s,l){for(var d=0;d<s.length;d++)if(s[d]===l)return d;return-1}var ye="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $t(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var j=0;function O(s){var l=+new Date,d=Math.max(0,16-(l-j));return j=l+d,window.setTimeout(s,d)}var D=window.requestAnimationFrame||$t("RequestAnimationFrame")||O,H=window.cancelAnimationFrame||$t("CancelAnimationFrame")||$t("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function U(s,l,d){if(d&&D===O)s.call(l);else return D.call(window,g(s,l))}function q(s){s&&H.call(window,s)}var P={__proto__:null,extend:u,create:h,bind:g,get lastId(){return b},stamp:v,throttle:E,wrapNum:C,falseFn:N,formatNum:M,trim:et,splitWords:ft,setOptions:ut,getParamString:yt,template:Vt,isArray:kt,indexOf:_e,emptyImageUrl:ye,requestFn:D,cancelFn:H,requestAnimFrame:U,cancelAnimFrame:q};function Lt(){}Lt.extend=function(s){var l=function(){ut(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,_=h(d);_.constructor=l,l.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(l[w]=this[w]);return s.statics&&u(l,s.statics),s.includes&&(tn(s.includes),u.apply(null,[_].concat(s.includes))),u(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},u(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,k=_._initHooks.length;x<k;x++)_._initHooks[x].call(this)}},l},Lt.include=function(s){var l=this.prototype.options;return u(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},Lt.mergeOptions=function(s){return u(this.prototype.options,s),this},Lt.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function tn(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=kt(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(s,l,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],l);else{s=ft(s);for(var w=0,x=s.length;w<x;w++)this._on(s[w],l,d)}return this},off:function(s,l,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],l);else{s=ft(s);for(var w=arguments.length===1,x=0,k=s.length;x<k;x++)w?this._off(s[x]):this._off(s[x],l,d)}return this},_on:function(s,l,d,_){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,d)===!1){d===this&&(d=void 0);var w={fn:l,ctx:d};_&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,l,d){var _,w,x;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,x=_.length;w<x;w++)_[w].fn=N;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var k=this._listens(s,l,d);if(k!==!1){var G=_[k];this._firingCount&&(G.fn=N,this._events[s]=_=_.slice()),_.splice(k,1)}}},fire:function(s,l,d){if(!this.listens(s,d))return this;var _=u({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var x=0,k=w.length;x<k;x++){var G=w[x],Q=G.fn;G.once&&this.off(s,Q,G.ctx),Q.call(G.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,l,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var w=l;typeof l!="function"&&(_=!!l,w=void 0,d=void 0);var x=this._events&&this._events[s];if(x&&x.length&&this._listens(s,w,d)!==!1)return!0;if(_){for(var k in this._eventParents)if(this._eventParents[k].listens(s,l,d,_))return!0}return!1},_listens:function(s,l,d){if(!this._events)return!1;var _=this._events[s]||[];if(!l)return!!_.length;d===this&&(d=void 0);for(var w=0,x=_.length;w<x;w++)if(_[w].fn===l&&_[w].ctx===d)return w;return!1},once:function(s,l,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],l,!0);else{s=ft(s);for(var w=0,x=s.length;w<x;w++)this._on(s[w],l,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,u({layer:s.target,propagatedFrom:s.target},s),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var pt=Lt.extend($);function ht(s,l,d){this.x=d?Math.round(s):s,this.y=d?Math.round(l):l}var te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ht.prototype={clone:function(){return new ht(this.x,this.y)},add:function(s){return this.clone()._add(wt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(wt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ht(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ht(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(s){s=wt(s);var l=s.x-this.x,d=s.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(s){return s=wt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=wt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function wt(s,l,d){return s instanceof ht?s:kt(s)?new ht(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ht(s.x,s.y):new ht(s,l,d)}function z(s,l){if(s)for(var d=l?[s,l]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}z.prototype={extend:function(s){var l,d;if(!s)return this;if(s instanceof ht||typeof s[0]=="number"||"x"in s)l=d=wt(s);else if(s=nt(s),l=s.min,d=s.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return wt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return wt(this.min.x,this.max.y)},getTopRight:function(){return wt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,d;return typeof s[0]=="number"||s instanceof ht?s=wt(s):s=nt(s),s instanceof z?(l=s.min,d=s.max):l=d=s,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=nt(s);var l=this.min,d=this.max,_=s.min,w=s.max,x=w.x>=l.x&&_.x<=d.x,k=w.y>=l.y&&_.y<=d.y;return x&&k},overlaps:function(s){s=nt(s);var l=this.min,d=this.max,_=s.min,w=s.max,x=w.x>l.x&&_.x<d.x,k=w.y>l.y&&_.y<d.y;return x&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,d=this.max,_=Math.abs(l.x-d.x)*s,w=Math.abs(l.y-d.y)*s;return nt(wt(l.x-_,l.y-w),wt(d.x+_,d.y+w))},equals:function(s){return s?(s=nt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function nt(s,l){return!s||s instanceof z?s:new z(s,l)}function dt(s,l){if(s)for(var d=l?[s,l]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}dt.prototype={extend:function(s){var l=this._southWest,d=this._northEast,_,w;if(s instanceof vt)_=s,w=s;else if(s instanceof dt){if(_=s._southWest,w=s._northEast,!_||!w)return this}else return s?this.extend(bt(s)||mt(s)):this;return!l&&!d?(this._southWest=new vt(_.lat,_.lng),this._northEast=new vt(w.lat,w.lng)):(l.lat=Math.min(_.lat,l.lat),l.lng=Math.min(_.lng,l.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(s){var l=this._southWest,d=this._northEast,_=Math.abs(l.lat-d.lat)*s,w=Math.abs(l.lng-d.lng)*s;return new dt(new vt(l.lat-_,l.lng-w),new vt(d.lat+_,d.lng+w))},getCenter:function(){return new vt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new vt(this.getNorth(),this.getWest())},getSouthEast:function(){return new vt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof vt||"lat"in s?s=bt(s):s=mt(s);var l=this._southWest,d=this._northEast,_,w;return s instanceof dt?(_=s.getSouthWest(),w=s.getNorthEast()):_=w=s,_.lat>=l.lat&&w.lat<=d.lat&&_.lng>=l.lng&&w.lng<=d.lng},intersects:function(s){s=mt(s);var l=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),x=w.lat>=l.lat&&_.lat<=d.lat,k=w.lng>=l.lng&&_.lng<=d.lng;return x&&k},overlaps:function(s){s=mt(s);var l=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),x=w.lat>l.lat&&_.lat<d.lat,k=w.lng>l.lng&&_.lng<d.lng;return x&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=mt(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function mt(s,l){return s instanceof dt?s:new dt(s,l)}function vt(s,l,d){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,d!==void 0&&(this.alt=+d)}vt.prototype={equals:function(s,l){if(!s)return!1;s=bt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+M(this.lat,s)+", "+M(this.lng,s)+")"},distanceTo:function(s){return xe.distance(this,bt(s))},wrap:function(){return xe.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,d=l/Math.cos(Math.PI/180*this.lat);return mt([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new vt(this.lat,this.lng,this.alt)}};function bt(s,l,d){return s instanceof vt?s:kt(s)&&typeof s[0]!="object"?s.length===3?new vt(s[0],s[1],s[2]):s.length===2?new vt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new vt(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new vt(s,l,d)}var Gt={latLngToPoint:function(s,l){var d=this.projection.project(s),_=this.scale(l);return this.transformation._transform(d,_)},pointToLatLng:function(s,l){var d=this.scale(l),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(l.min,d),w=this.transformation.transform(l.max,d);return new z(_,w)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?C(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?C(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new vt(d,l,_)},wrapLatLngBounds:function(s){var l=s.getCenter(),d=this.wrapLatLng(l),_=l.lat-d.lat,w=l.lng-d.lng;if(_===0&&w===0)return s;var x=s.getSouthWest(),k=s.getNorthEast(),G=new vt(x.lat-_,x.lng-w),Q=new vt(k.lat-_,k.lng-w);return new dt(G,Q)}},xe=u({},Gt,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var d=Math.PI/180,_=s.lat*d,w=l.lat*d,x=Math.sin((l.lat-s.lat)*d/2),k=Math.sin((l.lng-s.lng)*d/2),G=x*x+Math.cos(_)*Math.cos(w)*k*k,Q=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*Q}}),Ie=6378137,Jn={R:Ie,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),w=Math.sin(_*l);return new ht(this.R*s.lng*l,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var l=180/Math.PI;return new vt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(function(){var s=Ie*Math.PI;return new z([-s,-s],[s,s])})()};function cs(s,l,d,_){if(kt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=d,this._d=_}cs.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new ht((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Ii(s,l,d,_){return new cs(s,l,d,_)}var hs=u({},xe,{code:"EPSG:3857",projection:Jn,transformation:(function(){var s=.5/(Math.PI*Jn.R);return Ii(s,.5,-s,.5)})()}),Ri=u({},hs,{code:"EPSG:900913"});function Ms(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function kn(s,l){var d="",_,w,x,k,G,Q;for(_=0,x=s.length;_<x;_++){for(G=s[_],w=0,k=G.length;w<k;w++)Q=G[w],d+=(w?"L":"M")+Q.x+" "+Q.y;d+=l?xt.svg?"z":"x":""}return d||"M0 0"}var Ni=document.documentElement.style,In="ActiveXObject"in window,en=In&&!document.addEventListener,Ye="msLaunchUri"in navigator&&!("documentMode"in document),pi=_n("webkit"),bo=_n("android"),fr=_n("android 2")||_n("android 3"),gn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ia=bo&&_n("Google")&&gn<537&&!("AudioNode"in window),fs=!!window.opera,ee=!Ye&&_n("chrome"),$n=_n("gecko")&&!pi&&!fs&&!In,ne=!ee&&_n("safari"),ti=_n("phantom"),Oa="OTransition"in Ni,Ma=navigator.platform.indexOf("Win")===0,Ln=In&&"transition"in Ni,He="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!fr,cn="MozPerspective"in Ni,Fe=!window.L_DISABLE_3D&&(Ln||He||cn)&&!Oa&&!ti,ei=typeof orientation<"u"||_n("mobile"),sa=ei&&pi,dr=ei&&He,gi=!window.PointerEvent&&window.MSPointerEvent,Le=!!(window.PointerEvent||gi),Qe="ontouchstart"in window||!!window.TouchEvent,Rn=!window.L_NO_TOUCH&&(Qe||Le),_i=ei&&fs,yi=ei&&$n,Oi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ka=(function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",N,l),window.removeEventListener("testPassiveEventSupport",N,l)}catch{}return s})(),Mi=(function(){return!!document.createElement("canvas").getContext})(),ki=!!(document.createElementNS&&Ms("svg").createSVGRect),mr=!!ki&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ks=!ki&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Ls=navigator.platform.indexOf("Mac")===0,La=navigator.platform.indexOf("Linux")===0;function _n(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var xt={ie:In,ielt9:en,edge:Ye,webkit:pi,android:bo,android23:fr,androidStock:ia,opera:fs,chrome:ee,gecko:$n,safari:ne,phantom:ti,opera12:Oa,win:Ma,ie3d:Ln,webkit3d:He,gecko3d:cn,any3d:Fe,mobile:ei,mobileWebkit:sa,mobileWebkit3d:dr,msPointer:gi,pointer:Le,touch:Rn,touchNative:Qe,mobileOpera:_i,mobileGecko:yi,retina:Oi,passiveEvents:ka,canvas:Mi,svg:ki,vml:ks,inlineSvg:mr,mac:Ls,linux:La},Ps=xt.msPointer?"MSPointerDown":"pointerdown",ni=xt.msPointer?"MSPointerMove":"pointermove",Fn=xt.msPointer?"MSPointerUp":"pointerup",We=xt.msPointer?"MSPointerCancel":"pointercancel",nn={touchstart:Ps,touchmove:ni,touchend:Fn,touchcancel:We},ii={touchstart:Ge,touchmove:Ut,touchend:Ut,touchcancel:Ut},hn={},pr=!1;function aa(s,l,d){return l==="touchstart"&&Tt(),ii[l]?(d=ii[l].bind(this,d),s.addEventListener(nn[l],d,!1),d):(console.warn("wrong event specified:",l),N)}function gr(s,l,d){if(!nn[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(nn[l],d,!1)}function vi(s){hn[s.pointerId]=s}function J(s){hn[s.pointerId]&&(hn[s.pointerId]=s)}function ct(s){delete hn[s.pointerId]}function Tt(){pr||(document.addEventListener(Ps,vi,!0),document.addEventListener(ni,J,!0),document.addEventListener(Fn,ct,!0),document.addEventListener(We,ct,!0),pr=!0)}function Ut(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in hn)l.touches.push(hn[d]);l.changedTouches=[l],s(l)}}function Ge(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Xe(l),Ut(s,l)}function fe(s){var l={},d,_;for(_ in s)d=s[_],l[_]=d&&d.bind?d.bind(s):d;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Ne=200;function be(s,l){s.addEventListener("dblclick",l);var d=0,_;function w(x){if(x.detail!==1){_=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var k=ua(x);if(!(k.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!k.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var G=Date.now();G-d<=Ne?(_++,_===2&&l(fe(x))):_=1,d=G}}}return s.addEventListener("click",w),{dblclick:l,simDblclick:w}}function Pn(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Gn=Pa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bi=Pa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ds=bi==="webkitTransition"||bi==="OTransition"?bi+"End":"transitionend";function ds(s){return typeof s=="string"?document.getElementById(s):s}function Ze(s,l){var d=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[l]:null}return d==="auto"?null:d}function qt(s,l,d){var _=document.createElement(s);return _.className=l||"",d&&d.appendChild(_),_}function Rt(s){var l=s.parentNode;l&&l.removeChild(s)}function ze(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function je(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Dn(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function ms(s,l){if(s.classList!==void 0)return s.classList.contains(l);var d=ps(s);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function St(s,l){if(s.classList!==void 0)for(var d=ft(l),_=0,w=d.length;_<w;_++)s.classList.add(d[_]);else if(!ms(s,l)){var x=ps(s);Li(s,(x?x+" ":"")+l)}}function Ae(s,l){s.classList!==void 0?s.classList.remove(l):Li(s,et((" "+ps(s)+" ").replace(" "+l+" "," ")))}function Li(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function ps(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ue(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&_r(s,l)}function _r(s,l){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):s.style.filter+=" progid:"+_+"(opacity="+l+")"}function Pa(s){for(var l=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in l)return s[d];return!1}function Qi(s,l,d){var _=l||new ht(0,0);s.style[Gn]=(xt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Oe(s,l){s._leaflet_pos=l,xt.any3d?Qi(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function gs(s){return s._leaflet_pos||new ht(0,0)}var Pi,yn,yr;if("onselectstart"in document)Pi=function(){zt(window,"selectstart",Xe)},yn=function(){ve(window,"selectstart",Xe)};else{var Vs=Pa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pi=function(){if(Vs){var s=document.documentElement.style;yr=s[Vs],s[Vs]="none"}},yn=function(){Vs&&(document.documentElement.style[Vs]=yr,yr=void 0)}}function Da(){zt(window,"dragstart",Xe)}function ra(){ve(window,"dragstart",Xe)}var Va,_s;function oa(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(si(),Va=s,_s=s.style.outlineStyle,s.style.outlineStyle="none",zt(window,"keydown",si))}function si(){Va&&(Va.style.outlineStyle=_s,Va=void 0,_s=void 0,ve(window,"keydown",si))}function vr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function ai(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var la={__proto__:null,TRANSFORM:Gn,TRANSITION:bi,TRANSITION_END:Ds,get:ds,getStyle:Ze,create:qt,remove:Rt,empty:ze,toFront:je,toBack:Dn,hasClass:ms,addClass:St,removeClass:Ae,setClass:Li,getClass:ps,setOpacity:Ue,testProp:Pa,setTransform:Qi,setPosition:Oe,getPosition:gs,get disableTextSelection(){return Pi},get enableTextSelection(){return yn},disableImageDrag:Da,enableImageDrag:ra,preventOutline:oa,restoreOutline:si,getSizedParentNode:vr,getScale:ai};function zt(s,l,d,_){if(l&&typeof l=="object")for(var w in l)ri(s,w,l[w],d);else{l=ft(l);for(var x=0,k=l.length;x<k;x++)ri(s,l[x],d,_)}return this}var Vn="_leaflet_events";function ve(s,l,d,_){if(arguments.length===1)zs(s),delete s[Vn];else if(l&&typeof l=="object")for(var w in l)js(s,w,l[w],d);else if(l=ft(l),arguments.length===2)zs(s,function(G){return _e(l,G)!==-1});else for(var x=0,k=l.length;x<k;x++)js(s,l[x],d,_);return this}function zs(s,l){for(var d in s[Vn]){var _=d.split(/\d/)[0];(!l||l(_))&&js(s,_,null,null,d)}}var wi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ri(s,l,d,_){var w=l+v(d)+(_?"_"+v(_):"");if(s[Vn]&&s[Vn][w])return this;var x=function(G){return d.call(_||s,G||window.event)},k=x;!xt.touchNative&&xt.pointer&&l.indexOf("touch")===0?x=aa(s,l,x):xt.touch&&l==="dblclick"?x=be(s,x):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(wi[l]||l,x,xt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(x=function(G){G=G||window.event,Ji(s,G)&&k(G)},s.addEventListener(wi[l],x,!1)):s.addEventListener(l,k,!1):s.attachEvent("on"+l,x),s[Vn]=s[Vn]||{},s[Vn][w]=x}function js(s,l,d,_,w){w=w||l+v(d)+(_?"_"+v(_):"");var x=s[Vn]&&s[Vn][w];if(!x)return this;!xt.touchNative&&xt.pointer&&l.indexOf("touch")===0?gr(s,l,x):xt.touch&&l==="dblclick"?Pn(s,x):"removeEventListener"in s?s.removeEventListener(wi[l]||l,x,!1):s.detachEvent("on"+l,x),s[Vn][w]=null}function re(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Di(s){return ri(s,"wheel",re),this}function Us(s){return zt(s,"mousedown touchstart dblclick contextmenu",re),s._leaflet_disable_click=!0,this}function Xe(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Wi(s){return Xe(s),re(s),this}function ua(s){if(s.composedPath)return s.composedPath();for(var l=[],d=s.target;d;)l.push(d),d=d.parentNode;return l}function ys(s,l){if(!l)return new ht(s.clientX,s.clientY);var d=ai(l),_=d.boundingClientRect;return new ht((s.clientX-_.left)/d.x-l.clientLeft,(s.clientY-_.top)/d.y-l.clientTop)}var Xi=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vn(s){return xt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Xi:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ji(s,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var vs={__proto__:null,on:zt,off:ve,stopPropagation:re,disableScrollPropagation:Di,disableClickPropagation:Us,preventDefault:Xe,stop:Wi,getPropagationPath:ua,getMousePosition:ys,getWheelDelta:vn,isExternalTarget:Ji,addListener:zt,removeListener:ve},Bs=pt.extend({run:function(s,l,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=gs(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var d=this._startPos.add(this._offset.multiplyBy(s));l&&d._round(),Oe(this._el,d),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Jt=pt.extend({options:{crs:hs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=ut(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(bt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bi&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,Ds,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(bt(s),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=u({animate:d.animate},d.zoom),d.pan=u({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,d){var _=this.getZoomScale(l),w=this.getSize().divideBy(2),x=s instanceof ht?s:this.latLngToContainerPoint(s),k=x.subtract(w).multiplyBy(1-1/_),G=this.containerPointToLatLng(w.add(k));return this.setView(G,l,{zoom:d})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():mt(s);var d=wt(l.paddingTopLeft||l.padding||[0,0]),_=wt(l.paddingBottomRight||l.padding||[0,0]),w=this.getBoundsZoom(s,!1,d.add(_));if(w=typeof l.maxZoom=="number"?Math.min(l.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var x=_.subtract(d).divideBy(2),k=this.project(s.getSouthWest(),w),G=this.project(s.getNorthEast(),w),Q=this.unproject(k.add(G).divideBy(2).add(x),w);return{center:Q,zoom:w}},fitBounds:function(s,l){if(s=mt(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=wt(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,d){if(d=d||{},d.animate===!1||!xt.any3d)return this.setView(s,l,d);this._stop();var _=this.project(this.getCenter()),w=this.project(s),x=this.getSize(),k=this._zoom;s=bt(s),l=l===void 0?k:l;var G=Math.max(x.x,x.y),Q=G*this.getZoomScale(k,l),rt=w.distanceTo(_)||1,_t=1.42,Mt=_t*_t;function Wt(an){var Zs=an?-1:1,Fa=an?Q:G,Ru=Q*Q-G*G+Zs*Mt*Mt*rt*rt,Uo=2*Fa*Mt*rt,Bo=Ru/Uo,va=Math.sqrt(Bo*Bo+1)-Bo,Ks=va<1e-9?-18:Math.log(va);return Ks}function Nn(an){return(Math.exp(an)-Math.exp(-an))/2}function on(an){return(Math.exp(an)+Math.exp(-an))/2}function Si(an){return Nn(an)/on(an)}var we=Wt(0);function Te(an){return G*(on(we)/on(we+_t*an))}function ie(an){return G*(on(we)*Si(we+_t*an)-Nn(we))/Mt}function _a(an){return 1-Math.pow(1-an,1.5)}var Bi=Date.now(),xl=(Wt(1)-we)/_t,ya=d.duration?1e3*d.duration:1e3*xl*.8;function Iu(){var an=(Date.now()-Bi)/ya,Zs=_a(an)*xl;an<=1?(this._flyToFrame=U(Iu,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(ie(Zs)/rt)),k),this.getScaleZoom(G/Te(Zs),k),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Iu.call(this),this},flyToBounds:function(s,l){var d=this._getBoundsCenterZoom(s,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(s){return s=mt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,mt(s));return d.equals(_)||this.panTo(_,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var d=wt(l.paddingTopLeft||l.padding||[0,0]),_=wt(l.paddingBottomRight||l.padding||[0,0]),w=this.project(this.getCenter()),x=this.project(s),k=this.getPixelBounds(),G=nt([k.min.add(d),k.max.subtract(_)]),Q=G.getSize();if(!G.contains(x)){this._enforcingBounds=!0;var rt=x.subtract(G.getCenter()),_t=G.extend(x).getSize().subtract(Q);w.x+=rt.x<0?-_t.x:_t.x,w.y+=rt.y<0?-_t.y:_t.y,this.panTo(this.unproject(w),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=u({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=l.divideBy(2).round(),w=d.divideBy(2).round(),x=_.subtract(w);return!x.x&&!x.y?this:(s.animate&&s.pan?this.panBy(x):(s.pan&&this._rawPanBy(x),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=u({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=g(this._handleGeolocationResponse,this),d=g(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,s):navigator.geolocation.getCurrentPosition(l,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,d=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,d=s.coords.longitude,_=new vt(l,d),w=_.toBounds(s.coords.accuracy*2),x=this._locateOptions;if(x.setView){var k=this.getBoundsZoom(w);this.setView(_,x.maxZoom?Math.min(k,x.maxZoom):k)}var G={latlng:_,bounds:w,timestamp:s.timestamp};for(var Q in s.coords)typeof s.coords[Q]=="number"&&(G[Q]=s.coords[Q]);this.fire("locationfound",G)}},addHandler:function(s,l){if(!l)return this;var d=this[s]=new l(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Rt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=qt("div",d,l||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new dt(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,d){s=mt(s),d=wt(d||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),x=this.getMaxZoom(),k=s.getNorthWest(),G=s.getSouthEast(),Q=this.getSize().subtract(d),rt=nt(this.project(G,_),this.project(k,_)).getSize(),_t=xt.any3d?this.options.zoomSnap:1,Mt=Q.x/rt.x,Wt=Q.y/rt.y,Nn=l?Math.max(Mt,Wt):Math.min(Mt,Wt);return _=this.getScaleZoom(Nn,_),_t&&(_=Math.round(_/(_t/100))*(_t/100),_=l?Math.ceil(_/_t)*_t:Math.floor(_/_t)*_t),Math.max(w,Math.min(x,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ht(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var d=this._getTopLeftPoint(s,l);return new z(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(s)/d.scale(l)},getScaleZoom:function(s,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var _=d.zoom(s*d.scale(l));return isNaN(_)?1/0:_},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(bt(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(wt(s),l)},layerPointToLatLng:function(s){var l=wt(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(bt(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(bt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(mt(s))},distance:function(s,l){return this.options.crs.distance(bt(s),bt(l))},containerPointToLayerPoint:function(s){return wt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return wt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(wt(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(s)))},mouseEventToContainerPoint:function(s){return ys(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=ds(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,St(s,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ze(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Oe(this._mapPane,new ht(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(s.markerPane,"leaflet-zoom-hide"),St(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,d){Oe(this._mapPane,new ht(0,0));var _=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var w=this._zoom!==l;this._moveStart(w,d)._move(s,l)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,d,_){l===void 0&&(l=this._zoom);var w=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Oe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var l=s?ve:zt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var d=[],_,w=l==="mouseout"||l==="mouseover",x=s.target||s.srcElement,k=!1;x;){if(_=this._targets[v(x)],_&&(l==="click"||l==="preclick")&&this._draggableMoved(_)){k=!0;break}if(_&&_.listens(l,!0)&&(w&&!Ji(x,s)||(d.push(_),w))||x===this._container)break;x=x.parentNode}return!d.length&&!k&&!w&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var d=s.type;d==="mousedown"&&oa(l),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,d){if(s.type==="click"){var _=u({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var w=this._findEventTargets(s,l);if(d){for(var x=[],k=0;k<d.length;k++)d[k].listens(l,!0)&&x.push(d[k]);w=x.concat(w)}if(w.length){l==="contextmenu"&&Xe(s);var G=w[0],Q={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var rt=G.getLatLng&&(!G._radius||G._radius<=10);Q.containerPoint=rt?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(s),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=rt?G.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(k=0;k<w.length;k++)if(w[k].fire(l,Q,!0),Q.originalEvent._stopped||w[k].options.bubblingMouseEvents===!1&&_e(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return gs(this._mapPane)||new ht(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var d=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var d=this.getSize()._divideBy(2);return this.project(s,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,d){var _=this._getNewPixelOrigin(d,l);return this.project(s,l)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,l,d){var _=this._getNewPixelOrigin(d,l);return nt([this.project(s.getSouthWest(),l)._subtract(_),this.project(s.getNorthWest(),l)._subtract(_),this.project(s.getSouthEast(),l)._subtract(_),this.project(s.getNorthEast(),l)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,d){if(!d)return s;var _=this.project(s,l),w=this.getSize().divideBy(2),x=new z(_.subtract(w),_.add(w)),k=this._getBoundsOffset(x,d,l);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?s:this.unproject(_.add(k),l)},_limitOffset:function(s,l){if(!l)return s;var d=this.getPixelBounds(),_=new z(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,l))},_getBoundsOffset:function(s,l,d){var _=nt(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),w=_.min.subtract(s.min),x=_.max.subtract(s.max),k=this._rebound(w.x,-x.x),G=this._rebound(w.y,-x.y);return new ht(k,G)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),d=this.getMaxZoom(),_=xt.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(l,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var d=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var s=this._proxy=qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var d=Gn,_=this._proxy.style[d];Qi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Qi(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(l),w=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(w)?!1:(U(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ca(s,l){return new Jt(s,l)}var zn=Lt.extend({options:{position:"topright"},initialize:function(s){ut(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return St(l,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(l,_.firstChild):_.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),oi=function(s){return new zn(s)};Jt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",d=this._controlContainer=qt("div",l+"control-container",this._container);function _(w,x){var k=l+w+" "+l+x;s[w+x]=qt("div",k,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Rt(this._controlCorners[s]);Rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var za=zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,l,d){ut(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in l)this._addLayer(l[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return zn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ae(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=qt("div",s),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Us(l),Di(l);var _=this._section=qt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),zt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=qt("a",s+"-toggle",l);w.href="#",w.title="Layers",w.setAttribute("role","button"),zt(w,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){Xe(x),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=qt("div",s+"-base",_),this._separator=qt("div",s+"-separator",_),this._overlaysList=qt("div",s+"-overlays",_),l.appendChild(_)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(g(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ze(this._baseLayersList),ze(this._overlaysList),this._layerControlInputs=[];var s,l,d,_,w=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),l=l||_.overlay,s=s||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(v(s.target)),d=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(s,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var l=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(_),_.layerId=v(s.layer),zt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var x=document.createElement("span");l.appendChild(x),x.appendChild(_),x.appendChild(w);var k=s.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,d,_=[],w=[];this._handlingClick=!0;for(var x=s.length-1;x>=0;x--)l=s[x],d=this._getLayer(l.layerId).layer,l.checked?_.push(d):l.checked||w.push(d);for(x=0;x<w.length;x++)this._map.hasLayer(w[x])&&this._map.removeLayer(w[x]);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])||this._map.addLayer(_[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,d,_=this._map.getZoom(),w=s.length-1;w>=0;w--)l=s[w],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,zt(s,"click",Xe),this.expand();var l=this;setTimeout(function(){ve(s,"click",Xe),l._preventClick=!1})}}),wo=function(s,l,d){return new za(s,l,d)},qs=zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",d=qt("div",l+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,d,_,w){var x=qt("a",d,_);return x.innerHTML=s,x.href="#",x.title=l,x.setAttribute("role","button"),x.setAttribute("aria-label",l),Us(x),zt(x,"click",Wi),zt(x,"click",w,this),zt(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Ae(this._zoomInButton,l),Ae(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(St(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(St(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jt.mergeOptions({zoomControl:!0}),Jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qs,this.addControl(this.zoomControl))});var dl=function(s){return new qs(s)},To=zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",d=qt("div",l),_=this.options;return this._addScales(_,l+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,d){s.metric&&(this._mScale=qt("div",l,d)),s.imperial&&(this._iScale=qt("div",l,d))},_update:function(){var s=this._map,l=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/s)},_updateImperial:function(s){var l=s*3.2808399,d,_,w;l>5280?(d=l/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(w=this._getRoundNum(l),this._updateScale(this._iScale,w+" ft",w/l))},_updateScale:function(s,l,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),d=s/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),ja=function(s){return new To(s)},Eo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',br=zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?Eo+" ":"")+"Leaflet</a>"},initialize:function(s){ut(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=qt("div","leaflet-control-attribution"),Us(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Jt.mergeOptions({attributionControl:!0}),Jt.addInitHook(function(){this.options.attributionControl&&new br().addTo(this)});var wr=function(s){return new br(s)};zn.Layers=za,zn.Zoom=qs,zn.Scale=To,zn.Attribution=br,oi.layers=wo,oi.zoom=dl,oi.scale=ja,oi.attribution=wr;var Ti=Lt.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ti.addTo=function(s,l){return s.addHandler(l,this),this};var ml={Events:$},$i=xt.touch?"touchstart mousedown":"mousedown",ts=pt.extend({options:{clickTolerance:3},initialize:function(s,l,d,_){ut(this,_),this._element=s,this._dragStartTarget=l||s,this._preventOutline=d},enable:function(){this._enabled||(zt(this._dragStartTarget,$i,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ts._dragging===this&&this.finishDrag(!0),ve(this._dragStartTarget,$i,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ms(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ts._dragging===this&&this.finishDrag();return}if(!(ts._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ts._dragging=this,this._preventOutline&&oa(this._element),Da(),Pi(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,d=vr(this._element);this._startPoint=new ht(l.clientX,l.clientY),this._startPos=gs(this._element),this._parentScale=ai(d);var _=s.type==="mousedown";zt(document,_?"mousemove":"touchmove",this._onMove,this),zt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,d=new ht(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Xe(s),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Oe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Ae(document.body,"leaflet-dragging"),this._lastTarget&&(Ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ve(document,"mousemove touchmove",this._onMove,this),ve(document,"mouseup touchend touchcancel",this._onUp,this),ra(),yn();var l=this._moved&&this._moving;this._moving=!1,ts._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function So(s,l,d){var _,w=[1,4,2,8],x,k,G,Q,rt,_t,Mt,Wt;for(x=0,_t=s.length;x<_t;x++)s[x]._code=X(s[x],l);for(G=0;G<4;G++){for(Mt=w[G],_=[],x=0,_t=s.length,k=_t-1;x<_t;k=x++)Q=s[x],rt=s[k],Q._code&Mt?rt._code&Mt||(Wt=Z(rt,Q,Mt,l,d),Wt._code=X(Wt,l),_.push(Wt)):(rt._code&Mt&&(Wt=Z(rt,Q,Mt,l,d),Wt._code=X(Wt,l),_.push(Wt)),_.push(Q));s=_}return s}function xo(s,l){var d,_,w,x,k,G,Q,rt,_t;if(!s||s.length===0)throw new Error("latlngs not passed");de(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Mt=bt([0,0]),Wt=mt(s),Nn=Wt.getNorthWest().distanceTo(Wt.getSouthWest())*Wt.getNorthEast().distanceTo(Wt.getNorthWest());Nn<1700&&(Mt=Tr(s));var on=s.length,Si=[];for(d=0;d<on;d++){var we=bt(s[d]);Si.push(l.project(bt([we.lat-Mt.lat,we.lng-Mt.lng])))}for(G=Q=rt=0,d=0,_=on-1;d<on;_=d++)w=Si[d],x=Si[_],k=w.y*x.x-x.y*w.x,Q+=(w.x+x.x)*k,rt+=(w.y+x.y)*k,G+=k*3;G===0?_t=Si[0]:_t=[Q/G,rt/G];var Te=l.unproject(wt(_t));return bt([Te.lat+Mt.lat,Te.lng+Mt.lng])}function Tr(s){for(var l=0,d=0,_=0,w=0;w<s.length;w++){var x=bt(s[w]);l+=x.lat,d+=x.lng,_++}return bt([l/_,d/_])}var ha={__proto__:null,clipPolygon:So,polygonCenter:xo,centroid:Tr};function jn(s,l){if(!l||!s.length)return s.slice();var d=l*l;return s=y(s,d),s=Hs(s,d),s}function Ao(s,l,d){return Math.sqrt(Ht(s,l,d,!0))}function pl(s,l,d){return Ht(s,l,d)}function Hs(s,l){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(d);w[0]=w[d-1]=1,f(s,w,l,0,d-1);var x,k=[];for(x=0;x<d;x++)w[x]&&k.push(s[x]);return k}function f(s,l,d,_,w){var x=0,k,G,Q;for(G=_+1;G<=w-1;G++)Q=Ht(s[G],s[_],s[w],!0),Q>x&&(k=G,x=Q);x>d&&(l[k]=1,f(s,l,d,_,k),f(s,l,d,k,w))}function y(s,l){for(var d=[s[0]],_=1,w=0,x=s.length;_<x;_++)gt(s[_],s[w])>l&&(d.push(s[_]),w=_);return w<x-1&&d.push(s[x-1]),d}var S;function I(s,l,d,_,w){var x=_?S:X(s,d),k=X(l,d),G,Q,rt;for(S=k;;){if(!(x|k))return[s,l];if(x&k)return!1;G=x||k,Q=Z(s,l,G,d,w),rt=X(Q,d),G===x?(s=Q,x=rt):(l=Q,k=rt)}}function Z(s,l,d,_,w){var x=l.x-s.x,k=l.y-s.y,G=_.min,Q=_.max,rt,_t;return d&8?(rt=s.x+x*(Q.y-s.y)/k,_t=Q.y):d&4?(rt=s.x+x*(G.y-s.y)/k,_t=G.y):d&2?(rt=Q.x,_t=s.y+k*(Q.x-s.x)/x):d&1&&(rt=G.x,_t=s.y+k*(G.x-s.x)/x),new ht(rt,_t,w)}function X(s,l){var d=0;return s.x<l.min.x?d|=1:s.x>l.max.x&&(d|=2),s.y<l.min.y?d|=4:s.y>l.max.y&&(d|=8),d}function gt(s,l){var d=l.x-s.x,_=l.y-s.y;return d*d+_*_}function Ht(s,l,d,_){var w=l.x,x=l.y,k=d.x-w,G=d.y-x,Q=k*k+G*G,rt;return Q>0&&(rt=((s.x-w)*k+(s.y-x)*G)/Q,rt>1?(w=d.x,x=d.y):rt>0&&(w+=k*rt,x+=G*rt)),k=s.x-w,G=s.y-x,_?k*k+G*G:new ht(w,x)}function de(s){return!kt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function me(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),de(s)}function Be(s,l){var d,_,w,x,k,G,Q,rt;if(!s||s.length===0)throw new Error("latlngs not passed");de(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _t=bt([0,0]),Mt=mt(s),Wt=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());Wt<1700&&(_t=Tr(s));var Nn=s.length,on=[];for(d=0;d<Nn;d++){var Si=bt(s[d]);on.push(l.project(bt([Si.lat-_t.lat,Si.lng-_t.lng])))}for(d=0,_=0;d<Nn-1;d++)_+=on[d].distanceTo(on[d+1])/2;if(_===0)rt=on[0];else for(d=0,x=0;d<Nn-1;d++)if(k=on[d],G=on[d+1],w=k.distanceTo(G),x+=w,x>_){Q=(x-_)/w,rt=[G.x-Q*(G.x-k.x),G.y-Q*(G.y-k.y)];break}var we=l.unproject(wt(rt));return bt([we.lat+_t.lat,we.lng+_t.lng])}var Vi={__proto__:null,simplify:jn,pointToSegmentDistance:Ao,closestPointOnSegment:pl,clipSegment:I,_getEdgeIntersection:Z,_getBitCode:X,_sqClosestPointOnSegment:Ht,isFlat:de,_flat:me,polylineCenter:Be},zi={project:function(s){return new ht(s.lng,s.lat)},unproject:function(s){return new vt(s.y,s.x)},bounds:new z([-180,-90],[180,90])},Ei={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,d=this.R,_=s.lat*l,w=this.R_MINOR/d,x=Math.sqrt(1-w*w),k=x*Math.sin(_),G=Math.tan(Math.PI/4-_/2)/Math.pow((1-k)/(1+k),x/2);return _=-d*Math.log(Math.max(G,1e-10)),new ht(s.lng*l*d,_)},unproject:function(s){for(var l=180/Math.PI,d=this.R,_=this.R_MINOR/d,w=Math.sqrt(1-_*_),x=Math.exp(-s.y/d),k=Math.PI/2-2*Math.atan(x),G=0,Q=.1,rt;G<15&&Math.abs(Q)>1e-7;G++)rt=w*Math.sin(k),rt=Math.pow((1-rt)/(1+rt),w/2),Q=Math.PI/2-2*Math.atan(x*rt)-k,k+=Q;return new vt(k*l,s.x*l/d)}},es={__proto__:null,LonLat:zi,Mercator:Ei,SphericalMercator:Jn},Ua=u({},xe,{code:"EPSG:3395",projection:Ei,transformation:(function(){var s=.5/(Math.PI*Ei.R);return Ii(s,.5,-s,.5)})()}),Ba=u({},xe,{code:"EPSG:4326",projection:zi,transformation:Ii(1/180,1,-1/180,.5)}),Er=u({},Gt,{projection:zi,transformation:Ii(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var d=l.lng-s.lng,_=l.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Gt.Earth=xe,Gt.EPSG3395=Ua,Gt.EPSG3857=hs,Gt.EPSG900913=Ri,Gt.EPSG4326=Ba,Gt.Simple=Er;var ns=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Jt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=v(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},_addLayers:function(s){s=s?kt(s)?s:[s]:[];for(var l=0,d=s.length;l<d;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=v(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),l=w.maxZoom===void 0?l:Math.max(l,w.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sr=ns.extend({initialize:function(s,l){ut(this,l),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),id=function(s,l){return new Sr(s,l)},bs=Sr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Sr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Sr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new dt;for(var l in this._layers){var d=this._layers[l];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Bc=function(s,l){return new bs(s,l)},ws=Lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){ut(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,l){var d=this.options,_=d[l+"Size"];typeof _=="number"&&(_=[_,_]);var w=wt(_),x=wt(l==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(d.className||""),x&&(s.style.marginLeft=-x.x+"px",s.style.marginTop=-x.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return xt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Co(s){return new ws(s)}var Io=ws.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Io.imagePath!="string"&&(Io.imagePath=this._detectIconPath()),(this.options.imagePath||Io.imagePath)+ws.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(d,_,w){var x=_.exec(d);return x&&x[w]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=qt("div","leaflet-default-icon-path",document.body),l=Ze(s,"background-image")||Ze(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Ro=Ti.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ts(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,d=l._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,x=gs(l._icon),k=d.getPixelBounds(),G=d.getPixelOrigin(),Q=nt(k.min._subtract(G).add(w),k.max._subtract(G).subtract(w));if(!Q.contains(x)){var rt=wt((Math.max(Q.max.x,x.x)-Q.max.x)/(k.max.x-Q.max.x)-(Math.min(Q.min.x,x.x)-Q.min.x)/(k.min.x-Q.min.x),(Math.max(Q.max.y,x.y)-Q.max.y)/(k.max.y-Q.max.y)-(Math.min(Q.min.y,x.y)-Q.min.y)/(k.min.y-Q.min.y)).multiplyBy(_);d.panBy(rt,{animate:!1}),this._draggable._newPos._add(rt),this._draggable._startPos._add(rt),Oe(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=U(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,d=l._shadow,_=gs(l._icon),w=l._map.layerPointToLatLng(_);d&&Oe(d,_),l._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),No=ns.extend({options:{icon:new Io,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){ut(this,l),this._latlng=bt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=bt(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),St(d,l),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(d,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),x=!1;w!==this._shadow&&(this._removeShadow(),x=!0),w&&(St(w,l),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&x&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(this._icon,"focus",this._panOnFocus,this),Rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Rt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Oe(this._icon,s),this._shadow&&Oe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ro)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ro(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ue(this._icon,s),this._shadow&&Ue(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,d=l.iconSize?wt(l.iconSize):wt(0,0),_=l.iconAnchor?wt(l.iconAnchor):wt(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qc(s,l){return new No(s,l)}var Ts=ns.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return ut(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xr=Ts.extend({options:{fill:!0,radius:10},initialize:function(s,l){ut(this,l),this._latlng=bt(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=bt(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Ts.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,d=this._clickTolerance(),_=[s+d,l+d];this._pxBounds=new z(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Hc(s,l){return new xr(s,l)}var gl=xr.extend({initialize:function(s,l,d){if(typeof l=="number"&&(l=u({},d,{radius:l})),ut(this,l),this._latlng=bt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ts.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===xe.distance){var w=Math.PI/180,x=this._mRadius/xe.R/w,k=d.project([l+x,s]),G=d.project([l-x,s]),Q=k.add(G).divideBy(2),rt=d.unproject(Q).lat,_t=Math.acos((Math.cos(x*w)-Math.sin(l*w)*Math.sin(rt*w))/(Math.cos(l*w)*Math.cos(rt*w)))/w;(isNaN(_t)||_t===0)&&(_t=x/Math.cos(Math.PI/180*l)),this._point=Q.subtract(d.getPixelOrigin()),this._radius=isNaN(_t)?0:Q.x-d.project([rt,s-_t]).x,this._radiusY=Q.y-k.y}else{var Mt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Mt).x}this._updateBounds()}});function Fc(s,l,d){return new gl(s,l,d)}var Fs=Ts.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){ut(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,d=null,_=Ht,w,x,k=0,G=this._parts.length;k<G;k++)for(var Q=this._parts[k],rt=1,_t=Q.length;rt<_t;rt++){w=Q[rt-1],x=Q[rt];var Mt=_(s,w,x,!0);Mt<l&&(l=Mt,d=_(s,w,x))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Be(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=bt(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new dt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return de(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],d=de(s),_=0,w=s.length;_<w;_++)d?(l[_]=bt(s[_]),this._bounds.extend(l[_])):l[_]=this._convertLatLngs(s[_]);return l},_project:function(){var s=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new ht(s,s);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,d){var _=s[0]instanceof vt,w=s.length,x,k;if(_){for(k=[],x=0;x<w;x++)k[x]=this._map.latLngToLayerPoint(s[x]),d.extend(k[x]);l.push(k)}else for(x=0;x<w;x++)this._projectLatlngs(s[x],l,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,_,w,x,k,G,Q;for(d=0,w=0,x=this._rings.length;d<x;d++)for(Q=this._rings[d],_=0,k=Q.length;_<k-1;_++)G=I(Q[_],Q[_+1],s,_,!0),G&&(l[w]=l[w]||[],l[w].push(G[0]),(G[1]!==Q[_+1]||_===k-2)&&(l[w].push(G[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=jn(s[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var d,_,w,x,k,G,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,x=this._parts.length;d<x;d++)for(G=this._parts[d],_=0,k=G.length,w=k-1;_<k;w=_++)if(!(!l&&_===0)&&Ao(s,G[w],G[_])<=Q)return!0;return!1}});function sd(s,l){return new Fs(s,l)}Fs._flat=me;var Ar=Fs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Fs.prototype._convertLatLngs.call(this,s),d=l.length;return d>=2&&l[0]instanceof vt&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(s){Fs.prototype._setLatLngs.call(this,s),de(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return de(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,d=new ht(l,l);if(s=new z(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,x;_<w;_++)x=So(this._rings[_],s,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,d,_,w,x,k,G,Q,rt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(x=0,Q=this._parts.length;x<Q;x++)for(d=this._parts[x],k=0,rt=d.length,G=rt-1;k<rt;G=k++)_=d[k],w=d[G],_.y>s.y!=w.y>s.y&&s.x<(w.x-_.x)*(s.y-_.y)/(w.y-_.y)+_.x&&(l=!l);return l||Fs.prototype._containsPoint.call(this,s,!0)}});function ad(s,l){return new Ar(s,l)}var Gs=bs.extend({initialize:function(s,l){ut(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=kt(s)?s:s.features,d,_,w;if(l){for(d=0,_=l.length;d<_;d++)w=l[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var x=this.options;if(x.filter&&!x.filter(s))return this;var k=Un(s,x);return k?(k.feature=vl(s),k.defaultOptions=k.options,this.resetStyle(k),x.onEachFeature&&x.onEachFeature(s,k),this.addLayer(k)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=u({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Un(s,l){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,w=[],x=l&&l.pointToLayer,k=l&&l.coordsToLatLng||_l,G,Q,rt,_t;if(!_&&!d)return null;switch(d.type){case"Point":return G=k(_),Cr(x,s,G,l);case"MultiPoint":for(rt=0,_t=_.length;rt<_t;rt++)G=k(_[rt]),w.push(Cr(x,s,G,l));return new bs(w);case"LineString":case"MultiLineString":return Q=Oo(_,d.type==="LineString"?0:1,k),new Fs(Q,l);case"Polygon":case"MultiPolygon":return Q=Oo(_,d.type==="Polygon"?1:2,k),new Ar(Q,l);case"GeometryCollection":for(rt=0,_t=d.geometries.length;rt<_t;rt++){var Mt=Un({geometry:d.geometries[rt],type:"Feature",properties:s.properties},l);Mt&&w.push(Mt)}return new bs(w);case"FeatureCollection":for(rt=0,_t=d.features.length;rt<_t;rt++){var Wt=Un(d.features[rt],l);Wt&&w.push(Wt)}return new bs(w);default:throw new Error("Invalid GeoJSON object.")}}function Cr(s,l,d,_){return s?s(l,d):new No(d,_&&_.markersInheritOptions&&_)}function _l(s){return new vt(s[1],s[0],s[2])}function Oo(s,l,d){for(var _=[],w=0,x=s.length,k;w<x;w++)k=l?Oo(s[w],l-1,d):(d||_l)(s[w]),_.push(k);return _}function yl(s,l){return s=bt(s),s.alt!==void 0?[M(s.lng,l),M(s.lat,l),M(s.alt,l)]:[M(s.lng,l),M(s.lat,l)]}function Mo(s,l,d,_){for(var w=[],x=0,k=s.length;x<k;x++)w.push(l?Mo(s[x],de(s[x])?0:l-1,d,_):yl(s[x],_));return!l&&d&&w.length>0&&w.push(w[0].slice()),w}function fa(s,l){return s.feature?u({},s.feature,{geometry:l}):vl(l)}function vl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var da={toGeoJSON:function(s){return fa(this,{type:"Point",coordinates:yl(this.getLatLng(),s)})}};No.include(da),gl.include(da),xr.include(da),Fs.include({toGeoJSON:function(s){var l=!de(this._latlngs),d=Mo(this._latlngs,l?1:0,!1,s);return fa(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),Ar.include({toGeoJSON:function(s){var l=!de(this._latlngs),d=l&&!de(this._latlngs[0]),_=Mo(this._latlngs,d?2:l?1:0,!0,s);return l||(_=[_]),fa(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),Sr.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(s).geometry.coordinates)}),fa(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var d=l==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var x=w.toGeoJSON(s);if(d)_.push(x.geometry);else{var k=vl(x);k.type==="FeatureCollection"?_.push.apply(_,k.features):_.push(k)}}}),d?fa(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function bl(s,l){return new Gs(s,l)}var ko=bl,Ir=ns.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,d){this._url=s,this._bounds=mt(l),ut(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&je(this._image),this},bringToBack:function(){return this._map&&Dn(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=mt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:qt("img");if(St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=N,l.onmousemove=N,l.onload=g(this.fire,this,"load"),l.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Qi(this._image,d,l)},_reset:function(){var s=this._image,l=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();Oe(s,l.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Gc=function(s,l,d){return new Ir(s,l,d)},ma=Ir.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:qt("video");if(St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=N,l.onmousemove=N,l.onloadeddata=g(this.fire,this,"load"),s){for(var d=l.getElementsByTagName("source"),_=[],w=0;w<d.length;w++)_.push(d[w].src);this._url=d.length>0?_:[l.src];return}kt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var k=qt("source");k.src=this._url[x],l.appendChild(k)}}});function Rr(s,l,d){return new ma(s,l,d)}var wl=Ir.extend({_initImage:function(){var s=this._image=this._url;St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=N,s.onmousemove=N}});function Zc(s,l,d){return new wl(s,l,d)}var Bn=ns.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof vt||kt(s))?(this._latlng=bt(s),ut(this,l)):(ut(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ue(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ue(this._container,0),this._removeTimeout=setTimeout(g(Rt,void 0,this._container),200)):Rt(this._container),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=bt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&je(this._container),this},bringToBack:function(){return this._map&&Dn(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof bs){l=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){l=d[_];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=wt(this.options.offset),d=this._getAnchor();this._zoomAnimated?Oe(this._container,s.add(d)):l=l.add(s).add(d);var _=this._containerBottom=-l.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Jt.include({_initOverlay:function(s,l,d,_){var w=l;return w instanceof s||(w=new s(_).setContent(l)),d&&w.setLatLng(d),w}}),ns.include({_initOverlay:function(s,l,d,_){var w=d;return w instanceof s?(ut(w,_),w._source=this):(w=l&&!_?l:new s(_,this),w.setContent(d)),w}});var Lo=Bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Bn.prototype.openOn.call(this,s)},onAdd:function(s){Bn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ts||this._source.on("preclick",re))},onRemove:function(s){Bn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ts||this._source.off("preclick",re))},getEvents:function(){var s=Bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=qt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=qt("div",s+"-content-wrapper",l);if(this._contentNode=qt("div",s+"-content",d),Us(l),Di(this._contentNode),zt(l,"contextmenu",re),this._tipContainer=qt("div",s+"-tip-container",l),this._tip=qt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=qt("a",s+"-close-button",l);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',zt(_,"click",function(w){Xe(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var _=s.offsetHeight,w=this.options.maxHeight,x="leaflet-popup-scrolled";w&&_>w?(l.height=w+"px",St(s,x)):Ae(s,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Oe(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Ze(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,_=this._containerWidth,w=new ht(this._containerLeft,-d-this._containerBottom);w._add(gs(this._container));var x=s.layerPointToContainerPoint(w),k=wt(this.options.autoPanPadding),G=wt(this.options.autoPanPaddingTopLeft||k),Q=wt(this.options.autoPanPaddingBottomRight||k),rt=s.getSize(),_t=0,Mt=0;x.x+_+Q.x>rt.x&&(_t=x.x+_-rt.x+Q.x),x.x-_t-G.x<0&&(_t=x.x-G.x),x.y+d+Q.y>rt.y&&(Mt=x.y+d-rt.y+Q.y),x.y-Mt-G.y<0&&(Mt=x.y-G.y),(_t||Mt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([_t,Mt]))}},_getAnchor:function(){return wt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Kc=function(s,l){return new Lo(s,l)};Jt.mergeOptions({closePopupOnClick:!0}),Jt.include({openPopup:function(s,l,d){return this._initOverlay(Lo,s,l,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ns.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Lo,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof bs||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Wi(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Ts)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Po=Bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Bn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Bn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Bn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,d,_=this._map,w=this._container,x=_.latLngToContainerPoint(_.getCenter()),k=_.layerPointToContainerPoint(s),G=this.options.direction,Q=w.offsetWidth,rt=w.offsetHeight,_t=wt(this.options.offset),Mt=this._getAnchor();G==="top"?(l=Q/2,d=rt):G==="bottom"?(l=Q/2,d=0):G==="center"?(l=Q/2,d=rt/2):G==="right"?(l=0,d=rt/2):G==="left"?(l=Q,d=rt/2):k.x<x.x?(G="right",l=0,d=rt/2):(G="left",l=Q+(_t.x+Mt.x)*2,d=rt/2),s=s.subtract(wt(l,d,!0)).add(_t).add(Mt),Ae(w,"leaflet-tooltip-right"),Ae(w,"leaflet-tooltip-left"),Ae(w,"leaflet-tooltip-top"),Ae(w,"leaflet-tooltip-bottom"),St(w,"leaflet-tooltip-"+G),Oe(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ue(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return wt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rd=function(s,l){return new Po(s,l)};Jt.include({openTooltip:function(s,l,d){return this._initOverlay(Po,s,l,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ns.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Po,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof bs||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(zt(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),zt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(l)}});var Yc=ws.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(ze(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=wt(d.bgPos);l.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function od(s){return new Yc(s)}ws.Default=Io;var Nr=ns.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){ut(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Rt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(je(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Dn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ht?s:new ht(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,d=-s(-1/0,1/0),_=0,w=l.length,x;_<w;_++)x=l[_].style.zIndex,l[_]!==this._container&&x&&(d=s(d,+x));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){Ue(this._container,this.options.opacity);var s=+new Date,l=!1,d=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var x=Math.min(1,(s-w.loaded)/200);Ue(w.el,x),x<1?l=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(q(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=l-Math.abs(s-d),this._onUpdateLevel(d)):(Rt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],w=this._map;return _||(_=this._levels[s]={},_.el=qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=l,_.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,w.getCenter(),w.getZoom()),N(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var s,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var _=l.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Rt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,d,_){var w=Math.floor(s/2),x=Math.floor(l/2),k=d-1,G=new ht(+w,+x);G.z=+k;var Q=this._tileCoordsToKey(G),rt=this._tiles[Q];return rt&&rt.active?(rt.retain=!0,!0):(rt&&rt.loaded&&(rt.retain=!0),k>_?this._retainParent(w,x,k,_):!1)},_retainChildren:function(s,l,d,_){for(var w=2*s;w<2*s+2;w++)for(var x=2*l;x<2*l+2;x++){var k=new ht(w,x);k.z=d+1;var G=this._tileCoordsToKey(k),Q=this._tiles[G];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);d+1<_&&this._retainChildren(w,x,d+1,_)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,d,_){var w=Math.round(l);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var x=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||x)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,l)},_setZoomTransform:function(s,l,d){var _=this._map.getZoomScale(d,s.zoom),w=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(l,d)).round();xt.any3d?Qi(s.el,w,_):Oe(s.el,w)},_resetGrid:function(){var s=this._map,l=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,l.wrapLng[1]],_).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([l.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),_=l.getZoomScale(d,this._tileZoom),w=l.project(s,this._tileZoom).floor(),x=l.getSize().divideBy(_*2);return new z(w.subtract(x),w.add(x))},_update:function(s){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(_),x=w.getCenter(),k=[],G=this.options.keepBuffer,Q=new z(w.getBottomLeft().subtract([G,-G]),w.getTopRight().add([G,-G]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var rt in this._tiles){var _t=this._tiles[rt].coords;(_t.z!==this._tileZoom||!Q.contains(new ht(_t.x,_t.y)))&&(this._tiles[rt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Mt=w.min.y;Mt<=w.max.y;Mt++)for(var Wt=w.min.x;Wt<=w.max.x;Wt++){var Nn=new ht(Wt,Mt);if(Nn.z=this._tileZoom,!!this._isValidTile(Nn)){var on=this._tiles[this._tileCoordsToKey(Nn)];on?on.current=!0:k.push(Nn)}}if(k.sort(function(we,Te){return we.distanceTo(x)-Te.distanceTo(x)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Si=document.createDocumentFragment();for(Wt=0;Wt<k.length;Wt++)this._addTile(k[Wt],Si);this._level.el.appendChild(Si)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!l.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return mt(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,d=this.getTileSize(),_=s.scaleBy(d),w=_.add(d),x=l.unproject(_,s.z),k=l.unproject(w,s.z);return[x,k]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),d=new dt(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),d=new ht(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(s){var l=this._tiles[s];l&&(Rt(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){St(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=N,s.onmousemove=N,xt.ielt9&&this.options.opacity<1&&Ue(s,this.options.opacity)},_addTile:function(s,l){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),g(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&U(g(this._tileReady,this,s,null,w)),Oe(w,d),this._tiles[_]={el:w,coords:s,current:!0},l.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ue(d.el,0),q(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(St(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new ht(this._wrapX?C(s.x,this._wrapX):s.x,this._wrapY?C(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new z(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Qc(s){return new Nr(s)}var pa=Nr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=ut(this,l),l.detectRetina&&xt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var d=document.createElement("img");return zt(d,"load",g(this._tileOnLoad,this,l,d)),zt(d,"error",g(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var l={r:xt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=d),l["-y"]=d}return Vt(this._url,u(l,this.options))},_tileOnLoad:function(s,l){xt.ielt9?setTimeout(g(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,d){var _=this.options.errorTileUrl;_&&l.getAttribute("src")!==_&&(l.src=_),s(d,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=l-s),s+_},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=N,l.onerror=N,!l.complete)){l.src=ye;var d=this._tiles[s].coords;Rt(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",ye),Nr.prototype._removeTile.call(this,s)},_tileReady:function(s,l,d){if(!(!this._map||d&&d.getAttribute("src")===ye))return Nr.prototype._tileReady.call(this,s,l,d)}});function ji(s,l){return new pa(s,l)}var Do=pa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var d=u({},this.defaultWmsParams);for(var _ in l)_ in this.options||(d[_]=l[_]);l=ut(this,l);var w=l.detectRetina&&xt.retina?2:1,x=this.getTileSize();d.width=x.x*w,d.height=x.y*w,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,pa.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),d=this._crs,_=nt(d.project(l[0]),d.project(l[1])),w=_.min,x=_.max,k=(this._wmsVersion>=1.3&&this._crs===Ba?[w.y,w.x,x.y,x.x]:[w.x,w.y,x.x,x.y]).join(","),G=pa.prototype.getTileUrl.call(this,s);return G+yt(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(s,l){return u(this.wmsParams,s),l||this.redraw(),this}});function Ui(s,l){return new Do(s,l)}pa.WMS=Do,ji.wms=Ui;var li=ns.extend({options:{padding:.1},initialize:function(s){ut(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var d=this._map.getZoomScale(l,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,l),x=_.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(s,l));xt.any3d?Qi(this._container,x,d):Oe(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new z(d,d.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tl=li.extend({options:{tolerance:0},getEvents:function(){var s=li.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");zt(s,"mousemove",this._onMouseMove,this),zt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Rt(this._container),ve(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){li.prototype._update.call(this);var s=this._bounds,l=this._container,d=s.getSize(),_=xt.retina?2:1;Oe(l,s.min),l.width=_*d.x,l.height=_*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,d=l.next,_=l.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),d=[],_,w;for(w=0;w<l.length;w++){if(_=Number(l[w]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var d,_,w,x,k=s._parts,G=k.length,Q=this._ctx;if(G){for(Q.beginPath(),d=0;d<G;d++){for(_=0,w=k[d].length;_<w;_++)x=k[d][_],Q[_?"lineTo":"moveTo"](x.x,x.y);l&&Q.closePath()}this._fillStroke(Q,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||_)/_;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(l.x,l.y/w,_,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,l){var d=l.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(l)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(St(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,d){this._map._fireDOMEvent(l,d||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var d=l.next,_=l.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var d=l.next,_=l.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Vo(s){return xt.canvas?new Tl(s):null}var ga=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Su={_initContainer:function(){this._container=qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(li.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=ga("shape");St(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=ga("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Rt(l),s.removeInteractiveTarget(l),delete this._layers[v(s)]},_updateStyle:function(s){var l=s._stroke,d=s._fill,_=s.options,w=s._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(l||(l=s._stroke=ga("stroke")),w.appendChild(l),l.weight=_.weight+"px",l.color=_.color,l.opacity=_.opacity,_.dashArray?l.dashStyle=kt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=_.lineCap.replace("butt","flat"),l.joinstyle=_.lineJoin):l&&(w.removeChild(l),s._stroke=null),_.fill?(d||(d=s._fill=ga("fill")),w.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(w.removeChild(d),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){je(s._container)},_bringToBack:function(s){Dn(s._container)}},Es=xt.vml?ga:Ms,Or=li.extend({_initContainer:function(){this._container=Es("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Es("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Rt(this._container),ve(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){li.prototype._update.call(this);var s=this._bounds,l=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),Oe(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Es("path");s.options.className&&St(l,s.options.className),s.options.interactive&&St(l,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Rt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,d=s.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,kn(s._parts,l))},_updateCircle:function(s){var l=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,w="a"+d+","+_+" 0 1,0 ",x=s._empty()?"M0 0":"M"+(l.x-d)+","+l.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(s,x)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){je(s._path)},_bringToBack:function(s){Dn(s._path)}});xt.vml&&Or.include(Su);function zo(s){return xt.svg||xt.vml?new Or(s):null}Jt.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Vo(s)||zo(s)}});var qa=Ar.extend({initialize:function(s,l){Ar.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=mt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function ld(s,l){return new qa(s,l)}Or.create=Es,Or.pointsToPath=kn,Gs.geometryToLayer=Un,Gs.coordsToLatLng=_l,Gs.coordsToLatLngs=Oo,Gs.latLngToCoords=yl,Gs.latLngsToCoords=Mo,Gs.getFeature=fa,Gs.asFeature=vl,Jt.mergeOptions({boxZoom:!0});var ui=Ti.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pi(),Da(),this._startPoint=this._map.mouseEventToContainerPoint(s),zt(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=qt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new z(this._point,this._startPoint),d=l.getSize();Oe(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Rt(this._box),Ae(this._container,"leaflet-crosshair")),yn(),ra(),ve(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var l=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jt.addInitHook("addHandler","boxZoom",ui),Jt.mergeOptions({doubleClickZoom:!0});var El=Ti.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,d=l.getZoom(),_=l.options.zoomDelta,w=s.originalEvent.shiftKey?d-_:d+_;l.options.doubleClickZoom==="center"?l.setZoom(w):l.setZoomAround(s.containerPoint,w)}});Jt.addInitHook("addHandler","doubleClickZoom",El),Jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ss=Ti.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ts(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ae(this._map._container,"leaflet-grab"),Ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=mt(this._map.options.maxBounds);this._offsetLimit=nt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-l+d)%s+l-d,x=(_+l+d)%s-l-d,k=Math.abs(w+d)<Math.abs(x+d)?w:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(s){var l=this._map,d=l.options,_=!d.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),_)l.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,k=d.easeLinearity,G=w.multiplyBy(k/x),Q=G.distanceTo([0,0]),rt=Math.min(d.inertiaMaxSpeed,Q),_t=G.multiplyBy(rt/Q),Mt=rt/(d.inertiaDeceleration*k),Wt=_t.multiplyBy(-Mt/2).round();!Wt.x&&!Wt.y?l.fire("moveend"):(Wt=l._limitOffset(Wt,l.options.maxBounds),U(function(){l.panBy(Wt,{duration:Mt,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Jt.addInitHook("addHandler","dragging",Ss),Jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xu=Ti.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),zt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ve(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,d=s.scrollTop||l.scrollTop,_=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},d=this.keyCodes,_,w;for(_=0,w=d.left.length;_<w;_++)l[d.left[_]]=[-1*s,0];for(_=0,w=d.right.length;_<w;_++)l[d.right[_]]=[s,0];for(_=0,w=d.down.length;_<w;_++)l[d.down[_]]=[0,s];for(_=0,w=d.up.length;_<w;_++)l[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},d=this.keyCodes,_,w;for(_=0,w=d.zoomIn.length;_<w;_++)l[d.zoomIn[_]]=s;for(_=0,w=d.zoomOut.length;_<w;_++)l[d.zoomOut[_]]=-s},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,d=this._map,_;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[l],s.shiftKey&&(_=wt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(wt(_),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(w)}else d.panBy(_)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Wi(s)}}});Jt.addInitHook("addHandler","keyboard",xu),Jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jo=Ti.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=vn(s),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),_),Wi(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,x=d?Math.ceil(w/d)*d:w,k=s._limitZoom(l+(this._delta>0?x:-x))-l;this._delta=0,this._startTime=null,k&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+k):s.setZoomAround(this._lastMousePos,l+k))}});Jt.addInitHook("addHandler","scrollWheelZoom",jo);var Ha=600;Jt.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var Sl=Ti.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new ht(l.clientX,l.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Xe),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Ha),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ve(document,"touchend",Xe),ve(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new ht(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Jt.addInitHook("addHandler","tapHold",Sl),Jt.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var Au=Ti.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(s.touches[0]),_=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Xe(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(s.touches[0]),_=l.mouseEventToContainerPoint(s.touches[1]),w=d.distanceTo(_)/this._startDist;if(this._zoom=l.getScaleZoom(w,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&w<1||this._zoom>l.getMaxZoom()&&w>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var x=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&x.x===0&&x.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var k=g(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(k,this,!0),Xe(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Jt.addInitHook("addHandler","touchZoom",Au),Jt.BoxZoom=ui,Jt.DoubleClickZoom=El,Jt.Drag=Ss,Jt.Keyboard=xu,Jt.ScrollWheelZoom=jo,Jt.TapHold=Sl,Jt.TouchZoom=Au,n.Bounds=z,n.Browser=xt,n.CRS=Gt,n.Canvas=Tl,n.Circle=gl,n.CircleMarker=xr,n.Class=Lt,n.Control=zn,n.DivIcon=Yc,n.DivOverlay=Bn,n.DomEvent=vs,n.DomUtil=la,n.Draggable=ts,n.Evented=pt,n.FeatureGroup=bs,n.GeoJSON=Gs,n.GridLayer=Nr,n.Handler=Ti,n.Icon=ws,n.ImageOverlay=Ir,n.LatLng=vt,n.LatLngBounds=dt,n.Layer=ns,n.LayerGroup=Sr,n.LineUtil=Vi,n.Map=Jt,n.Marker=No,n.Mixin=ml,n.Path=Ts,n.Point=ht,n.PolyUtil=ha,n.Polygon=Ar,n.Polyline=Fs,n.Popup=Lo,n.PosAnimation=Bs,n.Projection=es,n.Rectangle=qa,n.Renderer=li,n.SVG=Or,n.SVGOverlay=wl,n.TileLayer=pa,n.Tooltip=Po,n.Transformation=cs,n.Util=P,n.VideoOverlay=ma,n.bind=g,n.bounds=nt,n.canvas=Vo,n.circle=Fc,n.circleMarker=Hc,n.control=oi,n.divIcon=od,n.extend=u,n.featureGroup=Bc,n.geoJSON=bl,n.geoJson=ko,n.gridLayer=Qc,n.icon=Co,n.imageOverlay=Gc,n.latLng=bt,n.latLngBounds=mt,n.layerGroup=id,n.map=ca,n.marker=qc,n.point=wt,n.polygon=ad,n.polyline=sd,n.popup=Kc,n.rectangle=ld,n.setOptions=ut,n.stamp=v,n.svg=zo,n.svgOverlay=Zc,n.tileLayer=ji,n.tooltip=rd,n.transformation=Ii,n.version=r,n.videoOverlay=Rr;var Cu=window.L;n.noConflict=function(){return window.L=Cu,this},window.L=n}))})(cc,cc.exports)),cc.exports}var rx=ax();const Zh=kp(rx),Nb=[{emoji:"",name:"Canines",animals:[{name:"Wolf",emoji:"",sciName:"Canis lupus",family:"Canidae",clue:"Apex social hunter; legendary ancestor of man's best friend."},{name:"Coyote",emoji:"",sciName:"Canis latrans",family:"Canidae",clue:"Opportunistic trickster; expanded its range while other predators retreated."},{name:"Fox",emoji:"",sciName:"Vulpes vulpes",family:"Canidae",clue:"Solitary omnivore; hunts with a unique diving pounce into snow or grass."},{name:"Dingo",emoji:"",sciName:"Canis lupus dingo",displayLatin:"Canis familiaris (var.)",family:"Canidae",clue:"Golden-coated apex predator introduced to an island continent millennia ago."},{name:"Wild Dog",emoji:"",sciName:"Lycaon pictus",family:"Canidae",clue:"Highly social cursorial hunter; votes on pack movements with sneezes."},{name:"Jackal",emoji:"",sciName:"Canis aureus",family:"Canidae",clue:"Opportunistic scavenger; mated pairs hold territory in the scrublands."}]},{emoji:"",name:"Felines",animals:[{name:"Lion",emoji:"",sciName:"Panthera leo",displayLatin:"Felis leo",family:"Felidae",clue:"The only social feline; dominant males defend the pride's territory."},{name:"Tiger",emoji:"",sciName:"Panthera tigris",displayLatin:"Felis tigris",family:"Felidae",clue:"Largest of the big cats; a solitary swimmer that stalks the jungle."},{name:"Leopard",emoji:"",sciName:"Panthera pardus",family:"Felidae",clue:"Master of stealth; hauls heavy prey high into trees to protect it from scavengers."},{name:"Cheetah",emoji:"",sciName:"Acinonyx jubatus",family:"Felidae",clue:"Sacrificed fighting power for pure acceleration; cannot roar."},{name:"Jaguar",emoji:"",sciName:"Panthera onca",family:"Felidae",clue:"A swimmer that kills with a skull-crushing bite rather than a throat hold."},{name:"Snow Leopard",emoji:"",sciName:"Panthera uncia",family:"Felidae",clue:"Solitary high-altitude stalker; uses a massive tail for warmth and balance."},{name:"Cougar",emoji:"",sciName:"Puma concolor",family:"Felidae",clue:"Wide-ranging ambush predator; holds the record for the most common names."}]},{emoji:"",name:"Bears",animals:[{name:"Bear (Brown)",emoji:"",sciName:"Ursus arctos",family:"Ursidae",clue:"Shoulder-humped giant; gorges in autumn to survive winter dormancy."},{name:"Bear (Polar)",emoji:"",sciName:"Ursus maritimus",family:"Ursidae",clue:"Hyper-carnivorous maritime wanderer; black skin absorbs the arctic sun."},{name:"Panda",emoji:"",sciName:"Ailuropoda melanoleuca",family:"Ursidae",clue:"Technically a carnivore, but eats a distinct grass; has a 'false thumb'."},{name:"Bear (Black)",emoji:"",sciName:"Ursus americanus",family:"Ursidae",clue:"Forest climber; highly adaptable diet ranges from berries to human refuse."},{name:"Bear (Sun)",emoji:"",sciName:"Helarctos malayanus",family:"Ursidae",clue:"Smallest of the family; possesses an exceptionally long tongue for extracting honey."}]},{emoji:"",name:"Weasels & Badgers",animals:[{name:"Wolverine",emoji:"",sciName:"Gulo gulo",family:"Mustelidae",clue:"Stocky scavenger of the north; famously fearless against much larger predators."},{name:"Badger",emoji:"",sciName:"Meles meles",family:"Mustelidae",clue:"Fossorial engineer; constructs massive underground networks passed down for generations."},{name:"Honey Badger",emoji:"",sciName:"Mellivora capensis",family:"Mustelidae",clue:"Notoriously thick-skinned; metabolizes venom and surrenders to no one."},{name:"Stoat",emoji:"",sciName:"Mustela erminea",family:"Mustelidae",clue:"Performs a mesmerizing 'war dance' to distract prey before striking."},{name:"Ferret (Black-footed)",emoji:"",sciName:"Mustela nigripes",family:"Mustelidae",clue:"Once thought extinct; obligate predator of prairie dwelling rodents."}]},{emoji:"",name:"Primates",animals:[{name:"Gorilla",emoji:"",sciName:"Gorilla beringei",displayLatin:"G. beringei",family:"Hominidae",clue:"Gentle herbivore of the jungle; troops are led by a gray-haired male."},{name:"Chimpanzee",emoji:"",sciName:"Pan troglodytes",family:"Hominidae",clue:"Expert tool-user; hunts colobus monkeys in coordinated groups."},{name:"Orangutan",emoji:"",sciName:"Pongo",family:"Hominidae",clue:"Solitary arboreal giant; name translates to 'Person of the Forest'."},{name:"Lemur",emoji:"",sciName:"Lemur catta",displayLatin:"Infraorder: Lemuriformes",family:"Suborder: Strepsirrhini",clue:"Prosimian island dweller; uses stink-fights to settle disputes."},{name:"Baboon",emoji:"",sciName:"Papio anubis",family:"Cercopithecidae",clue:"Highly aggressive terrestrial forager; complex social hierarchy."},{name:"Mandrill",emoji:"",sciName:"Mandrillus sphinx",displayLatin:"Simia sphinx",family:"Cercopithecidae",clue:"World's largest monkey; cryptic forest dweller with vibrant skin coloration."}]},{emoji:"",name:"Savanna Giants",animals:[{name:"Giraffe",emoji:"",sciName:"Giraffa camelopardalis",displayLatin:"Family: Giraffidae",family:"Order: Artiodactyla",clue:"Tallest terrestrial browser; possesses a specialized valve to prevent fainting when drinking."},{name:"Zebra",emoji:"",sciName:"Equus quagga",family:"Equidae",clue:"Equine grazer; visual pattern disrupts predators and deters biting flies."},{name:"Elephant",emoji:"",sciName:"Loxodonta africana",family:"Order: Proboscidea",clue:"Ecosystem engineer; mourns its dead and communicates via infrasound."},{name:"Rhino",emoji:"",sciName:"Ceratotherium simum",family:"Order: Perissodactyla",clue:"Near-sighted grazer; heavily poached for its keratin nose ornament."},{name:"Warthog",emoji:"",sciName:"Phacochoerus africanus",family:"Suidae",clue:"Sleeps in burrows; enters backward to defend the entrance with facial tusks."},{name:"Bison",emoji:"",sciName:"Bison bison",displayLatin:"Subfamily: Bovinae",family:"Bovidae",clue:"Keystone species; creates wallows that retain water for the prairie ecosystem."},{name:"Camel",emoji:"",sciName:"Camelus dromedarius",family:"Camelidae",clue:"Ship of the desert; stores fat, not water, in its humps."},{name:"Llama",emoji:"",sciName:"Lama glama",family:"Camelidae",clue:"High-altitude pack animal; defends itself by spitting regurgitated stomach contents."}]},{emoji:"",name:"Forest Grazers",animals:[{name:"Moose",emoji:"",sciName:"Alces alces",family:"Cervidae",clue:"Largest of the deer family; dives underwater to graze on aquatic vegetation."},{name:"Deer (Red)",emoji:"",sciName:"Cervus elaphus",family:"Cervidae",clue:"Forest monarch; males roar during the autumn rut to secure a harem."},{name:"Elk",emoji:"",sciName:"Cervus canadensis",family:"Cervidae",clue:"High-altitude grazer; distinctive ivory teeth were once prized as jewelry."},{name:"Tapir",emoji:"",sciName:"Tapirus terrestris",displayLatin:"Family: Tapiridae",family:"Order: Perissodactyla",clue:"Ancient odd-toed ungulate; disperses seeds in the neotropical understory."},{name:"Okapi",emoji:"",sciName:"Okapia johnstoni",displayLatin:"Family: Giraffidae",family:"Giraffidae",clue:"Elusive rainforest dweller; famous for its long, prehensile blue tongue."},{name:"Sloth",emoji:"",sciName:"Bradypus variegatus",family:"Order: Pilosa",clue:"Metabolism is so slow it hosts a mossy ecosystem in its fur."}]},{emoji:"",name:"River Mammals",animals:[{name:"Beaver",emoji:"",sciName:"Castor fiber",family:"Castoridae",clue:"Iron-reinforced teeth; radically alters landscapes to create moats."},{name:"Capybara",emoji:"",sciName:"Hydrochoerus hydrochaeris",family:"Caviidae",clue:"Gregarious semi-aquatic giant; often seen with other birds sitting on it."},{name:"Platypus",emoji:"",sciName:"Ornithorhynchus anatinus",family:"Order: Monotremata",clue:"Bio-fluorescent monotreme; detects electric fields with a sensitive bill."},{name:"Hippo",emoji:"",sciName:"Hippopotamus amphibius",displayLatin:"Family: Hippopotamidae",family:"Suborder: Whippomorpha",clue:"Responsible for more human fatalities in Africa than lions; secretes red sunscreen."},{name:"Otter",emoji:"",sciName:"Lutra lutra",family:"Mustelidae",clue:"Uses rocks as anvils to crack shellfish; sleeps holding hands to stay anchored."},{name:"Manatee",emoji:"",sciName:"Trichechus manatus",displayLatin:"Order: Sirenia",family:"Trichechidae",clue:"Slow-moving grazer; sensitive vibrissae cover its entire body."}]},{emoji:"",name:"Antelopes",animals:[{name:"Wildebeest",emoji:"",sciName:"Connochaetes taurinus",family:"Bovidae",clue:"Keystone migrator; calves can run minutes after birth to keep up with the mega-herd."},{name:"Impala",emoji:"",sciName:"Aepyceros melampus",family:"Bovidae",clue:"Ubiquitous prey species; distinguishes itself with a unique 'M' marking on the rear."},{name:"Gazelle",emoji:"",sciName:"Eudorcas thomsonii",family:"Bovidae",clue:"Delicate arid sprinter; performs vertical leaps to signal fitness to predators."},{name:"Oryx",emoji:"",sciName:"Oryx gazella",displayLatin:"Subfamily: Antilopinae",family:"Bovidae",clue:"Desert survivor; can raise its body temperature to 46C to avoid sweating."},{name:"Kudu",emoji:"",sciName:"Tragelaphus strepsiceros",family:"Bovidae",clue:"Woodland browser; famously elusive 'Grey Ghost' capable of clearing 2.5m fences."},{name:"Springbok",emoji:"",sciName:"Antidorcas marsupialis",family:"Bovidae",clue:"Arid specialist; namesake of a famous rugby team and known for stiff-legged leaps."}]},{emoji:"",name:"Small Mammals",animals:[{name:"Jerboa",emoji:"",sciName:"Jaculus",family:"Dipodidae",clue:"Bipedal desert rodent; extracts all necessary water from its food."},{name:"Chipmunk",emoji:"",sciName:"Tamias striatus",family:"Sciuridae",clue:"Ground-dwelling sciurid; excavates complex burrows with hidden entrances."},{name:"Giant Squirrel",emoji:"",sciName:"Ratufa indica",family:"Sciuridae",clue:"Canopy dweller; builds large globe-shaped nests high in the trees."},{name:"Rabbit",emoji:"",sciName:"Oryctolagus cuniculus",family:"Leporidae",clue:"Practice coprophagy (re-eating pellets) to extract maximum nutrients."},{name:"Hedgehog",emoji:"",sciName:"Erinaceus europaeus",family:"Erinaceidae",clue:"Immune to many snake venoms; uses anointing behavior to scent its spines."},{name:"Raccoon",emoji:"",sciName:"Procyon lotor",family:"Procyonidae",clue:"Highly dexterous tactile specialist; 'sees' with its wet front paws."},{name:"Skunk",emoji:"",sciName:"Mephitis mephitis",family:"Mephitidae",clue:"Aposematic coloring warns of its potent sulfur-based defense spray."},{name:"Meerkat",emoji:"",sciName:"Suricata suricatta",family:"Herpestidae",clue:"Eusocial mongoose; teaches young how to safely handle scorpions."},{name:"Bat",emoji:"",sciName:"Tadarida brasiliensis",family:"Order: Chiroptera",clue:"The only mammal capable of powered flight; comprises 20% of all mammal species."},{name:"Armadillo",emoji:"",sciName:"Dasypus novemcinctus",family:"Order: Cingulata",clue:"New World digger; gives birth to identical quadruplets."}]},{emoji:"",name:"Marsupials",animals:[{name:"Kangaroo",emoji:"",sciName:"Macropus rufus",family:"Macropodidae",clue:"Uses tail as a third leg; cannot move its hind legs independently on land."},{name:"Koala",emoji:"",sciName:"Phascolarctos cinereus",family:"Phascolarctidae",clue:"Specialized folivore; brain is smooth because energy is conserved for digestion."},{name:"Sugar Glider",emoji:"",sciName:"Petaurus breviceps",family:"Petauridae",clue:"Sap-loving nocturnal marsupial; volplanes between trees in family groups."},{name:"Opossum",emoji:"",sciName:"Didelphis virginiana",family:"Didelphidae",clue:"North America's only marsupial; immune to pit viper venom and eats thousands of ticks."},{name:"Wombat",emoji:"",sciName:"Vombatus ursinus",displayLatin:"Suborder: Vombatiformes",family:"Order: Diprotodontia",clue:"Fossorial grazer; crushes predators' skulls against the burrow roof with its rump."}]},{emoji:"",name:"Raptors",animals:[{name:"Eagle",emoji:"",sciName:"Haliaeetus leucocephalus",family:"Accipitridae",clue:"Kleptoparasite; often steals food from other birds despite its majestic reputation."},{name:"Owl",emoji:"",sciName:"Tyto alba",family:"Tytonidae",clue:"Silent flight feathers; ears are asymmetrical to pinpoint prey in total darkness."},{name:"Hawk",emoji:"",sciName:"Buteo jamaicensis",family:"Accipitridae",clue:"Ubiquitous soarer; highly variable plumage makes identification difficult."},{name:"Falcon",emoji:"",sciName:"Falco peregrinus",displayLatin:"Genus: Falco",family:"Order: Falconiformes",clue:"Specialized bird-hunter; kills mid-air with a 'tomial tooth' beak notch."},{name:"Vulture",emoji:"",sciName:"Cathartes aura",family:"Cathartidae",clue:"Uses strong stomach acid to sanitize the environment; finds food by smell."},{name:"Osprey",emoji:"",sciName:"Pandion haliaetus",family:"Pandionidae",clue:"Cosmopolitan raptor; the only one that plunges feet-first into water."}]},{emoji:"",name:"Water Birds",animals:[{name:"Penguin",emoji:"",sciName:"Aptenodytes forsteri",family:"Spheniscidae",clue:"Southern hemisphere diver; males incubate the egg on their feet for months."},{name:"Pelican",emoji:"",sciName:"Pelecanus occidentalis",family:"Pelecanidae",clue:"Cooperative fisher; uses a gular pouch to scoop, not store, prey."},{name:"Swan",emoji:"",sciName:"Cygnus olor",family:"Anatidae",clue:"Territorial waterfowl; historically owned by the British monarch."},{name:"Flamingo",emoji:"",sciName:"Phoenicopterus roseus",family:"Phoenicopteridae",clue:"Filter-feeds upside down; color is derived from brine shrimp pigments."},{name:"Stork",emoji:"",sciName:"Ciconia ciconia",family:"Ciconiidae",clue:"Mute migrant; communicates by clattering its bill during nest displays."},{name:"Mandarin Duck",emoji:"",sciName:"Aix galericulata",family:"Anatidae",clue:"Perching duck; symbol of wedded bliss in East Asian culture."}]},{emoji:"",name:"Exotic Birds",animals:[{name:"Macaw",emoji:"",sciName:"Ara macao",displayLatin:"Tribe: Arini",family:"Psittacidae",clue:"Neotropical giant; consumes clay licks to neutralize toxins in seeds."},{name:"Toucan",emoji:"",sciName:"Ramphastos toco",family:"Ramphastidae",clue:"Neotropical frugivore; massive bill helps regulate body heat."},{name:"Peacock",emoji:"",sciName:"Pavo cristatus",family:"Phasianidae",clue:"Sexual selection icon; distinct train feathers rattle to attract mates."},{name:"Hummingbird",emoji:"",sciName:"Archilochus colubris",family:"Trochilidae",clue:"High metabolism requires torpor at night; only bird capable of hovering."},{name:"Parrot",emoji:"",sciName:"Psittacus erithacus",family:"Psittacidae",clue:"Cognitive powerhouse; demonstrates reasoning skills equal to a young child."},{name:"Ibis",emoji:"",sciName:"Eudocimus ruber",family:"Threskiornithidae",clue:"Gregarious wader; uses a long, curved bill to probe mud for crustaceans."}]},{emoji:"",name:"Songbirds",animals:[{name:"Robin",emoji:"",sciName:"Erithacus rubecula",family:"Muscicapidae",clue:"Garden territorialist; follows large herbivores (or gardeners) to find disturbed worms."},{name:"Blue Jay",emoji:"",sciName:"Cyanocitta cristata",family:"Corvidae",clue:"Intelligent hoarder; plants thousands of oak trees annually by forgetting caches."},{name:"Java Sparrow",emoji:"",sciName:"Padda oryzivora",family:"Estrildidae",clue:"Social flock bird; originally a rice pest, now a popular cage bird."},{name:"Crow",emoji:"",sciName:"Corvus corone",family:"Corvidae",clue:"Tool maker; holds 'funerals' to learn about threats in the area."},{name:"Nicobar Pigeon",emoji:"",sciName:"Caloenas nicobarica",family:"Columbidae",clue:"Island nomad; possesses a distinct gizzard stone for grinding hard seeds."},{name:"Cardinal",emoji:"",sciName:"Cardinalis cardinalis",displayLatin:"Family: Cardinalidae",family:"Order: Passeriformes",clue:"Non-migratory territory defender; males feed females seeds during courtship."}]},{emoji:"",name:"Ground Birds",animals:[{name:"Ostrich",emoji:"",sciName:"Struthio camelus",family:"Struthionidae",clue:"Fastest runner on two legs; possesses two toes to reduce friction."},{name:"Emu",emoji:"",sciName:"Dromaius novaehollandiae",family:"Dromaiidae",clue:"Nomadic forager; males incubate the eggs and raise the chicks alone."},{name:"Cassowary",emoji:"",sciName:"Casuarius casuarius",family:"Casuariidae",clue:"Keystone rainforest gardener; swallows massive fruit whole."},{name:"Turkey",emoji:"",sciName:"Meleagris gallopavo",family:"Phasianidae",clue:"Forest forager; males form coalitions to court females."},{name:"Roadrunner",emoji:"",sciName:"Geococcyx californianus",family:"Cuculidae",clue:"Ground cuckoo; cooperatively hunts to kill venomous vipers."},{name:"Kiwi",emoji:"",sciName:"Apteryx mantelli",family:"Apterygidae",clue:"Honorary mammal; nostrils are located at the very tip of the beak."},{name:"Rooster",emoji:"",sciName:"Gallus gallus",family:"Phasianidae",clue:"Barnyard alarm clock; displays prominent wattles and comb."}]},{emoji:"",name:"Reptiles",animals:[{name:"Crocodile",emoji:"",sciName:"Crocodylus niloticus",displayLatin:"Order: Crocodylia",family:"Clade: Archosauria",clue:"Living fossil; capable of slowing heart rate to a few beats per minute."},{name:"Alligator",emoji:"",sciName:"Alligator mississippiensis",family:"Alligatoridae",clue:"New World crocodilian; snout is U-shaped compared to the V-shape of its cousins."},{name:"Cobra",emoji:"",sciName:"Ophiophagus hannah",family:"Elapidae",clue:"Elapid intimidation; expands cervical ribs when threatened."},{name:"Tortoise",emoji:"",sciName:"Chelonoidis",family:"Testudinidae",clue:"Land-dwelling tank; water storage allows survival on arid islands."},{name:"Iguana",emoji:"",sciName:"Iguana iguana",displayLatin:"Family: Iguanidae",family:"Order: Squamata",clue:"Arboreal swimmer; possesses a photosensory 'third eye' on its head."},{name:"Komodo Dragon",emoji:"",sciName:"Varanus komodoensis",displayLatin:"Family: Varanidae",family:"Varanidae",clue:"Island gigantism example; capable of pathogenesis (virgin birth)."},{name:"Boa",emoji:"",sciName:"Boa constrictor",displayLatin:"Family: Boidae",family:"Order: Squamata",clue:"Ambush hunter; oxygenates blood independently to breathe while squeezing prey."},{name:"Chameleon",emoji:"",sciName:"Chamaeleo chamaeleon",displayLatin:"Suborder: Iguania",family:"Order: Squamata",clue:"Ballistic tongue projector; eyes move independently for 360-degree vision."},{name:"Gecko",emoji:"",sciName:"Gekkonidae",family:"Gekkonidae",clue:"Sticky-footed climber; interacts with surfaces using Van der Waals forces."}]},{emoji:"",name:"Amphibians",animals:[{name:"Bullfrog",emoji:"",sciName:"Lithobates catesbeianus",family:"Ranidae",clue:"Ambush predator; males battle physically for dominance of the pond."},{name:"Toad",emoji:"",sciName:"Bufo bufo",family:"Bufonidae",clue:"Terrestrial hopper; lacks teeth and swallows using its eyeballs."},{name:"Salamander",emoji:"",sciName:"Salamandra salamandra",displayLatin:"Order: Urodela",family:"Class: Amphibia",clue:"Permeable skin breather; toxic secretions deter predators."},{name:"Axolotl",emoji:"",sciName:"Ambystoma mexicanum",family:"Ambystomatidae",clue:"Neotenic salamander; possesses incredible limb regeneration abilities."},{name:"Frog (Tree)",emoji:"",sciName:"Agalychnis callidryas",family:"Hylidae",clue:"Arboreal acrobat; sleeps on the underside of leaves to hide bright colors."},{name:"Newt",emoji:"",sciName:"Pleurodelinae",family:"Salamandridae",clue:"Semi-aquatic salamander; some species secrete potent neurotoxins from their skin."}]},{emoji:"",name:"Marine",animals:[{name:"Whale",emoji:"",sciName:"Balaenoptera musculus",family:"Balaenopteridae",clue:"Largest animal to have ever lived; feeds on the smallest prey."},{name:"Orca",emoji:"",sciName:"Orcinus orca",family:"Delphinidae",clue:"Wolf of the sea; apex predator that hunts in sophisticated matrilineal pods."},{name:"Dolphin",emoji:"",sciName:"Tursiops truncatus",displayLatin:"Infraorder: Cetacea",family:"Order: Artiodactyla",clue:"Sleeps one brain hemisphere at a time; recognized by unique dorsal fins."},{name:"Shark",emoji:"",sciName:"Carcharodon carcharias",family:"Lamnidae",clue:"Apex predator; relies on a fatty liver for buoyancy rather than a swim bladder."},{name:"Octopus",emoji:"",sciName:"Octopus vulgaris",displayLatin:"Order: Octopoda",family:"Phylum: Mollusca",clue:"Problem solving invertebrate; skin contains chromatophores for instant camouflage."},{name:"Squid",emoji:"",sciName:"Teuthida",family:"Teuthida",clue:"Fast-moving cephalopod; uses jet propulsion and ink clouds to escape."},{name:"Seal",emoji:"",sciName:"Phoca vitulina",family:"Phocidae",clue:"Coastal pinniped; lacks external ear flaps and moves by flopping on land."},{name:"Walrus",emoji:"",sciName:"Odobenus rosmarus",family:"Odobenidae",clue:"Arctic giant; uses massive tusks to haul itself onto ice floes."},{name:"Crab",emoji:"",sciName:"Callinectes sapidus",family:"Portunidae",clue:"Decapod scavenger; molts its hard exoskeleton to grow."},{name:"Lobster",emoji:"",sciName:"Homarus americanus",family:"Nephropidae",clue:"Bottom-dwelling crustacean; biologically immortal and tastes with its legs."},{name:"Shrimp",emoji:"",sciName:"Caridea",family:"Caridea",clue:"Decapod scavenger; the pistol variety can snap its claw to create a shockwave."},{name:"Jellyfish",emoji:"",sciName:"Scyphozoa",family:"Cnidaria",clue:"Brainless drifter; uses nematocysts to sting prey upon contact."},{name:"Starfish",emoji:"",sciName:"Asteroidea",family:"Asteroidea",clue:"Echinoderm; regenerates entire limbs and eats by extruding its stomach."}]},{emoji:"",name:"Fish",animals:[{name:"Goldfish",emoji:"",sciName:"Carassius auratus",family:"Cyprinidae",clue:"Domesticated carp; capable of surviving in freezing, low-oxygen water."},{name:"Salmon",emoji:"",sciName:"Salmo salar",displayLatin:"Order: Salmoniformes",family:"Class: Actinopterygii",clue:"Semelparous navigator; undergoes massive physiological changes from salt to fresh water."},{name:"Clownfish",emoji:"",sciName:"Amphiprion ocellaris",family:"Pomacentridae",clue:"Protandrous hermaphrodite; all are born male and the dominant turns female."},{name:"Seahorse",emoji:"",sciName:"Hippocampus guttulatus",family:"Syngnathidae",clue:"Poor swimmer; lacks a stomach and must eat constantly."},{name:"Piranha",emoji:"",sciName:"Pygocentrus nattereri",family:"Serrasalmidae",clue:"River scavenger; barks when threatened and rarely attacks healthy animals."}]},{emoji:"",name:"Insects+",animals:[{name:"Butterfly",emoji:"",sciName:"Danaus plexippus",family:"Nymphalidae",clue:"Migratory specialist; navigates via sun compass over thousands of miles."},{name:"Blue Carpenter Bee",emoji:"",sciName:"Xylocopa caerulea",family:"Apidae",clue:"Solitary buzzer; excavates nesting tunnels in dead wood."},{name:"Ladybug",emoji:"",sciName:"Coccinellidae",family:"Coccinellidae",clue:"Gardener's friend; voracious predator of aphids."},{name:"Ant",emoji:"",sciName:"Formicidae",family:"Formicidae",clue:"Eusocial engineer; capable of carrying many times its own body weight."},{name:"Tarantula",emoji:"",sciName:"Brachypelma",family:"Theraphosidae",clue:"Long-lived ambusher; relies on vibrations rather than a web to hunt."},{name:"Scorpion",emoji:"",sciName:"Pandinus imperator",displayLatin:"Clade: Arachnopulmonata",family:"Class: Arachnida",clue:"Ancient arachnid; gives birth to live young that ride on her back."},{name:"Snail",emoji:"",sciName:"Cornu aspersum",family:"Helicidae",clue:"Gastropod grazer; estivates in a mucus seal during dry periods."},{name:"Mantis",emoji:"",sciName:"Mantis religiosa",displayLatin:"Order: Mantodea",family:"Class: Insecta",clue:"Visual hunter; only insect capable of 3D vision."},{name:"Beetle",emoji:"",sciName:"Coleoptera",family:"Coleoptera",clue:"Armored insect; the most biodiverse group of animals on Earth."},{name:"Dragonfly",emoji:"",sciName:"Anisoptera",family:"Odonata",clue:"Aerial ace; catches prey mid-air with a 95% success rate."},{name:"Grasshopper",emoji:"",sciName:"Caelifera",family:"Orthoptera",clue:"Jumping herbivore; organs for hearing are located on its abdomen."},{name:"Mosquito",emoji:"",sciName:"Culicidae",family:"Culicidae",clue:"Deadliest animal on Earth; only the females bite to nourish their eggs."},{name:"Fly",emoji:"",sciName:"Musca domestica",family:"Muscidae",clue:"Acrobatic scavenger; tastes food with its feet and vomits enzymes to digest it."},{name:"Caterpillar",emoji:"",sciName:"Lepidoptera",family:"Lepidoptera",clue:"Larval stage; eats constantly to fuel a complete metamorphic transformation."},{name:"Worm",emoji:"",sciName:"Lumbricus terrestris",family:"Lumbricidae",clue:"Soil aerator; breathes through its skin and has five heart-like arches."}]}],ox=()=>{};var qv={};const Ob=function(a){const t=[];let n=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);u<128?t[n++]=u:u<2048?(t[n++]=u>>6|192,t[n++]=u&63|128):(u&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++r)&1023),t[n++]=u>>18|240,t[n++]=u>>12&63|128,t[n++]=u>>6&63|128,t[n++]=u&63|128):(t[n++]=u>>12|224,t[n++]=u>>6&63|128,t[n++]=u&63|128)}return t},lx=function(a){const t=[];let n=0,r=0;for(;n<a.length;){const u=a[n++];if(u<128)t[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[n++];t[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[n++],g=a[n++],b=a[n++],v=((u&7)<<18|(h&63)<<12|(g&63)<<6|b&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[n++],g=a[n++];t[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|g&63)}}return t.join("")},Mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<a.length;u+=3){const h=a[u],g=u+1<a.length,b=g?a[u+1]:0,v=u+2<a.length,E=v?a[u+2]:0,C=h>>2,N=(h&3)<<4|b>>4;let M=(b&15)<<2|E>>6,et=E&63;v||(et=64,g||(M=64)),r.push(n[C],n[N],n[M],n[et])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Ob(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):lx(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<a.length;){const h=n[a.charAt(u++)],b=u<a.length?n[a.charAt(u)]:0;++u;const E=u<a.length?n[a.charAt(u)]:64;++u;const N=u<a.length?n[a.charAt(u)]:64;if(++u,h==null||b==null||E==null||N==null)throw new ux;const M=h<<2|b>>4;if(r.push(M),E!==64){const et=b<<4&240|E>>2;if(r.push(et),N!==64){const ft=E<<6&192|N;r.push(ft)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class ux extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cx=function(a){const t=Ob(a);return Mb.encodeByteArray(t,!0)},df=function(a){return cx(a).replace(/\./g,"")},kb=function(a){try{return Mb.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fx=()=>hx().__FIREBASE_DEFAULTS__,dx=()=>{if(typeof process>"u"||typeof qv>"u")return;const a=qv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},mx=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&kb(a[1]);return t&&JSON.parse(t)},kf=()=>{try{return ox()||fx()||dx()||mx()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Lb=a=>kf()?.emulatorHosts?.[a],px=a=>{const t=Lb(a);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Pb=()=>kf()?.config,Db=a=>kf()?.[`_${a}`];class gx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function du(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vb(a){return(await fetch(a,{credentials:"include"})).ok}function _x(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[df(JSON.stringify(n)),df(JSON.stringify(g)),""].join(".")}const pc={};function yx(){const a={prod:[],emulator:[]};for(const t of Object.keys(pc))pc[t]?a.emulator.push(t):a.prod.push(t);return a}function vx(a){let t=document.getElementById(a),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),n=!0),{created:n,element:t}}let Hv=!1;function zb(a,t){if(typeof window>"u"||typeof document>"u"||!du(window.location.host)||pc[a]===t||pc[a]||Hv)return;pc[a]=t;function n(M){return`__firebase__banner__${M}`}const r="__firebase__banner",h=yx().prod.length>0;function g(){const M=document.getElementById(r);M&&M.remove()}function b(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,et){M.setAttribute("width","24"),M.setAttribute("id",et),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function E(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Hv=!0,g()},M}function C(M,et){M.setAttribute("id",et),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function N(){const M=vx(r),et=n("text"),ft=document.getElementById(et)||document.createElement("span"),ut=n("learnmore"),yt=document.getElementById(ut)||document.createElement("a"),Ot=n("preprendIcon"),Vt=document.getElementById(Ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const kt=M.element;b(kt),C(yt,ut);const _e=E();v(Vt,Ot),kt.append(Vt,ft,yt,_e),document.body.appendChild(kt)}h?(ft.innerText="Preview backend disconnected.",Vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ft.innerText="Preview backend running in this workspace."),ft.setAttribute("id",et)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function wx(){const a=kf()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Ex(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sx(){const a=mi();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function xx(){return!wx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ub(){try{return typeof indexedDB=="object"}catch{return!1}}function Bb(){return new Promise((a,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},u.onupgradeneeded=()=>{n=!1},u.onerror=()=>{t(u.error?.message||"")}}catch(n){t(n)}})}function Ax(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Cx="FirebaseError";class na extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Cx,Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},u=`${this.service}/${t}`,h=this.errors[t],g=h?Ix(h,r):"Error",b=`${this.serviceName}: ${g} (${u}).`;return new na(u,b,r)}}function Ix(a,t){return a.replace(Rx,(n,r)=>{const u=t[r];return u!=null?String(u):`<${r}?>`})}const Rx=/\{\$([^}]+)}/g;function Nx(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function or(a,t){if(a===t)return!0;const n=Object.keys(a),r=Object.keys(t);for(const u of n){if(!r.includes(u))return!1;const h=a[u],g=t[u];if(Fv(h)&&Fv(g)){if(!or(h,g))return!1}else if(h!==g)return!1}for(const u of r)if(!n.includes(u))return!1;return!0}function Fv(a){return a!==null&&typeof a=="object"}function Oc(a){const t=[];for(const[n,r]of Object.entries(a))Array.isArray(r)?r.forEach(u=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ox(a,t){const n=new Mx(a,t);return n.subscribe.bind(n)}class Mx{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let u;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kx(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:r},u.next===void 0&&(u.next=Gm),u.error===void 0&&(u.error=Gm),u.complete===void 0&&(u.complete=Gm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kx(a,t){if(typeof a!="object"||a===null)return!1;for(const n of t)if(n in a&&typeof a[n]=="function")return!0;return!1}function Gm(){}const Lx=1e3,Px=2,Dx=14400*1e3,Vx=.5;function Gv(a,t=Lx,n=Px){const r=t*Math.pow(n,a),u=Math.round(Vx*r*(Math.random()-.5)*2);return Math.min(Dx,r+u)}function Cn(a){return a&&a._delegate?a._delegate:a}class ta{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Jo="[DEFAULT]";class zx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new gx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:n});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ux(t))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(t=Jo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jo){return this.instances.has(t)}getOptions(t=Jo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[h,g]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(h);r===b&&g.resolve(u)}return u}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),u=this.onInitCallbacks.get(r)??new Set;u.add(t),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&t(h,r),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const u of r)try{u(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jx(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jo){return this.component?this.component.multipleInstances?t:Jo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jx(a){return a===Jo?void 0:a}function Ux(a){return a.instantiationMode==="EAGER"}class Bx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var ue;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ue||(ue={}));const qx={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Hx=ue.INFO,Fx={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Gx=(a,t,...n)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),u=Fx[t];if(u)console[u](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lf{constructor(t){this.name=t,this._logLevel=Hx,this._logHandler=Gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ue))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...t),this._logHandler(this,ue.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...t),this._logHandler(this,ue.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...t),this._logHandler(this,ue.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...t),this._logHandler(this,ue.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...t),this._logHandler(this,ue.ERROR,...t)}}const Zx=(a,t)=>t.some(n=>a instanceof n);let Zv,Kv;function Kx(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yx(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,op=new WeakMap,Hb=new WeakMap,Zm=new WeakMap,Pp=new WeakMap;function Qx(a){const t=new Promise((n,r)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",g)},h=()=>{n(so(a.result)),u()},g=()=>{r(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",g)});return t.then(n=>{n instanceof IDBCursor&&qb.set(n,a)}).catch(()=>{}),Pp.set(t,a),t}function Wx(a){if(op.has(a))return;const t=new Promise((n,r)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",g),a.removeEventListener("abort",g)},h=()=>{n(),u()},g=()=>{r(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",g),a.addEventListener("abort",g)});op.set(a,t)}let lp={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return op.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Hb.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function Xx(a){lp=a(lp)}function Jx(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=a.call(Km(this),t,...n);return Hb.set(r,t.sort?t.sort():[t]),so(r)}:Yx().includes(a)?function(...t){return a.apply(Km(this),t),so(qb.get(this))}:function(...t){return so(a.apply(Km(this),t))}}function $x(a){return typeof a=="function"?Jx(a):(a instanceof IDBTransaction&&Wx(a),Zx(a,Kx())?new Proxy(a,lp):a)}function so(a){if(a instanceof IDBRequest)return Qx(a);if(Zm.has(a))return Zm.get(a);const t=$x(a);return t!==a&&(Zm.set(a,t),Pp.set(t,a)),t}const Km=a=>Pp.get(a);function Fb(a,t,{blocked:n,upgrade:r,blocking:u,terminated:h}={}){const g=indexedDB.open(a,t),b=so(g);return r&&g.addEventListener("upgradeneeded",v=>{r(so(g.result),v.oldVersion,v.newVersion,so(g.transaction),v)}),n&&g.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),b.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",E=>u(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const t1=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],Ym=new Map;function Yv(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Ym.get(t))return Ym.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,u=e1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(u||t1.includes(n)))return;const h=async function(g,...b){const v=this.transaction(g,u?"readwrite":"readonly");let E=v.store;return r&&(E=E.index(b.shift())),(await Promise.all([E[n](...b),u&&v.done]))[0]};return Ym.set(t,h),h}Xx(a=>({...a,get:(t,n,r)=>Yv(t,n)||a.get(t,n,r),has:(t,n)=>!!Yv(t,n)||a.has(t,n)}));class n1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function i1(a){return a.getComponent()?.type==="VERSION"}const up="@firebase/app",Qv="0.14.7";const lr=new Lf("@firebase/app"),s1="@firebase/app-compat",a1="@firebase/analytics-compat",r1="@firebase/analytics",o1="@firebase/app-check-compat",l1="@firebase/app-check",u1="@firebase/auth",c1="@firebase/auth-compat",h1="@firebase/database",f1="@firebase/data-connect",d1="@firebase/database-compat",m1="@firebase/functions",p1="@firebase/functions-compat",g1="@firebase/installations",_1="@firebase/installations-compat",y1="@firebase/messaging",v1="@firebase/messaging-compat",b1="@firebase/performance",w1="@firebase/performance-compat",T1="@firebase/remote-config",E1="@firebase/remote-config-compat",S1="@firebase/storage",x1="@firebase/storage-compat",A1="@firebase/firestore",C1="@firebase/ai",I1="@firebase/firestore-compat",R1="firebase",N1="12.8.0";const cp="[DEFAULT]",O1={[up]:"fire-core",[s1]:"fire-core-compat",[r1]:"fire-analytics",[a1]:"fire-analytics-compat",[l1]:"fire-app-check",[o1]:"fire-app-check-compat",[u1]:"fire-auth",[c1]:"fire-auth-compat",[h1]:"fire-rtdb",[f1]:"fire-data-connect",[d1]:"fire-rtdb-compat",[m1]:"fire-fn",[p1]:"fire-fn-compat",[g1]:"fire-iid",[_1]:"fire-iid-compat",[y1]:"fire-fcm",[v1]:"fire-fcm-compat",[b1]:"fire-perf",[w1]:"fire-perf-compat",[T1]:"fire-rc",[E1]:"fire-rc-compat",[S1]:"fire-gcs",[x1]:"fire-gcs-compat",[A1]:"fire-fst",[I1]:"fire-fst-compat",[C1]:"fire-vertex","fire-js":"fire-js",[R1]:"fire-js-all"};const mf=new Map,M1=new Map,hp=new Map;function Wv(a,t){try{a.container.addComponent(t)}catch(n){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function Ca(a){const t=a.name;if(hp.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;hp.set(t,a);for(const n of mf.values())Wv(n,a);for(const n of M1.values())Wv(n,a);return!0}function cl(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function Rs(a){return a==null?!1:a.settings!==void 0}const k1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new ul("app","Firebase",k1);class L1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}const mu=N1;function Gb(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const r={name:cp,automaticDataCollectionEnabled:!0,...t},u=r.name;if(typeof u!="string"||!u)throw ao.create("bad-app-name",{appName:String(u)});if(n||(n=Pb()),!n)throw ao.create("no-options");const h=mf.get(u);if(h){if(or(n,h.options)&&or(r,h.config))return h;throw ao.create("duplicate-app",{appName:u})}const g=new Bx(u);for(const v of hp.values())g.addComponent(v);const b=new L1(n,r,g);return mf.set(u,b),b}function Dp(a=cp){const t=mf.get(a);if(!t&&a===cp&&Pb())return Gb();if(!t)throw ao.create("no-app",{appName:a});return t}function Os(a,t,n){let r=O1[a]??a;n&&(r+=`-${n}`);const u=r.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const g=[`Unable to register library "${r}" with version "${t}":`];u&&g.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&g.push("and"),h&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lr.warn(g.join(" "));return}Ca(new ta(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const P1="firebase-heartbeat-database",D1=1,wc="firebase-heartbeat-store";let Qm=null;function Zb(){return Qm||(Qm=Fb(P1,D1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(wc)}catch(n){console.warn(n)}}}}).catch(a=>{throw ao.create("idb-open",{originalErrorMessage:a.message})})),Qm}async function V1(a){try{const n=(await Zb()).transaction(wc),r=await n.objectStore(wc).get(Kb(a));return await n.done,r}catch(t){if(t instanceof na)lr.warn(t.message);else{const n=ao.create("idb-get",{originalErrorMessage:t?.message});lr.warn(n.message)}}}async function Xv(a,t){try{const r=(await Zb()).transaction(wc,"readwrite");await r.objectStore(wc).put(t,Kb(a)),await r.done}catch(n){if(n instanceof na)lr.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n?.message});lr.warn(r.message)}}}function Kb(a){return`${a.name}!${a.options.appId}`}const z1=1024,j1=30;class U1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>j1){const u=H1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){lr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jv(),{heartbeatsToSend:n,unsentEntries:r}=B1(this._heartbeatsCache.heartbeats),u=df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return lr.warn(t),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function B1(a,t=z1){const n=[];let r=a.slice();for(const u of a){const h=n.find(g=>g.agent===u.agent);if(h){if(h.dates.push(u.date),$v(n)>t){h.dates.pop();break}}else if(n.push({agent:u.agent,dates:[u.date]}),$v(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ub()?Bb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function $v(a){return df(JSON.stringify({version:2,heartbeats:a})).length}function H1(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,t=r);return t}function F1(a){Ca(new ta("platform-logger",t=>new n1(t),"PRIVATE")),Ca(new ta("heartbeat",t=>new U1(t),"PRIVATE")),Os(up,Qv,a),Os(up,Qv,"esm2020"),Os("fire-js","")}F1("");var G1="firebase",Z1="12.8.0";Os(G1,Z1,"app");function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K1=Yb,Qb=new ul("auth","Firebase",Yb());const pf=new Lf("@firebase/auth");function Y1(a,...t){pf.logLevel<=ue.WARN&&pf.warn(`Auth (${mu}): ${a}`,...t)}function nf(a,...t){pf.logLevel<=ue.ERROR&&pf.error(`Auth (${mu}): ${a}`,...t)}function Ia(a,...t){throw zp(a,...t)}function Xs(a,...t){return zp(a,...t)}function Vp(a,t,n){const r={...K1(),[t]:n};return new ul("auth","Firebase",r).create(t,{appName:a.name})}function ro(a){return Vp(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q1(a,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ia(a,"argument-error"),Vp(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(a,...t){if(typeof a!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(n,...r)}return Qb.create(a,...t)}function Ft(a,t,...n){if(!a)throw zp(t,...n)}function sr(a){const t="INTERNAL ASSERTION FAILED: "+a;throw nf(t),new Error(t)}function ur(a,t){a||sr(t)}function fp(){return typeof self<"u"&&self.location?.href||""}function W1(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function X1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W1()||jb()||"connection"in navigator)?navigator.onLine:!0}function J1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Mc{constructor(t,n){this.shortDelay=t,this.longDelay=n,ur(n>t,"Short delay should be less than long delay!"),this.isMobile=bx()||Ex()}get(){return X1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jp(a,t){ur(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Wb{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eA=new Mc(3e4,6e4);function Pf(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function pu(a,t,n,r,u={}){return Xb(a,u,async()=>{let h={},g={};r&&(t==="GET"?g=r:h={body:JSON.stringify(r)});const b=Oc({key:a.config.apiKey,...g}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const E={method:t,headers:v,...h};return Tx()||(E.referrerPolicy="no-referrer"),a.emulatorConfig&&du(a.emulatorConfig.host)&&(E.credentials="include"),Wb.fetch()(await $b(a,a.config.apiHost,n,b),E)})}async function Xb(a,t,n){a._canInitEmulator=!1;const r={...$1,...t};try{const u=new nA(a),h=await Promise.race([n(),u.promise]);u.clearNetworkTimeout();const g=await h.json();if("needConfirmation"in g)throw Kh(a,"account-exists-with-different-credential",g);if(h.ok&&!("errorMessage"in g))return g;{const b=h.ok?g.errorMessage:g.error.message,[v,E]=b.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(a,"credential-already-in-use",g);if(v==="EMAIL_EXISTS")throw Kh(a,"email-already-in-use",g);if(v==="USER_DISABLED")throw Kh(a,"user-disabled",g);const C=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Vp(a,C,E);Ia(a,C)}}catch(u){if(u instanceof na)throw u;Ia(a,"network-request-failed",{message:String(u)})}}async function Jb(a,t,n,r,u={}){const h=await pu(a,t,n,r,u);return"mfaPendingCredential"in h&&Ia(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function $b(a,t,n,r){const u=`${t}${n}?${r}`,h=a,g=h.config.emulator?jp(a.config,u):`${a.config.apiScheme}://${u}`;return tA.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(g).toString():g}class nA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xs(this.auth,"network-request-failed")),eA.get())})}}function Kh(a,t,n){const r={appName:a.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const u=Xs(a,t,r);return u.customData._tokenResponse=n,u}async function iA(a,t){return pu(a,"POST","/v1/accounts:delete",t)}async function gf(a,t){return pu(a,"POST","/v1/accounts:lookup",t)}function gc(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sA(a,t=!1){const n=Cn(a),r=await n.getIdToken(t),u=Up(r);Ft(u&&u.exp&&u.auth_time&&u.iat,n.auth,"internal-error");const h=typeof u.firebase=="object"?u.firebase:void 0,g=h?.sign_in_provider;return{claims:u,token:r,authTime:gc(Wm(u.auth_time)),issuedAtTime:gc(Wm(u.iat)),expirationTime:gc(Wm(u.exp)),signInProvider:g||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Wm(a){return Number(a)*1e3}function Up(a){const[t,n,r]=a.split(".");if(t===void 0||n===void 0||r===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const u=kb(n);return u?JSON.parse(u):(nf("Failed to decode base64 JWT payload"),null)}catch(u){return nf("Caught error parsing JWT payload as JSON",u?.toString()),null}}function e0(a){const t=Up(a);return Ft(t,"internal-error"),Ft(typeof t.exp<"u","internal-error"),Ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Tc(a,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof na&&aA(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function aA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class rA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _f(a){const t=a.auth,n=await a.getIdToken(),r=await Tc(a,gf(t,{idToken:n}));Ft(r?.users.length,t,"internal-error");const u=r.users[0];a._notifyReloadListener(u);const h=u.providerUserInfo?.length?tw(u.providerUserInfo):[],g=lA(a.providerData,h),b=a.isAnonymous,v=!(a.email&&u.passwordHash)&&!g?.length,E=b?v:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new dp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(a,C)}async function oA(a){const t=Cn(a);await _f(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lA(a,t){return[...a.filter(r=>!t.some(u=>u.providerId===r.providerId)),...t]}function tw(a){return a.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function uA(a,t){const n=await Xb(a,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:u,apiKey:h}=a.config,g=await $b(a,u,"/v1/token",`key=${h}`),b=await a._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:b,body:r};return a.emulatorConfig&&du(a.emulatorConfig.host)&&(v.credentials="include"),Wb.fetch()(g,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cA(a,t){return pu(a,"POST","/v2/accounts:revokeToken",Pf(a,t))}class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ft(t.idToken,"internal-error"),Ft(typeof t.idToken<"u","internal-error"),Ft(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):e0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ft(t.length!==0,"internal-error");const n=e0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:u,expiresIn:h}=await uA(t,n);this.updateTokensAndExpiration(r,u,Number(h))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:u,expirationTime:h}=n,g=new $l;return r&&(Ft(typeof r=="string","internal-error",{appName:t}),g.refreshToken=r),u&&(Ft(typeof u=="string","internal-error",{appName:t}),g.accessToken=u),h&&(Ft(typeof h=="number","internal-error",{appName:t}),g.expirationTime=h),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Xr(a,t){Ft(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Ws{constructor({uid:t,auth:n,stsTokenManager:r,...u}){this.providerId="firebase",this.proactiveRefresh=new rA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new dp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Tc(this,this.stsTokenManager.getToken(this.auth,t));return Ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return sA(this,t)}reload(){return oA(this)}_assign(t){this!==t&&(Ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ws({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await _f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(ro(this.auth));const t=await this.getIdToken();return await Tc(this,iA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,u=n.email??void 0,h=n.phoneNumber??void 0,g=n.photoURL??void 0,b=n.tenantId??void 0,v=n._redirectEventId??void 0,E=n.createdAt??void 0,C=n.lastLoginAt??void 0,{uid:N,emailVerified:M,isAnonymous:et,providerData:ft,stsTokenManager:ut}=n;Ft(N&&ut,t,"internal-error");const yt=$l.fromJSON(this.name,ut);Ft(typeof N=="string",t,"internal-error"),Xr(r,t.name),Xr(u,t.name),Ft(typeof M=="boolean",t,"internal-error"),Ft(typeof et=="boolean",t,"internal-error"),Xr(h,t.name),Xr(g,t.name),Xr(b,t.name),Xr(v,t.name),Xr(E,t.name),Xr(C,t.name);const Ot=new Ws({uid:N,auth:t,email:u,emailVerified:M,displayName:r,isAnonymous:et,photoURL:g,phoneNumber:h,tenantId:b,stsTokenManager:yt,createdAt:E,lastLoginAt:C});return ft&&Array.isArray(ft)&&(Ot.providerData=ft.map(Vt=>({...Vt}))),v&&(Ot._redirectEventId=v),Ot}static async _fromIdTokenResponse(t,n,r=!1){const u=new $l;u.updateFromServerResponse(n);const h=new Ws({uid:n.localId,auth:t,stsTokenManager:u,isAnonymous:r});return await _f(h),h}static async _fromGetAccountInfoResponse(t,n,r){const u=n.users[0];Ft(u.localId!==void 0,"internal-error");const h=u.providerUserInfo!==void 0?tw(u.providerUserInfo):[],g=!(u.email&&u.passwordHash)&&!h?.length,b=new $l;b.updateFromIdToken(r);const v=new Ws({uid:u.localId,auth:t,stsTokenManager:b,isAnonymous:g}),E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new dp(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!h?.length};return Object.assign(v,E),v}}const n0=new Map;function ar(a){ur(a instanceof Function,"Expected a class definition");let t=n0.get(a);return t?(ur(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,n0.set(a,t),t)}class ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ew.type="NONE";const i0=ew;function sf(a,t,n){return`firebase:${a}:${t}:${n}`}class tu{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:u,name:h}=this.auth;this.fullUserKey=sf(this.userKey,u.apiKey,h),this.fullPersistenceKey=sf("persistence",u.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await gf(this.auth,{idToken:t}).catch(()=>{});return n?Ws._fromGetAccountInfoResponse(this.auth,n,t):null}return Ws._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new tu(ar(i0),t,r);const u=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=u[0]||ar(i0);const g=sf(r,t.config.apiKey,t.name);let b=null;for(const E of n)try{const C=await E._get(g);if(C){let N;if(typeof C=="string"){const M=await gf(t,{idToken:C}).catch(()=>{});if(!M)break;N=await Ws._fromGetAccountInfoResponse(t,M,C)}else N=Ws._fromJSON(t,C);E!==h&&(b=N),h=E;break}}catch{}const v=u.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new tu(h,t,r):(h=v[0],b&&await h._set(g,b.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(g)}catch{}})),new tu(h,t,r))}}function s0(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ow(t))return"Blackberry";if(lw(t))return"Webos";if(iw(t))return"Safari";if((t.includes("chrome/")||sw(t))&&!t.includes("edge/"))return"Chrome";if(rw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(n);if(r?.length===2)return r[1]}return"Other"}function nw(a=mi()){return/firefox\//i.test(a)}function iw(a=mi()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sw(a=mi()){return/crios\//i.test(a)}function aw(a=mi()){return/iemobile/i.test(a)}function rw(a=mi()){return/android/i.test(a)}function ow(a=mi()){return/blackberry/i.test(a)}function lw(a=mi()){return/webos/i.test(a)}function Bp(a=mi()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function hA(a=mi()){return Bp(a)&&!!window.navigator?.standalone}function fA(){return Sx()&&document.documentMode===10}function uw(a=mi()){return Bp(a)||rw(a)||lw(a)||ow(a)||/windows phone/i.test(a)||aw(a)}function cw(a,t=[]){let n;switch(a){case"Browser":n=s0(mi());break;case"Worker":n=`${s0(mi())}-${a}`;break;default:n=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${mu}/${r}`}class dA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=h=>new Promise((g,b)=>{try{const v=t(h);g(v)}catch(v){b(v)}});r.onAbort=n,this.queue.push(r);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const u of n)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function mA(a,t={}){return pu(a,"GET","/v2/passwordPolicy",Pf(a,t))}const pA=6;class gA{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),u&&(n.meetsMaxPasswordLength=t.length<=u)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let u=0;u<t.length;u++)r=t.charAt(u),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,u,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class _A{constructor(t,n,r,u){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new dA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await gf(this,{idToken:t}),r=await Ws._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Rs(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,g=r?._redirectEventId,b=await this.tryRedirectSignIn(t);(!h||h===g)&&b?.user&&(r=b.user,u=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _f(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Rs(this.app))return Promise.reject(ro(this));const n=t?Cn(t):null;return n&&Ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Rs(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mA(this),n=new gA(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ul("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ar(t)||this._popupRedirectResolver;Ft(n,this,"argument-error"),this.redirectPersistenceManager=await tu.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,u){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let g=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(b,this,"internal-error"),b.then(()=>{g||h(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,r,u);return()=>{g=!0,v()}}else{const v=t.addObserver(n);return()=>{g=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Y1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function kc(a){return Cn(a)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ox(n=>this.observer=n)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yA(a){qp=a}function vA(a){return qp.loadJS(a)}function bA(){return qp.gapiScript}function wA(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function TA(a,t){const n=cl(a,"auth");if(n.isInitialized()){const u=n.getImmediate(),h=n.getOptions();if(or(h,t??{}))return u;Ia(u,"already-initialized")}return n.initialize({options:t})}function EA(a,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ar);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function SA(a,t,n){const r=kc(a);Ft(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const u=!1,h=hw(t),{host:g,port:b}=xA(t),v=b===null?"":`:${b}`,E={url:`${h}//${g}${v}/`},C=Object.freeze({host:g,port:b,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:u})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft(or(E,r.config.emulator)&&or(C,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=E,r.emulatorConfig=C,r.settings.appVerificationDisabledForTesting=!0,du(g)?(Vb(`${h}//${g}${v}`),zb("Auth",!0)):AA()}function hw(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function xA(a){const t=hw(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(r);if(u){const h=u[1];return{host:h,port:r0(r.substr(h.length+1))}}else{const[h,g]=r.split(":");return{host:h,port:r0(g)}}}function r0(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function AA(){function a(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class fw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,n){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}async function eu(a,t){return Jb(a,"POST","/v1/accounts:signInWithIdp",Pf(a,t))}const CA="http://localhost";class il extends fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new il(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ia("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:u,...h}=n;if(!r||!u)return null;const g=new il(r,u);return g.idToken=h.idToken||void 0,g.accessToken=h.accessToken||void 0,g.secret=h.secret,g.nonce=h.nonce,g.pendingToken=h.pendingToken||null,g}_getIdTokenResponse(t){const n=this.buildRequest();return eu(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,eu(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,eu(t,n)}buildRequest(){const t={requestUri:CA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Oc(n)}return t}}class Hp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Lc extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class to extends Lc{constructor(){super("facebook.com")}static credential(t){return il._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return to.credentialFromTaggedObject(t)}static credentialFromError(t){return to.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return to.credential(t.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";class ir extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return il._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class eo extends Lc{constructor(){super("github.com")}static credential(t){return il._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return eo.credentialFromTaggedObject(t)}static credentialFromError(t){return eo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return eo.credential(t.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";class no extends Lc{constructor(){super("twitter.com")}static credential(t,n){return il._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return no.credentialFromTaggedObject(t)}static credentialFromError(t){return no.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";async function IA(a,t){return Jb(a,"POST","/v1/accounts:signUp",Pf(a,t))}class uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,u=!1){const h=await Ws._fromIdTokenResponse(t,r,u),g=o0(r);return new uo({user:h,providerId:g,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const u=o0(r);return new uo({user:t,providerId:u,_tokenResponse:r,operationType:n})}}function o0(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function RA(a){if(Rs(a.app))return Promise.reject(ro(a));const t=kc(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new uo({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await IA(t,{returnSecureToken:!0}),r=await uo._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}class yf extends na{constructor(t,n,r,u){super(n.code,n.message),this.operationType=r,this.user=u,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,u){return new yf(t,n,r,u)}}function dw(a,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(a,h,t,r):h})}async function NA(a,t,n=!1){const r=await Tc(a,t._linkToIdToken(a.auth,await a.getIdToken()),n);return uo._forOperation(a,"link",r)}async function OA(a,t,n=!1){const{auth:r}=a;if(Rs(r.app))return Promise.reject(ro(r));const u="reauthenticate";try{const h=await Tc(a,dw(r,u,t,a),n);Ft(h.idToken,r,"internal-error");const g=Up(h.idToken);Ft(g,r,"internal-error");const{sub:b}=g;return Ft(a.uid===b,r,"user-mismatch"),uo._forOperation(a,u,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ia(r,"user-mismatch"),h}}async function MA(a,t,n=!1){if(Rs(a.app))return Promise.reject(ro(a));const r="signIn",u=await dw(a,r,t),h=await uo._fromIdTokenResponse(a,r,u);return n||await a._updateCurrentUser(h.user),h}function kA(a,t,n,r){return Cn(a).onIdTokenChanged(t,n,r)}function LA(a,t,n){return Cn(a).beforeAuthStateChanged(t,n)}function PA(a,t,n,r){return Cn(a).onAuthStateChanged(t,n,r)}function DA(a){return Cn(a).signOut()}const vf="__sak";class mw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const VA=1e3,zA=10;class pw extends mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),u=this.localCache[n];r!==u&&t(n,u,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((g,b,v)=>{this.notifyListeners(g,v)});return}const r=t.key;n?this.detachListener():this.stopPolling();const u=()=>{const g=this.storage.getItem(r);!n&&this.localCache[r]===g||this.notifyListeners(r,g)},h=this.storage.getItem(r);fA()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(u,zA):u()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const u of Array.from(r))u(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},VA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}pw.type="LOCAL";const jA=pw;class gw extends mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}gw.type="SESSION";const _w=gw;function UA(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Df{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(u=>u.isListeningto(t));if(n)return n;const r=new Df(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:u,data:h}=n.data,g=this.handlersMap[u];if(!g?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:u});const b=Array.from(g).map(async E=>E(n.origin,h)),v=await UA(b);n.ports[0].postMessage({status:"done",eventId:r,eventType:u,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];function Fp(a="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return a+n}class BA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let h,g;return new Promise((b,v)=>{const E=Fp("",20);u.port1.start();const C=setTimeout(()=>{v(new Error("unsupported_event"))},r);g={messageChannel:u,onMessage(N){const M=N;if(M.data.eventId===E)switch(M.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),b(M.data.response);break;default:clearTimeout(C),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(g),u.port1.addEventListener("message",g.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[u.port2])}).finally(()=>{g&&this.removeMessageHandler(g)})}}function Ea(){return window}function qA(a){Ea().location.href=a}function yw(){return typeof Ea().WorkerGlobalScope<"u"&&typeof Ea().importScripts=="function"}async function HA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FA(){return navigator?.serviceWorker?.controller||null}function GA(){return yw()?self:null}const vw="firebaseLocalStorageDb",ZA=1,bf="firebaseLocalStorage",bw="fbase_key";class Pc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(a,t){return a.transaction([bf],t?"readwrite":"readonly").objectStore(bf)}function KA(){const a=indexedDB.deleteDatabase(vw);return new Pc(a).toPromise()}function mp(){const a=indexedDB.open(vw,ZA);return new Promise((t,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(bf,{keyPath:bw})}catch(u){n(u)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(bf)?t(r):(r.close(),await KA(),t(await mp()))})})}async function l0(a,t,n){const r=Vf(a,!0).put({[bw]:t,value:n});return new Pc(r).toPromise()}async function YA(a,t){const n=Vf(a,!1).get(t),r=await new Pc(n).toPromise();return r===void 0?null:r.value}function u0(a,t){const n=Vf(a,!0).delete(t);return new Pc(n).toPromise()}const QA=800,WA=3;class ww{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>WA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(GA()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HA(),!this.activeServiceWorker)return;this.sender=new BA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mp();return await l0(t,vf,"1"),await u0(t,vf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>YA(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>u0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(u=>{const h=Vf(u,!1).getAll();return new Pc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:u,value:h}of t)r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(h)&&(this.notifyListeners(u,h),n.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!r.has(u)&&(this.notifyListeners(u,null),n.push(u));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const u of Array.from(r))u(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ww.type="LOCAL";const XA=ww;new Mc(3e4,6e4);function Tw(a,t){return t?ar(t):(Ft(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Gp extends fw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return eu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return eu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JA(a){return MA(a.auth,new Gp(a),a.bypassAuthState)}function $A(a){const{auth:t,user:n}=a;return Ft(n,t,"internal-error"),OA(n,new Gp(a),a.bypassAuthState)}async function t2(a){const{auth:t,user:n}=a;return Ft(n,t,"internal-error"),NA(n,new Gp(a),a.bypassAuthState)}class Ew{constructor(t,n,r,u,h=!1){this.auth=t,this.resolver=r,this.user=u,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:u,tenantId:h,error:g,type:b}=t;if(g){this.reject(g);return}const v={auth:this.auth,requestUri:n,sessionId:r,tenantId:h||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(v))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JA;case"linkViaPopup":case"linkViaRedirect":return t2;case"reauthViaPopup":case"reauthViaRedirect":return $A;default:Ia(this.auth,"internal-error")}}resolve(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const e2=new Mc(2e3,1e4);async function n2(a,t,n){if(Rs(a.app))return Promise.reject(Xs(a,"operation-not-supported-in-this-environment"));const r=kc(a);Q1(a,t,Hp);const u=Tw(r,n);return new $o(r,"signInViaPopup",t,u).executeNotNull()}class $o extends Ew{constructor(t,n,r,u,h){super(t,n,u,h),this.provider=r,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ft(t,this.auth,"internal-error"),t}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const t=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,e2.get())};t()}}$o.currentPopupAction=null;const i2="pendingRedirect",af=new Map;class s2 extends Ew{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=af.get(this.auth._key());if(!t){try{const r=await a2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}af.set(this.auth._key(),t)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a2(a,t){const n=l2(t),r=o2(a);if(!await r._isAvailable())return!1;const u=await r._get(n)==="true";return await r._remove(n),u}function r2(a,t){af.set(a._key(),t)}function o2(a){return ar(a._redirectPersistence)}function l2(a){return sf(i2,a.config.apiKey,a.name)}async function u2(a,t,n=!1){if(Rs(a.app))return Promise.reject(ro(a));const r=kc(a),u=Tw(r,t),g=await new s2(r,u,n).execute();return g&&!n&&(delete g.user._redirectEventId,await r._persistUserIfCurrent(g.user),await r._setRedirectUser(null,t)),g}const c2=600*1e3;class h2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!f2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Sw(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Xs(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=c2&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(t))}saveEventToCache(t){this.cachedEventUids.add(c0(t)),this.lastProcessedEventTime=Date.now()}}function c0(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Sw({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function f2(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sw(a);default:return!1}}async function d2(a,t={}){return pu(a,"GET","/v1/projects",t)}const m2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p2=/^https?/;async function g2(a){if(a.config.emulator)return;const{authorizedDomains:t}=await d2(a);for(const n of t)try{if(_2(n))return}catch{}Ia(a,"unauthorized-domain")}function _2(a){const t=fp(),{protocol:n,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const g=new URL(a);return g.hostname===""&&r===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&g.hostname===r}if(!p2.test(n))return!1;if(m2.test(a))return r===a;const u=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(r)}const y2=new Mc(3e4,6e4);function h0(){const a=Ea().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function v2(a){return new Promise((t,n)=>{function r(){h0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{h0(),n(Xs(a,"network-request-failed"))},timeout:y2.get()})}if(Ea().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ea().gapi?.load)r();else{const u=wA("iframefcb");return Ea()[u]=()=>{gapi.load?r():n(Xs(a,"network-request-failed"))},vA(`${bA()}?onload=${u}`).catch(h=>n(h))}}).catch(t=>{throw rf=null,t})}let rf=null;function b2(a){return rf=rf||v2(a),rf}const w2=new Mc(5e3,15e3),T2="__/auth/iframe",E2="emulator/auth/iframe",S2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A2(a){const t=a.config;Ft(t.authDomain,a,"auth-domain-config-required");const n=t.emulator?jp(t,E2):`https://${a.config.authDomain}/${T2}`,r={apiKey:t.apiKey,appName:a.name,v:mu},u=x2.get(a.config.apiHost);u&&(r.eid=u);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${n}?${Oc(r).slice(1)}`}async function C2(a){const t=await b2(a),n=Ea().gapi;return Ft(n,a,"internal-error"),t.open({where:document.body,url:A2(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S2,dontclear:!0},r=>new Promise(async(u,h)=>{await r.restyle({setHideOnLeave:!1});const g=Xs(a,"network-request-failed"),b=Ea().setTimeout(()=>{h(g)},w2.get());function v(){Ea().clearTimeout(b),u(r)}r.ping(v).then(v,()=>{h(g)})}))}const I2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R2=500,N2=600,O2="_blank",M2="http://localhost";class f0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k2(a,t,n,r=R2,u=N2){const h=Math.max((window.screen.availHeight-u)/2,0).toString(),g=Math.max((window.screen.availWidth-r)/2,0).toString();let b="";const v={...I2,width:r.toString(),height:u.toString(),top:h,left:g},E=mi().toLowerCase();n&&(b=sw(E)?O2:n),nw(E)&&(t=t||M2,v.scrollbars="yes");const C=Object.entries(v).reduce((M,[et,ft])=>`${M}${et}=${ft},`,"");if(hA(E)&&b!=="_self")return L2(t||"",b),new f0(null);const N=window.open(t||"",b,C);Ft(N,a,"popup-blocked");try{N.focus()}catch{}return new f0(N)}function L2(a,t){const n=document.createElement("a");n.href=a,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const P2="__/auth/handler",D2="emulator/auth/handler",V2=encodeURIComponent("fac");async function d0(a,t,n,r,u,h){Ft(a.config.authDomain,a,"auth-domain-config-required"),Ft(a.config.apiKey,a,"invalid-api-key");const g={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:r,v:mu,eventId:u};if(t instanceof Hp){t.setDefaultLanguage(a.languageCode),g.providerId=t.providerId||"",Nx(t.getCustomParameters())||(g.customParameters=JSON.stringify(t.getCustomParameters()));for(const[C,N]of Object.entries({}))g[C]=N}if(t instanceof Lc){const C=t.getScopes().filter(N=>N!=="");C.length>0&&(g.scopes=C.join(","))}a.tenantId&&(g.tid=a.tenantId);const b=g;for(const C of Object.keys(b))b[C]===void 0&&delete b[C];const v=await a._getAppCheckToken(),E=v?`#${V2}=${encodeURIComponent(v)}`:"";return`${z2(a)}?${Oc(b).slice(1)}${E}`}function z2({config:a}){return a.emulator?jp(a,D2):`https://${a.authDomain}/${P2}`}const Xm="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_w,this._completeRedirectFn=u2,this._overrideRedirectResult=r2}async _openPopup(t,n,r,u){ur(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await d0(t,n,r,fp(),u);return k2(t,h,Fp())}async _openRedirect(t,n,r,u){await this._originValidation(t);const h=await d0(t,n,r,fp(),u);return qA(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:u,promise:h}=this.eventManagers[n];return u?Promise.resolve(u):(ur(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await C2(t),r=new h2(t);return n.register("authEvent",u=>(Ft(u?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xm,{type:Xm},u=>{const h=u?.[0]?.[Xm];h!==void 0&&n(!!h),Ia(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uw()||iw()||Bp()}}const U2=j2;var m0="@firebase/auth",p0="1.12.0";class B2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function q2(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H2(a){Ca(new ta("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),u=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:g,authDomain:b}=r.options;Ft(g&&!g.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:g,authDomain:b,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cw(a)},E=new _A(r,u,h,v);return EA(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ca(new ta("auth-internal",t=>{const n=kc(t.getProvider("auth").getImmediate());return(r=>new B2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(m0,p0,q2(a)),Os(m0,p0,"esm2020")}const F2=300,G2=Db("authIdTokenMaxAge")||F2;let g0=null;const Z2=a=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G2)return;const u=n?.token;g0!==u&&(g0=u,await fetch(a,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function xw(a=Dp()){const t=cl(a,"auth");if(t.isInitialized())return t.getImmediate();const n=TA(a,{popupRedirectResolver:U2,persistence:[XA,jA,_w]}),r=Db("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const g=Z2(h.toString());LA(n,g,()=>g(n.currentUser)),kA(n,b=>g(b))}}const u=Lb("auth");return u&&SA(n,`http://${u}`),n}function K2(){return document.getElementsByTagName("head")?.[0]??document}yA({loadJS(a){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=u=>{const h=Xs("internal-error");h.customData=u,n(h)},r.type="text/javascript",r.charset="UTF-8",K2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H2("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oo,Aw;(function(){var a;function t(j,O){function D(){}D.prototype=O.prototype,j.F=O.prototype,j.prototype=new D,j.prototype.constructor=j,j.D=function(H,U,q){for(var P=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)P[Lt-2]=arguments[Lt];return O.prototype[U].apply(H,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(j,O,D){D||(D=0);const H=Array(16);if(typeof O=="string")for(var U=0;U<16;++U)H[U]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(U=0;U<16;++U)H[U]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=j.g[0],D=j.g[1],U=j.g[2];let q=j.g[3],P;P=O+(q^D&(U^q))+H[0]+3614090360&4294967295,O=D+(P<<7&4294967295|P>>>25),P=q+(U^O&(D^U))+H[1]+3905402710&4294967295,q=O+(P<<12&4294967295|P>>>20),P=U+(D^q&(O^D))+H[2]+606105819&4294967295,U=q+(P<<17&4294967295|P>>>15),P=D+(O^U&(q^O))+H[3]+3250441966&4294967295,D=U+(P<<22&4294967295|P>>>10),P=O+(q^D&(U^q))+H[4]+4118548399&4294967295,O=D+(P<<7&4294967295|P>>>25),P=q+(U^O&(D^U))+H[5]+1200080426&4294967295,q=O+(P<<12&4294967295|P>>>20),P=U+(D^q&(O^D))+H[6]+2821735955&4294967295,U=q+(P<<17&4294967295|P>>>15),P=D+(O^U&(q^O))+H[7]+4249261313&4294967295,D=U+(P<<22&4294967295|P>>>10),P=O+(q^D&(U^q))+H[8]+1770035416&4294967295,O=D+(P<<7&4294967295|P>>>25),P=q+(U^O&(D^U))+H[9]+2336552879&4294967295,q=O+(P<<12&4294967295|P>>>20),P=U+(D^q&(O^D))+H[10]+4294925233&4294967295,U=q+(P<<17&4294967295|P>>>15),P=D+(O^U&(q^O))+H[11]+2304563134&4294967295,D=U+(P<<22&4294967295|P>>>10),P=O+(q^D&(U^q))+H[12]+1804603682&4294967295,O=D+(P<<7&4294967295|P>>>25),P=q+(U^O&(D^U))+H[13]+4254626195&4294967295,q=O+(P<<12&4294967295|P>>>20),P=U+(D^q&(O^D))+H[14]+2792965006&4294967295,U=q+(P<<17&4294967295|P>>>15),P=D+(O^U&(q^O))+H[15]+1236535329&4294967295,D=U+(P<<22&4294967295|P>>>10),P=O+(U^q&(D^U))+H[1]+4129170786&4294967295,O=D+(P<<5&4294967295|P>>>27),P=q+(D^U&(O^D))+H[6]+3225465664&4294967295,q=O+(P<<9&4294967295|P>>>23),P=U+(O^D&(q^O))+H[11]+643717713&4294967295,U=q+(P<<14&4294967295|P>>>18),P=D+(q^O&(U^q))+H[0]+3921069994&4294967295,D=U+(P<<20&4294967295|P>>>12),P=O+(U^q&(D^U))+H[5]+3593408605&4294967295,O=D+(P<<5&4294967295|P>>>27),P=q+(D^U&(O^D))+H[10]+38016083&4294967295,q=O+(P<<9&4294967295|P>>>23),P=U+(O^D&(q^O))+H[15]+3634488961&4294967295,U=q+(P<<14&4294967295|P>>>18),P=D+(q^O&(U^q))+H[4]+3889429448&4294967295,D=U+(P<<20&4294967295|P>>>12),P=O+(U^q&(D^U))+H[9]+568446438&4294967295,O=D+(P<<5&4294967295|P>>>27),P=q+(D^U&(O^D))+H[14]+3275163606&4294967295,q=O+(P<<9&4294967295|P>>>23),P=U+(O^D&(q^O))+H[3]+4107603335&4294967295,U=q+(P<<14&4294967295|P>>>18),P=D+(q^O&(U^q))+H[8]+1163531501&4294967295,D=U+(P<<20&4294967295|P>>>12),P=O+(U^q&(D^U))+H[13]+2850285829&4294967295,O=D+(P<<5&4294967295|P>>>27),P=q+(D^U&(O^D))+H[2]+4243563512&4294967295,q=O+(P<<9&4294967295|P>>>23),P=U+(O^D&(q^O))+H[7]+1735328473&4294967295,U=q+(P<<14&4294967295|P>>>18),P=D+(q^O&(U^q))+H[12]+2368359562&4294967295,D=U+(P<<20&4294967295|P>>>12),P=O+(D^U^q)+H[5]+4294588738&4294967295,O=D+(P<<4&4294967295|P>>>28),P=q+(O^D^U)+H[8]+2272392833&4294967295,q=O+(P<<11&4294967295|P>>>21),P=U+(q^O^D)+H[11]+1839030562&4294967295,U=q+(P<<16&4294967295|P>>>16),P=D+(U^q^O)+H[14]+4259657740&4294967295,D=U+(P<<23&4294967295|P>>>9),P=O+(D^U^q)+H[1]+2763975236&4294967295,O=D+(P<<4&4294967295|P>>>28),P=q+(O^D^U)+H[4]+1272893353&4294967295,q=O+(P<<11&4294967295|P>>>21),P=U+(q^O^D)+H[7]+4139469664&4294967295,U=q+(P<<16&4294967295|P>>>16),P=D+(U^q^O)+H[10]+3200236656&4294967295,D=U+(P<<23&4294967295|P>>>9),P=O+(D^U^q)+H[13]+681279174&4294967295,O=D+(P<<4&4294967295|P>>>28),P=q+(O^D^U)+H[0]+3936430074&4294967295,q=O+(P<<11&4294967295|P>>>21),P=U+(q^O^D)+H[3]+3572445317&4294967295,U=q+(P<<16&4294967295|P>>>16),P=D+(U^q^O)+H[6]+76029189&4294967295,D=U+(P<<23&4294967295|P>>>9),P=O+(D^U^q)+H[9]+3654602809&4294967295,O=D+(P<<4&4294967295|P>>>28),P=q+(O^D^U)+H[12]+3873151461&4294967295,q=O+(P<<11&4294967295|P>>>21),P=U+(q^O^D)+H[15]+530742520&4294967295,U=q+(P<<16&4294967295|P>>>16),P=D+(U^q^O)+H[2]+3299628645&4294967295,D=U+(P<<23&4294967295|P>>>9),P=O+(U^(D|~q))+H[0]+4096336452&4294967295,O=D+(P<<6&4294967295|P>>>26),P=q+(D^(O|~U))+H[7]+1126891415&4294967295,q=O+(P<<10&4294967295|P>>>22),P=U+(O^(q|~D))+H[14]+2878612391&4294967295,U=q+(P<<15&4294967295|P>>>17),P=D+(q^(U|~O))+H[5]+4237533241&4294967295,D=U+(P<<21&4294967295|P>>>11),P=O+(U^(D|~q))+H[12]+1700485571&4294967295,O=D+(P<<6&4294967295|P>>>26),P=q+(D^(O|~U))+H[3]+2399980690&4294967295,q=O+(P<<10&4294967295|P>>>22),P=U+(O^(q|~D))+H[10]+4293915773&4294967295,U=q+(P<<15&4294967295|P>>>17),P=D+(q^(U|~O))+H[1]+2240044497&4294967295,D=U+(P<<21&4294967295|P>>>11),P=O+(U^(D|~q))+H[8]+1873313359&4294967295,O=D+(P<<6&4294967295|P>>>26),P=q+(D^(O|~U))+H[15]+4264355552&4294967295,q=O+(P<<10&4294967295|P>>>22),P=U+(O^(q|~D))+H[6]+2734768916&4294967295,U=q+(P<<15&4294967295|P>>>17),P=D+(q^(U|~O))+H[13]+1309151649&4294967295,D=U+(P<<21&4294967295|P>>>11),P=O+(U^(D|~q))+H[4]+4149444226&4294967295,O=D+(P<<6&4294967295|P>>>26),P=q+(D^(O|~U))+H[11]+3174756917&4294967295,q=O+(P<<10&4294967295|P>>>22),P=U+(O^(q|~D))+H[2]+718787259&4294967295,U=q+(P<<15&4294967295|P>>>17),P=D+(q^(U|~O))+H[9]+3951481745&4294967295,j.g[0]=j.g[0]+O&4294967295,j.g[1]=j.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,j.g[2]=j.g[2]+U&4294967295,j.g[3]=j.g[3]+q&4294967295}r.prototype.v=function(j,O){O===void 0&&(O=j.length);const D=O-this.blockSize,H=this.C;let U=this.h,q=0;for(;q<O;){if(U==0)for(;q<=D;)u(this,j,q),q+=this.blockSize;if(typeof j=="string"){for(;q<O;)if(H[U++]=j.charCodeAt(q++),U==this.blockSize){u(this,H),U=0;break}}else for(;q<O;)if(H[U++]=j[q++],U==this.blockSize){u(this,H),U=0;break}}this.h=U,this.o+=O},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var O=1;O<j.length-8;++O)j[O]=0;O=this.o*8;for(var D=j.length-8;D<j.length;++D)j[D]=O&255,O/=256;for(this.v(j),j=Array(16),O=0,D=0;D<4;++D)for(let H=0;H<32;H+=8)j[O++]=this.g[D]>>>H&255;return j};function h(j,O){var D=b;return Object.prototype.hasOwnProperty.call(D,j)?D[j]:D[j]=O(j)}function g(j,O){this.h=O;const D=[];let H=!0;for(let U=j.length-1;U>=0;U--){const q=j[U]|0;H&&q==O||(D[U]=q,H=!1)}this.g=D}var b={};function v(j){return-128<=j&&j<128?h(j,function(O){return new g([O|0],O<0?-1:0)}):new g([j|0],j<0?-1:0)}function E(j){if(isNaN(j)||!isFinite(j))return N;if(j<0)return yt(E(-j));const O=[];let D=1;for(let H=0;j>=D;H++)O[H]=j/D|0,D*=4294967296;return new g(O,0)}function C(j,O){if(j.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(j.charAt(0)=="-")return yt(C(j.substring(1),O));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=E(Math.pow(O,8));let H=N;for(let q=0;q<j.length;q+=8){var U=Math.min(8,j.length-q);const P=parseInt(j.substring(q,q+U),O);U<8?(U=E(Math.pow(O,U)),H=H.j(U).add(E(P))):(H=H.j(D),H=H.add(E(P)))}return H}var N=v(0),M=v(1),et=v(16777216);a=g.prototype,a.m=function(){if(ut(this))return-yt(this).m();let j=0,O=1;for(let D=0;D<this.g.length;D++){const H=this.i(D);j+=(H>=0?H:4294967296+H)*O,O*=4294967296}return j},a.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(ft(this))return"0";if(ut(this))return"-"+yt(this).toString(j);const O=E(Math.pow(j,6));var D=this;let H="";for(;;){const U=_e(D,O).g;D=Ot(D,U.j(O));let q=((D.g.length>0?D.g[0]:D.h)>>>0).toString(j);if(D=U,ft(D))return q+H;for(;q.length<6;)q="0"+q;H=q+H}},a.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function ft(j){if(j.h!=0)return!1;for(let O=0;O<j.g.length;O++)if(j.g[O]!=0)return!1;return!0}function ut(j){return j.h==-1}a.l=function(j){return j=Ot(this,j),ut(j)?-1:ft(j)?0:1};function yt(j){const O=j.g.length,D=[];for(let H=0;H<O;H++)D[H]=~j.g[H];return new g(D,~j.h).add(M)}a.abs=function(){return ut(this)?yt(this):this},a.add=function(j){const O=Math.max(this.g.length,j.g.length),D=[];let H=0;for(let U=0;U<=O;U++){let q=H+(this.i(U)&65535)+(j.i(U)&65535),P=(q>>>16)+(this.i(U)>>>16)+(j.i(U)>>>16);H=P>>>16,q&=65535,P&=65535,D[U]=P<<16|q}return new g(D,D[D.length-1]&-2147483648?-1:0)};function Ot(j,O){return j.add(yt(O))}a.j=function(j){if(ft(this)||ft(j))return N;if(ut(this))return ut(j)?yt(this).j(yt(j)):yt(yt(this).j(j));if(ut(j))return yt(this.j(yt(j)));if(this.l(et)<0&&j.l(et)<0)return E(this.m()*j.m());const O=this.g.length+j.g.length,D=[];for(var H=0;H<2*O;H++)D[H]=0;for(H=0;H<this.g.length;H++)for(let U=0;U<j.g.length;U++){const q=this.i(H)>>>16,P=this.i(H)&65535,Lt=j.i(U)>>>16,tn=j.i(U)&65535;D[2*H+2*U]+=P*tn,Vt(D,2*H+2*U),D[2*H+2*U+1]+=q*tn,Vt(D,2*H+2*U+1),D[2*H+2*U+1]+=P*Lt,Vt(D,2*H+2*U+1),D[2*H+2*U+2]+=q*Lt,Vt(D,2*H+2*U+2)}for(j=0;j<O;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=O;j<2*O;j++)D[j]=0;return new g(D,0)};function Vt(j,O){for(;(j[O]&65535)!=j[O];)j[O+1]+=j[O]>>>16,j[O]&=65535,O++}function kt(j,O){this.g=j,this.h=O}function _e(j,O){if(ft(O))throw Error("division by zero");if(ft(j))return new kt(N,N);if(ut(j))return O=_e(yt(j),O),new kt(yt(O.g),yt(O.h));if(ut(O))return O=_e(j,yt(O)),new kt(yt(O.g),O.h);if(j.g.length>30){if(ut(j)||ut(O))throw Error("slowDivide_ only works with positive integers.");for(var D=M,H=O;H.l(j)<=0;)D=ye(D),H=ye(H);var U=$t(D,1),q=$t(H,1);for(H=$t(H,2),D=$t(D,2);!ft(H);){var P=q.add(H);P.l(j)<=0&&(U=U.add(D),q=P),H=$t(H,1),D=$t(D,1)}return O=Ot(j,U.j(O)),new kt(U,O)}for(U=N;j.l(O)>=0;){for(D=Math.max(1,Math.floor(j.m()/O.m())),H=Math.ceil(Math.log(D)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),q=E(D),P=q.j(O);ut(P)||P.l(j)>0;)D-=H,q=E(D),P=q.j(O);ft(q)&&(q=M),U=U.add(q),j=Ot(j,P)}return new kt(U,j)}a.B=function(j){return _e(this,j).h},a.and=function(j){const O=Math.max(this.g.length,j.g.length),D=[];for(let H=0;H<O;H++)D[H]=this.i(H)&j.i(H);return new g(D,this.h&j.h)},a.or=function(j){const O=Math.max(this.g.length,j.g.length),D=[];for(let H=0;H<O;H++)D[H]=this.i(H)|j.i(H);return new g(D,this.h|j.h)},a.xor=function(j){const O=Math.max(this.g.length,j.g.length),D=[];for(let H=0;H<O;H++)D[H]=this.i(H)^j.i(H);return new g(D,this.h^j.h)};function ye(j){const O=j.g.length+1,D=[];for(let H=0;H<O;H++)D[H]=j.i(H)<<1|j.i(H-1)>>>31;return new g(D,j.h)}function $t(j,O){const D=O>>5;O%=32;const H=j.g.length-D,U=[];for(let q=0;q<H;q++)U[q]=O>0?j.i(q+D)>>>O|j.i(q+D+1)<<32-O:j.i(q+D);return new g(U,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Aw=r,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.B,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=E,g.fromString=C,oo=g}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cw,hc,Iw,of,pp,Rw,Nw,Ow;(function(){var a,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var y=0;y<f.length;++y){var S=f[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function u(f,y){if(y)t:{var S=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var Z=f[I];if(!(Z in S))break t;S=S[Z]}f=f[f.length-1],I=S[f],y=y(I),y!=I&&y!=null&&t(S,f,{configurable:!0,writable:!0,value:y})}}u("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(f){return f||function(y){var S=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&S.push([I,y[I]]);return S}});var h=h||{},g=this||self;function b(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,S){return f.call.apply(f.bind,arguments)}function E(f,y,S){return E=v,E.apply(null,arguments)}function C(f,y){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function N(f,y){function S(){}S.prototype=y.prototype,f.Z=y.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(I,Z,X){for(var gt=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)gt[Ht-2]=arguments[Ht];return y.prototype[Z].apply(I,gt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function et(f){const y=f.length;if(y>0){const S=Array(y);for(let I=0;I<y;I++)S[I]=f[I];return S}return[]}function ft(f,y){for(let I=1;I<arguments.length;I++){const Z=arguments[I];var S=typeof Z;if(S=S!="object"?S:Z?Array.isArray(Z)?"array":S:"null",S=="array"||S=="object"&&typeof Z.length=="number"){S=f.length||0;const X=Z.length||0;f.length=S+X;for(let gt=0;gt<X;gt++)f[S+gt]=Z[gt]}else f.push(Z)}}class ut{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function yt(f){g.setTimeout(()=>{throw f},0)}function Ot(){var f=j;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Vt{constructor(){this.h=this.g=null}add(y,S){const I=kt.get();I.set(y,S),this.h?this.h.next=I:this.g=I,this.h=I}}var kt=new ut(()=>new _e,f=>f.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,$t=!1,j=new Vt,O=()=>{const f=Promise.resolve(void 0);ye=()=>{f.then(D)}};function D(){for(var f;f=Ot();){try{f.h.call(f.g)}catch(S){yt(S)}var y=kt;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}$t=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};g.addEventListener("test",S,y),g.removeEventListener("test",S,y)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function Lt(f,y){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}N(Lt,U),Lt.prototype.init=function(f,y){const S=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(S=="mouseover"?y=f.fromElement:S=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Lt.Z.h.call(this)},Lt.prototype.h=function(){Lt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var tn="closure_listenable_"+(Math.random()*1e6|0),$=0;function pt(f,y,S,I,Z){this.listener=f,this.proxy=null,this.src=y,this.type=S,this.capture=!!I,this.ha=Z,this.key=++$,this.da=this.fa=!1}function ht(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function te(f,y,S){for(const I in f)y.call(S,f[I],I,f)}function wt(f,y){for(const S in f)y.call(void 0,f[S],S,f)}function z(f){const y={};for(const S in f)y[S]=f[S];return y}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(f,y){let S,I;for(let Z=1;Z<arguments.length;Z++){I=arguments[Z];for(S in I)f[S]=I[S];for(let X=0;X<nt.length;X++)S=nt[X],Object.prototype.hasOwnProperty.call(I,S)&&(f[S]=I[S])}}function mt(f){this.src=f,this.g={},this.h=0}mt.prototype.add=function(f,y,S,I,Z){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const gt=bt(f,y,I,Z);return gt>-1?(y=f[gt],S||(y.fa=!1)):(y=new pt(y,this.src,X,!!I,Z),y.fa=S,f.push(y)),y};function vt(f,y){const S=y.type;if(S in f.g){var I=f.g[S],Z=Array.prototype.indexOf.call(I,y,void 0),X;(X=Z>=0)&&Array.prototype.splice.call(I,Z,1),X&&(ht(y),f.g[S].length==0&&(delete f.g[S],f.h--))}}function bt(f,y,S,I){for(let Z=0;Z<f.length;++Z){const X=f[Z];if(!X.da&&X.listener==y&&X.capture==!!S&&X.ha==I)return Z}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),xe={};function Ie(f,y,S,I,Z){if(Array.isArray(y)){for(let X=0;X<y.length;X++)Ie(f,y[X],S,I,Z);return null}return S=In(S),f&&f[tn]?f.J(y,S,b(I)?!!I.capture:!1,Z):Jn(f,y,S,!1,I,Z)}function Jn(f,y,S,I,Z,X){if(!y)throw Error("Invalid event type");const gt=b(Z)?!!Z.capture:!!Z;let Ht=kn(f);if(Ht||(f[Gt]=Ht=new mt(f)),S=Ht.add(y,S,I,gt,X),S.proxy)return S;if(I=cs(),S.proxy=I,I.src=f,I.listener=S,f.addEventListener)q||(Z=gt),Z===void 0&&(Z=!1),f.addEventListener(y.toString(),I,Z);else if(f.attachEvent)f.attachEvent(Ri(y.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function cs(){function f(S){return y.call(f.src,f.listener,S)}const y=Ms;return f}function Ii(f,y,S,I,Z){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ii(f,y[X],S,I,Z);else I=b(I)?!!I.capture:!!I,S=In(S),f&&f[tn]?(f=f.i,X=String(y).toString(),X in f.g&&(y=f.g[X],S=bt(y,S,I,Z),S>-1&&(ht(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete f.g[X],f.h--)))):f&&(f=kn(f))&&(y=f.g[y.toString()],f=-1,y&&(f=bt(y,S,I,Z)),(S=f>-1?y[f]:null)&&hs(S))}function hs(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[tn])vt(y.i,f);else{var S=f.type,I=f.proxy;y.removeEventListener?y.removeEventListener(S,I,f.capture):y.detachEvent?y.detachEvent(Ri(S),I):y.addListener&&y.removeListener&&y.removeListener(I),(S=kn(y))?(vt(S,f),S.h==0&&(S.src=null,y[Gt]=null)):ht(f)}}}function Ri(f){return f in xe?xe[f]:xe[f]="on"+f}function Ms(f,y){if(f.da)f=!0;else{y=new Lt(y,this);const S=f.listener,I=f.ha||f.src;f.fa&&hs(f),f=S.call(I,y)}return f}function kn(f){return f=f[Gt],f instanceof mt?f:null}var Ni="__closure_events_fn_"+(Math.random()*1e9>>>0);function In(f){return typeof f=="function"?f:(f[Ni]||(f[Ni]=function(y){return f.handleEvent(y)}),f[Ni])}function en(){H.call(this),this.i=new mt(this),this.M=this,this.G=null}N(en,H),en.prototype[tn]=!0,en.prototype.removeEventListener=function(f,y,S,I){Ii(this,f,y,S,I)};function Ye(f,y){var S,I=f.G;if(I)for(S=[];I;I=I.G)S.push(I);if(f=f.M,I=y.type||y,typeof y=="string")y=new U(y,f);else if(y instanceof U)y.target=y.target||f;else{var Z=y;y=new U(I,f),dt(y,Z)}Z=!0;let X,gt;if(S)for(gt=S.length-1;gt>=0;gt--)X=y.g=S[gt],Z=pi(X,I,!0,y)&&Z;if(X=y.g=f,Z=pi(X,I,!0,y)&&Z,Z=pi(X,I,!1,y)&&Z,S)for(gt=0;gt<S.length;gt++)X=y.g=S[gt],Z=pi(X,I,!1,y)&&Z}en.prototype.N=function(){if(en.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const S=f.g[y];for(let I=0;I<S.length;I++)ht(S[I]);delete f.g[y],f.h--}}this.G=null},en.prototype.J=function(f,y,S,I){return this.i.add(String(f),y,!1,S,I)},en.prototype.K=function(f,y,S,I){return this.i.add(String(f),y,!0,S,I)};function pi(f,y,S,I){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let Z=!0;for(let X=0;X<y.length;++X){const gt=y[X];if(gt&&!gt.da&&gt.capture==S){const Ht=gt.listener,de=gt.ha||gt.src;gt.fa&&vt(f.i,gt),Z=Ht.call(de,I)!==!1&&Z}}return Z&&!I.defaultPrevented}function bo(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:g.setTimeout(f,y||0)}function fr(f){f.g=bo(()=>{f.g=null,f.i&&(f.i=!1,fr(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class gn extends H{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(f){H.call(this),this.h=f,this.g={}}N(ia,H);var fs=[];function ee(f){te(f.g,function(y,S){this.g.hasOwnProperty(S)&&hs(y)},f),f.g={}}ia.prototype.N=function(){ia.Z.N.call(this),ee(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=g.JSON.stringify,ne=g.JSON.parse,ti=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function Oa(){}function Ma(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){U.call(this,"d")}N(He,U);function cn(){U.call(this,"c")}N(cn,U);var Fe={},ei=null;function sa(){return ei=ei||new en}Fe.Ia="serverreachability";function dr(f){U.call(this,Fe.Ia,f)}N(dr,U);function gi(f){const y=sa();Ye(y,new dr(y))}Fe.STAT_EVENT="statevent";function Le(f,y){U.call(this,Fe.STAT_EVENT,f),this.stat=y}N(Le,U);function Qe(f){const y=sa();Ye(y,new Le(y,f))}Fe.Ja="timingevent";function Rn(f,y){U.call(this,Fe.Ja,f),this.size=y}N(Rn,U);function _i(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},y)}function yi(){this.g=!0}yi.prototype.ua=function(){this.g=!1};function Oi(f,y,S,I,Z,X){f.info(function(){if(f.g)if(X){var gt="",Ht=X.split("&");for(let me=0;me<Ht.length;me++){var de=Ht[me].split("=");if(de.length>1){const Be=de[0];de=de[1];const Vi=Be.split("_");gt=Vi.length>=2&&Vi[1]=="type"?gt+(Be+"="+de+"&"):gt+(Be+"=redacted&")}}}else gt=null;else gt=X;return"XMLHTTP REQ ("+I+") [attempt "+Z+"]: "+y+`
`+S+`
`+gt})}function ka(f,y,S,I,Z,X,gt){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Z+"]: "+y+`
`+S+`
`+X+" "+gt})}function Mi(f,y,S,I){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+mr(f,S)+(I?" "+I:"")})}function ki(f,y){f.info(function(){return"TIMEOUT: "+y})}yi.prototype.info=function(){};function mr(f,y){if(!f.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var S=X[f];if(!(S.length<2)){var I=S[1];if(Array.isArray(I)&&!(I.length<1)){var Z=I[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let gt=1;gt<I.length;gt++)I[gt]=""}}}}return $n(X)}catch{return y}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},La;function _n(){}N(_n,Oa),_n.prototype.g=function(){return new XMLHttpRequest},La=new _n;function xt(f){return encodeURIComponent(String(f))}function Ps(f){var y=1;f=f.split(":");const S=[];for(;y>0&&f.length;)S.push(f.shift()),y--;return f.length&&S.push(f.join(":")),S}function ni(f,y,S,I){this.j=f,this.i=y,this.l=S,this.S=I||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var We={},nn={};function ii(f,y,S){f.M=1,f.A=Ae(ze(y)),f.u=S,f.R=!0,hn(f,null)}function hn(f,y){f.F=Date.now(),vi(f),f.B=ze(f.A);var S=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),ra(S.i,"t",I),f.C=0,S=f.j.L,f.h=new Fn,f.g=xo(f.j,S?y:null,!f.u),f.P>0&&(f.O=new gn(E(f.Y,f,f.g),f.P)),y=f.V,S=f.g,I=f.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(fs[0]=Z.toString()),Z=fs);for(let X=0;X<Z.length;X++){const gt=Ie(S,Z[X],I||y.handleEvent,!1,y.h||y);if(!gt)break;y.g[gt.key]=gt}y=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),gi(),Oi(f.i,f.v,f.B,f.l,f.S,f.u)}ni.prototype.ba=function(f){f=f.target;const y=this.O;y&&Xi(f)==3?y.j():this.Y(f)},ni.prototype.Y=function(f){try{if(f==this.g)t:{const Ht=Xi(this.g),de=this.g.ya(),me=this.g.ca();if(!(Ht<3)&&(Ht!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Ht!=4||de==7||(de==8||me<=0?gi(3):gi(2)),ct(this);var y=this.g.ca();this.X=y;var S=pr(this);if(this.o=y==200,ka(this.i,this.v,this.B,this.l,this.S,Ht,y),this.o){if(this.U&&!this.L){e:{if(this.g){var I,Z=this.g;if((I=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var X=I;break e}}X=null}if(f=X)Mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ge(this,f);else{this.o=!1,this.m=3,Qe(12),Ut(this),Tt(this);break t}}if(this.R){f=!0;let Be;for(;!this.K&&this.C<S.length;)if(Be=gr(this,S),Be==nn){Ht==4&&(this.m=4,Qe(14),f=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==We){this.m=4,Qe(15),Mi(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Mi(this.i,this.l,Be,null),Ge(this,Be);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||S.length!=0||this.h.h||(this.m=1,Qe(16),f=!1),this.o=this.o&&f,!f)Mi(this.i,this.l,S,"[Invalid Chunked Response]"),Ut(this),Tt(this);else if(S.length>0&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.aa&&!gt.P&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Eo(gt),gt.P=!0,Qe(11))}}else Mi(this.i,this.l,S,null),Ge(this,S);Ht==4&&Ut(this),this.o&&!this.K&&(Ht==4?Ti(this.j,this):(this.o=!1,vi(this)))}else Ji(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,Qe(12)):(this.m=0,Qe(13)),Ut(this),Tt(this)}}}catch{}};function pr(f){if(!aa(f))return f.g.la();const y=vn(f.g);if(y==="")return"";let S="";const I=y.length,Z=Xi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ut(f),Tt(f),"";f.h.i=new g.TextDecoder}for(let X=0;X<I;X++)f.h.h=!0,S+=f.h.i.decode(y[X],{stream:!(Z&&X==I-1)});return y.length=0,f.h.g+=S,f.C=0,f.h.g}function aa(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function gr(f,y){var S=f.C,I=y.indexOf(`
`,S);return I==-1?nn:(S=Number(y.substring(S,I)),isNaN(S)?We:(I+=1,I+S>y.length?nn:(y=y.slice(I,I+S),f.C=I+S,y)))}ni.prototype.cancel=function(){this.K=!0,Ut(this)};function vi(f){f.T=Date.now()+f.H,J(f,f.H)}function J(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=_i(E(f.aa,f),y)}function ct(f){f.D&&(g.clearTimeout(f.D),f.D=null)}ni.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ki(this.i,this.B),this.M!=2&&(gi(),Qe(17)),Ut(this),this.m=2,Tt(this)):J(this,this.T-f)};function Tt(f){f.j.I==0||f.K||Ti(f.j,f)}function Ut(f){ct(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,ee(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Ge(f,y){try{var S=f.j;if(S.I!=0&&(S.g==f||Gn(S.h,f))){if(!f.L&&Gn(S.h,f)&&S.I==3){try{var I=S.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Z=I;if(Z[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)wr(S),ca(S);else break t;ja(S),Qe(18)}}else S.xa=Z[1],0<S.xa-S.K&&Z[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=_i(E(S.Va,S),6e3));Pn(S.h)<=1&&S.ta&&(S.ta=void 0)}else $i(S,11)}else if((f.L||S.g==f)&&wr(S),!P(y))for(Z=S.Ba.g.parse(y),y=0;y<Z.length;y++){let me=Z[y];const Be=me[0];if(!(Be<=S.K))if(S.K=Be,me=me[1],S.I==2)if(me[0]=="c"){S.M=me[1],S.ba=me[2];const Vi=me[3];Vi!=null&&(S.ka=Vi,S.j.info("VER="+S.ka));const zi=me[4];zi!=null&&(S.za=zi,S.j.info("SVER="+S.za));const Ei=me[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(I=1.5*Ei,S.O=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const es=f.g;if(es){const Ua=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var X=I.h;X.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(bi(X,X.h),X.h=null))}if(I.G){const Ba=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(I.wa=Ba,St(I.J,I.G,Ba))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),I=S;var gt=f;if(I.na=So(I,I.L?I.ba:null,I.W),gt.L){Ds(I.h,gt);var Ht=gt,de=I.O;de&&(Ht.H=de),Ht.D&&(ct(Ht),vi(Ht)),I.g=gt}else To(I);S.i.length>0&&oi(S)}else me[0]!="stop"&&me[0]!="close"||$i(S,7);else S.I==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?$i(S,7):Jt(S):me[0]!="noop"&&S.l&&S.l.qa(me),S.A=0)}}gi(4)}catch{}}var fe=class{constructor(f,y){this.g=f,this.map=y}};function Ne(f){this.l=f||10,g.PerformanceNavigationTiming?(f=g.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function be(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Pn(f){return f.h?1:f.g?f.g.size:0}function Gn(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function bi(f,y){f.g?f.g.add(y):f.h=y}function Ds(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Ne.prototype.cancel=function(){if(this.i=ds(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ds(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const S of f.g.values())y=y.concat(S.G);return y}return et(f.i)}var Ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qt(f,y){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const I=f[S].indexOf("=");let Z,X=null;I>=0?(Z=f[S].substring(0,I),X=f[S].substring(I+1)):Z=f[S],y(Z,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Rt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Rt?(this.l=f.l,je(this,f.j),this.o=f.o,this.g=f.g,Dn(this,f.u),this.h=f.h,ms(this,Va(f.i)),this.m=f.m):f&&(y=String(f).match(Ze))?(this.l=!1,je(this,y[1]||"",!0),this.o=Li(y[2]||""),this.g=Li(y[3]||"",!0),Dn(this,y[4]),this.h=Li(y[5]||"",!0),ms(this,y[6]||"",!0),this.m=Li(y[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}Rt.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(ps(y,_r,!0),":");var S=this.g;return(S||y=="file")&&(f.push("//"),(y=this.o)&&f.push(ps(y,_r,!0),"@"),f.push(xt(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(ps(S,S.charAt(0)=="/"?Qi:Pa,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",ps(S,gs)),f.join("")},Rt.prototype.resolve=function(f){const y=ze(this);let S=!!f.j;S?je(y,f.j):S=!!f.o,S?y.o=f.o:S=!!f.g,S?y.g=f.g:S=f.u!=null;var I=f.h;if(S)Dn(y,f.u);else if(S=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Z=y.h.lastIndexOf("/");Z!=-1&&(I=y.h.slice(0,Z+1)+I)}if(Z=I,Z==".."||Z==".")I="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){I=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const X=[];for(let gt=0;gt<Z.length;){const Ht=Z[gt++];Ht=="."?I&&gt==Z.length&&X.push(""):Ht==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&gt==Z.length&&X.push("")):(X.push(Ht),I=!0)}I=X.join("/")}else I=Z}return S?y.h=I:S=f.i.toString()!=="",S?ms(y,Va(f.i)):S=!!f.m,S&&(y.m=f.m),y};function ze(f){return new Rt(f)}function je(f,y,S){f.j=S?Li(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Dn(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function ms(f,y,S){y instanceof Pi?(f.i=y,oa(f.i,f.l)):(S||(y=ps(y,Oe)),f.i=new Pi(y,f.l))}function St(f,y,S){f.i.set(y,S)}function Ae(f){return St(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Li(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ps(f,y,S){return typeof f=="string"?(f=encodeURI(f).replace(y,Ue),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ue(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _r=/[#\/\?@]/g,Pa=/[#\?:]/g,Qi=/[#\?]/g,Oe=/[#\?@]/g,gs=/#/g;function Pi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function yn(f){f.g||(f.g=new Map,f.h=0,f.i&&qt(f.i,function(y,S){f.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}a=Pi.prototype,a.add=function(f,y){yn(this),this.i=null,f=_s(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(y),this.h+=1,this};function yr(f,y){yn(f),y=_s(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Vs(f,y){return yn(f),y=_s(f,y),f.g.has(y)}a.forEach=function(f,y){yn(this),this.g.forEach(function(S,I){S.forEach(function(Z){f.call(y,Z,I,this)},this)},this)};function Da(f,y){yn(f);let S=[];if(typeof y=="string")Vs(f,y)&&(S=S.concat(f.g.get(_s(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)S=S.concat(f[y]);return S}a.set=function(f,y){return yn(this),this.i=null,f=_s(this,f),Vs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},a.get=function(f,y){return f?(f=Da(this,f),f.length>0?String(f[0]):y):y};function ra(f,y,S){yr(f,y),S.length>0&&(f.i=null,f.g.set(_s(f,y),et(S)),f.h+=S.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var S=y[I];const Z=xt(S);S=Da(this,S);for(let X=0;X<S.length;X++){let gt=Z;S[X]!==""&&(gt+="="+xt(S[X])),f.push(gt)}}return this.i=f.join("&")};function Va(f){const y=new Pi;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function _s(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function oa(f,y){y&&!f.j&&(yn(f),f.i=null,f.g.forEach(function(S,I){const Z=I.toLowerCase();I!=Z&&(yr(this,I),ra(this,Z,S))},f)),f.j=y}function si(f,y){const S=new yi;if(g.Image){const I=new Image;I.onload=C(ai,S,"TestLoadImage: loaded",!0,y,I),I.onerror=C(ai,S,"TestLoadImage: error",!1,y,I),I.onabort=C(ai,S,"TestLoadImage: abort",!1,y,I),I.ontimeout=C(ai,S,"TestLoadImage: timeout",!1,y,I),g.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else y(!1)}function vr(f,y){const S=new yi,I=new AbortController,Z=setTimeout(()=>{I.abort(),ai(S,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:I.signal}).then(X=>{clearTimeout(Z),X.ok?ai(S,"TestPingServer: ok",!0,y):ai(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Z),ai(S,"TestPingServer: error",!1,y)})}function ai(f,y,S,I,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),I(S)}catch{}}function la(){this.g=new ti}function zt(f){this.i=f.Sb||null,this.h=f.ab||!1}N(zt,Oa),zt.prototype.g=function(){return new Vn(this.i,this.h)};function Vn(f,y){en.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(Vn,en),a=Vn.prototype,a.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,wi(this)},a.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||g).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},a.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ve(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ve(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}a.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?zs(this):wi(this),this.readyState==3&&ve(this)}},a.Oa=function(f){this.g&&(this.response=this.responseText=f,zs(this))},a.Na=function(f){this.g&&(this.response=f,zs(this))},a.ga=function(){this.g&&zs(this)};function zs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,wi(f)}a.setRequestHeader=function(f,y){this.A.append(f,y)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=y.next();return f.join(`\r
`)};function wi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ri(f){let y="";return te(f,function(S,I){y+=I,y+=":",y+=S,y+=`\r
`}),y}function js(f,y,S){t:{for(I in S){var I=!1;break t}I=!0}I||(S=ri(S),typeof f=="string"?S!=null&&xt(S):St(f,y,S))}function re(f){en.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(re,en);var Di=/^https?$/i,Us=["POST","PUT"];a=re.prototype,a.Fa=function(f){this.H=f},a.ea=function(f,y,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():La.g(),this.g.onreadystatechange=M(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(X){Xe(this,X);return}if(f=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Z in I)S.set(Z,I[Z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())S.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find(X=>X.toLowerCase()=="content-type"),Z=g.FormData&&f instanceof g.FormData,!(Array.prototype.indexOf.call(Us,y,void 0)>=0)||I||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,gt]of S)this.g.setRequestHeader(X,gt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Xe(this,X)}};function Xe(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Wi(f),ys(f)}function Wi(f){f.A||(f.A=!0,Ye(f,"complete"),Ye(f,"error"))}a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ye(this,"complete"),Ye(this,"abort"),ys(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ys(this,!0)),re.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},a.Xa=function(){ua(this)};function ua(f){if(f.h&&typeof h<"u"){if(f.v&&Xi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ye(f,"readystatechange"),Xi(f)==4){f.h=!1;try{const X=f.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var S;if(!(S=y)){var I;if(I=X===0){let gt=String(f.D).match(Ze)[1]||null;!gt&&g.self&&g.self.location&&(gt=g.self.location.protocol.slice(0,-1)),I=!Di.test(gt?gt.toLowerCase():"")}S=I}if(S)Ye(f,"complete"),Ye(f,"success");else{f.o=6;try{var Z=Xi(f)>2?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.ca()+"]",Wi(f)}}finally{ys(f)}}}}function ys(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,y||Ye(f,"ready");try{S.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Xi(f){return f.g?f.g.readyState:0}a.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ne(y)}};function vn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(f){const y={};f=(f.g&&Xi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(P(f[I]))continue;var S=Ps(f[I]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const X=y[Z]||[];y[Z]=X,X.push(S)}wt(y,function(I){return I.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(f,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||y}function Bs(f){this.za=0,this.i=[],this.j=new yi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,f),this.Za=vs("retryDelaySeedMs",1e4,f),this.Ta=vs("forwardChannelMaxRetries",2,f),this.va=vs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ne(f&&f.concurrentRequestLimit),this.Ba=new la,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Bs.prototype,a.ka=8,a.I=1,a.connect=function(f,y,S,I){Qe(0),this.W=f,this.H=y||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.J=So(this,null,this.W),oi(this)};function Jt(f){if(zn(f),f.I==3){var y=f.V++,S=ze(f.J);if(St(S,"SID",f.M),St(S,"RID",y),St(S,"TYPE","terminate"),qs(f,S),y=new ni(f,f.j,y),y.M=2,y.A=Ae(ze(S)),S=!1,g.navigator&&g.navigator.sendBeacon)try{S=g.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&g.Image&&(new Image().src=y.A,S=!0),S||(y.g=xo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vi(y)}ts(f)}function ca(f){f.g&&(Eo(f),f.g.cancel(),f.g=null)}function zn(f){ca(f),f.v&&(g.clearTimeout(f.v),f.v=null),wr(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&g.clearTimeout(f.m),f.m=null)}function oi(f){if(!be(f.h)&&!f.m){f.m=!0;var y=f.Ea;ye||O(),$t||(ye(),$t=!0),j.add(y,f),f.D=0}}function za(f,y){return Pn(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=_i(E(f.Ea,f,y),ml(f,f.D)),f.D++,!0)}a.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Z=new ni(this,this.j,f);let X=this.o;if(this.U&&(X?(X=z(X),dt(X,this.U)):X=this.U),this.u!==null||this.R||(Z.J=X,X=null),this.S)t:{for(var y=0,S=0;S<this.i.length;S++){e:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=S;break t}if(y===4096||S===this.i.length-1){y=S+1;break t}}y=1e3}else y=1e3;y=dl(this,Z,y),S=ze(this.J),St(S,"RID",f),St(S,"CVER",22),this.G&&St(S,"X-HTTP-Session-Id",this.G),qs(this,S),X&&(this.R?y="headers="+xt(ri(X))+"&"+y:this.u&&js(S,this.u,X)),bi(this.h,Z),this.Ra&&St(S,"TYPE","init"),this.S?(St(S,"$req",y),St(S,"SID","null"),Z.U=!0,ii(Z,S,null)):ii(Z,S,y),this.I=2}}else this.I==3&&(f?wo(this,f):this.i.length==0||be(this.h)||wo(this))};function wo(f,y){var S;y?S=y.l:S=f.V++;const I=ze(f.J);St(I,"SID",f.M),St(I,"RID",S),St(I,"AID",f.K),qs(f,I),f.u&&f.o&&js(I,f.u,f.o),S=new ni(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),y&&(f.i=y.G.concat(f.i)),y=dl(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),bi(f.h,S),ii(S,I,y)}function qs(f,y){f.H&&te(f.H,function(S,I){St(y,I,S)}),f.l&&te({},function(S,I){St(y,I,S)})}function dl(f,y,S){S=Math.min(f.i.length,S);const I=f.l?E(f.l.Ka,f.l,f):null;t:{var Z=f.i;let Ht=-1;for(;;){const de=["count="+S];Ht==-1?S>0?(Ht=Z[0].g,de.push("ofs="+Ht)):Ht=0:de.push("ofs="+Ht);let me=!0;for(let Be=0;Be<S;Be++){var X=Z[Be].g;const Vi=Z[Be].map;if(X-=Ht,X<0)Ht=Math.max(0,Z[Be].g-100),me=!1;else try{X="req"+X+"_"||"";try{var gt=Vi instanceof Map?Vi:Object.entries(Vi);for(const[zi,Ei]of gt){let es=Ei;b(Ei)&&(es=$n(Ei)),de.push(X+zi+"="+encodeURIComponent(es))}}catch(zi){throw de.push(X+"type="+encodeURIComponent("_badmap")),zi}}catch{I&&I(Vi)}}if(me){gt=de.join("&");break t}}gt=void 0}return f=f.i.splice(0,S),y.G=f,gt}function To(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;ye||O(),$t||(ye(),$t=!0),j.add(y,f),f.A=0}}function ja(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=_i(E(f.Da,f),ml(f,f.A)),f.A++,!0)}a.Da=function(){if(this.v=null,br(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=_i(E(this.Wa,this),f)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qe(10),ca(this),br(this))};function Eo(f){f.B!=null&&(g.clearTimeout(f.B),f.B=null)}function br(f){f.g=new ni(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=ze(f.na);St(y,"RID","rpc"),St(y,"SID",f.M),St(y,"AID",f.K),St(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&St(y,"TO",f.ia),St(y,"TYPE","xmlhttp"),qs(f,y),f.u&&f.o&&js(y,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=Ae(ze(y)),S.u=null,S.R=!0,hn(S,f)}a.Va=function(){this.C!=null&&(this.C=null,ca(this),ja(this),Qe(19))};function wr(f){f.C!=null&&(g.clearTimeout(f.C),f.C=null)}function Ti(f,y){var S=null;if(f.g==y){wr(f),Eo(f),f.g=null;var I=2}else if(Gn(f.h,y))S=y.G,Ds(f.h,y),I=1;else return;if(f.I!=0){if(y.o)if(I==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var Z=f.D;I=sa(),Ye(I,new Rn(I,S)),oi(f)}else To(f);else if(Z=y.m,Z==3||Z==0&&y.X>0||!(I==1&&za(f,y)||I==2&&ja(f)))switch(S&&S.length>0&&(y=f.h,y.i=y.i.concat(S)),Z){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function ml(f,y){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*y}function $i(f,y){if(f.j.info("Error code "+y),y==2){var S=E(f.bb,f),I=f.Ua;const Z=!I;I=new Rt(I||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||je(I,"https"),Ae(I),Z?si(I.toString(),S):vr(I.toString(),S)}else Qe(2);f.I=0,f.l&&f.l.pa(y),ts(f),zn(f)}a.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function ts(f){if(f.I=0,f.ja=[],f.l){const y=ds(f.h);(y.length!=0||f.i.length!=0)&&(ft(f.ja,y),ft(f.ja,f.i),f.h.i.length=0,et(f.i),f.i.length=0),f.l.oa()}}function So(f,y,S){var I=S instanceof Rt?ze(S):new Rt(S);if(I.g!="")y&&(I.g=y+"."+I.g),Dn(I,I.u);else{var Z=g.location;I=Z.protocol,y=y?y+"."+Z.hostname:Z.hostname,Z=+Z.port;const X=new Rt(null);I&&je(X,I),y&&(X.g=y),Z&&Dn(X,Z),S&&(X.h=S),I=X}return S=f.G,y=f.wa,S&&y&&St(I,S,y),St(I,"VER",f.ka),qs(f,I),I}function xo(f,y,S){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new re(new zt({ab:S})):new re(f.ma),y.Fa(f.L),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tr(){}a=Tr.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ha(){}ha.prototype.g=function(f,y){return new jn(f,y)};function jn(f,y){en.call(this),this.g=new Bs(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!P(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!P(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Hs(this)}N(jn,en),jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Jt(this.g)},jn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=$n(f),f=S);y.i.push(new fe(y.Ya++,f)),y.I==3&&oi(y)},jn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,jn.Z.N.call(this)};function Ao(f){He.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const S in y){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}N(Ao,He);function pl(){cn.call(this),this.status=1}N(pl,cn);function Hs(f){this.g=f}N(Hs,Tr),Hs.prototype.ra=function(){Ye(this.g,"a")},Hs.prototype.qa=function(f){Ye(this.g,new Ao(f))},Hs.prototype.pa=function(f){Ye(this.g,new pl)},Hs.prototype.oa=function(){Ye(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,Ow=function(){return new ha},Nw=function(){return sa()},Rw=Fe,pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,of=ks,Ls.COMPLETE="complete",Iw=Ls,Ma.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",en.prototype.listen=en.prototype.J,hc=Ma,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,Cw=re}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});class fi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");let gu="12.8.0";function Y2(a){gu=a}const sl=new Lf("@firebase/firestore");function Ql(){return sl.logLevel}function At(a,...t){if(sl.logLevel<=ue.DEBUG){const n=t.map(Zp);sl.debug(`Firestore (${gu}): ${a}`,...n)}}function cr(a,...t){if(sl.logLevel<=ue.ERROR){const n=t.map(Zp);sl.error(`Firestore (${gu}): ${a}`,...n)}}function ru(a,...t){if(sl.logLevel<=ue.WARN){const n=t.map(Zp);sl.warn(`Firestore (${gu}): ${a}`,...n)}}function Zp(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function Bt(a,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Mw(a,r,n)}function Mw(a,t,n){let r=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function Re(a,t,n,r){let u="Unexpected state";typeof n=="string"?u=n:r=n,a||Mw(t,u,r)}function Yt(a,t){return a}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends na{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class kw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(fi.UNAUTHENTICATED)))}shutdown(){}}class W2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class X2{constructor(t){this.t=t,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Re(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,n(v)):Promise.resolve();let h=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new rr,t.enqueueRetryable((()=>u(this.currentUser)))};const g=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},b=v=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit((v=>b(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?b(v):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new rr)}}),0),g()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new kw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string",2055,{h:t}),new fi(t)}}class J2{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $2{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new J2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(fi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Re(this.o===void 0,3512);const r=h=>{h.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.m;return this.m=h.token,At("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const u=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eC(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}class Kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=eC(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<n&&(r+=t.charAt(u[h]%62))}return r}}function ce(a,t){return a<t?-1:a>t?1:0}function gp(a,t){const n=Math.min(a.length,t.length);for(let r=0;r<n;r++){const u=a.charAt(r),h=t.charAt(r);if(u!==h)return Jm(u)===Jm(h)?ce(u,h):Jm(u)?1:-1}return ce(a.length,t.length)}const nC=55296,iC=57343;function Jm(a){const t=a.charCodeAt(0);return t>=nC&&t<=iC}function ou(a,t,n){return a.length===t.length&&a.every(((r,u)=>n(r,t[u])))}const v0="__name__";class Ta{constructor(t,n,r){n===void 0?n=0:n>t.length&&Bt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Bt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ta.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ta?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let u=0;u<r;u++){const h=Ta.compareSegments(t.get(u),n.get(u));if(h!==0)return h}return ce(t.length,n.length)}static compareSegments(t,n){const r=Ta.isNumericId(t),u=Ta.isNumericId(n);return r&&!u?-1:!r&&u?1:r&&u?Ta.extractNumericId(t).compare(Ta.extractNumericId(n)):gp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return oo.fromString(t.substring(4,t.length-2))}}class Ke extends Ta{construct(t,n,r){return new Ke(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Et(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((u=>u.length>0)))}return new Ke(n)}static emptyPath(){return new Ke([])}}const sC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Ta{construct(t,n,r){return new Wn(t,n,r)}static isValidIdentifier(t){return sC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v0}static keyField(){return new Wn([v0])}static fromServerFormat(t){const n=[];let r="",u=0;const h=()=>{if(r.length===0)throw new Et(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let g=!1;for(;u<t.length;){const b=t[u];if(b==="\\"){if(u+1===t.length)throw new Et(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Et(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,u+=2}else b==="`"?(g=!g,u++):b!=="."||g?(r+=b,u++):(h(),u++)}if(h(),g)throw new Et(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wn(n)}static emptyPath(){return new Wn([])}}class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(Ke.fromString(t))}static fromName(t){return new Dt(Ke.fromString(t).popFirst(5))}static empty(){return new Dt(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ke.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new Ke(t.slice()))}}function Lw(a,t,n){if(!n)throw new Et(at.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function aC(a,t,n,r){if(t===!0&&r===!0)throw new Et(at.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function b0(a){if(!Dt.isDocumentKey(a))throw new Et(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function w0(a){if(Dt.isDocumentKey(a))throw new Et(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Pw(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function zf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Bt(12329,{type:typeof a})}function Ra(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new Et(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(a);throw new Et(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}function rC(a,t){if(t<=0)throw new Et(at.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}function An(a,t){const n={typeString:a};return t&&(n.value=t),n}function Dc(a,t){if(!Pw(a))throw new Et(at.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const u=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){n=`JSON missing required field: '${r}'`;break}const g=a[r];if(u&&typeof g!==u){n=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&g!==h.value){n=`Expected '${r}' field to equal '${h.value}'`;break}}if(n)throw new Et(at.INVALID_ARGUMENT,n);return!0}const T0=-62135596800,E0=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(t){return $e.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*E0);return new $e(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Et(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<T0)throw new Et(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E0}_compareTo(t){return this.seconds===t.seconds?ce(this.nanoseconds,t.nanoseconds):ce(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Dc(t,$e._jsonSchema))return new $e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:An("string",$e._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};class Zt{static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new $e(0,0))}static max(){return new Zt(new $e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ec=-1;function oC(a,t){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,u=Zt.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new co(u,Dt.empty(),t)}function lC(a){return new co(a.readTime,a.key,Ec)}class co{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new co(Zt.min(),Dt.empty(),Ec)}static max(){return new co(Zt.max(),Dt.empty(),Ec)}}function uC(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=Dt.comparator(a.documentKey,t.documentKey),n!==0?n:ce(a.largestBatchId,t.largestBatchId))}const cC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function _u(a){if(a.code!==at.FAILED_PRECONDITION||a.message!==cC)throw a;At("LocalStore","Unexpectedly lost primary lease")}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new lt(((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(n,h).next(r,u)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):lt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):lt.reject(n)}static resolve(t){return new lt(((n,r)=>{n(t)}))}static reject(t){return new lt(((n,r)=>{r(t)}))}static waitFor(t){return new lt(((n,r)=>{let u=0,h=0,g=!1;t.forEach((b=>{++u,b.next((()=>{++h,g&&h===u&&n()}),(v=>r(v)))})),g=!0,h===u&&n()}))}static or(t){let n=lt.resolve(!1);for(const r of t)n=n.next((u=>u?lt.resolve(u):r()));return n}static forEach(t,n){const r=[];return t.forEach(((u,h)=>{r.push(n.call(this,u,h))})),this.waitFor(r)}static mapArray(t,n){return new lt(((r,u)=>{const h=t.length,g=new Array(h);let b=0;for(let v=0;v<h;v++){const E=v;n(t[E]).next((C=>{g[E]=C,++b,b===h&&r(g)}),(C=>u(C)))}}))}static doWhile(t,n){return new lt(((r,u)=>{const h=()=>{t()===!0?n().next((()=>{h()}),u):r()};h()}))}}function fC(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yu(a){return a.name==="IndexedDbTransactionError"}class jf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jf.ce=-1;const Yp=-1;function Uf(a){return a==null}function wf(a){return a===0&&1/a==-1/0}function dC(a){return typeof a=="number"&&Number.isInteger(a)&&!wf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const Dw="";function mC(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=S0(t)),t=pC(a.get(n),t);return S0(t)}function pC(a,t){let n=t;const r=a.length;for(let u=0;u<r;u++){const h=a.charAt(u);switch(h){case"\0":n+="";break;case Dw:n+="";break;default:n+=h}}return n}function S0(a){return a+Dw+""}function x0(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function _o(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function Vw(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class rn{constructor(t,n){this.comparator=t,this.root=n||Qn.EMPTY}insert(t,n){return new rn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(t){return new rn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(t,r.key);if(u===0)return n+r.left.size;u<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qh(this.root,t,this.comparator,!0)}}class Qh{constructor(t,n,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?r(t.key,n):1,n&&u&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qn{constructor(t,n,r,u,h){this.key=t,this.value=n,this.color=r??Qn.RED,this.left=u??Qn.EMPTY,this.right=h??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,u,h){return new Qn(t??this.key,n??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let u=this;const h=r(t,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(t,n,r),null):h===0?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(t,n,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,u=this;if(n(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),n(t,u.key)===0){if(u.right.isEmpty())return Qn.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Bt(27949);return t+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(t,n,r,u,h){return this}insert(t,n,r){return new Qn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(t){this.comparator=t,this.data=new rn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,t[1])>=0)return;n(u.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(t){return new A0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Mn(this.comparator);return n.data=t,n}}class A0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ls{constructor(t){this.fields=t,t.sort(Wn.comparator)}static empty(){return new ls([])}unionWith(t){let n=new Mn(Wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ls(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ou(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new zw("Invalid base64 string: "+h):h}})(t);return new Xn(n)}static fromUint8Array(t){const n=(function(u){let h="";for(let g=0;g<u.length;++g)h+=String.fromCharCode(u[g]);return h})(t);return new Xn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let u=0;u<n.length;u++)r[u]=n.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ce(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const gC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(a){if(Re(!!a,39018),typeof a=="string"){let t=0;const n=gC.exec(a);if(Re(!!n,46558,{timestamp:a}),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),t=Number(u)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:mn(a.seconds),nanos:mn(a.nanos)}}function mn(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function fo(a){return typeof a=="string"?Xn.fromBase64String(a):Xn.fromUint8Array(a)}const jw="server_timestamp",Uw="__type__",Bw="__previous_value__",qw="__local_write_time__";function Qp(a){return(a?.mapValue?.fields||{})[Uw]?.stringValue===jw}function Bf(a){const t=a.mapValue.fields[Bw];return Qp(t)?Bf(t):t}function Sc(a){const t=ho(a.mapValue.fields[qw].timestampValue);return new $e(t.seconds,t.nanos)}class _C{constructor(t,n,r,u,h,g,b,v,E,C,N){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.longPollingOptions=v,this.useFetchStreams=E,this.isUsingEmulator=C,this.apiKey=N}}const Tf="(default)";class xc{constructor(t,n){this.projectId=t,this.database=n||Tf}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(t){return t instanceof xc&&t.projectId===this.projectId&&t.database===this.database}}function yC(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Et(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(a.options.projectId,t)}const Hw="__type__",vC="__max__",Wh={mapValue:{}},Fw="__vector__",Ef="value";function mo(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Qp(a)?4:wC(a)?9007199254740991:bC(a)?10:11:Bt(28295,{value:a})}function Na(a,t){if(a===t)return!0;const n=mo(a);if(n!==mo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Sc(a).isEqual(Sc(t));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const g=ho(u.timestampValue),b=ho(h.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(u,h){return fo(u.bytesValue).isEqual(fo(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(u,h){return mn(u.geoPointValue.latitude)===mn(h.geoPointValue.latitude)&&mn(u.geoPointValue.longitude)===mn(h.geoPointValue.longitude)})(a,t);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return mn(u.integerValue)===mn(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const g=mn(u.doubleValue),b=mn(h.doubleValue);return g===b?wf(g)===wf(b):isNaN(g)&&isNaN(b)}return!1})(a,t);case 9:return ou(a.arrayValue.values||[],t.arrayValue.values||[],Na);case 10:case 11:return(function(u,h){const g=u.mapValue.fields||{},b=h.mapValue.fields||{};if(x0(g)!==x0(b))return!1;for(const v in g)if(g.hasOwnProperty(v)&&(b[v]===void 0||!Na(g[v],b[v])))return!1;return!0})(a,t);default:return Bt(52216,{left:a})}}function Ac(a,t){return(a.values||[]).find((n=>Na(n,t)))!==void 0}function lu(a,t){if(a===t)return 0;const n=mo(a),r=mo(t);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(a.booleanValue,t.booleanValue);case 2:return(function(h,g){const b=mn(h.integerValue||h.doubleValue),v=mn(g.integerValue||g.doubleValue);return b<v?-1:b>v?1:b===v?0:isNaN(b)?isNaN(v)?0:-1:1})(a,t);case 3:return C0(a.timestampValue,t.timestampValue);case 4:return C0(Sc(a),Sc(t));case 5:return gp(a.stringValue,t.stringValue);case 6:return(function(h,g){const b=fo(h),v=fo(g);return b.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(h,g){const b=h.split("/"),v=g.split("/");for(let E=0;E<b.length&&E<v.length;E++){const C=ce(b[E],v[E]);if(C!==0)return C}return ce(b.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,g){const b=ce(mn(h.latitude),mn(g.latitude));return b!==0?b:ce(mn(h.longitude),mn(g.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return I0(a.arrayValue,t.arrayValue);case 10:return(function(h,g){const b=h.fields||{},v=g.fields||{},E=b[Ef]?.arrayValue,C=v[Ef]?.arrayValue,N=ce(E?.values?.length||0,C?.values?.length||0);return N!==0?N:I0(E,C)})(a.mapValue,t.mapValue);case 11:return(function(h,g){if(h===Wh.mapValue&&g===Wh.mapValue)return 0;if(h===Wh.mapValue)return 1;if(g===Wh.mapValue)return-1;const b=h.fields||{},v=Object.keys(b),E=g.fields||{},C=Object.keys(E);v.sort(),C.sort();for(let N=0;N<v.length&&N<C.length;++N){const M=gp(v[N],C[N]);if(M!==0)return M;const et=lu(b[v[N]],E[C[N]]);if(et!==0)return et}return ce(v.length,C.length)})(a.mapValue,t.mapValue);default:throw Bt(23264,{he:n})}}function C0(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return ce(a,t);const n=ho(a),r=ho(t),u=ce(n.seconds,r.seconds);return u!==0?u:ce(n.nanos,r.nanos)}function I0(a,t){const n=a.values||[],r=t.values||[];for(let u=0;u<n.length&&u<r.length;++u){const h=lu(n[u],r[u]);if(h)return h}return ce(n.length,r.length)}function uu(a){return _p(a)}function _p(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return fo(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return Dt.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let r="[",u=!0;for(const h of n.values||[])u?u=!1:r+=",",r+=_p(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(n){const r=Object.keys(n.fields||{}).sort();let u="{",h=!0;for(const g of r)h?h=!1:u+=",",u+=`${g}:${_p(n.fields[g])}`;return u+"}"})(a.mapValue):Bt(61005,{value:a})}function lf(a){switch(mo(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bf(a);return t?16+lf(t):16;case 5:return 2*a.stringValue.length;case 6:return fo(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,h)=>u+lf(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let u=0;return _o(r.fields,((h,g)=>{u+=h.length+lf(g)})),u})(a.mapValue);default:throw Bt(13486,{value:a})}}function R0(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function yp(a){return!!a&&"integerValue"in a}function Wp(a){return!!a&&"arrayValue"in a}function N0(a){return!!a&&"nullValue"in a}function O0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function uf(a){return!!a&&"mapValue"in a}function bC(a){return(a?.mapValue?.fields||{})[Hw]?.stringValue===Fw}function _c(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return _o(a.mapValue.fields,((n,r)=>t.mapValue.fields[n]=_c(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_c(a.arrayValue.values[n]);return t}return{...a}}function wC(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}class Yi{constructor(t){this.value=t}static empty(){return new Yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!uf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_c(n)}setAll(t){let n=Wn.emptyPath(),r={},u=[];t.forEach(((g,b)=>{if(!n.isImmediateParentOf(b)){const v=this.getFieldsMap(n);this.applyChanges(v,r,u),r={},u=[],n=b.popLast()}g?r[b.lastSegment()]=_c(g):u.push(b.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,r,u)}delete(t){const n=this.field(t.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Na(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let u=n.mapValue.fields[t.get(r)];uf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=u),n=u}return n.mapValue.fields}applyChanges(t,n,r){_o(n,((u,h)=>t[u]=h));for(const u of r)delete t[u]}clone(){return new Yi(_c(this.value))}}function Gw(a){const t=[];return _o(a.fields,((n,r)=>{const u=new Wn([n]);if(uf(r)){const h=Gw(r.mapValue).fields;if(h.length===0)t.push(u);else for(const g of h)t.push(u.child(g))}else t.push(u)})),new ls(t)}class di{constructor(t,n,r,u,h,g,b){this.key=t,this.documentType=n,this.version=r,this.readTime=u,this.createTime=h,this.data=g,this.documentState=b}static newInvalidDocument(t){return new di(t,0,Zt.min(),Zt.min(),Zt.min(),Yi.empty(),0)}static newFoundDocument(t,n,r,u){return new di(t,1,n,Zt.min(),r,u,0)}static newNoDocument(t,n){return new di(t,2,n,Zt.min(),Zt.min(),Yi.empty(),0)}static newUnknownDocument(t,n){return new di(t,3,n,Zt.min(),Zt.min(),Yi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sf{constructor(t,n){this.position=t,this.inclusive=n}}function M0(a,t,n){let r=0;for(let u=0;u<a.position.length;u++){const h=t[u],g=a.position[u];if(h.field.isKeyField()?r=Dt.comparator(Dt.fromName(g.referenceValue),n.key):r=lu(g,n.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function k0(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Na(a.position[n],t.position[n]))return!1;return!0}class Cc{constructor(t,n="asc"){this.field=t,this.dir=n}}function TC(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class Zw{}class xn extends Zw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new SC(t,n,r):n==="array-contains"?new CC(t,r):n==="in"?new IC(t,r):n==="not-in"?new RC(t,r):n==="array-contains-any"?new NC(t,r):new xn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new xC(t,r):new AC(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lu(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ea extends Zw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ea(t,n)}matches(t){return Kw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kw(a){return a.op==="and"}function Yw(a){return EC(a)&&Kw(a)}function EC(a){for(const t of a.filters)if(t instanceof ea)return!1;return!0}function vp(a){if(a instanceof xn)return a.field.canonicalString()+a.op.toString()+uu(a.value);if(Yw(a))return a.filters.map((t=>vp(t))).join(",");{const t=a.filters.map((n=>vp(n))).join(",");return`${a.op}(${t})`}}function Qw(a,t){return a instanceof xn?(function(r,u){return u instanceof xn&&r.op===u.op&&r.field.isEqual(u.field)&&Na(r.value,u.value)})(a,t):a instanceof ea?(function(r,u){return u instanceof ea&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((h,g,b)=>h&&Qw(g,u.filters[b])),!0):!1})(a,t):void Bt(19439)}function Ww(a){return a instanceof xn?(function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`})(a):a instanceof ea?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ww).join(" ,")+"}"})(a):"Filter"}class SC extends xn{constructor(t,n,r){super(t,n,r),this.key=Dt.fromName(r.referenceValue)}matches(t){const n=Dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class xC extends xn{constructor(t,n){super(t,"in",n),this.keys=Xw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class AC extends xn{constructor(t,n){super(t,"not-in",n),this.keys=Xw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Xw(a,t){return(t.arrayValue?.values||[]).map((n=>Dt.fromName(n.referenceValue)))}class CC extends xn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wp(n)&&Ac(n.arrayValue,this.value)}}class IC extends xn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class RC extends xn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ac(this.value.arrayValue,n)}}class NC extends xn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ac(this.value.arrayValue,r)))}}class OC{constructor(t,n=null,r=[],u=[],h=null,g=null,b=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=g,this.endAt=b,this.Te=null}}function L0(a,t=null,n=[],r=[],u=null,h=null,g=null){return new OC(a,t,n,r,u,h,g)}function Xp(a){const t=Yt(a);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>vp(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>uu(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>uu(r))).join(",")),t.Te=n}return t.Te}function Jp(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!TC(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!Qw(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!k0(a.startAt,t.startAt)&&k0(a.endAt,t.endAt)}function bp(a){return Dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class vu{constructor(t,n=null,r=[],u=[],h=null,g="F",b=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=g,this.startAt=b,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function MC(a,t,n,r,u,h,g,b){return new vu(a,t,n,r,u,h,g,b)}function $p(a){return new vu(a)}function P0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function kC(a){return Dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Jw(a){return a.collectionGroup!==null}function yc(a){const t=Yt(a);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(g){let b=new Mn(Wn.comparator);return g.filters.forEach((v=>{v.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Cc(h,r))})),n.has(Wn.keyField().canonicalString())||t.Ie.push(new Cc(Wn.keyField(),r))}return t.Ie}function Sa(a){const t=Yt(a);return t.Ee||(t.Ee=LC(t,yc(a))),t.Ee}function LC(a,t){if(a.limitType==="F")return L0(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Cc(u.field,h)}));const n=a.endAt?new Sf(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Sf(a.startAt.position,a.startAt.inclusive):null;return L0(a.path,a.collectionGroup,t,a.filters,a.limit,n,r)}}function wp(a,t){const n=a.filters.concat([t]);return new vu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function PC(a,t){const n=a.explicitOrderBy.concat([t]);return new vu(a.path,a.collectionGroup,n,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function xf(a,t,n){return new vu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function qf(a,t){return Jp(Sa(a),Sa(t))&&a.limitType===t.limitType}function $w(a){return`${Xp(Sa(a))}|lt:${a.limitType}`}function Wl(a){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((u=>Ww(u))).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((u=>(function(g){return`${g.field.canonicalString()} (${g.dir})`})(u))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((u=>uu(u))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((u=>uu(u))).join(",")),`Target(${r})`})(Sa(a))}; limitType=${a.limitType})`}function Hf(a,t){return t.isFoundDocument()&&(function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Dt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,u){for(const h of yc(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0})(a,t)&&(function(r,u){return!(r.startAt&&!(function(g,b,v){const E=M0(g,b,v);return g.inclusive?E<=0:E<0})(r.startAt,yc(r),u)||r.endAt&&!(function(g,b,v){const E=M0(g,b,v);return g.inclusive?E>=0:E>0})(r.endAt,yc(r),u))})(a,t)}function DC(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function tT(a){return(t,n)=>{let r=!1;for(const u of yc(a)){const h=VC(u,t,n);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function VC(a,t,n){const r=a.field.isKeyField()?Dt.comparator(t.key,n.key):(function(h,g,b){const v=g.data.field(h),E=b.data.field(h);return v!==null&&E!==null?lu(v,E):Bt(42886)})(a.field,t,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:a.dir})}}class hl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),u=this.inner[r];if(u===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],t))return void(u[h]=[t,n]);u.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],t))return r.length===1?delete this.inner[n]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(t){_o(this.inner,((n,r)=>{for(const[u,h]of r)t(u,h)}))}isEmpty(){return Vw(this.inner)}size(){return this.innerSize}}const zC=new rn(Dt.comparator);function hr(){return zC}const eT=new rn(Dt.comparator);function fc(...a){let t=eT;for(const n of a)t=t.insert(n.key,n);return t}function nT(a){let t=eT;return a.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function tl(){return vc()}function iT(){return vc()}function vc(){return new hl((a=>a.toString()),((a,t)=>a.isEqual(t)))}const jC=new rn(Dt.comparator),UC=new Mn(Dt.comparator);function he(...a){let t=UC;for(const n of a)t=t.add(n);return t}const BC=new Mn(ce);function qC(){return BC}function tg(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(t)?"-0":t}}function sT(a){return{integerValue:""+a}}function aT(a,t){return dC(t)?sT(t):tg(a,t)}class Ff{constructor(){this._=void 0}}function HC(a,t,n){return a instanceof Ic?(function(u,h){const g={fields:{[Uw]:{stringValue:jw},[qw]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Qp(h)&&(h=Bf(h)),h&&(g.fields[Bw]=h),{mapValue:g}})(n,t):a instanceof cu?oT(a,t):a instanceof Rc?lT(a,t):(function(u,h){const g=rT(u,h),b=D0(g)+D0(u.Ae);return yp(g)&&yp(u.Ae)?sT(b):tg(u.serializer,b)})(a,t)}function FC(a,t,n){return a instanceof cu?oT(a,t):a instanceof Rc?lT(a,t):n}function rT(a,t){return a instanceof Nc?(function(r){return yp(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Ic extends Ff{}class cu extends Ff{constructor(t){super(),this.elements=t}}function oT(a,t){const n=uT(t);for(const r of a.elements)n.some((u=>Na(u,r)))||n.push(r);return{arrayValue:{values:n}}}class Rc extends Ff{constructor(t){super(),this.elements=t}}function lT(a,t){let n=uT(t);for(const r of a.elements)n=n.filter((u=>!Na(u,r)));return{arrayValue:{values:n}}}class Nc extends Ff{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function D0(a){return mn(a.integerValue||a.doubleValue)}function uT(a){return Wp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class eg{constructor(t,n){this.field=t,this.transform=n}}function GC(a,t){return a.field.isEqual(t.field)&&(function(r,u){return r instanceof cu&&u instanceof cu||r instanceof Rc&&u instanceof Rc?ou(r.elements,u.elements,Na):r instanceof Nc&&u instanceof Nc?Na(r.Ae,u.Ae):r instanceof Ic&&u instanceof Ic})(a.transform,t.transform)}class ZC{constructor(t,n){this.version=t,this.transformResults=n}}class Js{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Js}static exists(t){return new Js(void 0,t)}static updateTime(t){return new Js(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cf(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Gf{}function cT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new fT(a.key,Js.none()):new Vc(a.key,a.data,Js.none());{const n=a.data,r=Yi.empty();let u=new Mn(Wn.comparator);for(let h of t.fields)if(!u.has(h)){let g=n.field(h);g===null&&h.length>1&&(h=h.popLast(),g=n.field(h)),g===null?r.delete(h):r.set(h,g),u=u.add(h)}return new yo(a.key,r,new ls(u.toArray()),Js.none())}}function KC(a,t,n){a instanceof Vc?(function(u,h,g){const b=u.value.clone(),v=z0(u.fieldTransforms,h,g.transformResults);b.setAll(v),h.convertToFoundDocument(g.version,b).setHasCommittedMutations()})(a,t,n):a instanceof yo?(function(u,h,g){if(!cf(u.precondition,h))return void h.convertToUnknownDocument(g.version);const b=z0(u.fieldTransforms,h,g.transformResults),v=h.data;v.setAll(hT(u)),v.setAll(b),h.convertToFoundDocument(g.version,v).setHasCommittedMutations()})(a,t,n):(function(u,h,g){h.convertToNoDocument(g.version).setHasCommittedMutations()})(0,t,n)}function bc(a,t,n,r){return a instanceof Vc?(function(h,g,b,v){if(!cf(h.precondition,g))return b;const E=h.value.clone(),C=j0(h.fieldTransforms,v,g);return E.setAll(C),g.convertToFoundDocument(g.version,E).setHasLocalMutations(),null})(a,t,n,r):a instanceof yo?(function(h,g,b,v){if(!cf(h.precondition,g))return b;const E=j0(h.fieldTransforms,v,g),C=g.data;return C.setAll(hT(h)),C.setAll(E),g.convertToFoundDocument(g.version,C).setHasLocalMutations(),b===null?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(a,t,n,r):(function(h,g,b){return cf(h.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b})(a,t,n)}function YC(a,t){let n=null;for(const r of a.fieldTransforms){const u=t.data.field(r.field),h=rT(r.transform,u||null);h!=null&&(n===null&&(n=Yi.empty()),n.set(r.field,h))}return n||null}function V0(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&ou(r,u,((h,g)=>GC(h,g)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Vc extends Gf{constructor(t,n,r,u=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class yo extends Gf{constructor(t,n,r,u,h=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hT(a){const t=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=a.data.field(n);t.set(n,r)}})),t}function z0(a,t,n){const r=new Map;Re(a.length===n.length,32656,{Ve:n.length,de:a.length});for(let u=0;u<n.length;u++){const h=a[u],g=h.transform,b=t.data.field(h.field);r.set(h.field,FC(g,b,n[u]))}return r}function j0(a,t,n){const r=new Map;for(const u of a){const h=u.transform,g=n.data.field(u.field);r.set(u.field,HC(h,g,t))}return r}class fT extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QC extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WC{constructor(t,n,r,u){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(t.key)&&KC(h,t,r[u])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=bc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=bc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=iT();return this.mutations.forEach((u=>{const h=t.get(u.key),g=h.overlayedDocument;let b=this.applyToLocalView(g,h.mutatedFields);b=n.has(u.key)?null:b;const v=cT(g,b);v!==null&&r.set(u.key,v),g.isValidDocument()||g.convertToNoDocument(Zt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),he())}isEqual(t){return this.batchId===t.batchId&&ou(this.mutations,t.mutations,((n,r)=>V0(n,r)))&&ou(this.baseMutations,t.baseMutations,((n,r)=>V0(n,r)))}}class ng{constructor(t,n,r,u){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=u}static from(t,n,r){Re(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let u=(function(){return jC})();const h=t.mutations;for(let g=0;g<h.length;g++)u=u.insert(h[g].key,r[g].version);return new ng(t,n,r,u)}}class XC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Sn,pe;function $C(a){switch(a){case at.OK:return Bt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Bt(15467,{code:a})}}function dT(a){if(a===void 0)return cr("GRPC error has no .code"),at.UNKNOWN;switch(a){case Sn.OK:return at.OK;case Sn.CANCELLED:return at.CANCELLED;case Sn.UNKNOWN:return at.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return at.INTERNAL;case Sn.UNAVAILABLE:return at.UNAVAILABLE;case Sn.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Sn.NOT_FOUND:return at.NOT_FOUND;case Sn.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Sn.ABORTED:return at.ABORTED;case Sn.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Sn.DATA_LOSS:return at.DATA_LOSS;default:return Bt(39323,{code:a})}}(pe=Sn||(Sn={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";function tI(){return new TextEncoder}const eI=new oo([4294967295,4294967295],0);function U0(a){const t=tI().encode(a),n=new Aw;return n.update(t),new Uint8Array(n.digest())}function B0(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),u=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new oo([n,r],0),new oo([u,h],0)]}class ig{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dc(`Invalid padding: ${n}`);if(r<0)throw new dc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new dc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=oo.fromNumber(this.ge)}ye(t,n,r){let u=t.add(n.multiply(oo.fromNumber(r)));return u.compare(eI)===1&&(u=new oo([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=U0(t),[r,u]=B0(n);for(let h=0;h<this.hashCount;h++){const g=this.ye(r,u,h);if(!this.we(g))return!1}return!0}static create(t,n,r){const u=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),g=new ig(h,u,n);return r.forEach((b=>g.insert(b))),g}insert(t){if(this.ge===0)return;const n=U0(t),[r,u]=B0(n);for(let h=0;h<this.hashCount;h++){const g=this.ye(r,u,h);this.be(g)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zf{constructor(t,n,r,u,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const u=new Map;return u.set(t,zc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Zf(Zt.min(),u,new rn(ce),hr(),he())}}class zc{constructor(t,n,r,u,h){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new zc(r,n,he(),he(),he())}}class hf{constructor(t,n,r,u){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=u}}class mT{constructor(t,n){this.targetId=t,this.Ce=n}}class pT{constructor(t,n,r=Xn.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=u}}class q0{constructor(){this.ve=0,this.Fe=H0(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=he(),n=he(),r=he();return this.Fe.forEach(((u,h)=>{switch(h){case 0:t=t.add(u);break;case 2:n=n.add(u);break;case 1:r=r.add(u);break;default:Bt(38017,{changeType:h})}})),new zc(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=H0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class nI{constructor(t){this.Ge=t,this.ze=new Map,this.je=hr(),this.He=Xh(),this.Je=Xh(),this.Ze=new rn(ce)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,u)=>{this.rt(u)&&n(u)}))}st(t){const n=t.targetId,r=t.Ce.count,u=this.ot(n);if(u){const h=u.target;if(bp(h))if(r===0){const g=new Dt(h.path);this.et(n,g,di.newNoDocument(g,Zt.min()))}else Re(r===1,20013,{expectedCount:r});else{const g=this._t(n);if(g!==r){const b=this.ut(t),v=b?this.ct(b,t,g):1;if(v!==0){this.it(n);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,E)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=n;let g,b;try{g=fo(r).toUint8Array()}catch(v){if(v instanceof zw)return ru("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{b=new ig(g,u,h)}catch(v){return ru(v instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return b.ge===0?null:b}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let u=0;return r.forEach((h=>{const g=this.Ge.ht(),b=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;t.mightContain(b)||(this.et(n,h,null),u++)})),u}Tt(t){const n=new Map;this.ze.forEach(((h,g)=>{const b=this.ot(g);if(b){if(h.current&&bp(b.target)){const v=new Dt(b.target.path);this.It(v).has(g)||this.Et(g,v)||this.et(g,v,di.newNoDocument(v,t))}h.Be&&(n.set(g,h.ke()),h.Ke())}}));let r=he();this.Je.forEach(((h,g)=>{let b=!0;g.forEachWhile((v=>{const E=this.ot(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(r=r.add(h))})),this.je.forEach(((h,g)=>g.setReadTime(t)));const u=new Zf(t,n,this.Ze,this.je,r);return this.je=hr(),this.He=Xh(),this.Je=Xh(),this.Ze=new rn(ce),u}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const u=this.nt(t);this.Et(t,n)?u.qe(n,1):u.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new q0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Mn(ce),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Mn(ce),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||At("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new q0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Xh(){return new rn(Dt.comparator)}function H0(){return new rn(Dt.comparator)}const iI={asc:"ASCENDING",desc:"DESCENDING"},sI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aI={and:"AND",or:"OR"};class rI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Tp(a,t){return a.useProto3Json||Uf(t)?t:{value:t}}function Af(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function oI(a,t){return Af(a,t.toTimestamp())}function xa(a){return Re(!!a,49232),Zt.fromTimestamp((function(n){const r=ho(n);return new $e(r.seconds,r.nanos)})(a))}function sg(a,t){return Ep(a,t).canonicalString()}function Ep(a,t){const n=(function(u){return new Ke(["projects",u.projectId,"databases",u.database])})(a).child("documents");return t===void 0?n:n.child(t)}function _T(a){const t=Ke.fromString(a);return Re(TT(t),10190,{key:t.toString()}),t}function Sp(a,t){return sg(a.databaseId,t.path)}function $m(a,t){const n=_T(t);if(n.get(1)!==a.databaseId.projectId)throw new Et(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new Et(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Dt(vT(n))}function yT(a,t){return sg(a.databaseId,t)}function lI(a){const t=_T(a);return t.length===4?Ke.emptyPath():vT(t)}function xp(a){return new Ke(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function vT(a){return Re(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function F0(a,t,n){return{name:Sp(a,t),fields:n.value.mapValue.fields}}function uI(a,t){let n;if("targetChange"in t){t.targetChange;const r=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Bt(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),u=t.targetChange.targetIds||[],h=(function(E,C){return E.useProto3Json?(Re(C===void 0||typeof C=="string",58123),Xn.fromBase64String(C||"")):(Re(C===void 0||C instanceof Buffer||C instanceof Uint8Array,16193),Xn.fromUint8Array(C||new Uint8Array))})(a,t.targetChange.resumeToken),g=t.targetChange.cause,b=g&&(function(E){const C=E.code===void 0?at.UNKNOWN:dT(E.code);return new Et(C,E.message||"")})(g);n=new pT(r,u,h,b||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const u=$m(a,r.document.name),h=xa(r.document.updateTime),g=r.document.createTime?xa(r.document.createTime):Zt.min(),b=new Yi({mapValue:{fields:r.document.fields}}),v=di.newFoundDocument(u,h,g,b),E=r.targetIds||[],C=r.removedTargetIds||[];n=new hf(E,C,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const u=$m(a,r.document),h=r.readTime?xa(r.readTime):Zt.min(),g=di.newNoDocument(u,h),b=r.removedTargetIds||[];n=new hf([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const u=$m(a,r.document),h=r.removedTargetIds||[];n=new hf([],h,u,null)}else{if(!("filter"in t))return Bt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,g=new JC(u,h),b=r.targetId;n=new mT(b,g)}}return n}function cI(a,t){let n;if(t instanceof Vc)n={update:F0(a,t.key,t.value)};else if(t instanceof fT)n={delete:Sp(a,t.key)};else if(t instanceof yo)n={update:F0(a,t.key,t.data),updateMask:vI(t.fieldMask)};else{if(!(t instanceof QC))return Bt(16599,{dt:t.type});n={verify:Sp(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(h,g){const b=g.transform;if(b instanceof Ic)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof cu)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Rc)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Nc)return{fieldPath:g.field.canonicalString(),increment:b.Ae};throw Bt(20930,{transform:g.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:oI(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Bt(27497)})(a,t.precondition)),n}function hI(a,t){return a&&a.length>0?(Re(t!==void 0,14353),a.map((n=>(function(u,h){let g=u.updateTime?xa(u.updateTime):xa(h);return g.isEqual(Zt.min())&&(g=xa(h)),new ZC(g,u.transformResults||[])})(n,t)))):[]}function fI(a,t){return{documents:[yT(a,t.path)]}}function dI(a,t){const n={structuredQuery:{}},r=t.path;let u;t.collectionGroup!==null?(u=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yT(a,u);const h=(function(E){if(E.length!==0)return wT(ea.create(E,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const g=(function(E){if(E.length!==0)return E.map((C=>(function(M){return{field:Xl(M.field),direction:gI(M.dir)}})(C)))})(t.orderBy);g&&(n.structuredQuery.orderBy=g);const b=Tp(a,t.limit);return b!==null&&(n.structuredQuery.limit=b),t.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:n,parent:u}}function mI(a){let t=lI(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let u=null;if(r>0){Re(r===1,65062);const C=n.from[0];C.allDescendants?u=C.collectionId:t=t.child(C.collectionId)}let h=[];n.where&&(h=(function(N){const M=bT(N);return M instanceof ea&&Yw(M)?M.getFilters():[M]})(n.where));let g=[];n.orderBy&&(g=(function(N){return N.map((M=>(function(ft){return new Cc(Jl(ft.field),(function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ft.direction))})(M)))})(n.orderBy));let b=null;n.limit&&(b=(function(N){let M;return M=typeof N=="object"?N.value:N,Uf(M)?null:M})(n.limit));let v=null;n.startAt&&(v=(function(N){const M=!!N.before,et=N.values||[];return new Sf(et,M)})(n.startAt));let E=null;return n.endAt&&(E=(function(N){const M=!N.before,et=N.values||[];return new Sf(et,M)})(n.endAt)),MC(t,u,g,h,b,"F",v,E)}function pI(a,t){const n=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:u})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function bT(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jl(n.unaryFilter.field);return xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=Jl(n.unaryFilter.field);return xn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Jl(n.unaryFilter.field);return xn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Jl(n.unaryFilter.field);return xn.create(g,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(a):a.fieldFilter!==void 0?(function(n){return xn.create(Jl(n.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return ea.create(n.compositeFilter.filters.map((r=>bT(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(n.compositeFilter.op))})(a):Bt(30097,{filter:a})}function gI(a){return iI[a]}function _I(a){return sI[a]}function yI(a){return aI[a]}function Xl(a){return{fieldPath:a.canonicalString()}}function Jl(a){return Wn.fromServerFormat(a.fieldPath)}function wT(a){return a instanceof xn?(function(n){if(n.op==="=="){if(O0(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NAN"}};if(N0(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O0(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NAN"}};if(N0(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(n.field),op:_I(n.op),value:n.value}}})(a):a instanceof ea?(function(n){const r=n.getFilters().map((u=>wT(u)));return r.length===1?r[0]:{compositeFilter:{op:yI(n.op),filters:r}}})(a):Bt(54877,{filter:a})}function vI(a){const t=[];return a.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function TT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function ET(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class io{constructor(t,n,r,u,h=Zt.min(),g=Zt.min(),b=Xn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b,this.expectedCount=v}withSequenceNumber(t){return new io(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class bI{constructor(t){this.yt=t}}function wI(a){const t=mI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?xf(t,t.limit,"L"):t}class TI{constructor(){this.Sn=new EI}addToCollectionParentIndex(t,n){return this.Sn.add(n),lt.resolve()}getCollectionParents(t,n){return lt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return lt.resolve()}deleteFieldIndex(t,n){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,n){return lt.resolve()}getDocumentsMatchingTarget(t,n){return lt.resolve(null)}getIndexType(t,n){return lt.resolve(0)}getFieldIndexes(t,n){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,n){return lt.resolve(co.min())}getMinOffsetFromCollectionGroup(t,n){return lt.resolve(co.min())}updateCollectionGroup(t,n,r){return lt.resolve()}updateIndexEntries(t,n){return lt.resolve()}}class EI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),u=this.index[n]||new Mn(Ke.comparator),h=!u.has(r);return this.index[n]=u.add(r),h}has(t){const n=t.lastSegment(),r=t.popLast(),u=this.index[n];return u&&u.has(r)}getEntries(t){return(this.index[t]||new Mn(Ke.comparator)).toArray()}}const G0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class Ki{static withCacheSize(t){return new Ki(t,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(ST,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);class hu{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new hu(0)}static ar(){return new hu(-1)}}const Z0="LruGarbageCollector",SI=1048576;function K0([a,t],[n,r]){const u=ce(a,n);return u===0?ce(t,r):u}class xI{constructor(t){this.Pr=t,this.buffer=new Mn(K0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();K0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){At(Z0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yu(n)?At(Z0,"Ignoring IndexedDB error during garbage collection: ",n):await _u(n)}await this.Ar(3e5)}))}}class CI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return lt.resolve(jf.ce);const r=new xI(n);return this.Vr.forEachTarget(t,(u=>r.Er(u.sequenceNumber))).next((()=>this.Vr.mr(t,(u=>r.Er(u))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(G0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,u,h,g,b,v,E;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),u=this.params.maximumSequenceNumbersToCollect):u=N,g=Date.now(),this.nthSequenceNumber(t,u)))).next((N=>(r=N,b=Date.now(),this.removeTargets(t,r,n)))).next((N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((N=>(E=Date.now(),Ql()<=ue.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${g-C}ms
	Determined least recently used ${u} in `+(b-g)+`ms
	Removed ${h} targets in `+(v-b)+`ms
	Removed ${N} documents in `+(E-v)+`ms
Total Duration: ${E-C}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:N}))))}}function II(a,t){return new CI(a,t)}class RI{constructor(){this.changes=new hl((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,di.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?lt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class NI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class OI{constructor(t,n,r,u){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=u}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((u=>(r=u,this.remoteDocumentCache.getEntry(t,n)))).next((u=>(r!==null&&bc(r.mutation,u,ls.empty(),$e.now()),u)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,he()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=he()){const u=tl();return this.populateOverlays(t,u,n).next((()=>this.computeViews(t,n,u,r).next((h=>{let g=fc();return h.forEach(((b,v)=>{g=g.insert(b,v.overlayedDocument)})),g}))))}getOverlayedDocuments(t,n){const r=tl();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,he())))}populateOverlays(t,n,r){const u=[];return r.forEach((h=>{n.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(t,u).next((h=>{h.forEach(((g,b)=>{n.set(g,b)}))}))}computeViews(t,n,r,u){let h=hr();const g=vc(),b=(function(){return vc()})();return n.forEach(((v,E)=>{const C=r.get(E.key);u.has(E.key)&&(C===void 0||C.mutation instanceof yo)?h=h.insert(E.key,E):C!==void 0?(g.set(E.key,C.mutation.getFieldMask()),bc(C.mutation,E,C.mutation.getFieldMask(),$e.now())):g.set(E.key,ls.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((E,C)=>g.set(E,C))),n.forEach(((E,C)=>b.set(E,new NI(C,g.get(E)??null)))),b)))}recalculateAndSaveOverlays(t,n){const r=vc();let u=new rn(((g,b)=>g-b)),h=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((g=>{for(const b of g)b.keys().forEach((v=>{const E=n.get(v);if(E===null)return;let C=r.get(v)||ls.empty();C=b.applyToLocalView(E,C),r.set(v,C);const N=(u.get(b.batchId)||he()).add(v);u=u.insert(b.batchId,N)}))})).next((()=>{const g=[],b=u.getReverseIterator();for(;b.hasNext();){const v=b.getNext(),E=v.key,C=v.value,N=iT();C.forEach((M=>{if(!h.has(M)){const et=cT(n.get(M),r.get(M));et!==null&&N.set(M,et),h=h.add(M)}})),g.push(this.documentOverlayCache.saveOverlays(t,E,N))}return lt.waitFor(g)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,u){return kC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Jw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,u):this.getDocumentsMatchingCollectionQuery(t,n,r,u)}getNextDocuments(t,n,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,u).next((h=>{const g=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,u-h.size):lt.resolve(tl());let b=Ec,v=h;return g.next((E=>lt.forEach(E,((C,N)=>(b<N.largestBatchId&&(b=N.largestBatchId),h.get(C)?lt.resolve():this.remoteDocumentCache.getEntry(t,C).next((M=>{v=v.insert(C,M)}))))).next((()=>this.populateOverlays(t,E,h))).next((()=>this.computeViews(t,v,E,he()))).next((C=>({batchId:b,changes:nT(C)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Dt(n)).next((r=>{let u=fc();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,u){const h=n.collectionGroup;let g=fc();return this.indexManager.getCollectionParents(t,h).next((b=>lt.forEach(b,(v=>{const E=(function(N,M){return new vu(M,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(n,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,E,r,u).next((C=>{C.forEach(((N,M)=>{g=g.insert(N,M)}))}))})).next((()=>g))))}getDocumentsMatchingCollectionQuery(t,n,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,h,u)))).next((g=>{h.forEach(((v,E)=>{const C=E.getKey();g.get(C)===null&&(g=g.insert(C,di.newInvalidDocument(C)))}));let b=fc();return g.forEach(((v,E)=>{const C=h.get(v);C!==void 0&&bc(C.mutation,E,ls.empty(),$e.now()),Hf(n,E)&&(b=b.insert(v,E))})),b}))}}class MI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return lt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(u){return{id:u.id,version:u.version,createTime:xa(u.createTime)}})(n)),lt.resolve()}getNamedQuery(t,n){return lt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(u){return{name:u.name,query:wI(u.bundledQuery),readTime:xa(u.readTime)}})(n)),lt.resolve()}}class kI{constructor(){this.overlays=new rn(Dt.comparator),this.Lr=new Map}getOverlay(t,n){return lt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=tl();return lt.forEach(n,(u=>this.getOverlay(t,u).next((h=>{h!==null&&r.set(u,h)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((u,h)=>{this.bt(t,n,h)})),lt.resolve()}removeOverlaysForBatchId(t,n,r){const u=this.Lr.get(r);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),lt.resolve()}getOverlaysForCollection(t,n,r){const u=tl(),h=n.length+1,g=new Dt(n.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const v=b.getNext().value,E=v.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return lt.resolve(u)}getOverlaysForCollectionGroup(t,n,r,u){let h=new rn(((E,C)=>E-C));const g=this.overlays.getIterator();for(;g.hasNext();){const E=g.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>r){let C=h.get(E.largestBatchId);C===null&&(C=tl(),h=h.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const b=tl(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((E,C)=>b.set(E,C))),!(b.size()>=u)););return lt.resolve(b)}bt(t,n,r){const u=this.overlays.get(r.key);if(u!==null){const g=this.Lr.get(u.largestBatchId).delete(r.key);this.Lr.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(r.key,new XC(n,r));let h=this.Lr.get(n);h===void 0&&(h=he(),this.Lr.set(n,h)),this.Lr.set(n,h.add(r.key))}}class LI{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,lt.resolve()}}class ag{constructor(){this.kr=new Mn(Hn.Kr),this.qr=new Mn(Hn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Hn(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Hn(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new Dt(new Ke([])),r=new Hn(n,t),u=new Hn(n,t+1),h=[];return this.qr.forEachInRange([r,u],(g=>{this.Wr(g),h.push(g.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Dt(new Ke([])),r=new Hn(n,t),u=new Hn(n,t+1);let h=he();return this.qr.forEachInRange([r,u],(g=>{h=h.add(g.key)})),h}containsKey(t){const n=new Hn(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Hn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Dt.comparator(t.key,n.key)||ce(t.Hr,n.Hr)}static Ur(t,n){return ce(t.Hr,n.Hr)||Dt.comparator(t.key,n.key)}}class PI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Mn(Hn.Kr)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,u){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const g=new WC(h,n,r,u);this.mutationQueue.push(g);for(const b of u)this.Jr=this.Jr.add(new Hn(b.key,h)),this.indexManager.addToCollectionParentIndex(t,b.key.path.popLast());return lt.resolve(g)}lookupMutationBatch(t,n){return lt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,u=this.Xr(r),h=u<0?0:u;return lt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Yp:this.Yn-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Hn(n,0),u=new Hn(n,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,u],(g=>{const b=this.Zr(g.Hr);h.push(b)})),lt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Mn(ce);return n.forEach((u=>{const h=new Hn(u,0),g=new Hn(u,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,g],(b=>{r=r.add(b.Hr)}))})),lt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,u=r.length+1;let h=r;Dt.isDocumentKey(h)||(h=h.child(""));const g=new Hn(new Dt(h),0);let b=new Mn(ce);return this.Jr.forEachWhile((v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===u&&(b=b.add(v.Hr)),!0)}),g),lt.resolve(this.Yr(b))}Yr(t){const n=[];return t.forEach((r=>{const u=this.Zr(r);u!==null&&n.push(u)})),n}removeMutationBatch(t,n){Re(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return lt.forEach(n.mutations,(u=>{const h=new Hn(u.key,n.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Hn(n,0),u=this.Jr.firstAfterOrEqual(r);return lt.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class DI{constructor(t){this.ti=t,this.docs=(function(){return new rn(Dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,u=this.docs.get(r),h=u?u.size:0,g=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return lt.resolve(r?r.document.mutableCopy():di.newInvalidDocument(n))}getEntries(t,n){let r=hr();return n.forEach((u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():di.newInvalidDocument(u))})),lt.resolve(r)}getDocumentsMatchingQuery(t,n,r,u){let h=hr();const g=n.path,b=new Dt(g.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(b);for(;v.hasNext();){const{key:E,value:{document:C}}=v.getNext();if(!g.isPrefixOf(E.path))break;E.path.length>g.length+1||uC(lC(C),r)<=0||(u.has(C.key)||Hf(n,C))&&(h=h.insert(C.key,C.mutableCopy()))}return lt.resolve(h)}getAllFromCollectionGroup(t,n,r,u){Bt(9500)}ni(t,n){return lt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new VI(this)}getSize(t){return lt.resolve(this.size)}}class VI extends RI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?n.push(this.Mr.addEntry(t,u)):this.Mr.removeEntry(r)})),lt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class zI{constructor(t){this.persistence=t,this.ri=new hl((n=>Xp(n)),Jp),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.ii=0,this.si=new ag,this.targetCount=0,this.oi=hu._r()}forEachTarget(t,n){return this.ri.forEach(((r,u)=>n(u))),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),lt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new hu(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,lt.resolve()}updateTargetData(t,n){return this.lr(n),lt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,n,r){let u=0;const h=[];return this.ri.forEach(((g,b)=>{b.sequenceNumber<=n&&r.get(b.targetId)===null&&(this.ri.delete(g),h.push(this.removeMatchingKeysForTargetId(t,b.targetId)),u++)})),lt.waitFor(h).next((()=>u))}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return lt.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),lt.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const u=this.persistence.referenceDelegate,h=[];return u&&n.forEach((g=>{h.push(u.markPotentiallyOrphaned(t,g))})),lt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),lt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return lt.resolve(r)}containsKey(t,n){return lt.resolve(this.si.containsKey(n))}}class xT{constructor(t,n){this._i={},this.overlays={},this.ai=new jf(0),this.ui=!1,this.ui=!0,this.ci=new LI,this.referenceDelegate=t(this),this.li=new zI(this),this.indexManager=new TI,this.remoteDocumentCache=(function(u){return new DI(u)})((r=>this.referenceDelegate.hi(r))),this.serializer=new bI(n),this.Pi=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new kI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new PI(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){At("MemoryPersistence","Starting transaction:",t);const u=new jI(this.ai.next());return this.referenceDelegate.Ti(),r(u).next((h=>this.referenceDelegate.Ii(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ei(t,n){return lt.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class jI extends hC{constructor(t){super(),this.currentSequenceNumber=t}}class rg{constructor(t){this.persistence=t,this.Ri=new ag,this.Ai=null}static Vi(t){return new rg(t)}get di(){if(this.Ai)return this.Ai;throw Bt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),lt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),lt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((u=>this.di.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((u=>{u.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.di,(r=>{const u=Dt.fromPath(r);return this.mi(t,u).next((h=>{h||n.removeEntry(u,Zt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return lt.or([()=>lt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Cf{constructor(t,n){this.persistence=t,this.fi=new hl((r=>mC(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=II(this,n)}static Vi(t,n){return new Cf(t,n)}Ti(){}Ii(t){return lt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((u=>r+u))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return lt.forEach(this.fi,((r,u)=>this.wr(t,r,u).next((h=>h?lt.resolve():n(u)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ni(t,(g=>this.wr(t,g,n).next((b=>{b||(r++,h.removeEntry(g,Zt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),lt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),lt.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),lt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=lf(t.data.value)),n}wr(t,n,r){return lt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const u=this.fi.get(n);return lt.resolve(u!==void 0&&u>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class og{constructor(t,n,r,u){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=u}static Es(t,n){let r=he(),u=he();for(const h of n.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new og(t,n.fromCache,r,u)}}class UI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class BI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xx()?8:fC(mi())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,u){const h={result:null};return this.gs(t,n).next((g=>{h.result=g})).next((()=>{if(!h.result)return this.ps(t,n,u,r).next((g=>{h.result=g}))})).next((()=>{if(h.result)return;const g=new UI;return this.ys(t,n,g).next((b=>{if(h.result=b,this.As)return this.ws(t,n,g,b.size)}))})).next((()=>h.result))}ws(t,n,r,u){return r.documentReadCount<this.Vs?(Ql()<=ue.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),lt.resolve()):(Ql()<=ue.DEBUG&&At("QueryEngine","Query:",Wl(n),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ds*u?(Ql()<=ue.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Sa(n))):lt.resolve())}gs(t,n){if(P0(n))return lt.resolve(null);let r=Sa(n);return this.indexManager.getIndexType(t,r).next((u=>u===0?null:(n.limit!==null&&u===1&&(n=xf(n,null,"F"),r=Sa(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const g=he(...h);return this.fs.getDocuments(t,g).next((b=>this.indexManager.getMinOffset(t,r).next((v=>{const E=this.bs(n,b);return this.Ss(n,E,g,v.readTime)?this.gs(t,xf(n,null,"F")):this.Ds(t,E,n,v)}))))})))))}ps(t,n,r,u){return P0(n)||u.isEqual(Zt.min())?lt.resolve(null):this.fs.getDocuments(t,r).next((h=>{const g=this.bs(n,h);return this.Ss(n,g,r,u)?lt.resolve(null):(Ql()<=ue.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Wl(n)),this.Ds(t,g,n,oC(u,Ec)).next((b=>b)))}))}bs(t,n){let r=new Mn(tT(t));return n.forEach(((u,h)=>{Hf(t,h)&&(r=r.add(h))})),r}Ss(t,n,r,u){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ys(t,n,r){return Ql()<=ue.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Wl(n)),this.fs.getDocumentsMatchingQuery(t,n,co.min(),r)}Ds(t,n,r,u){return this.fs.getDocumentsMatchingQuery(t,r,u).next((h=>(n.forEach((g=>{h=h.insert(g.key,g)})),h)))}}const lg="LocalStore",qI=3e8;class HI{constructor(t,n,r,u){this.persistence=t,this.Cs=n,this.serializer=u,this.vs=new rn(ce),this.Fs=new hl((h=>Xp(h)),Jp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function FI(a,t,n,r){return new HI(a,t,n,r)}async function AT(a,t){const n=Yt(a);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return n.mutationQueue.getAllMutationBatches(r).next((h=>(u=h,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((h=>{const g=[],b=[];let v=he();for(const E of u){g.push(E.batchId);for(const C of E.mutations)v=v.add(C.key)}for(const E of h){b.push(E.batchId);for(const C of E.mutations)v=v.add(C.key)}return n.localDocuments.getDocuments(r,v).next((E=>({Ns:E,removedBatchIds:g,addedBatchIds:b})))}))}))}function GI(a,t){const n=Yt(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const u=t.batch.keys(),h=n.xs.newChangeBuffer({trackRemovals:!0});return(function(b,v,E,C){const N=E.batch,M=N.keys();let et=lt.resolve();return M.forEach((ft=>{et=et.next((()=>C.getEntry(v,ft))).next((ut=>{const yt=E.docVersions.get(ft);Re(yt!==null,48541),ut.version.compareTo(yt)<0&&(N.applyToRemoteDocument(ut,E),ut.isValidDocument()&&(ut.setReadTime(E.commitVersion),C.addEntry(ut)))}))})),et.next((()=>b.mutationQueue.removeMutationBatch(v,N)))})(n,r,t,h).next((()=>h.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,u,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(b){let v=he();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(v=v.add(b.batch.mutations[E].key));return v})(t)))).next((()=>n.localDocuments.getDocuments(r,u)))}))}function CT(a){const t=Yt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function ZI(a,t){const n=Yt(a),r=t.snapshotVersion;let u=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const g=n.xs.newChangeBuffer({trackRemovals:!0});u=n.vs;const b=[];t.targetChanges.forEach(((C,N)=>{const M=u.get(N);if(!M)return;b.push(n.li.removeMatchingKeys(h,C.removedDocuments,N).next((()=>n.li.addMatchingKeys(h,C.addedDocuments,N))));let et=M.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(N)!==null?et=et.withResumeToken(Xn.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):C.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(C.resumeToken,r)),u=u.insert(N,et),(function(ut,yt,Ot){return ut.resumeToken.approximateByteSize()===0||yt.snapshotVersion.toMicroseconds()-ut.snapshotVersion.toMicroseconds()>=qI?!0:Ot.addedDocuments.size+Ot.modifiedDocuments.size+Ot.removedDocuments.size>0})(M,et,C)&&b.push(n.li.updateTargetData(h,et))}));let v=hr(),E=he();if(t.documentUpdates.forEach((C=>{t.resolvedLimboDocuments.has(C)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(h,C))})),b.push(KI(h,g,t.documentUpdates).next((C=>{v=C.Bs,E=C.Ls}))),!r.isEqual(Zt.min())){const C=n.li.getLastRemoteSnapshotVersion(h).next((N=>n.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));b.push(C)}return lt.waitFor(b).next((()=>g.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,v,E))).next((()=>v))})).then((h=>(n.vs=u,h)))}function KI(a,t,n){let r=he(),u=he();return n.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let g=hr();return n.forEach(((b,v)=>{const E=h.get(b);v.isFoundDocument()!==E.isFoundDocument()&&(u=u.add(b)),v.isNoDocument()&&v.version.isEqual(Zt.min())?(t.removeEntry(b,v.readTime),g=g.insert(b,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(v),g=g.insert(b,v)):At(lg,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",v.version)})),{Bs:g,Ls:u}}))}function YI(a,t){const n=Yt(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Yp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function QI(a,t){const n=Yt(a);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let u;return n.li.getTargetData(r,t).next((h=>h?(u=h,lt.resolve(u)):n.li.allocateTargetId(r).next((g=>(u=new io(t,g,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,u).next((()=>u)))))))})).then((r=>{const u=n.vs.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Ap(a,t,n){const r=Yt(a),u=r.vs.get(t),h=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",h,(g=>r.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!yu(g))throw g;At(lg,`Failed to update sequence numbers for target ${t}: ${g}`)}r.vs=r.vs.remove(t),r.Fs.delete(u.target)}function Y0(a,t,n){const r=Yt(a);let u=Zt.min(),h=he();return r.persistence.runTransaction("Execute query","readwrite",(g=>(function(v,E,C){const N=Yt(v),M=N.Fs.get(C);return M!==void 0?lt.resolve(N.vs.get(M)):N.li.getTargetData(E,C)})(r,g,Sa(t)).next((b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(g,b.targetId).next((v=>{h=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(g,t,n?u:Zt.min(),n?h:he()))).next((b=>(WI(r,DC(t),b),{documents:b,ks:h})))))}function WI(a,t,n){let r=a.Ms.get(t)||Zt.min();n.forEach(((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(t,r)}class Q0{constructor(){this.activeTargetIds=qC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XI{constructor(){this.vo=new Q0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Q0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class JI{Mo(t){}shutdown(){}}const W0="ConnectivityMonitor";class X0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){At(W0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){At(W0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jh=null;function Cp(){return Jh===null?Jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jh++,"0x"+Jh.toString(16)}const tp="RestConnection",$I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class tR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${u}`,this.$o=this.databaseId.database===Tf?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Wo(t,n,r,u,h){const g=Cp(),b=this.Qo(t,n.toUriEncodedString());At(tp,`Sending RPC '${t}' ${g}:`,b,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,u,h);const{host:E}=new URL(b),C=du(E);return this.zo(t,b,v,r,C).then((N=>(At(tp,`Received RPC '${t}' ${g}: `,N),N)),(N=>{throw ru(tp,`RPC '${t}' ${g} failed with error: `,N,"url: ",b,"request:",r),N}))}jo(t,n,r,u,h,g){return this.Wo(t,n,r,u,h)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((u,h)=>t[h]=u)),r&&r.headers.forEach(((u,h)=>t[h]=u))}Qo(t,n){const r=$I[t];let u=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(u=`${u}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),u}terminate(){}}class eR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const hi="WebChannelConnection",lc=(a,t,n)=>{a.listen(t,(r=>{try{n(r)}catch(u){setTimeout((()=>{throw u}),0)}}))};class nu extends tR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!nu.c_){const t=Nw();lc(t,Rw.STAT_EVENT,(n=>{n.stat===pp.PROXY?At(hi,"STAT_EVENT: detected buffering proxy"):n.stat===pp.NOPROXY&&At(hi,"STAT_EVENT: detected no buffering proxy")})),nu.c_=!0}}zo(t,n,r,u,h){const g=Cp();return new Promise(((b,v)=>{const E=new Cw;E.setWithCredentials(!0),E.listenOnce(Iw.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case of.NO_ERROR:const N=E.getResponseJson();At(hi,`XHR for RPC '${t}' ${g} received:`,JSON.stringify(N)),b(N);break;case of.TIMEOUT:At(hi,`RPC '${t}' ${g} timed out`),v(new Et(at.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const M=E.getStatus();if(At(hi,`RPC '${t}' ${g} failed with status:`,M,"response text:",E.getResponseText()),M>0){let et=E.getResponseJson();Array.isArray(et)&&(et=et[0]);const ft=et?.error;if(ft&&ft.status&&ft.message){const ut=(function(Ot){const Vt=Ot.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Vt)>=0?Vt:at.UNKNOWN})(ft.status);v(new Et(ut,ft.message))}else v(new Et(at.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new Et(at.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:t,streamId:g,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{At(hi,`RPC '${t}' ${g} completed.`)}}));const C=JSON.stringify(u);At(hi,`RPC '${t}' ${g} sending request:`,u),E.send(n,"POST",C,r,15)}))}T_(t,n,r){const u=Cp(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],g=this.createWebChannelTransport(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(b.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Go(b.initMessageHeaders,n,r),b.encodeInitMessageHeaders=!0;const E=h.join("");At(hi,`Creating RPC '${t}' stream ${u}: ${E}`,b);const C=g.createWebChannel(E,b);this.I_(C);let N=!1,M=!1;const et=new eR({Ho:ft=>{M?At(hi,`Not sending because RPC '${t}' stream ${u} is closed:`,ft):(N||(At(hi,`Opening RPC '${t}' stream ${u} transport.`),C.open(),N=!0),At(hi,`RPC '${t}' stream ${u} sending:`,ft),C.send(ft))},Jo:()=>C.close()});return lc(C,hc.EventType.OPEN,(()=>{M||(At(hi,`RPC '${t}' stream ${u} transport opened.`),et.i_())})),lc(C,hc.EventType.CLOSE,(()=>{M||(M=!0,At(hi,`RPC '${t}' stream ${u} transport closed`),et.o_(),this.E_(C))})),lc(C,hc.EventType.ERROR,(ft=>{M||(M=!0,ru(hi,`RPC '${t}' stream ${u} transport errored. Name:`,ft.name,"Message:",ft.message),et.o_(new Et(at.UNAVAILABLE,"The operation could not be completed")))})),lc(C,hc.EventType.MESSAGE,(ft=>{if(!M){const ut=ft.data[0];Re(!!ut,16349);const yt=ut,Ot=yt?.error||yt[0]?.error;if(Ot){At(hi,`RPC '${t}' stream ${u} received error:`,Ot);const Vt=Ot.status;let kt=(function($t){const j=Sn[$t];if(j!==void 0)return dT(j)})(Vt),_e=Ot.message;kt===void 0&&(kt=at.INTERNAL,_e="Unknown error status: "+Vt+" with message "+Ot.message),M=!0,et.o_(new Et(kt,_e)),C.close()}else At(hi,`RPC '${t}' stream ${u} received:`,ut),et.__(ut)}})),nu.u_(),setTimeout((()=>{et.s_()}),0),et}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ow()}}function nR(a){return new nu(a)}function ep(){return typeof document<"u"?document:null}function Kf(a){return new rI(a,!0)}nu.c_=!1;class IT{constructor(t,n,r=1e3,u=1.5,h=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=u,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,n-r);u>0&&At("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const J0="PersistentStream";class RT{constructor(t,n,r,u,h,g,b,v){this.Ci=t,this.b_=r,this.S_=u,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===at.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===n&&this.G_(r,u)}),(r=>{t((()=>{const u=new Et(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.H_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return At(J0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(At(J0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iR extends RT{constructor(t,n,r,u,h,g){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,u,g),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=uI(this.serializer,t),r=(function(h){if(!("targetChange"in h))return Zt.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?Zt.min():g.readTime?xa(g.readTime):Zt.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=xp(this.serializer),n.addTarget=(function(h,g){let b;const v=g.target;if(b=bp(v)?{documents:fI(h,v)}:{query:dI(h,v).ft},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){b.resumeToken=gT(h,g.resumeToken);const E=Tp(h,g.expectedCount);E!==null&&(b.expectedCount=E)}else if(g.snapshotVersion.compareTo(Zt.min())>0){b.readTime=Af(h,g.snapshotVersion.toTimestamp());const E=Tp(h,g.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,t);const r=pI(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=xp(this.serializer),n.removeTarget=t,this.K_(n)}}class sR extends RT{constructor(t,n,r,u,h,g){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,u,g),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Re(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Re(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Re(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=hI(t.writeResults,t.commitTime),r=xa(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=xp(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>cI(this.serializer,r)))};this.K_(n)}}class aR{}class rR extends aR{constructor(t,n,r,u){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new Et(at.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.Wo(t,Ep(n,r),u,h,g))).catch((h=>{throw h.name==="FirebaseError"?(h.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Et(at.UNKNOWN,h.toString())}))}jo(t,n,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([g,b])=>this.connection.jo(t,Ep(n,r),u,g,b,h))).catch((g=>{throw g.name==="FirebaseError"?(g.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Et(at.UNKNOWN,g.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function oR(a,t,n,r){return new rR(a,t,n,r)}class lR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):At("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const al="RemoteStore";class uR{constructor(t,n,r,u,h){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((g=>{r.enqueueAndForget((async()=>{fl(this)&&(At(al,"Restarting streams for network reachability change."),await(async function(v){const E=Yt(v);E.Ea.add(4),await jc(E),E.Va.set("Unknown"),E.Ea.delete(4),await Yf(E)})(this))}))})),this.Va=new lR(r,u)}}async function Yf(a){if(fl(a))for(const t of a.Ra)await t(!0)}async function jc(a){for(const t of a.Ra)await t(!1)}function NT(a,t){const n=Yt(a);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),fg(n)?hg(n):bu(n).O_()&&cg(n,t))}function ug(a,t){const n=Yt(a),r=bu(n);n.Ia.delete(t),r.O_()&&OT(n,t),n.Ia.size===0&&(r.O_()?r.L_():fl(n)&&n.Va.set("Unknown"))}function cg(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bu(a).Z_(t)}function OT(a,t){a.da.$e(t),bu(a).X_(t)}function hg(a){a.da=new nI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),bu(a).start(),a.Va.ua()}function fg(a){return fl(a)&&!bu(a).x_()&&a.Ia.size>0}function fl(a){return Yt(a).Ea.size===0}function MT(a){a.da=void 0}async function cR(a){a.Va.set("Online")}async function hR(a){a.Ia.forEach(((t,n)=>{cg(a,t)}))}async function fR(a,t){MT(a),fg(a)?(a.Va.ha(t),hg(a)):a.Va.set("Unknown")}async function dR(a,t,n){if(a.Va.set("Online"),t instanceof pT&&t.state===2&&t.cause)try{await(async function(u,h){const g=h.cause;for(const b of h.targetIds)u.Ia.has(b)&&(await u.remoteSyncer.rejectListen(b,g),u.Ia.delete(b),u.da.removeTarget(b))})(a,t)}catch(r){At(al,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await If(a,r)}else if(t instanceof hf?a.da.Xe(t):t instanceof mT?a.da.st(t):a.da.tt(t),!n.isEqual(Zt.min()))try{const r=await CT(a.localStore);n.compareTo(r)>=0&&await(function(h,g){const b=h.da.Tt(g);return b.targetChanges.forEach(((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const C=h.Ia.get(E);C&&h.Ia.set(E,C.withResumeToken(v.resumeToken,g))}})),b.targetMismatches.forEach(((v,E)=>{const C=h.Ia.get(v);if(!C)return;h.Ia.set(v,C.withResumeToken(Xn.EMPTY_BYTE_STRING,C.snapshotVersion)),OT(h,v);const N=new io(C.target,v,E,C.sequenceNumber);cg(h,N)})),h.remoteSyncer.applyRemoteEvent(b)})(a,n)}catch(r){At(al,"Failed to raise snapshot:",r),await If(a,r)}}async function If(a,t,n){if(!yu(t))throw t;a.Ea.add(1),await jc(a),a.Va.set("Offline"),n||(n=()=>CT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{At(al,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await Yf(a)}))}function kT(a,t){return t().catch((n=>If(a,n,t)))}async function Qf(a){const t=Yt(a),n=po(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Yp;for(;mR(t);)try{const u=await YI(t.localStore,r);if(u===null){t.Ta.length===0&&n.L_();break}r=u.batchId,pR(t,u)}catch(u){await If(t,u)}LT(t)&&PT(t)}function mR(a){return fl(a)&&a.Ta.length<10}function pR(a,t){a.Ta.push(t);const n=po(a);n.O_()&&n.Y_&&n.ea(t.mutations)}function LT(a){return fl(a)&&!po(a).x_()&&a.Ta.length>0}function PT(a){po(a).start()}async function gR(a){po(a).ra()}async function _R(a){const t=po(a);for(const n of a.Ta)t.ea(n.mutations)}async function yR(a,t,n){const r=a.Ta.shift(),u=ng.from(r,t,n);await kT(a,(()=>a.remoteSyncer.applySuccessfulWrite(u))),await Qf(a)}async function vR(a,t){t&&po(a).Y_&&await(async function(r,u){if((function(g){return $C(g)&&g!==at.ABORTED})(u.code)){const h=r.Ta.shift();po(r).B_(),await kT(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Qf(r)}})(a,t),LT(a)&&PT(a)}async function $0(a,t){const n=Yt(a);n.asyncQueue.verifyOperationInProgress(),At(al,"RemoteStore received new credentials");const r=fl(n);n.Ea.add(3),await jc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Yf(n)}async function bR(a,t){const n=Yt(a);t?(n.Ea.delete(2),await Yf(n)):t||(n.Ea.add(2),await jc(n),n.Va.set("Unknown"))}function bu(a){return a.ma||(a.ma=(function(n,r,u){const h=Yt(n);return h.sa(),new iR(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Zo:cR.bind(null,a),Yo:hR.bind(null,a),t_:fR.bind(null,a),J_:dR.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),fg(a)?hg(a):a.Va.set("Unknown")):(await a.ma.stop(),MT(a))}))),a.ma}function po(a){return a.fa||(a.fa=(function(n,r,u){const h=Yt(n);return h.sa(),new sR(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gR.bind(null,a),t_:vR.bind(null,a),ta:_R.bind(null,a),na:yR.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await Qf(a)):(await a.fa.stop(),a.Ta.length>0&&(At(al,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class dg{constructor(t,n,r,u,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((g=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,u,h){const g=Date.now()+r,b=new dg(t,n,g,u,h);return b.start(r),b}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(a,t){if(cr("AsyncQueue",`${t}: ${a}`),yu(a))return new Et(at.UNAVAILABLE,`${t}: ${a}`);throw a}class iu{static emptySet(t){return new iu(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Dt.comparator(n.key,r.key):(n,r)=>Dt.comparator(n.key,r.key),this.keyedMap=fc(),this.sortedSet=new rn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof iu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class tb{constructor(){this.ga=new rn(Dt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Bt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class fu{constructor(t,n,r,u,h,g,b,v,E){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(t,n,r,u,h){const g=[];return n.forEach((b=>{g.push({type:0,doc:b})})),new fu(t,n,iu.emptySet(n),g,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==r[u].type||!n[u].doc.isEqual(r[u].doc))return!1;return!0}}class wR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class TR{constructor(){this.queries=eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const u=Yt(n),h=u.queries;u.queries=eb(),h.forEach(((g,b)=>{for(const v of b.ba)v.onError(r)}))})(this,new Et(at.ABORTED,"Firestore shutting down"))}}function eb(){return new hl((a=>$w(a)),qf)}async function DT(a,t){const n=Yt(a);let r=3;const u=t.query;let h=n.queries.get(u);h?!h.Sa()&&t.Da()&&(r=2):(h=new wR,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await n.onListen(u,!0);break;case 1:h.wa=await n.onListen(u,!1);break;case 2:await n.onFirstRemoteStoreListen(u)}}catch(g){const b=mg(g,`Initialization of query '${Wl(t.query)}' failed`);return void t.onError(b)}n.queries.set(u,h),h.ba.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&pg(n)}async function VT(a,t){const n=Yt(a),r=t.query;let u=3;const h=n.queries.get(r);if(h){const g=h.ba.indexOf(t);g>=0&&(h.ba.splice(g,1),h.ba.length===0?u=t.Da()?0:1:!h.Sa()&&t.Da()&&(u=2))}switch(u){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ER(a,t){const n=Yt(a);let r=!1;for(const u of t){const h=u.query,g=n.queries.get(h);if(g){for(const b of g.ba)b.Fa(u)&&(r=!0);g.wa=u}}r&&pg(n)}function SR(a,t,n){const r=Yt(a),u=r.queries.get(t);if(u)for(const h of u.ba)h.onError(n);r.queries.delete(t)}function pg(a){a.Ca.forEach((t=>{t.next()}))}var Ip,nb;(nb=Ip||(Ip={})).Ma="default",nb.Cache="cache";class zT{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const u of t.docChanges)u.type!==3&&r.push(u);t=new fu(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=fu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ip.Cache}}class jT{constructor(t){this.key=t}}class UT{constructor(t){this.key=t}}class xR{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=he(),this.mutatedKeys=he(),this.eu=tT(t),this.tu=new iu(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new tb,u=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,g=u,b=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,E=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(((C,N)=>{const M=u.get(C),et=Hf(this.query,N)?N:null,ft=!!M&&this.mutatedKeys.has(M.key),ut=!!et&&(et.hasLocalMutations||this.mutatedKeys.has(et.key)&&et.hasCommittedMutations);let yt=!1;M&&et?M.data.isEqual(et.data)?ft!==ut&&(r.track({type:3,doc:et}),yt=!0):this.su(M,et)||(r.track({type:2,doc:et}),yt=!0,(v&&this.eu(et,v)>0||E&&this.eu(et,E)<0)&&(b=!0)):!M&&et?(r.track({type:0,doc:et}),yt=!0):M&&!et&&(r.track({type:1,doc:M}),yt=!0,(v||E)&&(b=!0)),yt&&(et?(g=g.add(et),h=ut?h.add(C):h.delete(C)):(g=g.delete(C),h=h.delete(C)))})),this.query.limit!==null)for(;g.size>this.query.limit;){const C=this.query.limitType==="F"?g.last():g.first();g=g.delete(C.key),h=h.delete(C.key),r.track({type:1,doc:C})}return{tu:g,iu:r,Ss:b,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,u){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const g=t.iu.ya();g.sort(((C,N)=>(function(et,ft){const ut=yt=>{switch(yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Vt:yt})}};return ut(et)-ut(ft)})(C.type,N.type)||this.eu(C.doc,N.doc))),this.ou(r),u=u??!1;const b=n&&!u?this._u():[],v=this.Ya.size===0&&this.current&&!u?1:0,E=v!==this.Xa;return this.Xa=v,g.length!==0||E?{snapshot:new fu(this.query,t.tu,h,g,t.mutatedKeys,v===0,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=he(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new UT(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new jT(r))})),n}cu(t){this.Za=t.ks,this.Ya=he();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return fu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gg="SyncEngine";class AR{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class CR{constructor(t){this.key=t,this.hu=!1}}class IR{constructor(t,n,r,u,h,g){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Pu={},this.Tu=new hl((b=>$w(b)),qf),this.Iu=new Map,this.Eu=new Set,this.Ru=new rn(Dt.comparator),this.Au=new Map,this.Vu=new ag,this.du={},this.mu=new Map,this.fu=hu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RR(a,t,n=!0){const r=ZT(a);let u;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await BT(r,t,n,!0),u}async function NR(a,t){const n=ZT(a);await BT(n,t,!0,!1)}async function BT(a,t,n,r){const u=await QI(a.localStore,Sa(t)),h=u.targetId,g=a.sharedClientState.addLocalQueryTarget(h,n);let b;return r&&(b=await OR(a,t,h,g==="current",u.resumeToken)),a.isPrimaryClient&&n&&NT(a.remoteStore,u),b}async function OR(a,t,n,r,u){a.pu=(N,M,et)=>(async function(ut,yt,Ot,Vt){let kt=yt.view.ru(Ot);kt.Ss&&(kt=await Y0(ut.localStore,yt.query,!1).then((({documents:j})=>yt.view.ru(j,kt))));const _e=Vt&&Vt.targetChanges.get(yt.targetId),ye=Vt&&Vt.targetMismatches.get(yt.targetId)!=null,$t=yt.view.applyChanges(kt,ut.isPrimaryClient,_e,ye);return sb(ut,yt.targetId,$t.au),$t.snapshot})(a,N,M,et);const h=await Y0(a.localStore,t,!0),g=new xR(t,h.ks),b=g.ru(h.documents),v=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",u),E=g.applyChanges(b,a.isPrimaryClient,v);sb(a,n,E.au);const C=new AR(t,n,g);return a.Tu.set(t,C),a.Iu.has(n)?a.Iu.get(n).push(t):a.Iu.set(n,[t]),E.snapshot}async function MR(a,t,n){const r=Yt(a),u=r.Tu.get(t),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter((g=>!qf(g,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await Ap(r.localStore,u.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(u.targetId),n&&ug(r.remoteStore,u.targetId),Rp(r,u.targetId)})).catch(_u)):(Rp(r,u.targetId),await Ap(r.localStore,u.targetId,!0))}async function kR(a,t){const n=Yt(a),r=n.Tu.get(t),u=n.Iu.get(r.targetId);n.isPrimaryClient&&u.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ug(n.remoteStore,r.targetId))}async function LR(a,t,n){const r=BR(a);try{const u=await(function(g,b){const v=Yt(g),E=$e.now(),C=b.reduce(((et,ft)=>et.add(ft.key)),he());let N,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(et=>{let ft=hr(),ut=he();return v.xs.getEntries(et,C).next((yt=>{ft=yt,ft.forEach(((Ot,Vt)=>{Vt.isValidDocument()||(ut=ut.add(Ot))}))})).next((()=>v.localDocuments.getOverlayedDocuments(et,ft))).next((yt=>{N=yt;const Ot=[];for(const Vt of b){const kt=YC(Vt,N.get(Vt.key).overlayedDocument);kt!=null&&Ot.push(new yo(Vt.key,kt,Gw(kt.value.mapValue),Js.exists(!0)))}return v.mutationQueue.addMutationBatch(et,E,Ot,b)})).next((yt=>{M=yt;const Ot=yt.applyToLocalDocumentSet(N,ut);return v.documentOverlayCache.saveOverlays(et,yt.batchId,Ot)}))})).then((()=>({batchId:M.batchId,changes:nT(N)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(u.batchId),(function(g,b,v){let E=g.du[g.currentUser.toKey()];E||(E=new rn(ce)),E=E.insert(b,v),g.du[g.currentUser.toKey()]=E})(r,u.batchId,n),await Uc(r,u.changes),await Qf(r.remoteStore)}catch(u){const h=mg(u,"Failed to persist write");n.reject(h)}}async function qT(a,t){const n=Yt(a);try{const r=await ZI(n.localStore,t);t.targetChanges.forEach(((u,h)=>{const g=n.Au.get(h);g&&(Re(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?g.hu=!0:u.modifiedDocuments.size>0?Re(g.hu,14607):u.removedDocuments.size>0&&(Re(g.hu,42227),g.hu=!1))})),await Uc(n,r,t)}catch(r){await _u(r)}}function ib(a,t,n){const r=Yt(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const u=[];r.Tu.forEach(((h,g)=>{const b=g.view.va(t);b.snapshot&&u.push(b.snapshot)})),(function(g,b){const v=Yt(g);v.onlineState=b;let E=!1;v.queries.forEach(((C,N)=>{for(const M of N.ba)M.va(b)&&(E=!0)})),E&&pg(v)})(r.eventManager,t),u.length&&r.Pu.J_(u),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function PR(a,t,n){const r=Yt(a);r.sharedClientState.updateQueryState(t,"rejected",n);const u=r.Au.get(t),h=u&&u.key;if(h){let g=new rn(Dt.comparator);g=g.insert(h,di.newNoDocument(h,Zt.min()));const b=he().add(h),v=new Zf(Zt.min(),new Map,new rn(ce),g,b);await qT(r,v),r.Ru=r.Ru.remove(h),r.Au.delete(t),_g(r)}else await Ap(r.localStore,t,!1).then((()=>Rp(r,t,n))).catch(_u)}async function DR(a,t){const n=Yt(a),r=t.batch.batchId;try{const u=await GI(n.localStore,t);FT(n,r,null),HT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(n,u)}catch(u){await _u(u)}}async function VR(a,t,n){const r=Yt(a);try{const u=await(function(g,b){const v=Yt(g);return v.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let C;return v.mutationQueue.lookupMutationBatch(E,b).next((N=>(Re(N!==null,37113),C=N.keys(),v.mutationQueue.removeMutationBatch(E,N)))).next((()=>v.mutationQueue.performConsistencyCheck(E))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(E,C,b))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,C))).next((()=>v.localDocuments.getDocuments(E,C)))}))})(r.localStore,t);FT(r,t,n),HT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Uc(r,u)}catch(u){await _u(u)}}function HT(a,t){(a.mu.get(t)||[]).forEach((n=>{n.resolve()})),a.mu.delete(t)}function FT(a,t,n){const r=Yt(a);let u=r.du[r.currentUser.toKey()];if(u){const h=u.get(t);h&&(n?h.reject(n):h.resolve(),u=u.remove(t)),r.du[r.currentUser.toKey()]=u}}function Rp(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),n&&a.Pu.yu(r,n);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((r=>{a.Vu.containsKey(r)||GT(a,r)}))}function GT(a,t){a.Eu.delete(t.path.canonicalString());const n=a.Ru.get(t);n!==null&&(ug(a.remoteStore,n),a.Ru=a.Ru.remove(t),a.Au.delete(n),_g(a))}function sb(a,t,n){for(const r of n)r instanceof jT?(a.Vu.addReference(r.key,t),zR(a,r)):r instanceof UT?(At(gg,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,t),a.Vu.containsKey(r.key)||GT(a,r.key)):Bt(19791,{wu:r})}function zR(a,t){const n=t.key,r=n.path.canonicalString();a.Ru.get(n)||a.Eu.has(r)||(At(gg,"New document in limbo: "+n),a.Eu.add(r),_g(a))}function _g(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const n=new Dt(Ke.fromString(t)),r=a.fu.next();a.Au.set(r,new CR(n)),a.Ru=a.Ru.insert(n,r),NT(a.remoteStore,new io(Sa($p(n.path)),r,"TargetPurposeLimboResolution",jf.ce))}}async function Uc(a,t,n){const r=Yt(a),u=[],h=[],g=[];r.Tu.isEmpty()||(r.Tu.forEach(((b,v)=>{g.push(r.pu(v,t,n).then((E=>{if((E||n)&&r.isPrimaryClient){const C=E?!E.fromCache:n?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(E){u.push(E);const C=og.Es(v.targetId,E);h.push(C)}})))})),await Promise.all(g),r.Pu.J_(u),await(async function(v,E){const C=Yt(v);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>lt.forEach(E,(M=>lt.forEach(M.Ts,(et=>C.persistence.referenceDelegate.addReference(N,M.targetId,et))).next((()=>lt.forEach(M.Is,(et=>C.persistence.referenceDelegate.removeReference(N,M.targetId,et)))))))))}catch(N){if(!yu(N))throw N;At(lg,"Failed to update sequence numbers: "+N)}for(const N of E){const M=N.targetId;if(!N.fromCache){const et=C.vs.get(M),ft=et.snapshotVersion,ut=et.withLastLimboFreeSnapshotVersion(ft);C.vs=C.vs.insert(M,ut)}}})(r.localStore,h))}async function jR(a,t){const n=Yt(a);if(!n.currentUser.isEqual(t)){At(gg,"User change. New user:",t.toKey());const r=await AT(n.localStore,t);n.currentUser=t,(function(h,g){h.mu.forEach((b=>{b.forEach((v=>{v.reject(new Et(at.CANCELLED,g))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Uc(n,r.Ns)}}function UR(a,t){const n=Yt(a),r=n.Au.get(t);if(r&&r.hu)return he().add(r.key);{let u=he();const h=n.Iu.get(t);if(!h)return u;for(const g of h){const b=n.Tu.get(g);u=u.unionWith(b.view.nu)}return u}}function ZT(a){const t=Yt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PR.bind(null,t),t.Pu.J_=ER.bind(null,t.eventManager),t.Pu.yu=SR.bind(null,t.eventManager),t}function BR(a){const t=Yt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VR.bind(null,t),t}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return FI(this.persistence,new BI,t.initialUser,this.serializer)}Cu(t){return new xT(rg.Vi,this.serializer)}Du(t){return new XI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class qR extends Rf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Re(this.persistence.referenceDelegate instanceof Cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ki.withCacheSize(this.cacheSizeBytes):Ki.DEFAULT;return new xT((r=>Cf.Vi(r,n)),this.serializer)}}class Np{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ib(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jR.bind(null,this.syncEngine),await bR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new TR})()}createDatastore(t){const n=Kf(t.databaseInfo.databaseId),r=nR(t.databaseInfo);return oR(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,u,h,g,b){return new uR(r,u,h,g,b)})(this.localStore,this.datastore,t.asyncQueue,(n=>ib(this.syncEngine,n,0)),(function(){return X0.v()?new X0:new JI})())}createSyncEngine(t,n){return(function(u,h,g,b,v,E,C){const N=new IR(u,h,g,b,v,E);return C&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Yt(n);At(al,"RemoteStore shutting down."),r.Ea.add(5),await jc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Np.provider={build:()=>new Np};class KT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const go="FirestoreClient";class HR{constructor(t,n,r,u,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=u,this.user=fi.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async g=>{At(go,"Received user=",g.uid),await this.authCredentialListener(g),this.user=g})),this.appCheckCredentials.start(r,(g=>(At(go,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=mg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function np(a,t){a.asyncQueue.verifyOperationInProgress(),At(go,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let r=n.initialUser;a.setCredentialChangeListener((async u=>{r.isEqual(u)||(await AT(t.localStore,u),r=u)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function ab(a,t){a.asyncQueue.verifyOperationInProgress();const n=await FR(a);At(go,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener((r=>$0(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,u)=>$0(t.remoteStore,u))),a._onlineComponents=t}async function FR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){At(go,"Using user provided OfflineComponentProvider");try{await np(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(u){return u.name==="FirebaseError"?u.code===at.FAILED_PRECONDITION||u.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(n))throw n;ru("Error using user provided cache. Falling back to memory cache: "+n),await np(a,new Rf)}}else At(go,"Using default OfflineComponentProvider"),await np(a,new qR(void 0));return a._offlineComponents}async function YT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(At(go,"Using user provided OnlineComponentProvider"),await ab(a,a._uninitializedComponentsProvider._online)):(At(go,"Using default OnlineComponentProvider"),await ab(a,new Np))),a._onlineComponents}function GR(a){return YT(a).then((t=>t.syncEngine))}async function QT(a){const t=await YT(a),n=t.eventManager;return n.onListen=RR.bind(null,t.syncEngine),n.onUnlisten=MR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=NR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kR.bind(null,t.syncEngine),n}function ZR(a,t,n={}){const r=new rr;return a.asyncQueue.enqueueAndForget((async()=>(function(h,g,b,v,E){const C=new KT({next:M=>{C.Nu(),g.enqueueAndForget((()=>VT(h,N)));const et=M.docs.has(b);!et&&M.fromCache?E.reject(new Et(at.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&M.fromCache&&v&&v.source==="server"?E.reject(new Et(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(M)},error:M=>E.reject(M)}),N=new zT($p(b.path),C,{includeMetadataChanges:!0,Ka:!0});return DT(h,N)})(await QT(a),a.asyncQueue,t,n,r))),r.promise}function KR(a,t,n={}){const r=new rr;return a.asyncQueue.enqueueAndForget((async()=>(function(h,g,b,v,E){const C=new KT({next:M=>{C.Nu(),g.enqueueAndForget((()=>VT(h,N))),M.fromCache&&v.source==="server"?E.reject(new Et(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(M)},error:M=>E.reject(M)}),N=new zT(b,C,{includeMetadataChanges:!0,Ka:!0});return DT(h,N)})(await QT(a),a.asyncQueue,t,n,r))),r.promise}function YR(a,t){const n=new rr;return a.asyncQueue.enqueueAndForget((async()=>LR(await GR(a),t,n))),n.promise}function WT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const QR="ComponentProvider",rb=new Map;function WR(a,t,n,r,u){return new _C(a,t,n,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,WT(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator,r)}const XT="firestore.googleapis.com",ob=!0;class lb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Et(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=ob}else this.host=t.host,this.ssl=t.ssl??ob;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SI)throw new Et(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Et(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Et(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Et(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wf{constructor(t,n,r,u){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Q2;switch(r.type){case"firstParty":return new $2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=rb.get(n);r&&(At(QR,"Removing Datastore"),rb.delete(n),r.terminate())})(this),Promise.resolve()}}function XR(a,t,n,r={}){a=Ra(a,Wf);const u=du(t),h=a._getSettings(),g={...h,emulatorOptions:a._getEmulatorOptions()},b=`${t}:${n}`;u&&(Vb(`https://${b}`),zb("Firestore",!0)),h.host!==XT&&h.host!==b&&ru("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:b,ssl:u,emulatorOptions:r};if(!or(v,g)&&(a._setSettings(v),r.mockUserToken)){let E,C;if(typeof r.mockUserToken=="string")E=r.mockUserToken,C=fi.MOCK_USER;else{E=_x(r.mockUserToken,a._app?.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new Et(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new fi(N)}a._authCredentials=new W2(new kw(E,C))}}class vo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new vo(this.firestore,t,this._query)}}class pn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Dc(n,pn._jsonSchema))return new pn(t,r||null,new Dt(Ke.fromString(n.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:An("string",pn._jsonSchemaVersion),referencePath:An("string")};class lo extends vo{constructor(t,n,r){super(t,n,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new Dt(t))}withConverter(t){return new lo(this.firestore,t,this._path)}}function Jr(a,t,...n){if(a=Cn(a),Lw("collection","path",t),a instanceof Wf){const r=Ke.fromString(t,...n);return w0(r),new lo(a,null,r)}{if(!(a instanceof pn||a instanceof lo))throw new Et(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Ke.fromString(t,...n));return w0(r),new lo(a.firestore,null,r)}}function $r(a,t,...n){if(a=Cn(a),arguments.length===1&&(t=Kp.newId()),Lw("doc","path",t),a instanceof Wf){const r=Ke.fromString(t,...n);return b0(r),new pn(a,null,new Dt(r))}{if(!(a instanceof pn||a instanceof lo))throw new Et(at.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Ke.fromString(t,...n));return b0(r),new pn(a.firestore,a instanceof lo?a.converter:null,new Dt(r))}}const ub="AsyncQueue";class cb{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const r=ep();r&&At(ub,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!yu(t))throw t;At(ub,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",hb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const u=dg.createAndSchedule(this,t,n,r,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&Bt(47125,{Pc:hb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function hb(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class wu extends Wf{constructor(t,n,r,u){super(t,n,r,u),this.type="firestore",this._queue=new cb,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cb(t),this._firestoreClient=void 0,await t}}}function JR(a,t){const n=typeof a=="object"?a:Dp(),r=typeof a=="string"?a:Tf,u=cl(n,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=px("firestore");h&&XR(u,...h)}return u}function yg(a){if(a._terminated)throw new Et(at.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||$R(a),a._firestoreClient}function $R(a){const t=a._freezeSettings(),n=WR(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new HR(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(a._componentsProvider))}class Ns{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ns(Xn.fromBase64String(t))}catch(n){throw new Et(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ns(Xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Dc(t,Ns._jsonSchema))return Ns.fromBase64String(t.bytes)}}Ns._jsonSchemaVersion="firestore/bytes/1.0",Ns._jsonSchema={type:An("string",Ns._jsonSchemaVersion),bytes:An("string")};class vg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Et(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Tu{constructor(t){this._methodName=t}}class Aa{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Et(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Et(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ce(this._lat,t._lat)||ce(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Aa._jsonSchemaVersion}}static fromJSON(t){if(Dc(t,Aa._jsonSchema))return new Aa(t.latitude,t.longitude)}}Aa._jsonSchemaVersion="firestore/geoPoint/1.0",Aa._jsonSchema={type:An("string",Aa._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};class $s{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Dc(t,$s._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new $s(t.vectorValues);throw new Et(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:An("string",$s._jsonSchemaVersion),vectorValues:An("object")};const tN=/^__.*__$/;class eN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new yo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(t,this.data,n,this.fieldTransforms)}}class JT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new yo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function $T(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{dataSource:a})}}class Xf{constructor(t,n,r,u,h,g){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Xf({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Nf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if($T(this.dataSource)&&tN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class nN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Kf(t)}createContext(t,n,r,u=!1){return new Xf({dataSource:t,methodName:n,targetDoc:r,path:Wn.emptyPath(),arrayElement:!1,hasConverter:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(a){const t=a._freezeSettings(),n=Kf(a._databaseId);return new nN(a._databaseId,!!t.ignoreUndefinedProperties,n)}function tE(a,t,n,r,u,h={}){const g=a.createContext(h.merge||h.mergeFields?2:0,t,n,u);Eg("Data must be an object, but it was:",g,r);const b=eE(r,g);let v,E;if(h.merge)v=new ls(g.fieldMask),E=g.fieldTransforms;else if(h.mergeFields){const C=[];for(const N of h.mergeFields){const M=rl(t,N,n);if(!g.contains(M))throw new Et(at.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);sE(C,M)||C.push(M)}v=new ls(C),E=g.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,E=g.fieldTransforms;return new eN(new Yi(b),v,E)}class $f extends Tu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $f}}function iN(a,t,n){return new Xf({dataSource:3,targetDoc:t.settings.targetDoc,methodName:a._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class bg extends Tu{_toFieldTransform(t){return new eg(t.path,new Ic)}isEqual(t){return t instanceof bg}}class wg extends Tu{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=iN(this,t,!0),r=this.Ac.map((h=>Eu(h,n))),u=new cu(r);return new eg(t.path,u)}isEqual(t){return t instanceof wg&&or(this.Ac,t.Ac)}}class Tg extends Tu{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new Nc(t.serializer,aT(t.serializer,this.Vc));return new eg(t.path,n)}isEqual(t){return t instanceof Tg&&this.Vc===t.Vc}}function sN(a,t,n,r){const u=a.createContext(1,t,n);Eg("Data must be an object, but it was:",u,r);const h=[],g=Yi.empty();_o(r,((v,E)=>{const C=iE(t,v,n);E=Cn(E);const N=u.childContextForFieldPath(C);if(E instanceof $f)h.push(C);else{const M=Eu(E,N);M!=null&&(h.push(C),g.set(C,M))}}));const b=new ls(h);return new JT(g,b,u.fieldTransforms)}function aN(a,t,n,r,u,h){const g=a.createContext(1,t,n),b=[rl(t,r,n)],v=[u];if(h.length%2!=0)throw new Et(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<h.length;M+=2)b.push(rl(t,h[M])),v.push(h[M+1]);const E=[],C=Yi.empty();for(let M=b.length-1;M>=0;--M)if(!sE(E,b[M])){const et=b[M];let ft=v[M];ft=Cn(ft);const ut=g.childContextForFieldPath(et);if(ft instanceof $f)E.push(et);else{const yt=Eu(ft,ut);yt!=null&&(E.push(et),C.set(et,yt))}}const N=new ls(E);return new JT(C,N,g.fieldTransforms)}function rN(a,t,n,r=!1){return Eu(n,a.createContext(r?4:3,t))}function Eu(a,t){if(nE(a=Cn(a)))return Eg("Unsupported field value:",t,a),eE(a,t);if(a instanceof Tu)return(function(r,u){if(!$T(u.dataSource))throw u.createError(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,u){const h=[];let g=0;for(const b of r){let v=Eu(b,u.childContextForArray(g));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),g++}return{arrayValue:{values:h}}})(a,t)}return(function(r,u){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aT(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=$e.fromDate(r);return{timestampValue:Af(u.serializer,h)}}if(r instanceof $e){const h=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(u.serializer,h)}}if(r instanceof Aa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ns)return{bytesValue:gT(u.serializer,r._byteString)};if(r instanceof pn){const h=u.databaseId,g=r.firestore._databaseId;if(!g.isEqual(h))throw u.createError(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:sg(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof $s)return(function(g,b){const v=g instanceof $s?g.toArray():g;return{mapValue:{fields:{[Hw]:{stringValue:Fw},[Ef]:{arrayValue:{values:v.map((C=>{if(typeof C!="number")throw b.createError("VectorValues must only contain numeric values.");return tg(b.serializer,C)}))}}}}}})(r,u);if(ET(r))return r._toProto(u.serializer);throw u.createError(`Unsupported field value: ${zf(r)}`)})(a,t)}function eE(a,t){const n={};return Vw(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_o(a,((r,u)=>{const h=Eu(u,t.childContextForField(r));h!=null&&(n[r]=h)})),{mapValue:{fields:n}}}function nE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof $e||a instanceof Aa||a instanceof Ns||a instanceof pn||a instanceof Tu||a instanceof $s||ET(a))}function Eg(a,t,n){if(!nE(n)||!Pw(n)){const r=zf(n);throw r==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+r)}}function rl(a,t,n){if((t=Cn(t))instanceof vg)return t._internalPath;if(typeof t=="string")return iE(a,t);throw Nf("Field path arguments must be of type string or ",a,!1,void 0,n)}const oN=new RegExp("[~\\*/\\[\\]]");function iE(a,t,n){if(t.search(oN)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new vg(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Nf(a,t,n,r,u){const h=r&&!r.isEmpty(),g=u!==void 0;let b=`Function ${t}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let v="";return(h||g)&&(v+=" (found",h&&(v+=` in field ${r}`),g&&(v+=` in document ${u}`),v+=")"),new Et(at.INVALID_ARGUMENT,b+a+v)}function sE(a,t){return a.some((n=>n.isEqual(t)))}class lN{convertValue(t,n="none"){switch(mo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return _o(t,((u,h)=>{r[u]=this.convertValue(h,n)})),r}convertVectorValue(t){const n=t.fields?.[Ef].arrayValue?.values?.map((r=>mn(r.doubleValue)));return new $s(n)}convertGeoPoint(t){return new Aa(mn(t.latitude),mn(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Bf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sc(t));default:return null}}convertTimestamp(t){const n=ho(t);return new $e(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ke.fromString(t);Re(TT(r),9688,{name:t});const u=new xc(r.get(1),r.get(3)),h=new Dt(r.popFirst(5));return u.isEqual(n)||cr(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}class aE extends lN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ns(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function uc(){return new bg("serverTimestamp")}function uN(...a){return new wg("arrayUnion",a)}function Kl(a){return new Tg("increment",a)}const fb="@firebase/firestore",db="4.10.0";class rE{constructor(t,n,r,u,h){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(rl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cN extends rE{data(){return super.data()}}function hN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Et(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class xg extends Sg{}function Yl(a,t,...n){let r=[];t instanceof Sg&&r.push(t),r=r.concat(n),(function(h){const g=h.filter((v=>v instanceof Ag)).length,b=h.filter((v=>v instanceof td)).length;if(g>1||g>0&&b>0)throw new Et(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const u of r)a=u._apply(a);return a}class td extends xg{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new td(t,n,r)}_apply(t){const n=this._parse(t);return oE(t._query,n),new vo(t.firestore,t.converter,wp(t._query,n))}_parse(t){const n=Jf(t.firestore);return(function(h,g,b,v,E,C,N){let M;if(E.isKeyField()){if(C==="array-contains"||C==="array-contains-any")throw new Et(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if(C==="in"||C==="not-in"){pb(N,C);const ft=[];for(const ut of N)ft.push(mb(v,h,ut));M={arrayValue:{values:ft}}}else M=mb(v,h,N)}else C!=="in"&&C!=="not-in"&&C!=="array-contains-any"||pb(N,C),M=rN(b,g,N,C==="in"||C==="not-in");return xn.create(E,C,M)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Xo(a,t,n){const r=t,u=rl("where",a);return td._create(u,r,n)}class Ag extends Sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ag(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ea.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(u,h){let g=u;const b=h.getFlattenedFilters();for(const v of b)oE(g,v),g=wp(g,v)})(t._query,n),new vo(t.firestore,t.converter,wp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends xg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Cg(t,n)}_apply(t){const n=(function(u,h,g){if(u.startAt!==null)throw new Et(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new Et(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cc(h,g)})(t._query,this._field,this._direction);return new vo(t.firestore,t.converter,PC(t._query,n))}}function ip(a,t="asc"){const n=t,r=rl("orderBy",a);return Cg._create(r,n)}class Ig extends xg{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new Ig(t,n,r)}_apply(t){return new vo(t.firestore,t.converter,xf(t._query,this._limit,this._limitType))}}function $h(a){return rC("limit",a),Ig._create("limit",a,"F")}function mb(a,t,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Et(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jw(t)&&n.indexOf("/")!==-1)throw new Et(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ke.fromString(n));if(!Dt.isDocumentKey(r))throw new Et(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R0(a,new Dt(r))}if(n instanceof pn)return R0(a,n._key);throw new Et(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function pb(a,t){if(!Array.isArray(a)||a.length===0)throw new Et(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oE(a,t){const n=(function(u,h){for(const g of u)for(const b of g.getFlattenedFilters())if(h.indexOf(b.op)>=0)return b.op;return null})(a.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Et(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Et(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function lE(a,t,n){let r;return r=a?n&&(n.merge||n.mergeFields)?a.toFirestore(t,n):a.toFirestore(t):t,r}class mc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nl extends rE{constructor(t,n,r,u,h,g){super(t,n,r,u,g),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(rl("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",nl._jsonSchema={type:An("string",nl._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class ff extends nl{data(t={}){return super.data(t)}}class su{constructor(t,n,r,u){this._firestore=t,this._userDataWriter=n,this._snapshot=u,this.metadata=new mc(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new ff(this._firestore,this._userDataWriter,r.key,r,new mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let g=0;return u._snapshot.docChanges.map((b=>{const v=new ff(u._firestore,u._userDataWriter,b.doc.key,b.doc,new mc(u._snapshot.mutatedKeys.has(b.doc.key),u._snapshot.fromCache),u.query.converter);return b.doc,{type:"added",doc:v,oldIndex:-1,newIndex:g++}}))}{let g=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((b=>h||b.type!==3)).map((b=>{const v=new ff(u._firestore,u._userDataWriter,b.doc.key,b.doc,new mc(u._snapshot.mutatedKeys.has(b.doc.key),u._snapshot.fromCache),u.query.converter);let E=-1,C=-1;return b.type!==0&&(E=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),b.type!==1&&(g=g.add(b.doc),C=g.indexOf(b.doc.key)),{type:fN(b.type),doc:v,oldIndex:E,newIndex:C}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=su._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function fN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:a})}}su._jsonSchemaVersion="firestore/querySnapshot/1.0",su._jsonSchema={type:An("string",su._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};function gb(a){a=Ra(a,pn);const t=Ra(a.firestore,wu),n=yg(t);return ZR(n,a._key).then((r=>mN(t,a,r)))}function tf(a){a=Ra(a,vo);const t=Ra(a.firestore,wu),n=yg(t),r=new aE(t);return hN(a._query),KR(n,a._query).then((u=>new su(t,r,a,u)))}function ef(a,t,n){a=Ra(a,pn);const r=Ra(a.firestore,wu),u=lE(a.converter,t,n),h=Jf(r);return Rg(r,[tE(h,"setDoc",a._key,u,a.converter!==null,n).toMutation(a._key,Js.none())])}function dN(a,t,n,...r){a=Ra(a,pn);const u=Ra(a.firestore,wu),h=Jf(u);let g;return g=typeof(t=Cn(t))=="string"||t instanceof vg?aN(h,"updateDoc",a._key,t,n,r):sN(h,"updateDoc",a._key,t),Rg(u,[g.toMutation(a._key,Js.exists(!0))])}function _b(a,t){const n=Ra(a.firestore,wu),r=$r(a),u=lE(a.converter,t),h=Jf(a.firestore);return Rg(n,[tE(h,"addDoc",r._key,u,a.converter!==null,{}).toMutation(r._key,Js.exists(!1))]).then((()=>r))}function Rg(a,t){const n=yg(a);return YR(n,t)}function mN(a,t,n){const r=n.docs.get(t._key),u=new aE(a);return new nl(a,u,t._key,r,new mc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){Y2(mu),Ca(new ta("firestore",((r,{instanceIdentifier:u,options:h})=>{const g=r.getProvider("app").getImmediate(),b=new wu(new X2(r.getProvider("auth-internal")),new tC(g,r.getProvider("app-check-internal")),yC(g,u),g);return h={useFetchStreams:n,...h},b._setSettings(h),b}),"PUBLIC").setMultipleInstances(!0)),Os(fb,db,t),Os(fb,db,"esm2020")})();const uE="@firebase/installations",Ng="0.6.19";const cE=1e4,hE=`w:${Ng}`,fE="FIS_v2",pN="https://firebaseinstallations.googleapis.com/v1",gN=3600*1e3,_N="installations",yN="Installations";const vN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ol=new ul(_N,yN,vN);function dE(a){return a instanceof na&&a.code.includes("request-failed")}function mE({projectId:a}){return`${pN}/projects/${a}/installations`}function pE(a){return{token:a.token,requestStatus:2,expiresIn:wN(a.expiresIn),creationTime:Date.now()}}async function gE(a,t){const r=(await t.json()).error;return ol.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _E({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function bN(a,{refreshToken:t}){const n=_E(a);return n.append("Authorization",TN(t)),n}async function yE(a){const t=await a();return t.status>=500&&t.status<600?a():t}function wN(a){return Number(a.replace("s","000"))}function TN(a){return`${fE} ${a}`}async function EN({appConfig:a,heartbeatServiceProvider:t},{fid:n}){const r=mE(a),u=_E(a),h=t.getImmediate({optional:!0});if(h){const E=await h.getHeartbeatsHeader();E&&u.append("x-firebase-client",E)}const g={fid:n,authVersion:fE,appId:a.appId,sdkVersion:hE},b={method:"POST",headers:u,body:JSON.stringify(g)},v=await yE(()=>fetch(r,b));if(v.ok){const E=await v.json();return{fid:E.fid||n,registrationStatus:2,refreshToken:E.refreshToken,authToken:pE(E.authToken)}}else throw await gE("Create Installation",v)}function vE(a){return new Promise(t=>{setTimeout(t,a)})}function SN(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const xN=/^[cdef][\w-]{21}$/,Op="";function AN(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const n=CN(a);return xN.test(n)?n:Op}catch{return Op}}function CN(a){return SN(a).substr(0,22)}function ed(a){return`${a.appName}!${a.appId}`}const bE=new Map;function wE(a,t){const n=ed(a);TE(n,t),IN(n,t)}function TE(a,t){const n=bE.get(a);if(n)for(const r of n)r(t)}function IN(a,t){const n=RN();n&&n.postMessage({key:a,fid:t}),NN()}let el=null;function RN(){return!el&&"BroadcastChannel"in self&&(el=new BroadcastChannel("[Firebase] FID Change"),el.onmessage=a=>{TE(a.data.key,a.data.fid)}),el}function NN(){bE.size===0&&el&&(el.close(),el=null)}const ON="firebase-installations-database",MN=1,ll="firebase-installations-store";let sp=null;function Og(){return sp||(sp=Fb(ON,MN,{upgrade:(a,t)=>{t===0&&a.createObjectStore(ll)}})),sp}async function Of(a,t){const n=ed(a),u=(await Og()).transaction(ll,"readwrite"),h=u.objectStore(ll),g=await h.get(n);return await h.put(t,n),await u.done,(!g||g.fid!==t.fid)&&wE(a,t.fid),t}async function EE(a){const t=ed(a),r=(await Og()).transaction(ll,"readwrite");await r.objectStore(ll).delete(t),await r.done}async function nd(a,t){const n=ed(a),u=(await Og()).transaction(ll,"readwrite"),h=u.objectStore(ll),g=await h.get(n),b=t(g);return b===void 0?await h.delete(n):await h.put(b,n),await u.done,b&&(!g||g.fid!==b.fid)&&wE(a,b.fid),b}async function Mg(a){let t;const n=await nd(a.appConfig,r=>{const u=kN(r),h=LN(a,u);return t=h.registrationPromise,h.installationEntry});return n.fid===Op?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function kN(a){const t=a||{fid:AN(),registrationStatus:0};return SE(t)}function LN(a,t){if(t.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(ol.create("app-offline"));return{installationEntry:t,registrationPromise:u}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=PN(a,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:DN(a)}:{installationEntry:t}}async function PN(a,t){try{const n=await EN(a,t);return Of(a.appConfig,n)}catch(n){throw dE(n)&&n.customData.serverCode===409?await EE(a.appConfig):await Of(a.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function DN(a){let t=await yb(a.appConfig);for(;t.registrationStatus===1;)await vE(100),t=await yb(a.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Mg(a);return r||n}return t}function yb(a){return nd(a,t=>{if(!t)throw ol.create("installation-not-found");return SE(t)})}function SE(a){return VN(a)?{fid:a.fid,registrationStatus:0}:a}function VN(a){return a.registrationStatus===1&&a.registrationTime+cE<Date.now()}async function zN({appConfig:a,heartbeatServiceProvider:t},n){const r=jN(a,n),u=bN(a,n),h=t.getImmediate({optional:!0});if(h){const E=await h.getHeartbeatsHeader();E&&u.append("x-firebase-client",E)}const g={installation:{sdkVersion:hE,appId:a.appId}},b={method:"POST",headers:u,body:JSON.stringify(g)},v=await yE(()=>fetch(r,b));if(v.ok){const E=await v.json();return pE(E)}else throw await gE("Generate Auth Token",v)}function jN(a,{fid:t}){return`${mE(a)}/${t}/authTokens:generate`}async function kg(a,t=!1){let n;const r=await nd(a.appConfig,h=>{if(!xE(h))throw ol.create("not-registered");const g=h.authToken;if(!t&&qN(g))return h;if(g.requestStatus===1)return n=UN(a,t),h;{if(!navigator.onLine)throw ol.create("app-offline");const b=FN(h);return n=BN(a,b),b}});return n?await n:r.authToken}async function UN(a,t){let n=await vb(a.appConfig);for(;n.authToken.requestStatus===1;)await vE(100),n=await vb(a.appConfig);const r=n.authToken;return r.requestStatus===0?kg(a,t):r}function vb(a){return nd(a,t=>{if(!xE(t))throw ol.create("not-registered");const n=t.authToken;return GN(n)?{...t,authToken:{requestStatus:0}}:t})}async function BN(a,t){try{const n=await zN(a,t),r={...t,authToken:n};return await Of(a.appConfig,r),n}catch(n){if(dE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await EE(a.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Of(a.appConfig,r)}throw n}}function xE(a){return a!==void 0&&a.registrationStatus===2}function qN(a){return a.requestStatus===2&&!HN(a)}function HN(a){const t=Date.now();return t<a.creationTime||a.creationTime+a.expiresIn<t+gN}function FN(a){const t={requestStatus:1,requestTime:Date.now()};return{...a,authToken:t}}function GN(a){return a.requestStatus===1&&a.requestTime+cE<Date.now()}async function ZN(a){const t=a,{installationEntry:n,registrationPromise:r}=await Mg(t);return r?r.catch(console.error):kg(t).catch(console.error),n.fid}async function KN(a,t=!1){const n=a;return await YN(n),(await kg(n,t)).token}async function YN(a){const{registrationPromise:t}=await Mg(a);t&&await t}function QN(a){if(!a||!a.options)throw ap("App Configuration");if(!a.name)throw ap("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!a.options[n])throw ap(n);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function ap(a){return ol.create("missing-app-config-values",{valueName:a})}const AE="installations",WN="installations-internal",XN=a=>{const t=a.getProvider("app").getImmediate(),n=QN(t),r=cl(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},JN=a=>{const t=a.getProvider("app").getImmediate(),n=cl(t,AE).getImmediate();return{getId:()=>ZN(n),getToken:u=>KN(n,u)}};function $N(){Ca(new ta(AE,XN,"PUBLIC")),Ca(new ta(WN,JN,"PRIVATE"))}$N();Os(uE,Ng);Os(uE,Ng,"esm2020");const Mf="analytics",tO="firebase_id",eO="origin",nO=60*1e3,iO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lg="https://www.googletagmanager.com/gtag/js";const Ci=new Lf("@firebase/analytics");const sO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},us=new ul("analytics","Analytics",sO);function aO(a){if(!a.startsWith(Lg)){const t=us.create("invalid-gtag-resource",{gtagURL:a});return Ci.warn(t.message),""}return a}function CE(a){return Promise.all(a.map(t=>t.catch(n=>n)))}function rO(a,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(a,t)),n}function oO(a,t){const n=rO("firebase-js-sdk-policy",{createScriptURL:aO}),r=document.createElement("script"),u=`${Lg}?l=${a}&id=${t}`;r.src=n?n?.createScriptURL(u):u,r.async=!0,document.head.appendChild(r)}function lO(a){let t=[];return Array.isArray(window[a])?t=window[a]:window[a]=t,t}async function uO(a,t,n,r,u,h){const g=r[u];try{if(g)await t[g];else{const v=(await CE(n)).find(E=>E.measurementId===u);v&&await t[v.appId]}}catch(b){Ci.error(b)}a("config",u,h)}async function cO(a,t,n,r,u){try{let h=[];if(u&&u.send_to){let g=u.send_to;Array.isArray(g)||(g=[g]);const b=await CE(n);for(const v of g){const E=b.find(N=>N.measurementId===v),C=E&&t[E.appId];if(C)h.push(C);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),a("event",r,u||{})}catch(h){Ci.error(h)}}function hO(a,t,n,r){async function u(h,...g){try{if(h==="event"){const[b,v]=g;await cO(a,t,n,b,v)}else if(h==="config"){const[b,v]=g;await uO(a,t,n,r,b,v)}else if(h==="consent"){const[b,v]=g;a("consent",b,v)}else if(h==="get"){const[b,v,E]=g;a("get",b,v,E)}else if(h==="set"){const[b]=g;a("set",b)}else a(h,...g)}catch(b){Ci.error(b)}}return u}function fO(a,t,n,r,u){let h=function(...g){window[r].push(arguments)};return window[u]&&typeof window[u]=="function"&&(h=window[u]),window[u]=hO(h,a,t,n),{gtagCore:h,wrappedGtag:window[u]}}function dO(a){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Lg)&&n.src.includes(a))return n;return null}const mO=30,pO=1e3;class gO{constructor(t={},n=pO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const IE=new gO;function _O(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function yO(a){const{appId:t,apiKey:n}=a,r={method:"GET",headers:_O(n)},u=iO.replace("{app-id}",t),h=await fetch(u,r);if(h.status!==200&&h.status!==304){let g="";try{const b=await h.json();b.error?.message&&(g=b.error.message)}catch{}throw us.create("config-fetch-failed",{httpStatus:h.status,responseMessage:g})}return h.json()}async function vO(a,t=IE,n){const{appId:r,apiKey:u,measurementId:h}=a.options;if(!r)throw us.create("no-app-id");if(!u){if(h)return{measurementId:h,appId:r};throw us.create("no-api-key")}const g=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},b=new TO;return setTimeout(async()=>{b.abort()},nO),RE({appId:r,apiKey:u,measurementId:h},g,b,t)}async function RE(a,{throttleEndTimeMillis:t,backoffCount:n},r,u=IE){const{appId:h,measurementId:g}=a;try{await bO(r,t)}catch(b){if(g)return Ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:h,measurementId:g};throw b}try{const b=await yO(a);return u.deleteThrottleMetadata(h),b}catch(b){const v=b;if(!wO(v)){if(u.deleteThrottleMetadata(h),g)return Ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:g};throw b}const E=Number(v?.customData?.httpStatus)===503?Gv(n,u.intervalMillis,mO):Gv(n,u.intervalMillis),C={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return u.setThrottleMetadata(h,C),Ci.debug(`Calling attemptFetch again in ${E} millis`),RE(a,C,r,u)}}function bO(a,t){return new Promise((n,r)=>{const u=Math.max(t-Date.now(),0),h=setTimeout(n,u);a.addEventListener(()=>{clearTimeout(h),r(us.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function wO(a){if(!(a instanceof na)||!a.customData)return!1;const t=Number(a.customData.httpStatus);return t===429||t===500||t===503||t===504}class TO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function EO(a,t,n,r,u){if(u&&u.global){a("event",n,r);return}else{const h=await t,g={...r,send_to:h};a("event",n,g)}}async function SO(a,t,n,r){if(r&&r.global){const u={};for(const h of Object.keys(n))u[`user_properties.${h}`]=n[h];return a("set",u),Promise.resolve()}else{const u=await t;a("config",u,{update:!0,user_properties:n})}}async function xO(){if(Ub())try{await Bb()}catch(a){return Ci.warn(us.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return Ci.warn(us.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AO(a,t,n,r,u,h,g){const b=vO(a);b.then(M=>{n[M.measurementId]=M.appId,a.options.measurementId&&M.measurementId!==a.options.measurementId&&Ci.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>Ci.error(M)),t.push(b);const v=xO().then(M=>{if(M)return r.getId()}),[E,C]=await Promise.all([b,v]);dO(h)||oO(h,E.measurementId),u("js",new Date);const N=g?.config??{};return N[eO]="firebase",N.update=!0,C!=null&&(N[tO]=C),u("config",E.measurementId,N),E.measurementId}class CO{constructor(t){this.app=t}_delete(){return delete au[this.app.options.appId],Promise.resolve()}}let au={},bb=[];const wb={};let rp="dataLayer",IO="gtag",Tb,Pg,Eb=!1;function RO(){const a=[];if(jb()&&a.push("This is a browser extension environment."),Ax()||a.push("Cookies are not available."),a.length>0){const t=a.map((r,u)=>`(${u+1}) ${r}`).join(" "),n=us.create("invalid-analytics-context",{errorInfo:t});Ci.warn(n.message)}}function NO(a,t,n){RO();const r=a.options.appId;if(!r)throw us.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)Ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw us.create("no-api-key");if(au[r]!=null)throw us.create("already-exists",{id:r});if(!Eb){lO(rp);const{wrappedGtag:h,gtagCore:g}=fO(au,bb,wb,rp,IO);Pg=h,Tb=g,Eb=!0}return au[r]=AO(a,bb,wb,t,Tb,rp,n),new CO(a)}function OO(a=Dp()){a=Cn(a);const t=cl(a,Mf);return t.isInitialized()?t.getImmediate():MO(a)}function MO(a,t={}){const n=cl(a,Mf);if(n.isInitialized()){const u=n.getImmediate();if(or(t,n.getOptions()))return u;throw us.create("already-initialized")}return n.initialize({options:t})}function kO(a,t,n){a=Cn(a),SO(Pg,au[a.app.options.appId],t,n).catch(r=>Ci.error(r))}function Mp(a,t,n,r){a=Cn(a),EO(Pg,au[a.app.options.appId],t,n,r).catch(u=>Ci.error(u))}const Sb="@firebase/analytics",xb="0.10.19";function LO(){Ca(new ta(Mf,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),u=t.getProvider("installations-internal").getImmediate();return NO(r,u,n)},"PUBLIC")),Ca(new ta("analytics-internal",a,"PRIVATE")),Os(Sb,xb),Os(Sb,xb,"esm2020");function a(t){try{const n=t.getProvider(Mf).getImmediate();return{logEvent:(r,u,h)=>Mp(n,r,u,h),setUserProperties:(r,u)=>kO(n,r,u)}}catch(n){throw us.create("interop-component-reg-failed",{reason:n})}}}LO();const PO={apiKey:"AIzaSyDG8l4zCw8qFP_YcPzCJZ1pX7v94SW1TOM",authDomain:"wildguess-810cb.firebaseapp.com",projectId:"wildguess-810cb",storageBucket:"wildguess-810cb.firebasestorage.app",messagingSenderId:"534801192362",appId:"1:534801192362:web:90d4053ad89a2dbe0307d3",measurementId:"G-7RKBPRH5JQ"},Dg=Gb(PO);xw(Dg);const Ai=JR(Dg),Ab=OO(Dg),Cb={win1:{url:"https://assets.mixkit.co/active_storage/sfx/103/103-preview.mp3",volume:.4},win2:{url:"https://assets.mixkit.co/active_storage/sfx/2066/2066-preview.mp3",volume:.4},win3:{url:"https://assets.mixkit.co/active_storage/sfx/2063/2063-preview.mp3",volume:.4},unlock:{url:"https://assets.mixkit.co/active_storage/sfx/1104/1104-preview.mp3",volume:.4},error:[{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.025},{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.05},{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.075}],click:{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.5},countdown:{url:"https://assets.mixkit.co/active_storage/sfx/112/112-preview.mp3",volume:.075},start:{url:"https://assets.mixkit.co/active_storage/sfx/75/75-preview.mp3",volume:.4},hover:[{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.4},{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.3},{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.2}]};class DO{constructor(){this.sounds={},this.indices={},this.muted=!1,Object.keys(Cb).forEach(t=>{const n=Cb[t],r=u=>{const h=new Audio(u.url);return h.volume=u.volume,h.preservesPitch!==void 0&&(h.preservesPitch=!1),h.mozPreservesPitch!==void 0&&(h.mozPreservesPitch=!1),h.webkitPreservesPitch!==void 0&&(h.webkitPreservesPitch=!1),h};Array.isArray(n)?(this.sounds[t]=n.map(u=>r(u)),this.indices[t]=0):this.sounds[t]=r(n)})}play(t,n=0){if(!this.sounds[t]){console.error(` Sound not found: ${t}`);return}if(!this.muted)try{let r;if(Array.isArray(this.sounds[t])){const u=this.indices[t]%this.sounds[t].length;r=this.sounds[t][u],this.indices[t]++}else r=this.sounds[t];if(r.currentTime=0,n>0){const u=1+(Math.random()*n*2-n);r.playbackRate=u}else r.playbackRate=1;r.play().catch(u=>{u.name!=="NotAllowedError"&&console.warn(` Audio Error '${t}':`,u)})}catch(r){console.error("Sound Error:",r)}}playWin(){if(this.muted)return;const t=Math.floor(Math.random()*3)+1;this.play(`win${t}`)}toggleMute(){return this.muted=!this.muted,this.muted}}const ge=new DO,Ib=[{id:"backup_1",name:"Lion",correctName:"Lion",sciName:"Panthera leo",family:"Felidae",image:"https://upload.wikimedia.org/wikipedia/commons/7/73/Lion_waiting_in_Namibia.jpg",lat:-2.333,lng:34.833,location:"Serengeti National Park, Tanzania",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Lion",stats:{trait:"Known as the 'King of Beasts', they live in prides.",date:"2024",year:2024}},{id:"backup_2",name:"Emperor Penguin",correctName:"Emperor Penguin",sciName:"Aptenodytes forsteri",family:"Spheniscidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/07/Emperor_Penguin_Manchot_empereur.jpg",lat:-77,lng:166,location:"Ross Sea, Antarctica",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Emperor_penguin",stats:{trait:"The tallest and heaviest of all living penguin species.",date:"2024",year:2024}},{id:"backup_3",name:"Monarch Butterfly",correctName:"Monarch Butterfly",sciName:"Danaus plexippus",family:"Nymphalidae",image:"https://upload.wikimedia.org/wikipedia/commons/6/63/Monarch_In_May.jpg",lat:19.6,lng:-100.2,location:"Michoacn, Mexico",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Monarch_butterfly",stats:{trait:"Known for its long-distance annual migration.",date:"2024",year:2024}},{id:"backup_4",name:"Koala",correctName:"Koala",sciName:"Phascolarctos cinereus",family:"Phascolarctidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/49/Koala_climbing_tree.jpg",lat:-27.4,lng:153,location:"Queensland, Australia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Koala",stats:{trait:"Sleeps up to 20 hours a day and eats eucalyptus.",date:"2024",year:2024}},{id:"backup_5",name:"Great White Shark",correctName:"Great White Shark",sciName:"Carcharodon carcharias",family:"Lamnidae",image:"https://upload.wikimedia.org/wikipedia/commons/5/56/White_shark.jpg",lat:-34.5,lng:19.3,location:"Gansbaai, South Africa",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Great_white_shark",stats:{trait:"The world's largest known predatory fish.",date:"2024",year:2024}},{id:"backup_6",name:"Bald Eagle",correctName:"Bald Eagle",sciName:"Haliaeetus leucocephalus",family:"Accipitridae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1a/About_to_Launch_%2826075320352%29.jpg",lat:57,lng:-135,location:"Sitka, Alaska, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Bald_eagle",stats:{trait:"The national bird of the United States.",date:"2024",year:2024}},{id:"backup_7",name:"Red-Eyed Tree Frog",correctName:"Red-Eyed Tree Frog",sciName:"Agalychnis callidryas",family:"Phyllomedusidae",image:"https://upload.wikimedia.org/wikipedia/commons/e/e3/Red-eyed_Tree_Frog_%28Agalychnis_callidryas%29_1.jpg",lat:10,lng:-84,location:"Monteverde, Costa Rica",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Agalychnis_callidryas",stats:{trait:"Has bright red eyes and neon green skin.",date:"2024",year:2024}},{id:"backup_8",name:"Komodo Dragon",correctName:"Komodo Dragon",sciName:"Varanus komodoensis",family:"Varanidae",image:"https://upload.wikimedia.org/wikipedia/commons/1/18/Komodo_Dragon_en_face.jpg",lat:-8.5,lng:119.5,location:"Komodo Island, Indonesia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Komodo_dragon",stats:{trait:"The largest living species of lizard.",date:"2024",year:2024}},{id:"backup_9",name:"Giant Panda",correctName:"Giant Panda",sciName:"Ailuropoda melanoleuca",family:"Ursidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/0f/Grosser_Panda.JPG",lat:30,lng:103,location:"Sichuan, China",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Giant_panda",stats:{trait:"99% of its diet consists of bamboo.",date:"2024",year:2024}},{id:"backup_10",name:"Blue Whale",correctName:"Blue Whale",sciName:"Balaenoptera musculus",family:"Balaenopteridae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1c/Anim1754_-_Flickr_-_NOAA_Photo_Library.jpg",lat:33,lng:-118,location:"Pacific Ocean, California",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Blue_whale",stats:{trait:"The largest animal known to have ever lived.",date:"2024",year:2024}},{id:"backup_11",name:"Honey Bee",correctName:"Honey Bee",sciName:"Apis mellifera",family:"Apidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/4d/Apis_mellifera_Western_honey_bee.jpg",lat:45,lng:2,location:"Provence, France",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Western_honey_bee",stats:{trait:"Produces honey and pollinates flowers.",date:"2024",year:2024}},{id:"backup_12",name:"Meerkat",correctName:"Meerkat",sciName:"Suricata suricatta",family:"Herpestidae",image:"https://upload.wikimedia.org/wikipedia/commons/f/f6/Suricata_suricatta_Mongoose.jpg",lat:-25,lng:20,location:"Kalahari Desert, Botswana",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Meerkat",stats:{trait:"Known for standing upright to watch for predators.",date:"2024",year:2024}},{id:"backup_13",name:"Galapagos Tortoise",correctName:"Galapagos Tortoise",sciName:"Chelonoidis niger",family:"Testudinidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/42/Galapagos_giant_tortoise_Geochelone_elephantopus.jpg",lat:-.5,lng:-90.5,location:"Galpagos Islands, Ecuador",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Galpagos_tortoise",stats:{trait:"Can live for over 100 years.",date:"2024",year:2024}},{id:"backup_14",name:"Snow Leopard",correctName:"Snow Leopard",sciName:"Panthera uncia",family:"Felidae",image:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Irbis4.JPG",lat:35,lng:76,location:"Himalayas, Pakistan",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Snow_leopard",stats:{trait:"Known as the 'Ghost of the Mountains'.",date:"2024",year:2024}},{id:"backup_15",name:"Capybara",correctName:"Capybara",sciName:"Hydrochoerus hydrochaeris",family:"Caviidae",image:"https://upload.wikimedia.org/wikipedia/commons/e/ec/Capybara_%28Hydrochoerus_hydrochaeris%29.JPG",lat:-15,lng:-56,location:"Pantanal, Brazil",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Capybara",stats:{trait:"The largest living rodent in the world.",date:"2024",year:2024}},{id:"backup_16",name:"Platypus",correctName:"Platypus",sciName:"Ornithorhynchus anatinus",family:"Ornithorhynchidae",image:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Platypus-sketch.jpg",lat:-42,lng:146,location:"Tasmania, Australia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Platypus",stats:{trait:"One of the few mammals that lay eggs.",date:"2024",year:2024}},{id:"backup_17",name:"Green Sea Turtle",correctName:"Green Sea Turtle",sciName:"Chelonia mydas",family:"Cheloniidae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1d/Green_Sea_Turtle_swimming.jpg",lat:21,lng:-157,location:"Hawaii, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Green_sea_turtle",stats:{trait:"Named for the color of its fat, not its shell.",date:"2024",year:2024}},{id:"backup_18",name:"Peregrine Falcon",correctName:"Peregrine Falcon",sciName:"Falco peregrinus",family:"Falconidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/07/Peregrine_Falcon_USFWS.jpg",lat:40.7,lng:-74,location:"New York City, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Peregrine_falcon",stats:{trait:"The fastest member of the animal kingdom.",date:"2024",year:2024}},{id:"backup_19",name:"African Elephant",correctName:"Elephant",sciName:"Loxodonta africana",family:"Elephantidae",image:"https://upload.wikimedia.org/wikipedia/commons/b/bf/African_Elephant_%28Loxodonta_africana%29_male_%2817289351322%29.jpg",lat:-19,lng:23,location:"Okavango Delta, Botswana",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/African_elephant",stats:{trait:"The largest land animal on Earth.",date:"2024",year:2024}},{id:"backup_20",name:"Ring-Tailed Lemur",correctName:"Lemur",sciName:"Lemur catta",family:"Lemuridae",image:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Ring-tailed_lemur_%28Lemur_catta%29.jpg",lat:-22,lng:45,location:"Madagascar",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Ring-tailed_lemur",stats:{trait:"Endemic to the island of Madagascar.",date:"2024",year:2024}}],Is=Nb.reduce((a,t)=>a.concat(t.animals.map(n=>({...n,group:t.name,groupEmoji:t.emoji}))),[]).sort((a,t)=>a.name.localeCompare(t.name)),VO=({lat:a,lng:t,zoom:n})=>{const r=It.useRef(null),u=It.useRef(null),h=It.useRef(null),g=It.useRef(null);return It.useEffect(()=>{if(r.current&&!u.current){u.current=Zh.map(r.current,{zoomControl:!1,attributionControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([a,t],n),Zh.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap &copy; CARTO",maxZoom:19}).addTo(u.current);const b=Zh.divIcon({className:"custom-pin",html:"<div></div>",iconSize:[20,20],iconAnchor:[10,10]});h.current=Zh.marker([a,t],{icon:b}).addTo(u.current),g.current=new ResizeObserver(()=>{u.current&&u.current.invalidateSize()}),g.current.observe(r.current)}return()=>{g.current&&g.current.disconnect(),u.current&&(u.current.remove(),u.current=null)}},[]),It.useEffect(()=>{u.current&&h.current&&(u.current.flyTo([a,t],n,{animate:!0,duration:2}),h.current.setLatLng([a,t]))},[a,t,n]),R.jsx("div",{ref:r,className:"w-full h-full"})},Rb=()=>{const a=new Date,t=a.toISOString().split("T")[0],n=new Date(a.getFullYear(),0,1),r=Math.floor((a-n)/864e5),u=Math.ceil((r+n.getDay()+1)/7),h=`${a.getFullYear()}-W${u}`;return{dayKey:t,weekKey:h}},zO=a=>{if(a.annotations&&a.annotations.length>0){for(const u of a.annotations)if(u.attribute_id===22&&u.value_id!==24||[19,23,25,26,27,28,29,30].includes(u.value_id))return!0}const t=(a.dynamicProperties||"").toLowerCase().replace(/\s/g,"");if(t.includes('"evidenceofpresence":"track"')||t.includes('"evidenceofpresence":"scat"')||t.includes('"vitality":"dead"'))return!0;const n=["track","print","footprint","paw","scat","feces","dropping","poop","dung","burrow","nest","den","moult","shed","dead","roadkill","carcass","remains","bone","skull","skeleton","corpse","specimen","taxidermy"],r=[a.description,a.occurrenceRemarks,a.fieldNotes,a.media?.[0]?.description,a.media?.[0]?.title,(a.tags||[]).join(" ")].filter(Boolean).join(" ").toLowerCase();return n.some(u=>r.includes(u))},jO=({onComplete:a,stickers:t,isReady:n})=>{const[r,u]=It.useState(3),[h,g]=It.useState(""),b=["","","","","","","","","","","","","",""];return It.useEffect(()=>{ge.play("countdown")},[]),It.useEffect(()=>{if(r>0){const v=setTimeout(()=>u(E=>E-1),1e3);return()=>clearTimeout(v)}},[r]),It.useEffect(()=>{if(r===0&&n){const v=setTimeout(a,500);return()=>clearTimeout(v)}},[r,n,a]),It.useEffect(()=>{const v=setInterval(()=>{g(b[Math.floor(Math.random()*b.length)])},150);return()=>clearInterval(v)},[]),R.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-gradient-to-b from-green-900 to-green-700 overflow-hidden relative text-white",children:[R.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-50",children:t&&t.map(v=>R.jsx("div",{className:"absolute emoji-sticker transition-transform duration-1000 ease-in-out",style:{top:`${v.top}%`,left:`${v.left}%`,fontSize:`${v.size}rem`,transform:`rotate(${v.rotation}deg)`,opacity:v.opacity},children:v.emoji},v.id))}),R.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[R.jsx("h2",{className:"text-4xl font-black mb-8 animate-pulse text-emerald-100 drop-shadow-md tracking-wider uppercase",children:"GET READY"}),R.jsx("div",{className:"text-9xl mb-8 font-mono font-bold drop-shadow-2xl text-white",children:r>0?r:n?"GO!":R.jsx("span",{className:"text-6xl animate-pulse",children:""})}),r===0&&!n&&R.jsx("div",{className:"text-emerald-200 font-mono font-bold uppercase tracking-widest animate-pulse mb-4",children:"Acquiring Target Data..."}),R.jsx("div",{className:"text-7xl swap-anim filter drop-shadow-xl",children:h})]})]})},UO=({pendingAnimals:a,onConfirmOne:t,onConfirmAll:n,allAnimalsFlat:r})=>{const[u,h]=It.useState(!1),g=a[0],b=r.find(N=>N.name===g)||{},v=b.emoji||b.groupEmoji||"",E=()=>{u||(ge.playWin(),h(!0),setTimeout(()=>{h(!1),t(g)},1500))},C=()=>{ge.play("unlock"),n()};return R.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-8 text-center shadow-2xl animate-pop border-4 border-emerald-400 relative overflow-hidden",children:[R.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle,rgba(52,211,153,0.2)_0%,rgba(255,255,255,0)_70%)] animate-pulse"}),R.jsx("h2",{className:"text-2xl font-black text-emerald-800 uppercase tracking-widest mb-2 relative z-10",children:"New Discovery!"}),R.jsxs("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wide mb-8 relative z-10",children:[a.length," New Entry",a.length>1?"s":""," Found"]}),R.jsxs("div",{className:"relative mx-auto w-48 h-48 mb-8 flex items-center justify-center",children:[R.jsx("div",{className:`transition-all duration-700 transform ${u?"scale-110 rotate-0 filter-none":"scale-100 rotate-12 blur-sm grayscale brightness-0 opacity-80"}`,children:R.jsx("div",{className:"text-9xl",children:v})}),u&&R.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[R.jsx("div",{className:"text-6xl animate-ping absolute top-0 left-0",children:""}),R.jsx("div",{className:"text-6xl animate-ping absolute bottom-4 right-4 delay-100",children:""}),R.jsx("div",{className:"text-6xl animate-ping absolute top-4 right-10 delay-200",children:""})]})]}),R.jsx("h3",{className:`text-xl font-bold mb-8 transition-all duration-500 ${u?"text-slate-800 scale-110":"text-slate-300 scale-90 blur-sm"}`,children:u?g:"????????"}),R.jsxs("div",{className:"space-y-3 relative z-10",children:[R.jsx("button",{onClick:E,disabled:u,className:`w-full py-4 rounded-xl font-black text-white uppercase tracking-widest shadow-lg transform transition-all ${u?"bg-emerald-400 scale-105":"bg-emerald-600 hover:bg-emerald-500 hover:scale-105"}`,children:u?"ADDED!":"ADD TO JOURNAL"}),a.length>1&&R.jsxs("button",{onClick:C,className:"w-full py-2 text-slate-400 text-xs font-bold uppercase hover:text-emerald-600 transition-colors",children:["Add All (",a.length,")"]})]})]})})},BO=()=>{const[a,t]=It.useState("menu"),[n,r]=It.useState(!1),[u,h]=It.useState(!0),[g,b]=It.useState(!1),[v,E]=It.useState(null),[C,N]=It.useState(null),[M,et]=It.useState(0),[ft,ut]=It.useState(15),[yt,Ot]=It.useState(5),[Vt,kt]=It.useState(!1),[_e,ye]=It.useState([]),[$t,j]=It.useState(null),[O,D]=It.useState(null),[H,U]=It.useState(0),[q,P]=It.useState(""),[Lt,tn]=It.useState(null),[$,pt]=It.useState(""),ht=xw(),te=new ir,[wt,z]=It.useState(!1),[nt,dt]=It.useState(!0),[mt,vt]=It.useState(!1),[bt,Gt]=It.useState(!1),[xe,Ie]=It.useState([]),[Jn,cs]=It.useState("daily"),[Ii,hs]=It.useState([]),[Ri,Ms]=It.useState(!1),[kn,Ni]=It.useState([]),In=It.useRef(!1),[en,Ye]=It.useState(!1),[pi,bo]=It.useState(!1),[fr,gn]=It.useState(0),[ia,fs]=It.useState(0),[ee,$n]=It.useState(!1),[ne,ti]=It.useState(0),[Oa,Ma]=It.useState(!1);It.useEffect(()=>{In.current=!1},[M]);const[Ln,He]=It.useState(!1),[cn,Fe]=It.useState(new Set),ei=async()=>{if(!Lt)return;const J=JSON.parse(localStorage.getItem("journal_queue")||"[]");if(J.length>0){Ni(J),He(!0);return}ge.play("unlock",.3),He(!0);try{const ct=Jr(Ai,"games"),Tt=Yl(ct,Xo("userId","==",Lt.uid),Xo("result","==","win")),Ut=await tf(Tt),Ge=new Set;Ut.forEach(fe=>{const Ne=fe.data();Ne.animalName&&Ge.add(Ne.animalName)}),Fe(Ge)}catch(ct){console.error("Error fetching journal:",ct)}},sa=J=>{const ct=kn.filter(Tt=>Tt!==J);Ni(ct),localStorage.setItem("journal_queue",JSON.stringify(ct)),ct.length===0&&ei()},dr=()=>{Ni([]),localStorage.setItem("journal_queue","[]"),ei()};It.useEffect(()=>{(async()=>{try{const ct=$r(Ai,"system","blacklist"),Tt=await gb(ct);Tt.exists()&&(hs(Tt.data().ids||[]),console.log(" Global Blacklist Loaded:",Tt.data().ids?.length||0,"entries"))}catch(ct){console.error("Failed to load blacklist:",ct)}})()},[]),It.useEffect(()=>{Lt&&(async()=>{try{const ct=Yl(Jr(Ai,"games"),Xo("userId","==",Lt.uid),Xo("result","==","win")),Tt=await tf(ct),Ut=new Set;Tt.forEach(Ge=>{const fe=Ge.data();fe.animalName&&Ut.add(fe.animalName)}),Fe(Ut),console.log(" Silent Journal Load:",Ut.size,"animals unlocked.")}catch(ct){console.error("Background journal load failed:",ct)}})()},[Lt]),It.useEffect(()=>{const J=PA(ht,async ct=>{if(console.log(" Auth State Changed:",ct?"Logged In":"Logged Out"),ct){tn(ct),console.log(" User ID:",ct.uid);try{console.log(" Reading Profile from Firestore...");const Tt=$r(Ai,"users",ct.uid),Ut=await gb(Tt);Ut.exists()?(console.log(" Profile FOUND:",Ut.data()),pt(Ut.data().username),z(!0)):(console.log(" No Profile Document found in Firestore for this ID."),z(!1))}catch(Tt){console.error(" READ ERROR:",Tt),alert("Database Read Failed: "+Tt.message)}}else console.log(" Signing in Anonymously..."),RA(ht).catch(Tt=>{console.error("Auth Error:",Tt)});dt(!1)});return()=>J()},[]);const gi=()=>{const J=ge.toggleMute();r(J)},Le=It.useRef(null),Qe=["Connecting to Satellite ","Triangulating Signal ","Tracking Wildlife ","Filtering Bad Data ","Verifying Coordinates ","Consulting Biologists ","Loading Map Tiles ","Enhancing Image "],Rn=[{title:"CLUE 1: THE MAP",text:" There is an **animal sighting** at this location. You'll have 4 more clues after this to make the best informed guess.",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-24 md:left-1/3 md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 2: REGION",text:" The map zooms in and the **Location Name** appears. This will make it slightly easier to identify the animal.",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-32 md:left-10 md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 3: TAXONOMY",text:" Still unsure? Here is the **Family and Scientific Name**. We'll give you a chance to guess shortly...",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-56 md:left-10 md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 4: THE HINT",text:" This is a **cryptic behavior or trait description**. Are you ready to make a wild guess?",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-80 md:left-10 md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"I'm Ready to Guess"},{title:"MAKE A GUESS",text:"Start by selecting a **Category**. You can also look through **All Animals** or **search** for an animal if you find that easier.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"-bottom-[10px] left-1/2 -translate-x-1/2 border-t-[10px] border-t-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent md:bottom-auto md:top-1/2 md:-right-[10px] md:left-auto md:translate-x-0 md:-translate-y-1/2 md:border-t-transparent md:border-b-transparent md:border-l-[10px] md:border-l-white md:border-r-0",hideButton:!0},{title:"PICK THE ANIMAL",text:"Choose the **animal** you think is at this sighting.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"-bottom-[10px] left-1/2 -translate-x-1/2 border-t-[10px] border-t-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent md:bottom-auto md:top-1/2 md:-right-[10px] md:left-auto md:translate-x-0 md:-translate-y-1/2 md:border-t-transparent md:border-b-transparent md:border-l-[10px] md:border-l-white md:border-r-0",hideButton:!0},{title:"WRONG! BUT WAIT...",text:"Still didn't get it? Use the **photo** to make a final guess.",positionClasses:"bottom-10 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent md:bottom-auto md:top-1/2 md:-right-[10px] md:left-auto md:translate-x-0 md:-translate-y-1/2 md:border-t-transparent md:border-b-transparent md:border-l-[10px] md:border-l-white md:border-r-0",hideButton:!0},{title:"SUCCESS!",text:"Well done! You guessed correctly! Click **Play Again** to have another go.",positionClasses:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",arrowClasses:"hidden",buttonText:"Play Again"},{title:"GAME OVER",text:"Oh well! At least you know what it is. Click **Play Again** to give it another go.",positionClasses:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",arrowClasses:"hidden",buttonText:"Play Again"}],_i=It.useMemo(()=>{const J=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ut=16.666666666666668,Ge=100/5;return J.slice(0,30).map((fe,Ne)=>{const be=Ne%6,Pn=Math.floor(Ne/6);return{id:Ne,emoji:fe,left:be*Ut+Math.random()*(Ut*.7),top:Pn*Ge+Math.random()*(Ge*.7),rotation:Math.floor(Math.random()*60)-30,size:3+Math.random()*2,opacity:.1+Math.random()*.1}})},[]);It.useEffect(()=>{let J;return pi&&(gn(0),fs(0),J=setInterval(()=>{gn(ct=>Math.min(ct+5,95)),fs(ct=>(ct+1)%Qe.length)},400)),()=>clearInterval(J)},[pi]),It.useEffect(()=>{ka()},[]),It.useEffect(()=>{a==="menu"&&yi(Jn)},[a,Jn]);const yi=async(J=Jn)=>{try{let ct;const{dayKey:Tt,weekKey:Ut}=Rb();if(J==="daily"){const Ne=Jr(Ai,"leaderboards","daily",Tt);ct=Yl(Ne,ip("score","desc"),$h(10))}else if(J==="weekly"){const Ne=Jr(Ai,"leaderboards","weekly",Ut);ct=Yl(Ne,ip("score","desc"),$h(10))}else{const Ne=Jr(Ai,"users");ct=Yl(Ne,ip("totalScore","desc"),$h(10))}const Ge=await tf(ct),fe=[];Ge.forEach(Ne=>{const be=Ne.data();fe.push({id:Ne.id,username:be.username,totalScore:be.totalScore||be.score||0,gamesPlayed:be.gamesPlayed||0,discoveries:be.discoveries||0})}),Ie(fe)}catch(ct){console.error("Error fetching leaderboard:",ct),Ie([])}};It.useEffect(()=>(a==="game"&&!ee&&xt(),()=>{Le.current&&clearInterval(Le.current)}),[M,a,ee]),It.useEffect(()=>(a==="game"&&!ee&&(u?(ft<=1&&ut(15),xt(!1,!0)):Le.current&&clearInterval(Le.current)),()=>{Le.current&&clearInterval(Le.current)}),[u]),It.useEffect(()=>{if(a==="countdown"){ye([]),Ot(5),kt(!1),j(null),D(null),U(Tt=>Tt+1),et(-1),Ms(!1),In.current=!1;const J=localStorage.getItem("wildGuess_tutorial_complete");$n(!J),J||ti(0);const ct=setTimeout(async()=>{let Tt=null;if(C?(Tt=C,N(null)):Tt=await Oi(),E(Tt),Tt&&Tt.image)try{await ks(Tt.image),console.log(" Image preloaded successfully")}catch{console.warn("Image failed to preload, continuing anyway")}Ms(!0)},100);return()=>clearTimeout(ct)}},[a]);const Oi=async(J=1)=>{if(J>3)return console.error(" API Down. Switching to Offline Mode."),Ye(!0),Ib[Math.floor(Math.random()*Ib.length)];const ct=localStorage.getItem("wildGuess_played"),Tt=localStorage.getItem("wildGuess_reported");let Ut=ct?JSON.parse(ct):[],Ge=Tt?JSON.parse(Tt):[];const Ne=Is.filter(Ze=>!cn.has(Ze.name)).filter(Ze=>!Ut.includes(Ze.name));let be;if(Ne.length>0)be=Ne[Math.floor(Math.random()*Ne.length)];else{const Ze=Is.filter(qt=>!Ut.includes(qt.name));Ze.length===0?(Ut=[],localStorage.removeItem("wildGuess_played"),be=Is[Math.floor(Math.random()*Is.length)]):be=Ze[Math.floor(Math.random()*Ze.length)]}Ut.includes(be.name)||(Ut.push(be.name),localStorage.setItem("wildGuess_played",JSON.stringify(Ut)));const Pn=Math.floor(Math.random()*30)+1,ds=`https://api.inaturalist.org/v1/observations?taxon_name=${be.sciName}&quality_grade=research&photos=true&per_page=1&page=${Pn}&without_taxon_id=47144,47126,47170&without_term_value_id=19,23,25,26,27,28,29,30&photo_license=cc0,cc-by,cc-by-nc,cc-by-sa,cc-by-nc-sa`;try{const Ze=await fetch(ds);if(!Ze.ok)throw new Error(`Server Error: ${Ze.status}`);const qt=await Ze.json();if(!qt.results||qt.results.length===0)return console.warn("No valid results found, retrying..."),Oi(J+1);const Rt=qt.results[0];if(Ge.includes(Rt.id)||Ii.includes(Rt.id))return Oi(J);const ze=Rt.taxon?.name?.toLowerCase()||"",je=be.sciName.toLowerCase();if(!ze.includes(je)||zO(Rt))return Oi(J);const Dn=Rt.geojson?.coordinates[1]||Rt.location?.split(",")[0],ms=Rt.geojson?.coordinates[0]||Rt.location?.split(",")[1];if(!Dn||!ms||!Rt.photos||Rt.photos.length===0)return Oi(J+1);const St=new Date(Rt.observed_on||Rt.created_at),Ae=St.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return Ye(!1),{id:Rt.id,name:be.name,correctName:be.name,sciName:be.displayLatin||be.sciName,family:be.family||"Unknown Family",image:Rt.photos[0].url.replace("square","original").replace("small","original").replace("medium","original").replace("large","original"),lat:parseFloat(Dn),lng:parseFloat(ms),location:Rt.place_guess||"Unknown Wilderness",recordedBy:Rt.user?.login||Rt.user?.name||"Unknown Observer",link:Rt.uri,stats:{trait:be.clue||be.hint||"No hint available.",date:Ae,year:St.getFullYear()}}}catch(Ze){return console.error("Fetch failed (Attempt "+J+"):",Ze),await new Promise(qt=>setTimeout(qt,1e3)),Oi(J+1)}},ka=async()=>{try{const J=await Oi();N(J)}catch(J){console.warn("Background fetch failed",J)}},Mi=async J=>{if(!mt){if(!J.trim()){alert("Please enter a valid name.");return}if(!Lt){alert("Waiting for connection... please wait 2 seconds and try again.");return}vt(!0),console.log(" Attempting to create profile for:",Lt.uid);try{const ct=$r(Ai,"users",Lt.uid);await ef(ct,{username:J,createdAt:uc(),lastLogin:uc(),gamesPlayed:0,totalScore:0},{merge:!0}),console.log(" Write Complete! Reloading..."),window.location.reload()}catch(ct){console.error(" WRITE ERROR:",ct),alert("Save Failed: "+ct.message),vt(!1)}}},ki=()=>{Le.current&&clearInterval(Le.current),t("menu")},mr=async()=>{try{ge.play("click"),await n2(ht,te)}catch(J){console.error("Login failed:",J),ge.play("error")}},ks=J=>new Promise((ct,Tt)=>{const Ut=new Image;Ut.src=J,Ut.onload=()=>ct(J),Ut.onerror=()=>Tt(J)}),Ls=()=>{ge.play("start"),Mp(Ab,"level_start",{level_name:"wild_guess_standard"}),t("countdown")},La=()=>{DA(ht).then(()=>{pt(""),z(!1),tn(null)}).catch(J=>{console.error("Error signing out:",J)})},_n=()=>{t("game"),et(0),xt(),ka()},xt=(J=!1,ct=!1)=>{ct||ut(15),Le.current&&clearInterval(Le.current),!(!u&&!J)&&(!J&&ee||(Le.current=setInterval(()=>{ut(Tt=>Tt<=1?(Le.current&&clearInterval(Le.current),In.current?Tt:(In.current=!0,Ps(),15)):Tt-1)},1e3)))},Ps=()=>{et(J=>{const ct=J+1;return ct>4?(hn("loss"),4):(kt(!1),Ot(5-ct),ct)})},ni=()=>{In.current||M<4&&(In.current=!0,ut(15),Ps())},Fn=J=>{ge.play("click"),D(J),ee&&ne===4&&aa()},We=()=>{D(null),ee&&(ne===5||ne===6)&&ti(4)},nn=async()=>{if(!(!v||!v.id)&&window.confirm(`Report this listing as bad data (dead, blurry, or wrong location)?

This will remove it for everyone.`))try{const J=localStorage.getItem("wildGuess_reported");let ct=J?JSON.parse(J):[];ct.includes(v.id)||(ct.push(v.id),localStorage.setItem("wildGuess_reported",JSON.stringify(ct)));const Tt=$r(Ai,"system","blacklist");await ef(Tt,{ids:uN(v.id)},{merge:!0}),await _b(Jr(Ai,"reports"),{animalId:v.id,animalName:v.correctName,reason:"User Reported",reportedBy:Lt?Lt.uid:"anonymous",timestamp:uc()}),alert("Report received. This listing has been removed from the ecosystem.")}catch(J){console.error("Report failed:",J),alert("Could not submit report. Please check connection.")}},ii=J=>{if(ee){const ct=J===v.correctName;ne===5?ct?(ge.playWin(),hn("win"),ti(7)):(ge.play("error",.3),ye([J]),et(4),Ot(1),ti(6)):ne===6&&(ct?(ge.playWin(),hn("win"),ti(7)):(ge.play("error",.3),hn("loss"),ti(8)));return}Vt||a!=="game"||In.current||(J===v.correctName?(ge.playWin(),hn("win")):(ge.play("error",.3),ye(ct=>[...ct,J]),M===4?hn("loss"):(In.current=!0,ut(15),Ps())))},hn=async J=>{Le.current&&clearInterval(Le.current);let ct=0,Tt=!1;if(J==="win"?ct=yt:ge.play("error"),j(J),t("summary"),Lt)try{if(J==="win"){const Ze=Yl(Jr(Ai,"games"),Xo("userId","==",Lt.uid),Xo("animalName","==",v.correctName),Xo("result","==","win"),$h(1));if((await tf(Ze)).empty){Tt=!0,console.log(" New Species Registered in Journal!");const Rt=JSON.parse(localStorage.getItem("journal_queue")||"[]");Rt.includes(v.correctName)||(Rt.push(v.correctName),localStorage.setItem("journal_queue",JSON.stringify(Rt)),Ni(Rt))}else console.log(" Species already in Journal. No new registry.")}Mp(Ab,"level_end",{level_name:"wild_guess_standard",success:J==="win",score:ct,animal:v.correctName,is_new_discovery:Tt});const Ut=_b(Jr(Ai,"games"),{userId:Lt.uid,animalName:v.correctName,animalSciName:v.sciName,location:v.location,result:J,pointsEarned:ct,timestamp:uc()}),{dayKey:Ge,weekKey:fe}=Rb(),Ne=$r(Ai,"users",Lt.uid),be=$r(Ai,"leaderboards","daily",Ge,Lt.uid),Pn=$r(Ai,"leaderboards","weekly",fe,Lt.uid),Gn=dN(Ne,{totalScore:Kl(ct),gamesPlayed:Kl(1),discoveries:Kl(Tt?1:0),lastPlayed:uc()}),bi={username:$,photoURL:Lt.photoURL||null,score:Kl(ct),gamesPlayed:Kl(1),discoveries:Kl(Tt?1:0)},Ds=ef(be,bi,{merge:!0}),ds=ef(Pn,bi,{merge:!0});await Promise.all([Ut,Gn,Ds,ds]),console.log(` Game Saved! +${ct} pts`)}catch(Ut){console.error("Error saving game:",Ut)}},pr=()=>{ee?($n(!1),localStorage.setItem("wildGuess_tutorial_complete","true"),ye([]),xt(!0)):($n(!0),ti(0),et(0),Ot(5),ye([]),D(null),Le.current&&clearInterval(Le.current))},aa=()=>{if(ge.play("click",.2),ne>=7){$n(!1),localStorage.setItem("wildGuess_tutorial_complete","true"),Ma(!0),setTimeout(()=>Ma(!1),8e3),Ls();return}if(ne<Rn.length-1){const J=ne+1;ti(J),J===1&&(et(1),Ot(4)),J===2&&(et(2),Ot(3)),J===3&&(et(3),Ot(2)),J===6&&(et(4),Ot(1))}},gr=()=>{const[J,ct]=It.useState(!1);return R.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:R.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-xs shadow-2xl overflow-hidden border-2 border-slate-200",children:[R.jsxs("div",{className:"bg-slate-50 p-4 border-b border-slate-200 flex justify-between items-center",children:[R.jsx("h3",{className:"font-bold text-slate-700 uppercase tracking-wider text-sm",children:"Expedition Settings"}),R.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-700",children:""})]}),R.jsxs("div",{className:"p-4 space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("span",{className:"text-xl",children:n?"":""}),R.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sound Effects"})]}),R.jsx("button",{onClick:gi,className:`w-12 h-6 rounded-full transition-colors relative ${n?"bg-slate-200":"bg-emerald-500"}`,children:R.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n?"left-1":"right-1"}`})})]}),R.jsxs("div",{className:`flex items-center justify-between ${ee?"opacity-50 pointer-events-none":""}`,children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("span",{className:"text-xl",children:""}),R.jsxs("div",{children:[R.jsx("span",{className:"text-sm font-bold text-slate-700 block",children:"Round Timer"}),R.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:u?"15 Seconds":"Unlimited"})]})]}),R.jsx("button",{onClick:()=>h(!u),className:`w-12 h-6 rounded-full transition-colors relative ${u?"bg-emerald-500":"bg-slate-200"}`,children:R.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${u?"right-1":"left-1"}`})})]}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("span",{className:"text-xl",children:""}),R.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Tutorial Mode"})]}),R.jsx("button",{onClick:()=>{pr(),b(!1)},className:`w-12 h-6 rounded-full transition-colors relative ${ee?"bg-emerald-500":"bg-slate-200"}`,children:R.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${ee?"right-1":"left-1"}`})})]})]}),R.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200 transition-all duration-300",children:J?R.jsxs("div",{className:"flex flex-col gap-2 animate-pop",children:[R.jsx("p",{className:"text-center text-[10px] font-bold text-red-500 uppercase tracking-wider mb-1",children:"Abandon current game?"}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>ct(!1),className:"flex-1 bg-slate-200 text-slate-600 font-bold py-2 rounded-xl hover:bg-slate-300 transition-colors text-xs uppercase tracking-wide",children:"Cancel"}),R.jsx("button",{onClick:()=>{ki(),b(!1)},className:"flex-1 bg-red-500 text-white font-bold py-2 rounded-xl hover:bg-red-600 transition-colors text-xs uppercase tracking-wide",children:"Yes, Exit"})]})]}):R.jsxs("button",{onClick:()=>ct(!0),className:"w-full bg-red-50 text-red-500 border border-red-200 font-bold py-3 rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[R.jsx("span",{children:""})," Exit Expedition"]})})]})})};Ln&&(cn.size,Is.length,Is.map((J,ct)=>{const Tt=cn.has(J.name);return R.jsxs("div",{className:`aspect-square rounded-xl flex flex-col items-center justify-center p-2 transition-all duration-500 border-2 ${Tt?"bg-white border-amber-200 shadow-md rotate-0 opacity-100":"bg-slate-100 border-slate-200 shadow-none opacity-60"}`,children:[R.jsx("div",{className:"text-4xl md:text-5xl mb-2 transition-all duration-500",style:Tt?{}:{color:"transparent",textShadow:"0 0 0 #94a3b8",filter:"blur(1px)"},children:J.emoji||J.groupEmoji||""}),R.jsx("div",{className:`text-[9px] md:text-[10px] font-bold text-center uppercase tracking-tight leading-tight transition-opacity duration-500 ${Tt?"text-slate-700 opacity-100":"text-slate-400 opacity-0"}`,children:J.name})]},ct)}));const vi=Ln&&R.jsx("div",{className:"fixed inset-0 z-[90] bg-slate-900/95 backdrop-blur-md flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-amber-50 rounded-2xl w-full max-w-4xl h-[85vh] flex flex-col shadow-2xl overflow-hidden border-4 border-amber-200 relative animate-pop",children:[R.jsx("button",{onClick:()=>He(!1),className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/10 hover:bg-black/20 rounded-full text-amber-900 font-bold flex items-center justify-center transition-colors text-xl",children:""}),R.jsxs("div",{className:"bg-amber-100 p-6 border-b border-amber-200 text-center flex-shrink-0",children:[R.jsx("h2",{className:"font-freckle text-3xl text-amber-900 uppercase tracking-wide",children:"Field Journal"}),R.jsxs("div",{className:"flex justify-center items-center gap-2 mt-2",children:[R.jsx("span",{className:"text-amber-800/60 text-xs font-bold uppercase tracking-widest",children:"Collection Progress:"}),R.jsxs("span",{className:"bg-amber-300 text-amber-900 px-2 py-0.5 rounded text-xs font-black",children:[cn.size," / ",Is.length]})]})]}),R.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-4 md:p-8 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]",children:R.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-3 md:gap-4",children:Is.map((J,ct)=>{const Tt=cn.has(J.name);return R.jsxs("div",{className:`aspect-square rounded-xl flex flex-col items-center justify-center p-2 transition-all duration-500 border-2 ${Tt?"bg-white border-amber-200 shadow-md rotate-0 opacity-100":"bg-slate-100 border-slate-200 shadow-none opacity-60"}`,children:[R.jsx("div",{className:"text-4xl md:text-5xl mb-2 transition-all duration-500",style:Tt?{}:{color:"transparent",textShadow:"0 0 0 #94a3b8",filter:"blur(1px)"},children:R.jsx("div",{className:"text-4xl md:text-5xl mb-2 transition-all duration-500",style:Tt?{}:{color:"transparent",textShadow:"0 0 0 #94a3b8",filter:"blur(1px)"},children:J.emoji||J.groupEmoji||""})}),R.jsx("div",{className:`text-[9px] md:text-[10px] font-bold text-center uppercase tracking-tight leading-tight transition-opacity duration-500 ${Tt?"text-slate-700 opacity-100":"text-slate-400 opacity-0"}`,children:J.name})]},ct)})})})]})});return a==="menu"?R.jsxs("div",{className:"h-screen w-full bg-gradient-to-b from-green-900 to-green-700 overflow-x-hidden overflow-y-auto md:overflow-hidden relative flex flex-col md:flex-row items-center justify-start md:justify-center p-4 gap-6 py-12 md:py-0",children:[R.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:_i.map(J=>R.jsx("div",{className:"absolute emoji-sticker transition-transform duration-1000 ease-in-out hover:scale-110",style:{top:`${J.top}%`,left:`${J.left}%`,fontSize:`${J.size}rem`,transform:`rotate(${J.rotation}deg)`,opacity:J.opacity},children:J.emoji},J.id))}),R.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full max-w-md md:w-1/2 md:items-end md:pr-8 flex-shrink-0",children:[R.jsxs("h1",{className:"font-freckle text-5xl md:text-7xl text-green-950 sticker-text drop-shadow-2xl mb-4 tracking-wider leading-none whitespace-nowrap",children:["W",R.jsx("span",{className:"-mx-4 md:-mx-7 relative -top-1",children:""}),"LD GUESS"]}),R.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-5 md:p-6 rounded-3xl shadow-2xl w-full text-center border-4 border-white transform -rotate-1 mb-6",children:[R.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px] mb-3",children:"HOW TO PLAY"}),R.jsxs("div",{className:"flex justify-between items-start px-1 mb-2 gap-1",children:[R.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[R.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),R.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Real-Life Animal Sighting"})]}),R.jsx("div",{className:"text-slate-300 text-xl mt-2",children:""}),R.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[R.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),R.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Analyze the Clues"})]}),R.jsx("div",{className:"text-slate-300 text-xl mt-2",children:""}),R.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[R.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),R.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Identify the Animal"})]})]})]}),R.jsx("button",{onClick:Ls,onMouseEnter:()=>ge.play("hover",.2),className:"relative overflow-hidden text-white font-bold py-4 rounded-full shadow-[0_6px_0_#14532d] active:shadow-none active:translate-y-1 transform transition-all border-4 border-white w-full hover:scale-105 bg-green-600 hover:bg-green-500",children:R.jsx("span",{className:"text-2xl font-black tracking-widest uppercase drop-shadow-md",children:"START EXPEDITION"})}),R.jsx("div",{className:"mt-4 flex flex-col items-center gap-3 w-full",children:Lt?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"bg-black/20 text-white/80 px-4 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-2",children:[Lt.photoURL&&R.jsx("img",{src:Lt.photoURL,alt:"User",className:"w-4 h-4 rounded-full border border-white/50"}),"Playing as: ",R.jsx("span",{className:"text-white",children:$})]}),R.jsxs("button",{onMouseEnter:()=>ge.play("hover",.2),onClick:ei,className:"bg-amber-100 text-amber-900 border-2 border-amber-300 px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[R.jsx("span",{className:"text-lg",children:""})," Field Journal"]}),R.jsx("button",{onMouseEnter:()=>ge.play("hover",.2),onClick:()=>{ge.play("click"),La()},className:"text-[10px] text-green-200/70 hover:text-white font-bold uppercase tracking-widest transition-colors hover:underline decoration-green-400 decoration-2 underline-offset-4",children:"( Logout )"})]}):R.jsxs(R.Fragment,{children:[R.jsxs("button",{onClick:mr,onMouseEnter:()=>ge.play("hover",.2),className:"bg-white text-slate-700 border-2 border-slate-200 px-5 py-2 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[R.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[R.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),R.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),R.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),R.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Login with Google"]}),$&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"text-[10px] text-green-200/50 font-bold uppercase tracking-widest mt-1",children:["Playing as Guest: ",$]}),R.jsxs("button",{onClick:ei,className:`w-full font-bold py-3 rounded-xl transition border-2 flex items-center justify-center gap-2 ${kn.length>0?"bg-emerald-100 border-emerald-400 text-emerald-800 animate-wiggle shadow-lg":"bg-amber-100 border-amber-200 text-amber-900 hover:bg-amber-200"}`,children:[R.jsx("span",{className:"text-lg",children:""}),kn.length>0?"NEW ENTRY FOUND!":"OPEN FIELD JOURNAL"]})]})]})})]}),R.jsxs("div",{className:"relative z-10 w-full max-w-md md:w-1/2 h-[500px] md:h-[80vh] flex flex-col md:pl-8 flex-shrink-0 mb-12 md:mb-0",children:["                    ",R.jsxs("div",{className:"bg-orange-50/95 backdrop-blur-sm rounded-3xl shadow-2xl border-4 border-orange-100 overflow-hidden flex flex-col h-full max-h-[500px] md:max-h-full",children:[R.jsxs("div",{className:"bg-orange-100 p-2 border-b border-orange-200 flex flex-col gap-2",children:[R.jsx("div",{className:"flex justify-between items-center px-2",children:R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"text-xl",children:""}),R.jsx("h2",{className:"text-orange-800 font-black tracking-wide text-sm uppercase",children:"Top Explorers"})]})}),R.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:["daily","weekly","allTime"].map(J=>R.jsx("button",{onMouseEnter:()=>ge.play("hover",.2),onClick:()=>{ge.play("click",.1),cs(J)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${Jn===J?"bg-white text-orange-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:J==="allTime"?"All Time":J},J))})]}),R.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-3 space-y-2",children:xe.length===0?R.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-orange-300 opacity-50",children:[R.jsx("span",{className:"text-4xl mb-2",children:""}),R.jsx("span",{className:"font-bold text-sm uppercase",children:"Loading Scores..."})]}):xe.map((J,ct)=>R.jsxs("div",{onMouseEnter:()=>ge.play("hover",.2),className:`flex items-center justify-between p-3 rounded-xl border-b-4 transition-transform hover:scale-[1.01] ${J.id===Lt?.uid?"bg-white border-emerald-200 shadow-sm ring-2 ring-emerald-400 ring-offset-1":"bg-white border-orange-100 shadow-sm"}`,children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:`
                                            font-black text-sm w-8 h-8 flex items-center justify-center rounded-lg
                                            ${ct===0?"bg-yellow-400 text-yellow-900":ct===1?"bg-slate-300 text-slate-700":ct===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400"}
                                            `,children:ct+1}),R.jsxs("div",{className:"flex flex-col",children:[R.jsxs("span",{className:`font-bold text-sm leading-tight ${J.id===Lt?.uid?"text-emerald-700":"text-slate-700"}`,children:[J.username," ",J.id===Lt?.uid&&"(You)"]}),R.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[R.jsxs("span",{className:"text-[9px] text-slate-400 uppercase font-bold tracking-wider",children:[J.gamesPlayed||0," Expeditions"]}),R.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[J.discoveries||0," Animals Found"]})]})]})]}),R.jsx("div",{className:"bg-orange-100 px-3 py-1 rounded-lg",children:R.jsxs("span",{className:"font-mono font-black text-orange-600 text-sm",children:[J.totalScore||0,R.jsx("span",{className:"text-[9px] ml-0.5 opacity-60",children:"PTS"})]})})]},J.id))})]})]}),!nt&&!wt&&R.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/90 backdrop-blur-sm flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-8 shadow-2xl text-center border-4 border-emerald-100 relative overflow-hidden",children:[R.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),R.jsx("h2",{className:"text-3xl font-freckle text-green-950 mb-2",children:"Welcome to Wild Guess!"}),R.jsx("p",{className:"text-slate-500 mb-6",children:"Join the expedition to track your scores and compete on the leaderboard."}),R.jsxs("button",{onClick:mr,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-slate-200 text-slate-700 font-bold py-3 rounded-xl shadow-sm hover:bg-slate-50 hover:border-slate-300 transition-all mb-6 group",children:[R.jsxs("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",children:[R.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),R.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),R.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),R.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]}),R.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[R.jsx("div",{className:"h-px bg-slate-200 flex-1"}),R.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Or Play as Guest"}),R.jsx("div",{className:"h-px bg-slate-200 flex-1"})]}),R.jsxs("form",{onSubmit:J=>{J.preventDefault();const ct=new FormData(J.target);Mi(ct.get("username"))},className:"space-y-4",children:[R.jsx("input",{name:"username",type:"text",placeholder:"Enter Guest Name...",maxLength:15,required:!0,className:"w-full px-4 py-3 text-lg border-2 border-slate-200 rounded-xl focus:border-emerald-500 focus:outline-none text-center font-bold text-slate-700 bg-slate-50"}),R.jsx("button",{type:"submit",disabled:mt,className:`w-full font-bold py-3 rounded-xl transition transform shadow-lg text-white ${mt?"bg-slate-400 cursor-not-allowed":"bg-slate-400 hover:bg-slate-500 hover:scale-[1.02]"}`,children:mt?"STARTING...":"PLAY AS GUEST"})]})]})}),vi]}):a==="countdown"?R.jsx(jO,{onComplete:_n,stickers:_i,isReady:!!v&&Ri}):R.jsxs("div",{className:"h-screen w-full flex flex-col md:flex-row bg-slate-100 overflow-hidden relative",children:[R.jsxs("div",{id:"landscape-warning",className:"fixed inset-0 z-[100] bg-slate-900 text-white flex-col items-center justify-center p-6 text-center",children:[R.jsx("div",{className:"text-6xl mb-6",children:""}),R.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Please Rotate Device"}),R.jsx("p",{className:"text-slate-300",children:"This game is designed for portrait mode."})]}),R.jsxs("div",{className:"flex-1 flex flex-col bg-white m-2 rounded-xl shadow-sm overflow-hidden relative order-1",children:[R.jsx("div",{className:"h-2 bg-slate-200 w-full flex-shrink-0",children:R.jsx("div",{className:`h-full transition-all duration-1000 linear ${u?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]":"bg-slate-300"}`,style:{width:`${ft/15*100}%`}})}),R.jsxs("div",{className:"flex-1 relative",children:[R.jsx("button",{onClick:()=>{ge.play("click"),b(!0)},className:"absolute top-2 right-2 z-[60] w-10 h-10 bg-white/90 border-2 border-slate-300 rounded-full shadow-md text-slate-600 font-bold flex items-center justify-center hover:bg-slate-50 active:scale-95 transition-all",children:R.jsx("span",{className:"text-xl",children:""})}),g&&R.jsx(gr,{}),en&&R.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 z-[80] bg-amber-500 text-white text-xs font-bold px-4 py-2 rounded-full shadow-lg animate-bounce flex items-center gap-2 whitespace-nowrap",children:[R.jsx("span",{children:""})," Server Offline: Using Backup Data"]}),Oa&&R.jsxs("div",{className:"absolute top-12 right-2 z-[70] bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-lg animate-pop max-w-[150px] text-right",children:["Tutorial hidden.",R.jsx("br",{}),'Tap "OFF" to restart.']}),R.jsxs("div",{className:"absolute inset-0",children:[R.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ${M>=0?"opacity-100":"opacity-0"}`,children:v&&R.jsx(VO,{lat:v.lat,lng:v.lng,zoom:M===0?2:M===1?5:11})}),R.jsx("div",{className:`hidden md:block absolute inset-0 z-10 transition-opacity duration-1000 bg-slate-200 overflow-hidden ${M>=4?"opacity-100":"opacity-0 pointer-events-none"}`,children:v?.image&&R.jsxs("div",{className:"w-full h-full relative",children:[R.jsx("img",{src:v.image,className:"w-full h-full object-cover blur-xl scale-110 transform",alt:"Revealed Animal"}),R.jsx("div",{className:"absolute inset-0 bg-black/10"})]})})]},H),R.jsxs("div",{className:"hidden md:block absolute top-0 left-0 right-0 z-30 pt-6 text-center pointer-events-none",children:[R.jsxs("h2",{className:"text-3xl md:text-4xl font-black text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)] tracking-tight uppercase leading-none",children:["Take a ",R.jsx("span",{className:"text-emerald-400",children:"Wild Guess"})]}),R.jsx("p",{className:"text-white text-sm font-bold mt-1 drop-shadow-[0_1px_2px_rgba(0,0,0,0.9)] uppercase tracking-widest",children:"Can you identify this animal?"})]}),R.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none flex flex-col items-center pt-12 pb-2 px-2 md:pt-24 md:pb-4 md:px-4",children:[M===4&&v?.image&&R.jsx("div",{className:"w-full flex justify-center mb-2 md:mb-8 order-first pointer-events-auto",children:R.jsxs("div",{className:"group relative bg-slate-200 rounded-2xl shadow-2xl overflow-hidden border-4 border-white w-48 h-32 md:w-64 md:h-48 flex-shrink-0 animate-pop transform hover:scale-105 transition-transform cursor-pointer",children:[R.jsx("img",{src:v.image,className:"w-full h-full object-cover blur-[2px] scale-110 transition-all duration-700 group-hover:blur-none group-hover:scale-105",alt:"Mystery Clue"}),R.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:R.jsx("span",{className:"text-6xl md:text-8xl font-black text-white/90 drop-shadow-md group-hover:opacity-50 transition-opacity",children:"?"})})]})}),R.jsx("div",{className:`order-1 w-full flex justify-center md:static transition-all duration-500 transform ${M>=1?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"} ${M===4?"hidden md:flex":""}`,children:R.jsxs("div",{className:"bg-white/90 backdrop-blur-md px-3 py-1 md:px-4 md:py-2 rounded-lg shadow-xl border border-white/50",children:[R.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block text-center tracking-wider",children:"Location"}),R.jsx("span",{className:"text-slate-800 font-bold text-xs md:text-lg leading-tight block",children:v?.location})]})}),R.jsx("div",{className:`order-2 w-full flex justify-center md:static mt-auto mb-2 md:mb-4 transition-all duration-500 transform ${M>=3?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"}`,children:R.jsxs("div",{className:"bg-emerald-50/95 backdrop-blur-md px-3 py-1.5 md:px-5 md:py-3 rounded-lg shadow-xl border border-emerald-100 max-w-sm text-center mx-4",children:[R.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-emerald-600 uppercase block mb-0.5 tracking-wider",children:"Hint"}),R.jsxs("div",{className:"text-emerald-900 font-medium italic text-xs md:text-lg leading-tight",children:['"',v?.stats?.trait,'"']})]})}),R.jsx("div",{className:`order-3 w-full flex justify-center md:static transition-all duration-500 transform ${M>=2?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"} ${M===4?"hidden md:flex":""}`,children:R.jsxs("div",{className:"bg-white/90 backdrop-blur-md px-3 py-1 md:px-6 md:py-3 rounded-lg shadow-xl border border-white/50 text-center min-w-[160px] md:min-w-[220px]",children:[R.jsxs("div",{className:"mb-0.5 md:mb-2",children:[R.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block tracking-wider",children:"Family"}),R.jsx("span",{className:"text-indigo-600 font-mono font-bold text-xs md:text-lg leading-none",children:v?.family})]}),R.jsxs("div",{className:"border-t border-slate-200/50 pt-0.5 md:pt-2",children:[R.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block tracking-wider",children:"Scientific Name"}),R.jsx("span",{className:"text-emerald-800 italic font-serif text-sm md:text-xl leading-none",children:v?.displayLatin||v?.sciName})]})]})})]})]}),R.jsxs("div",{className:"h-14 bg-white border-t border-slate-100 flex items-center justify-between px-4 z-10 flex-shrink-0",children:[R.jsxs("div",{className:"flex items-center gap-3 bg-emerald-50 border-2 border-emerald-200 px-3 py-1 rounded-lg shadow-sm",children:[R.jsxs("div",{className:"flex flex-col items-end leading-none",children:[R.jsx("span",{className:"text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:"Potential"}),R.jsx("span",{className:"text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:"Reward"})]}),R.jsx("div",{className:"text-4xl font-black text-emerald-600 drop-shadow-sm",children:yt})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onMouseEnter:()=>ge.play("hover"),onClick:()=>hn("surrender"),disabled:ee,className:`px-4 py-2 text-xs rounded-full transition-all duration-300 ${M===4?"bg-red-500 text-white font-black tracking-widest shadow-lg hover:bg-red-600 hover:scale-105 animate-pulse":"text-slate-400 hover:text-red-500 font-medium"} ${ee?"opacity-30 cursor-not-allowed pointer-events-none":""}`,children:"GIVE UP"}),M<4&&R.jsx("button",{onMouseEnter:()=>ge.play("hover",.2),onClick:()=>{ge.play("click",.2),ni()},disabled:ee,className:`bg-blue-50 text-blue-600 px-4 py-1 rounded-full text-xs font-bold hover:bg-blue-100 transition ${ee?"opacity-30 cursor-not-allowed pointer-events-none":""}`,children:u?"NEXT CLUE":"REVEAL NEXT"})]})]})]}),R.jsxs("div",{className:"h-[45%] md:h-full md:w-96 bg-slate-50 overflow-hidden border-t md:border-t-0 md:border-l border-slate-200 order-2 flex flex-col shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-40 relative",children:[R.jsx("div",{className:"p-2 border-b border-slate-200 bg-slate-100 flex-shrink-0 z-10",children:R.jsxs("div",{className:"relative",children:[R.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:""}),R.jsx("input",{type:"text",value:q,onChange:J=>{P(J.target.value),ee&&ne===4&&aa()},placeholder:"Search animals...",onClick:()=>ge.play("click",.2),disabled:Vt||ee&&ne<4,className:"w-full pl-8 pr-3 py-2 bg-white border border-slate-300 rounded-lg text-xs font-bold text-slate-700 placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all shadow-sm disabled:opacity-50 disabled:bg-slate-50"}),q&&R.jsx("button",{onClick:()=>P(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 text-xs font-bold px-1",children:""})]})}),R.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-2 content-start",children:q?R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Is.filter(J=>J.name.toLowerCase().includes(q.toLowerCase())).map((J,ct)=>{const Tt=_e.includes(J.name);return R.jsxs("button",{disabled:Vt||Tt||ee&&ne!==5&&ne!==6,onClick:()=>{ii(J.name),P("")},className:`rounded-lg font-bold shadow-sm border border-slate-100 transition-all py-2 px-2 text-xs text-left flex items-center ${Tt?"bg-red-50 text-red-300 border-red-100 cursor-not-allowed":"bg-white text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"} ${Vt||ee&&ne!==5&&ne!==6?"opacity-50":""}`,children:[R.jsx("span",{className:"mr-2 text-base",children:J.groupEmoji}),R.jsx("span",{className:"truncate",children:J.name})]},ct)}),Is.filter(J=>J.name.toLowerCase().includes(q.toLowerCase())).length===0&&R.jsx("div",{className:"col-span-2 text-center text-slate-400 text-xs py-4 italic",children:"No animals found"})]}):R.jsxs(R.Fragment,{children:[!O&&R.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 h-full content-start",children:[R.jsxs("button",{onClick:()=>Fn("ALL"),disabled:Vt||ee&&ne<4,className:`rounded-xl flex items-center shadow-sm transition-all duration-200 bg-slate-200 text-slate-700 hover:bg-slate-300 hover:shadow-md cursor-pointer border border-slate-300 flex-row justify-start px-2 py-1 h-11 md:flex-col md:justify-center md:aspect-square md:h-auto md:px-0 ${Vt||ee&&ne<4?"opacity-50":""}`,children:[R.jsx("span",{className:"text-xl mr-2 md:mr-0 md:mb-1",children:""}),R.jsx("span",{className:"text-[10px] md:text-[10px] font-bold uppercase tracking-tight text-left md:text-center leading-tight",children:"All Animals"})]}),Nb.map((J,ct)=>R.jsxs("button",{disabled:Vt||ee&&ne<4,onClick:()=>Fn(J),className:`rounded-xl flex items-center shadow-sm transition-all duration-200 bg-white hover:bg-emerald-50 hover:shadow-md cursor-pointer border border-slate-100 flex-row justify-start px-2 py-1 h-11 md:flex-col md:justify-center md:aspect-square md:h-auto md:px-0 ${Vt||ee&&ne<4?"opacity-50":""}`,children:[R.jsx("span",{className:"text-xl mr-2 md:mr-0 md:mb-1",children:J.emoji}),R.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-tight text-left md:text-center leading-tight",children:J.name})]},ct))]}),O&&R.jsxs("div",{className:"flex flex-col h-full",children:[R.jsx("button",{onMouseEnter:()=>ge.play("hover",.1),onClick:()=>{ge.play("click",.2),We()},disabled:ee&&ne!==5&&ne!==6,className:`mb-2 flex items-center justify-center bg-slate-100 border border-slate-200 rounded-lg text-slate-500 hover:text-emerald-600 hover:bg-emerald-50 text-[10px] uppercase font-bold px-2 py-1.5 flex-shrink-0 transition-colors ${ee&&ne!==5&&ne!==6?"opacity-50":""}`,children:" Back to Categories"}),R.jsxs("div",{className:"text-center mb-2 flex-shrink-0",children:[R.jsx("span",{className:"text-xl inline-block mr-2",children:O==="ALL"?"":O.emoji}),R.jsx("span",{className:"text-sm font-bold text-slate-700",children:O==="ALL"?"All Animals":O.name})]}),R.jsx("div",{className:`grid gap-2 flex-1 content-start ${O==="ALL"?"grid-cols-3":"grid-cols-2"}`,children:(O==="ALL"?Is:O.animals).map((J,ct)=>{const Tt=_e.includes(J.name);return R.jsxs("button",{disabled:Vt||Tt||ee&&ne!==5&&ne!==6,onClick:()=>ii(J.name),className:`rounded-lg font-bold shadow-sm border border-slate-100 transition-all leading-tight ${O==="ALL"?"py-1 px-1 text-[9px] h-10 flex flex-col justify-center items-center":"py-2 px-2 text-xs"} ${Tt?"bg-red-50 text-red-300 border-red-100 cursor-not-allowed":"bg-white text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"} ${Vt||ee&&ne!==5&&ne!==6?"opacity-50":""}`,children:[O==="ALL"&&R.jsx("span",{className:"opacity-60 text-xs mb-0.5",children:J.groupEmoji}),R.jsx("span",{className:"truncate w-full text-center",children:J.name})]},ct)})})]})]})})]}),a==="summary"&&R.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-pop flex flex-col max-h-[90vh]",children:[R.jsxs("div",{className:"h-64 bg-slate-200 relative flex-shrink-0",children:[v?.image?R.jsx("img",{src:v.image,className:"w-full h-full object-cover",alt:"Animal"}):R.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:"No Image"}),R.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 pt-12",children:[R.jsx("h2",{className:"text-white text-3xl font-bold leading-none",children:v?.correctName}),R.jsx("p",{className:"text-white/80 text-sm italic font-serif mt-1",children:v?.sciName})]})]}),R.jsxs("div",{className:"p-6 text-center flex-1 overflow-y-auto custom-scroll",children:[$t==="win"?R.jsxs("div",{className:"mb-6",children:[R.jsx("div",{className:"text-5xl mb-2 animate-bounce",children:""}),R.jsx("h3",{className:"text-2xl font-bold text-emerald-600 mb-1",children:"Correct!"}),R.jsxs("p",{className:"text-slate-600 font-medium",children:["You earned ",R.jsxs("span",{className:"text-emerald-600 font-bold",children:[yt," points"]}),"."]})]}):R.jsxs("div",{className:"mb-6",children:[R.jsx("div",{className:"text-5xl mb-2",children:""}),R.jsx("h3",{className:"text-2xl font-bold text-red-600 mb-1",children:"Missed it!"}),R.jsx("p",{className:"text-slate-600",children:"Better luck next time."})]}),R.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-left space-y-3 text-sm border border-slate-100 shadow-inner",children:[R.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[R.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Observed By"}),v?.link?R.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 font-medium hover:underline truncate max-w-[150px]",children:[v.recordedBy," "]}):R.jsx("span",{className:"text-slate-700 font-medium",children:v?.recordedBy})]}),R.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[R.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Date"}),R.jsx("span",{className:"text-slate-700 font-medium",children:v?.stats?.date})]}),R.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[R.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Location"}),R.jsx("span",{className:"text-slate-700 text-right max-w-[60%] font-medium",children:v?.location})]}),R.jsxs("div",{className:"pt-4 mt-2 border-t border-slate-100 flex items-center justify-between text-[10px] text-slate-400",children:[R.jsxs("div",{children:["Source: ",R.jsx("a",{href:"https://www.inaturalist.org",target:"_blank",rel:"noopener noreferrer",className:"hover:text-emerald-600 underline",children:"iNaturalist"})]}),R.jsxs("button",{onClick:nn,className:"flex items-center gap-1 text-slate-300 hover:text-red-400 transition-colors font-bold uppercase tracking-wider",title:"Report bad data, wrong location, or dead animal",children:[R.jsx("span",{children:""})," Report Issue"]})]})]})]}),R.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex-shrink-0 flex flex-col gap-2",children:[R.jsx("button",{onClick:Ls,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 rounded-xl transition shadow-lg shadow-emerald-200 transform hover:scale-[1.02]",children:"PLAY AGAIN"}),R.jsxs("button",{onClick:ei,className:`w-full font-bold py-3 rounded-xl transition border-2 flex items-center justify-center gap-2 ${kn.length>0?"bg-emerald-100 border-emerald-400 text-emerald-800 animate-wiggle shadow-lg":"bg-amber-100 border-amber-200 text-amber-900 hover:bg-amber-200"}`,children:[R.jsx("span",{className:"text-lg",children:""}),kn.length>0?"NEW ENTRY FOUND!":"OPEN FIELD JOURNAL"]}),R.jsx("button",{onClick:()=>{ge.play("click"),ki()},className:"w-full text-slate-400 font-bold py-2 rounded-xl hover:bg-slate-50 hover:text-slate-600 transition-colors text-xs uppercase tracking-widest mt-1",children:"Exit to Main Menu"})]})]})}),Ln&&kn.length>0?R.jsx(UO,{pendingAnimals:kn,onConfirmOne:sa,onConfirmAll:dr,allAnimalsFlat:Is}):vi,ee&&R.jsx("div",{className:`absolute z-[100] max-w-[280px] ${Rn[ne].positionClasses}`,children:R.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-4 border-2 border-emerald-500 relative animate-pop",children:[R.jsx("div",{className:`absolute w-0 h-0 border-[10px] ${Rn[ne].arrowClasses}`}),R.jsx("p",{className:"text-slate-700 font-bold text-sm mb-3 leading-snug",children:Rn[ne].text.split("**").map((J,ct)=>ct%2===1?R.jsx("span",{className:"text-emerald-600 font-black",children:J},ct):J)}),!Rn[ne].hideButton&&R.jsx("button",{onMouseEnter:()=>ge.play("hover"),onClick:aa,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 rounded-lg text-xs uppercase tracking-wider shadow-sm",children:Rn[ne].buttonText})]})})]})};ix.createRoot(document.getElementById("root")).render(R.jsx(QS.StrictMode,{children:R.jsx(BO,{})}));
