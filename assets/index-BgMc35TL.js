(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function Lp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zm={exports:{}},ec={};var Cv;function BE(){if(Cv)return ec;Cv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var b in l)b!=="key"&&(h[b]=l[b])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:h}}return ec.Fragment=t,ec.jsx=n,ec.jsxs=n,ec}var Iv;function qE(){return Iv||(Iv=1,zm.exports=BE()),zm.exports}var S=qE(),jm={exports:{}},Gt={};var Rv;function HE(){if(Rv)return Gt;Rv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.iterator;function et(j){return j===null||typeof j!="object"?null:(j=k&&j[k]||j["@@iterator"],typeof j=="function"?j:null)}var at={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ct=Object.assign,pt={};function Lt(j,nt,dt){this.props=j,this.context=nt,this.refs=pt,this.updater=dt||at}Lt.prototype.isReactComponent={},Lt.prototype.setState=function(j,nt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,nt,"setState")},Lt.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function jt(){}jt.prototype=Lt.prototype;function kt(j,nt,dt){this.props=j,this.context=nt,this.refs=pt,this.updater=dt||at}var Jt=kt.prototype=new jt;Jt.constructor=kt,ct(Jt,Lt.prototype),Jt.isPureReactComponent=!0;var Ne=Array.isArray;function se(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function V(j,nt,dt){var mt=dt.ref;return{$$typeof:r,type:j,key:nt,ref:mt!==void 0?mt:null,props:dt}}function H(j,nt){return V(j.type,nt,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function F(j){var nt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(dt){return nt[dt]})}var P=/\/+/g;function ee(j,nt){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):nt.toString(36)}function tn(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(se,se):(j.status="pending",j.then(function(nt){j.status==="pending"&&(j.status="fulfilled",j.value=nt)},function(nt){j.status==="pending"&&(j.status="rejected",j.reason=nt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,nt,dt,mt,Tt){var bt=typeof j;(bt==="undefined"||bt==="boolean")&&(j=null);var qt=!1;if(j===null)qt=!0;else switch(bt){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(j.$$typeof){case r:case t:qt=!0;break;case I:return qt=j._init,K(qt(j._payload),nt,dt,mt,Tt)}}if(qt)return Tt=Tt(j),qt=mt===""?"."+ee(j,0):mt,Ne(Tt)?(dt="",qt!=null&&(dt=qt.replace(P,"$&/")+"/"),K(Tt,nt,dt,"",function(ai){return ai})):Tt!=null&&(U(Tt)&&(Tt=H(Tt,dt+(Tt.key==null||j&&j.key===Tt.key?"":(""+Tt.key).replace(P,"$&/")+"/")+qt)),nt.push(Tt)),1;qt=0;var Oe=mt===""?".":mt+":";if(Ne(j))for(var je=0;je<j.length;je++)mt=j[je],bt=Oe+ee(mt,je),qt+=K(mt,nt,dt,bt,Tt);else if(je=et(j),typeof je=="function")for(j=je.call(j),je=0;!(mt=j.next()).done;)mt=mt.value,bt=Oe+ee(mt,je++),qt+=K(mt,nt,dt,bt,Tt);else if(bt==="object"){if(typeof j.then=="function")return K(tn(j),nt,dt,mt,Tt);throw nt=String(j),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return qt}function _t(j,nt,dt){if(j==null)return j;var mt=[],Tt=0;return K(j,mt,"","",function(bt){return nt.call(dt,bt,Tt++)}),mt}function ft(j){if(j._status===-1){var nt=j._result;nt=nt(),nt.then(function(dt){(j._status===0||j._status===-1)&&(j._status=1,j._result=dt)},function(dt){(j._status===0||j._status===-1)&&(j._status=2,j._result=dt)}),j._status===-1&&(j._status=0,j._result=nt)}if(j._status===1)return j._result.default;throw j._result}var ne=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},xt={map:_t,forEach:function(j,nt,dt){_t(j,function(){nt.apply(this,arguments)},dt)},count:function(j){var nt=0;return _t(j,function(){nt++}),nt},toArray:function(j){return _t(j,function(nt){return nt})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Gt.Activity=N,Gt.Children=xt,Gt.Component=Lt,Gt.Fragment=n,Gt.Profiler=l,Gt.PureComponent=kt,Gt.StrictMode=a,Gt.Suspense=v,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Gt.cache=function(j){return function(){return j.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(j,nt,dt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var mt=ct({},j.props),Tt=j.key;if(nt!=null)for(bt in nt.key!==void 0&&(Tt=""+nt.key),nt)!M.call(nt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&nt.ref===void 0||(mt[bt]=nt[bt]);var bt=arguments.length-2;if(bt===1)mt.children=dt;else if(1<bt){for(var qt=Array(bt),Oe=0;Oe<bt;Oe++)qt[Oe]=arguments[Oe+2];mt.children=qt}return V(j.type,Tt,mt)},Gt.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},Gt.createElement=function(j,nt,dt){var mt,Tt={},bt=null;if(nt!=null)for(mt in nt.key!==void 0&&(bt=""+nt.key),nt)M.call(nt,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(Tt[mt]=nt[mt]);var qt=arguments.length-2;if(qt===1)Tt.children=dt;else if(1<qt){for(var Oe=Array(qt),je=0;je<qt;je++)Oe[je]=arguments[je+2];Tt.children=Oe}if(j&&j.defaultProps)for(mt in qt=j.defaultProps,qt)Tt[mt]===void 0&&(Tt[mt]=qt[mt]);return V(j,bt,Tt)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(j){return{$$typeof:b,render:j}},Gt.isValidElement=U,Gt.lazy=function(j){return{$$typeof:I,_payload:{_status:-1,_result:j},_init:ft}},Gt.memo=function(j,nt){return{$$typeof:x,type:j,compare:nt===void 0?null:nt}},Gt.startTransition=function(j){var nt=D.T,dt={};D.T=dt;try{var mt=j(),Tt=D.S;Tt!==null&&Tt(dt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(se,ne)}catch(bt){ne(bt)}finally{nt!==null&&dt.types!==null&&(nt.types=dt.types),D.T=nt}},Gt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Gt.use=function(j){return D.H.use(j)},Gt.useActionState=function(j,nt,dt){return D.H.useActionState(j,nt,dt)},Gt.useCallback=function(j,nt){return D.H.useCallback(j,nt)},Gt.useContext=function(j){return D.H.useContext(j)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(j,nt){return D.H.useDeferredValue(j,nt)},Gt.useEffect=function(j,nt){return D.H.useEffect(j,nt)},Gt.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Gt.useId=function(){return D.H.useId()},Gt.useImperativeHandle=function(j,nt,dt){return D.H.useImperativeHandle(j,nt,dt)},Gt.useInsertionEffect=function(j,nt){return D.H.useInsertionEffect(j,nt)},Gt.useLayoutEffect=function(j,nt){return D.H.useLayoutEffect(j,nt)},Gt.useMemo=function(j,nt){return D.H.useMemo(j,nt)},Gt.useOptimistic=function(j,nt){return D.H.useOptimistic(j,nt)},Gt.useReducer=function(j,nt,dt){return D.H.useReducer(j,nt,dt)},Gt.useRef=function(j){return D.H.useRef(j)},Gt.useState=function(j){return D.H.useState(j)},Gt.useSyncExternalStore=function(j,nt,dt){return D.H.useSyncExternalStore(j,nt,dt)},Gt.useTransition=function(){return D.H.useTransition()},Gt.version="19.2.4",Gt}var Nv;function Mp(){return Nv||(Nv=1,jm.exports=HE()),jm.exports}var vt=Mp();const FE=Lp(vt);var Um={exports:{}},nc={},Bm={exports:{}},qm={};var kv;function GE(){return kv||(kv=1,(function(r){function t(K,_t){var ft=K.length;K.push(_t);t:for(;0<ft;){var ne=ft-1>>>1,xt=K[ne];if(0<l(xt,_t))K[ne]=_t,K[ft]=xt,ft=ne;else break t}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var _t=K[0],ft=K.pop();if(ft!==_t){K[0]=ft;t:for(var ne=0,xt=K.length,j=xt>>>1;ne<j;){var nt=2*(ne+1)-1,dt=K[nt],mt=nt+1,Tt=K[mt];if(0>l(dt,ft))mt<xt&&0>l(Tt,dt)?(K[ne]=Tt,K[mt]=ft,ne=mt):(K[ne]=dt,K[nt]=ft,ne=nt);else if(mt<xt&&0>l(Tt,ft))K[ne]=Tt,K[mt]=ft,ne=mt;else break t}}return _t}function l(K,_t){var ft=K.sortIndex-_t.sortIndex;return ft!==0?ft:K.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var v=[],x=[],I=1,N=null,k=3,et=!1,at=!1,ct=!1,pt=!1,Lt=typeof setTimeout=="function"?setTimeout:null,jt=typeof clearTimeout=="function"?clearTimeout:null,kt=typeof setImmediate<"u"?setImmediate:null;function Jt(K){for(var _t=n(x);_t!==null;){if(_t.callback===null)a(x);else if(_t.startTime<=K)a(x),_t.sortIndex=_t.expirationTime,t(v,_t);else break;_t=n(x)}}function Ne(K){if(ct=!1,Jt(K),!at)if(n(v)!==null)at=!0,se||(se=!0,F());else{var _t=n(x);_t!==null&&tn(Ne,_t.startTime-K)}}var se=!1,D=-1,M=5,V=-1;function H(){return pt?!0:!(r.unstable_now()-V<M)}function U(){if(pt=!1,se){var K=r.unstable_now();V=K;var _t=!0;try{t:{at=!1,ct&&(ct=!1,jt(D),D=-1),et=!0;var ft=k;try{e:{for(Jt(K),N=n(v);N!==null&&!(N.expirationTime>K&&H());){var ne=N.callback;if(typeof ne=="function"){N.callback=null,k=N.priorityLevel;var xt=ne(N.expirationTime<=K);if(K=r.unstable_now(),typeof xt=="function"){N.callback=xt,Jt(K),_t=!0;break e}N===n(v)&&a(v),Jt(K)}else a(v);N=n(v)}if(N!==null)_t=!0;else{var j=n(x);j!==null&&tn(Ne,j.startTime-K),_t=!1}}break t}finally{N=null,k=ft,et=!1}_t=void 0}}finally{_t?F():se=!1}}}var F;if(typeof kt=="function")F=function(){kt(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ee=P.port2;P.port1.onmessage=U,F=function(){ee.postMessage(null)}}else F=function(){Lt(U,0)};function tn(K,_t){D=Lt(function(){K(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(K){switch(k){case 1:case 2:case 3:var _t=3;break;default:_t=k}var ft=k;k=_t;try{return K()}finally{k=ft}},r.unstable_requestPaint=function(){pt=!0},r.unstable_runWithPriority=function(K,_t){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=k;k=K;try{return _t()}finally{k=ft}},r.unstable_scheduleCallback=function(K,_t,ft){var ne=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?ne+ft:ne):ft=ne,K){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=ft+xt,K={id:I++,callback:_t,priorityLevel:K,startTime:ft,expirationTime:xt,sortIndex:-1},ft>ne?(K.sortIndex=ft,t(x,K),n(v)===null&&K===n(x)&&(ct?(jt(D),D=-1):ct=!0,tn(Ne,ft-ne))):(K.sortIndex=xt,t(v,K),at||et||(at=!0,se||(se=!0,F()))),K},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(K){var _t=k;return function(){var ft=k;k=_t;try{return K.apply(this,arguments)}finally{k=ft}}}})(qm)),qm}var Lv;function ZE(){return Lv||(Lv=1,Bm.exports=GE()),Bm.exports}var Hm={exports:{}},gi={};var Mv;function KE(){if(Mv)return gi;Mv=1;var r=Mp();function t(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)x+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,x,I){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:v,containerInfo:x,implementation:I}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gi.createPortal=function(v,x){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return h(v,x,null,I)},gi.flushSync=function(v){var x=p.T,I=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=x,a.p=I,a.d.f()}},gi.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,a.d.C(v,x))},gi.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},gi.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var I=x.as,N=b(I,x.crossOrigin),k=typeof x.integrity=="string"?x.integrity:void 0,et=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;I==="style"?a.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:N,integrity:k,fetchPriority:et}):I==="script"&&a.d.X(v,{crossOrigin:N,integrity:k,fetchPriority:et,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},gi.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var I=b(x.as,x.crossOrigin);a.d.M(v,{crossOrigin:I,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&a.d.M(v)},gi.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var I=x.as,N=b(I,x.crossOrigin);a.d.L(v,I,{crossOrigin:N,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},gi.preloadModule=function(v,x){if(typeof v=="string")if(x){var I=b(x.as,x.crossOrigin);a.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:I,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else a.d.m(v)},gi.requestFormReset=function(v){a.d.r(v)},gi.unstable_batchedUpdates=function(v,x){return v(x)},gi.useFormState=function(v,x,I){return p.H.useFormState(v,x,I)},gi.useFormStatus=function(){return p.H.useHostTransitionStatus()},gi.version="19.2.4",gi}var Ov;function YE(){if(Ov)return Hm.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hm.exports=KE(),Hm.exports}var Pv;function QE(){if(Pv)return nc;Pv=1;var r=ZE(),t=Mp(),n=YE();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function b(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function x(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return v(m),e;if(g===c)return v(m),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,C=m.child;C;){if(C===o){T=!0,o=m,c=g;break}if(C===c){T=!0,c=m,o=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===o){T=!0,o=g,c=m;break}if(C===c){T=!0,c=g,o=m;break}C=C.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function I(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=I(e),i!==null)return i;e=e.sibling}return null}var N=Object.assign,k=Symbol.for("react.element"),et=Symbol.for("react.transitional.element"),at=Symbol.for("react.portal"),ct=Symbol.for("react.fragment"),pt=Symbol.for("react.strict_mode"),Lt=Symbol.for("react.profiler"),jt=Symbol.for("react.consumer"),kt=Symbol.for("react.context"),Jt=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ct:return"Fragment";case Lt:return"Profiler";case pt:return"StrictMode";case Ne:return"Suspense";case se:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case at:return"Portal";case kt:return e.displayName||"Context";case jt:return(e._context.displayName||"Context")+".Consumer";case Jt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ee(e.type)||"Memo";case M:i=e._payload,e=e._init;try{return ee(e(i))}catch{}}return null}var tn=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},ne=[],xt=-1;function j(e){return{current:e}}function nt(e){0>xt||(e.current=ne[xt],ne[xt]=null,xt--)}function dt(e,i){xt++,ne[xt]=e.current,e.current=i}var mt=j(null),Tt=j(null),bt=j(null),qt=j(null);function Oe(e,i){switch(dt(bt,i),dt(Tt,e),dt(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Xy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Xy(i),e=Wy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(mt),dt(mt,e)}function je(){nt(mt),nt(Tt),nt(bt)}function ai(e){e.memoizedState!==null&&dt(qt,e);var i=mt.current,o=Wy(i,e.type);i!==o&&(dt(Tt,e),dt(mt,o))}function es(e){Tt.current===e&&(nt(mt),nt(Tt)),qt.current===e&&(nt(qt),Wu._currentValue=ft)}var zn,ns;function jn(e){if(zn===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);zn=i&&i[1]||"",ns=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zn+e+ns}var Ds=!1;function Vs(e,i){if(!e||Ds)return"";Ds=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(tt){var J=tt}Reflect.construct(e,[],lt)}else{try{lt.call()}catch(tt){J=tt}e.call(lt.prototype)}}else{try{throw Error()}catch(tt){J=tt}(lt=e())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var z=T.split(`
`),X=C.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===X.length)for(c=z.length-1,m=X.length-1;1<=c&&0<=m&&z[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==X[m]){var it=`
`+z[c].replace(" at new "," at ");return e.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",e.displayName)),it}while(1<=c&&0<=m);break}}}finally{Ds=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?jn(o):""}function zs(e,i){switch(e.tag){case 26:case 27:case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return e.child!==i&&i!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Vs(e.type,!1);case 11:return Vs(e.type.render,!1);case 1:return Vs(e.type,!0);case 31:return jn("Activity");default:return""}}function ys(e){try{var i="",o=null;do i+=zs(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var en=Object.prototype.hasOwnProperty,He=r.unstable_scheduleCallback,Qn=r.unstable_cancelCallback,wi=r.unstable_shouldYield,Mi=r.unstable_requestPaint,pn=r.unstable_now,js=r.unstable_getCurrentPriorityLevel,vs=r.unstable_ImmediatePriority,Oi=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,_o=r.unstable_LowPriority,hr=r.unstable_IdlePriority,nn=r.log,_a=r.unstable_setDisableYieldValue,Xn=null,hn=null;function oi(e){if(typeof nn=="function"&&_a(e),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(Xn,e)}catch{}}var Ye=Math.clz32?Math.clz32:ge,Us=Math.log,Bs=Math.LN2;function ge(e){return e>>>=0,e===0?32:31-(Us(e)/Bs|0)|0}var Un=256,Qt=262144,we=4194304;function Pi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ti(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?m=Pi(c):(T&=C,T!==0?m=Pi(T):o||(o=C&~e,o!==0&&(m=Pi(o))))):(C=c&~g,C!==0?m=Pi(C):T!==0?m=Pi(T):o||(o=c&~e,o!==0&&(m=Pi(o)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:m}function xi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function fr(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jr(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function Di(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Ei(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yo(e,i,o,c,m,g){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,z=e.expirationTimes,X=e.hiddenUpdates;for(o=T&~o;0<o;){var it=31-Ye(o),lt=1<<it;C[it]=0,z[it]=-1;var J=X[it];if(J!==null)for(X[it]=null,it=0;it<J.length;it++){var tt=J[it];tt!==null&&(tt.lane&=-536870913)}o&=~lt}c!==0&&bs(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(T&~i))}function bs(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Ye(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function bn(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-Ye(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function Si(e,i){var o=i&-i;return o=(o&42)!==0?1:wn(o),(o&(e.suspendedLanes|i))!==0?0:o}function wn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function At(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ur(){var e=_t.p;return e!==0?e:(e=window.event,e===void 0?32:bv(e.type))}function li(e,i){var o=_t.p;try{return _t.p=e,i()}finally{_t.p=o}}var Wn=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Wn,Xe="__reactProps$"+Wn,ui="__reactContainer$"+Wn,ci="__reactEvents$"+Wn,ws="__reactListeners$"+Wn,Br="__reactHandles$"+Wn,qs="__reactResources$"+Wn,Vi="__reactMarker$"+Wn;function dr(e){delete e[Qe],delete e[Xe],delete e[ci],delete e[ws],delete e[Br]}function Ai(e){var i=e[Qe];if(i)return i;for(var o=e.parentNode;o;){if(i=o[ui]||o[Qe]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=sv(e);e!==null;){if(o=e[Qe])return o;e=sv(e)}return i}e=o,o=e.parentNode}return null}function Te(e){if(e=e[Qe]||e[ui]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Tn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Mn(e){var i=e[qs];return i||(i=e[qs]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function We(e){e[Vi]=!0}var mr=new Set,qr={};function Bn(e,i){Jn(e,i),Jn(e+"Capture",i)}function Jn(e,i){for(qr[e]=i,e=0;e<i.length;e++)mr.add(i[e])}var zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hs={},Fs={};function Ts(e){return en.call(Fs,e)?!0:en.call(Hs,e)?!1:zi.test(e)?Fs[e]=!0:(Hs[e]=!0,!1)}function Kt(e,i,o){if(Ts(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function re(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Fe(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function On(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gs(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Et(e){if(!e._valueTracker){var i=On(e)?"checked":"value";e._valueTracker=Gs(e,i,""+e[i])}}function xe(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=On(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ji=/[\n"\\]/g;function Pe(e){return e.replace(ji,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pr(e,i,o,c,m,g,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ke(i)):e.value!==""+ke(i)&&(e.value=""+ke(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Ci(e,T,ke(i)):o!=null?Ci(e,T,ke(o)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+ke(C):e.removeAttribute("name")}function Zs(e,i,o,c,m,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Et(e);return}o=o!=null?""+ke(o):"",i=i!=null?""+ke(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Et(e)}function Ci(e,i,o){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function be(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+ke(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function xn(e,i,o){if(i!=null&&(i=""+ke(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+ke(o):""}function $n(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(tn(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=ke(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),Et(e)}function sn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var gr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ui(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||gr.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function B(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&Ui(e,m,c)}else for(var g in i)i.hasOwnProperty(g)&&Ui(e,g,i[g])}function st(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ae(){}var Le=null;function De(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ee=null,Rt=null;function Ge(e){var i=Te(e);if(i&&(e=i.stateNode)){var o=e[Xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(pr(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pe(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[Xe]||null;if(!m)throw Error(a(90));pr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&xe(c)}break t;case"textarea":xn(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&be(e,!!o.multiple,i,!1)}}}var Yt=!1;function fi(e,i,o){if(Yt)return e(i,o);Yt=!0;try{var c=e(i);return c}finally{if(Yt=!1,(Ee!==null||Rt!==null)&&(xh(),Ee&&(i=Ee,e=Rt,Rt=Ee=null,Ge(i),e)))for(i=0;i<e.length;i++)Ge(e[i])}}function Je(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Xe]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(qn)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{Ks=!1}var Bi=null,Ys=null,rn=null;function ss(){if(rn)return rn;var e,i=Ys,o=i.length,c,m="value"in Bi?Bi.value:Bi.textContent,g=m.length;for(e=0;e<o&&i[e]===m[e];e++);var T=o-e;for(c=1;c<=T&&i[o-c]===m[g-c];c++);return rn=m.slice(e,1<c?1-c:void 0)}function _r(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function rs(){return!1}function En(e){function i(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xs:rs,this.isPropagationStopped=rs,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),i}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=En(as),Qs=N({},as,{view:0,detail:0}),ie=En(Qs),yr,Hn,di,Hr=N({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(yr=e.screenX-di.screenX,Hn=e.screenY-di.screenY):Hn=yr=0,di=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:Hn}}),vo=En(Hr),Xs=N({},Hr,{dataTransfer:0}),cl=En(Xs),bo=N({},Qs,{relatedTarget:0}),Fr=En(bo),wo=N({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=En(wo),va=N({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ii=En(va),hl=N({},as,{data:0}),os=En(hl),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ba(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=xo[e])?!!i[e]:!1}function vr(){return ba}var Fn=N({},Qs,{key:function(e){if(e.key){var i=ls[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?To[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eo=En(Fn),fl=N({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=En(fl),f=N({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),y=En(f),E=N({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=En(E),Y=N({},Hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$=En(Y),yt=N({},as,{newState:0,oldState:0}),Bt=En(yt),_e=[9,13,27,32],ye=qn&&"CompositionEvent"in window,Ze=null;qn&&"documentMode"in document&&(Ze=document.documentMode);var qi=qn&&"TextEvent"in window&&!Ze,Hi=qn&&(!ye||Ze&&8<Ze&&11>=Ze),Ri=" ",us=!1;function Gr(e,i){switch(e){case"keyup":return _e.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function cs(e,i){switch(e){case"compositionend":return Zr(i);case"keypress":return i.which!==32?null:(us=!0,Ri);case"textInput":return e=i.data,e===Ri&&us?null:e;default:return null}}function Ta(e,i){if(wa)return e==="compositionend"||!ye&&Gr(e,i)?(e=ss(),rn=Ys=Bi=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Hi&&i.locale!=="ko"?null:i.data;default:return null}}var nd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ss(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!nd[e.type]:i==="textarea"}function Uc(e,i,o,c){Ee?Rt?Rt.push(c):Rt=[c]:Ee=c,i=Nh(i,"onChange"),0<i.length&&(o=new Es("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var As=null,So=null;function Ao(e){Fy(e,0)}function Co(e){var i=Tn(e);if(xe(i))return e}function Io(e,i){if(e==="change")return i}var Bc=!1;if(qn){var Cs;if(qn){var xa="oninput"in document;if(!xa){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),xa=typeof qc.oninput=="function"}Cs=xa}else Cs=!1;Bc=Cs&&(!document.documentMode||9<document.documentMode)}function dl(){As&&(As.detachEvent("onpropertychange",Hc),So=As=null)}function Hc(e){if(e.propertyName==="value"&&Co(So)){var i=[];Uc(i,So,e,De(e)),fi(Ao,i)}}function Js(e,i,o){e==="focusin"?(dl(),As=i,So=o,As.attachEvent("onpropertychange",Hc)):e==="focusout"&&dl()}function id(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(So)}function Ea(e,i){if(e==="click")return Co(i)}function sd(e,i){if(e==="input"||e==="change")return Co(i)}function $s(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Gn=typeof Object.is=="function"?Object.is:$s;function Sa(e,i){if(Gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!en.call(i,m)||!Gn(e[m],i[m]))return!1}return!0}function ml(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ro(e,i){var o=ml(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=ml(o)}}function pl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function No(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=hi(e.document)}return i}function br(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var gl=qn&&"documentMode"in document&&11>=document.documentMode,wr=null,_l=null,ko=null,Aa=!1;function Fc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Aa||wr==null||wr!==hi(c)||(c=wr,"selectionStart"in c&&br(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ko&&Sa(ko,c)||(ko=c,c=Nh(_l,"onSelect"),0<c.length&&(i=new Es("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=wr)))}function Tr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Ca={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},yl={},Gc={};qn&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Zn(e){if(yl[e])return yl[e];if(!Ca[e])return e;var i=Ca[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Gc)return yl[e]=i[o];return e}var Lo=Zn("animationend"),Zc=Zn("animationiteration"),Mo=Zn("animationstart"),rd=Zn("transitionrun"),Kc=Zn("transitionstart"),ad=Zn("transitioncancel"),Ia=Zn("transitionend"),Yc=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xr.push("scrollEnd");function Fi(e,i){Yc.set(e,i),Bn(i,[e])}var Oo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gi=[],mi=0,vl=0;function Po(){for(var e=mi,i=vl=mi=0;i<e;){var o=Gi[i];Gi[i++]=null;var c=Gi[i];Gi[i++]=null;var m=Gi[i];Gi[i++]=null;var g=Gi[i];if(Gi[i++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&Ra(o,m,g)}}function Er(e,i,o,c){Gi[mi++]=e,Gi[mi++]=i,Gi[mi++]=o,Gi[mi++]=c,vl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function vu(e,i,o,c){return Er(e,i,o,c),Do(e)}function Is(e,i){return Er(e,null,null,i),Do(e)}function Ra(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&i!==null&&(m=31-Ye(o),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),g):null}function Do(e){if(50<Fu)throw Fu=0,lm=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Kr={};function od(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(e,i,o,c){return new od(e,i,o,c)}function bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rs(e,i){var o=e.alternate;return o===null?(o=pi(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function bu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Vo(e,i,o,c,m,g){var T=0;if(c=e,typeof e=="function")bl(e)&&(T=1);else if(typeof e=="string")T=RE(e,o,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case V:return e=pi(31,o,i,m),e.elementType=V,e.lanes=g,e;case ct:return Yr(o.children,m,g,i);case pt:T=8,m|=24;break;case Lt:return e=pi(12,o,i,m|2),e.elementType=Lt,e.lanes=g,e;case Ne:return e=pi(13,o,i,m),e.elementType=Ne,e.lanes=g,e;case se:return e=pi(19,o,i,m),e.elementType=se,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kt:T=10;break t;case jt:T=9;break t;case Jt:T=11;break t;case D:T=14;break t;case M:T=16,c=null;break t}T=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=pi(T,o,i,m),i.elementType=e,i.type=c,i.lanes=g,i}function Yr(e,i,o,c){return e=pi(7,e,c,i),e.lanes=o,e}function wl(e,i,o){return e=pi(6,e,null,i),e.lanes=o,e}function wu(e){var i=pi(18,null,null,0);return i.stateNode=e,i}function Tu(e,i,o){return i=pi(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:ys(i)},s.set(e,i),i)}return{value:e,source:i,stack:ys(i)}}var d=[],_=0,w=null,A=0,O=[],Z=0,W=null,ot=1,wt="";function Ot(e,i){d[_++]=A,d[_++]=w,w=e,A=i}function $t(e,i,o){O[Z++]=ot,O[Z++]=wt,O[Z++]=W,W=e;var c=ot;e=wt;var m=32-Ye(c)-1;c&=~(1<<m),o+=1;var g=32-Ye(i)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,ot=1<<32-Ye(i)+m|o<<m|c,wt=g+e}else ot=1<<g|o<<m|c,wt=e}function Pn(e){e.return!==null&&(Ot(e,1),$t(e,1,0))}function fn(e){for(;e===w;)w=d[--_],d[_]=null,A=d[--_],d[_]=null;for(;e===W;)W=O[--Z],O[Z]=null,wt=O[--Z],O[Z]=null,ot=O[--Z],O[Z]=null}function Ni(e,i){O[Z++]=ot,O[Z++]=wt,O[Z++]=W,ot=i.id,wt=i.overflow,W=e}var Se=null,Ae=null,oe=!1,Sr=null,Zi=!1,Tl=Error(a(519));function Ar(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(u(i,e)),Tl}function xu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Qe]=e,i[Xe]=c,o){case"dialog":ue("cancel",i),ue("close",i);break;case"iframe":case"object":case"embed":ue("load",i);break;case"video":case"audio":for(o=0;o<Zu.length;o++)ue(Zu[o],i);break;case"source":ue("error",i);break;case"img":case"image":case"link":ue("error",i),ue("load",i);break;case"details":ue("toggle",i);break;case"input":ue("invalid",i),Zs(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ue("invalid",i);break;case"textarea":ue("invalid",i),$n(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Yy(i.textContent,o)?(c.popover!=null&&(ue("beforetoggle",i),ue("toggle",i)),c.onScroll!=null&&ue("scroll",i),c.onScrollEnd!=null&&ue("scrollend",i),c.onClick!=null&&(i.onclick=ae),i=!0):i=!1,i||Ar(e,!0)}function un(e){for(Se=e.return;Se;)switch(Se.tag){case 5:case 31:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:Se=Se.return}}function tr(e){if(e!==Se)return!1;if(!oe)return un(e),oe=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||xm(e.type,e.memoizedProps)),o=!o),o&&Ae&&Ar(e),un(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ae=iv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ae=iv(e)}else i===27?(i=Ae,Ha(e.type)?(e=Im,Im=null,Ae=e):Ae=i):Ae=Se?ks(e.stateNode.nextSibling):null;return!0}function Qr(){Ae=Se=null,oe=!1}function Eu(){var e=Sr;return e!==null&&(Xi===null?Xi=e:Xi.push.apply(Xi,e),Sr=null),e}function zo(e){Sr===null?Sr=[e]:Sr.push(e)}var jo=j(null),Cr=null,er=null;function Na(e,i,o){dt(jo,i._currentValue),i._currentValue=o}function Xr(e){e._currentValue=jo.current,nt(jo)}function ld(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function ud(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=m;for(var z=0;z<i.length;z++)if(C.context===i[z]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),ld(g.return,o,e),c||(T=null);break t}g=C.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(a(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),ld(T,o,e),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===e){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function xl(e,i,o,c){e=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=m.type;Gn(m.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(m===qt.current){if(T=m.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Wu):e=[Wu])}m=m.return}e!==null&&ud(i,e,o,c),i.flags|=262144}function Qc(e){for(e=e.firstContext;e!==null;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Uo(e){Cr=e,er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ti(e){return Mg(Cr,e)}function Xc(e,i){return Cr===null&&Uo(e),Mg(e,i)}function Mg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},er===null){if(e===null)throw Error(a(308));er=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else er=er.next=i;return o}var Sx=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Ax=r.unstable_scheduleCallback,Cx=r.unstable_NormalPriority,Sn={$$typeof:kt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new Sx,data:new Map,refCount:0}}function Su(e){e.refCount--,e.refCount===0&&Ax(Cx,function(){e.controller.abort()})}var Au=null,hd=0,El=0,Sl=null;function Ix(e,i){if(Au===null){var o=Au=[];hd=0,El=mm(),Sl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return hd++,i.then(Og,Og),i}function Og(){if(--hd===0&&Au!==null){Sl!==null&&(Sl.status="fulfilled");var e=Au;Au=null,El=0,Sl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Rx(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Pg=K.S;K.S=function(e,i){yy=pn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ix(e,i),Pg!==null&&Pg(e,i)};var Bo=j(null);function fd(){var e=Bo.current;return e!==null?e:Ke.pooledCache}function Wc(e,i){i===null?dt(Bo,Bo.current):dt(Bo,i.pool)}function Dg(){var e=fd();return e===null?null:{parent:Sn._currentValue,pool:e}}var Al=Error(a(460)),dd=Error(a(474)),Jc=Error(a(542)),$c={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(ae,ae),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e;default:if(typeof i.status=="string")i.then(ae,ae);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e}throw Ho=i,Al}}function qo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ho=o,Al):o}}var Ho=null;function jg(){if(Ho===null)throw Error(a(459));var e=Ho;return Ho=null,e}function Ug(e){if(e===Al||e===Jc)throw Error(a(483))}var Cl=null,Cu=0;function th(e){var i=Cu;return Cu+=1,Cl===null&&(Cl=[]),zg(Cl,e,i)}function Iu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function eh(e,i){throw i.$$typeof===k?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Bg(e){function i(G,q){if(e){var Q=G.deletions;Q===null?(G.deletions=[q],G.flags|=16):Q.push(q)}}function o(G,q){if(!e)return null;for(;q!==null;)i(G,q),q=q.sibling;return null}function c(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function m(G,q){return G=Rs(G,q),G.index=0,G.sibling=null,G}function g(G,q,Q){return G.index=Q,e?(Q=G.alternate,Q!==null?(Q=Q.index,Q<q?(G.flags|=67108866,q):Q):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function T(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function C(G,q,Q,rt){return q===null||q.tag!==6?(q=wl(Q,G.mode,rt),q.return=G,q):(q=m(q,Q),q.return=G,q)}function z(G,q,Q,rt){var Dt=Q.type;return Dt===ct?it(G,q,Q.props.children,rt,Q.key):q!==null&&(q.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===M&&qo(Dt)===q.type)?(q=m(q,Q.props),Iu(q,Q),q.return=G,q):(q=Vo(Q.type,Q.key,Q.props,null,G.mode,rt),Iu(q,Q),q.return=G,q)}function X(G,q,Q,rt){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Tu(Q,G.mode,rt),q.return=G,q):(q=m(q,Q.children||[]),q.return=G,q)}function it(G,q,Q,rt,Dt){return q===null||q.tag!==7?(q=Yr(Q,G.mode,rt,Dt),q.return=G,q):(q=m(q,Q),q.return=G,q)}function lt(G,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=wl(""+q,G.mode,Q),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case et:return Q=Vo(q.type,q.key,q.props,null,G.mode,Q),Iu(Q,q),Q.return=G,Q;case at:return q=Tu(q,G.mode,Q),q.return=G,q;case M:return q=qo(q),lt(G,q,Q)}if(tn(q)||F(q))return q=Yr(q,G.mode,Q,null),q.return=G,q;if(typeof q.then=="function")return lt(G,th(q),Q);if(q.$$typeof===kt)return lt(G,Xc(G,q),Q);eh(G,q)}return null}function J(G,q,Q,rt){var Dt=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Dt!==null?null:C(G,q,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case et:return Q.key===Dt?z(G,q,Q,rt):null;case at:return Q.key===Dt?X(G,q,Q,rt):null;case M:return Q=qo(Q),J(G,q,Q,rt)}if(tn(Q)||F(Q))return Dt!==null?null:it(G,q,Q,rt,null);if(typeof Q.then=="function")return J(G,q,th(Q),rt);if(Q.$$typeof===kt)return J(G,q,Xc(G,Q),rt);eh(G,Q)}return null}function tt(G,q,Q,rt,Dt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return G=G.get(Q)||null,C(q,G,""+rt,Dt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case et:return G=G.get(rt.key===null?Q:rt.key)||null,z(q,G,rt,Dt);case at:return G=G.get(rt.key===null?Q:rt.key)||null,X(q,G,rt,Dt);case M:return rt=qo(rt),tt(G,q,Q,rt,Dt)}if(tn(rt)||F(rt))return G=G.get(Q)||null,it(q,G,rt,Dt,null);if(typeof rt.then=="function")return tt(G,q,Q,th(rt),Dt);if(rt.$$typeof===kt)return tt(G,q,Q,Xc(q,rt),Dt);eh(q,rt)}return null}function Nt(G,q,Q,rt){for(var Dt=null,Ce=null,Mt=q,te=q=0,fe=null;Mt!==null&&te<Q.length;te++){Mt.index>te?(fe=Mt,Mt=null):fe=Mt.sibling;var Ie=J(G,Mt,Q[te],rt);if(Ie===null){Mt===null&&(Mt=fe);break}e&&Mt&&Ie.alternate===null&&i(G,Mt),q=g(Ie,q,te),Ce===null?Dt=Ie:Ce.sibling=Ie,Ce=Ie,Mt=fe}if(te===Q.length)return o(G,Mt),oe&&Ot(G,te),Dt;if(Mt===null){for(;te<Q.length;te++)Mt=lt(G,Q[te],rt),Mt!==null&&(q=g(Mt,q,te),Ce===null?Dt=Mt:Ce.sibling=Mt,Ce=Mt);return oe&&Ot(G,te),Dt}for(Mt=c(Mt);te<Q.length;te++)fe=tt(Mt,G,te,Q[te],rt),fe!==null&&(e&&fe.alternate!==null&&Mt.delete(fe.key===null?te:fe.key),q=g(fe,q,te),Ce===null?Dt=fe:Ce.sibling=fe,Ce=fe);return e&&Mt.forEach(function(Ya){return i(G,Ya)}),oe&&Ot(G,te),Dt}function zt(G,q,Q,rt){if(Q==null)throw Error(a(151));for(var Dt=null,Ce=null,Mt=q,te=q=0,fe=null,Ie=Q.next();Mt!==null&&!Ie.done;te++,Ie=Q.next()){Mt.index>te?(fe=Mt,Mt=null):fe=Mt.sibling;var Ya=J(G,Mt,Ie.value,rt);if(Ya===null){Mt===null&&(Mt=fe);break}e&&Mt&&Ya.alternate===null&&i(G,Mt),q=g(Ya,q,te),Ce===null?Dt=Ya:Ce.sibling=Ya,Ce=Ya,Mt=fe}if(Ie.done)return o(G,Mt),oe&&Ot(G,te),Dt;if(Mt===null){for(;!Ie.done;te++,Ie=Q.next())Ie=lt(G,Ie.value,rt),Ie!==null&&(q=g(Ie,q,te),Ce===null?Dt=Ie:Ce.sibling=Ie,Ce=Ie);return oe&&Ot(G,te),Dt}for(Mt=c(Mt);!Ie.done;te++,Ie=Q.next())Ie=tt(Mt,G,te,Ie.value,rt),Ie!==null&&(e&&Ie.alternate!==null&&Mt.delete(Ie.key===null?te:Ie.key),q=g(Ie,q,te),Ce===null?Dt=Ie:Ce.sibling=Ie,Ce=Ie);return e&&Mt.forEach(function(UE){return i(G,UE)}),oe&&Ot(G,te),Dt}function qe(G,q,Q,rt){if(typeof Q=="object"&&Q!==null&&Q.type===ct&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case et:t:{for(var Dt=Q.key;q!==null;){if(q.key===Dt){if(Dt=Q.type,Dt===ct){if(q.tag===7){o(G,q.sibling),rt=m(q,Q.props.children),rt.return=G,G=rt;break t}}else if(q.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===M&&qo(Dt)===q.type){o(G,q.sibling),rt=m(q,Q.props),Iu(rt,Q),rt.return=G,G=rt;break t}o(G,q);break}else i(G,q);q=q.sibling}Q.type===ct?(rt=Yr(Q.props.children,G.mode,rt,Q.key),rt.return=G,G=rt):(rt=Vo(Q.type,Q.key,Q.props,null,G.mode,rt),Iu(rt,Q),rt.return=G,G=rt)}return T(G);case at:t:{for(Dt=Q.key;q!==null;){if(q.key===Dt)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){o(G,q.sibling),rt=m(q,Q.children||[]),rt.return=G,G=rt;break t}else{o(G,q);break}else i(G,q);q=q.sibling}rt=Tu(Q,G.mode,rt),rt.return=G,G=rt}return T(G);case M:return Q=qo(Q),qe(G,q,Q,rt)}if(tn(Q))return Nt(G,q,Q,rt);if(F(Q)){if(Dt=F(Q),typeof Dt!="function")throw Error(a(150));return Q=Dt.call(Q),zt(G,q,Q,rt)}if(typeof Q.then=="function")return qe(G,q,th(Q),rt);if(Q.$$typeof===kt)return qe(G,q,Xc(G,Q),rt);eh(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(o(G,q.sibling),rt=m(q,Q),rt.return=G,G=rt):(o(G,q),rt=wl(Q,G.mode,rt),rt.return=G,G=rt),T(G)):o(G,q)}return function(G,q,Q,rt){try{Cu=0;var Dt=qe(G,q,Q,rt);return Cl=null,Dt}catch(Mt){if(Mt===Al||Mt===Jc)throw Mt;var Ce=pi(29,Mt,null,G.mode);return Ce.lanes=rt,Ce.return=G,Ce}}}var Fo=Bg(!0),qg=Bg(!1),ka=!1;function md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Re&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=Do(e),Ra(e,null,o),i}return Er(e,c,i,o),Do(e)}function Ru(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,bn(e,o)}}function gd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=i:g=g.next=i}else m=g=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var _d=!1;function Nu(){if(_d){var e=Sl;if(e!==null)throw e}}function ku(e,i,o,c){_d=!1;var m=e.updateQueue;ka=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var z=C,X=z.next;z.next=null,T===null?g=X:T.next=X,T=z;var it=e.alternate;it!==null&&(it=it.updateQueue,C=it.lastBaseUpdate,C!==T&&(C===null?it.firstBaseUpdate=X:C.next=X,it.lastBaseUpdate=z))}if(g!==null){var lt=m.baseState;T=0,it=X=z=null,C=g;do{var J=C.lane&-536870913,tt=J!==C.lane;if(tt?(he&J)===J:(c&J)===J){J!==0&&J===El&&(_d=!0),it!==null&&(it=it.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Nt=e,zt=C;J=i;var qe=o;switch(zt.tag){case 1:if(Nt=zt.payload,typeof Nt=="function"){lt=Nt.call(qe,lt,J);break t}lt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=zt.payload,J=typeof Nt=="function"?Nt.call(qe,lt,J):Nt,J==null)break t;lt=N({},lt,J);break t;case 2:ka=!0}}J=C.callback,J!==null&&(e.flags|=64,tt&&(e.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},it===null?(X=it=tt,z=lt):it=it.next=tt,T|=J;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;tt=C,C=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);it===null&&(z=lt),m.baseState=z,m.firstBaseUpdate=X,m.lastBaseUpdate=it,g===null&&(m.shared.lanes=0),za|=T,e.lanes=T,e.memoizedState=lt}}function Hg(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Fg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Hg(o[e],i)}var Il=j(null),nh=j(0);function Gg(e,i){e=ra,dt(nh,e),dt(Il,i),ra=e|i.baseLanes}function yd(){dt(nh,ra),dt(Il,Il.current)}function vd(){ra=nh.current,nt(Il),nt(nh)}var hs=j(null),Ns=null;function Oa(e){var i=e.alternate;dt(gn,gn.current&1),dt(hs,e),Ns===null&&(i===null||Il.current!==null||i.memoizedState!==null)&&(Ns=e)}function bd(e){dt(gn,gn.current),dt(hs,e),Ns===null&&(Ns=e)}function Zg(e){e.tag===22?(dt(gn,gn.current),dt(hs,e),Ns===null&&(Ns=e)):Pa()}function Pa(){dt(gn,gn.current),dt(hs,hs.current)}function fs(e){nt(hs),Ns===e&&(Ns=null),nt(gn)}var gn=j(0);function ih(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Am(o)||Cm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wr=0,Wt=null,Ue=null,An=null,sh=!1,Rl=!1,Go=!1,rh=0,Lu=0,Nl=null,Nx=0;function dn(){throw Error(a(321))}function wd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Gn(e[o],i[o]))return!1;return!0}function Td(e,i,o,c,m,g){return Wr=g,Wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?R_:Vd,Go=!1,g=o(c,m),Go=!1,Rl&&(g=Yg(i,o,c,m)),Kg(e),g}function Kg(e){K.H=Pu;var i=Ue!==null&&Ue.next!==null;if(Wr=0,An=Ue=Wt=null,sh=!1,Lu=0,Nl=null,i)throw Error(a(300));e===null||Cn||(e=e.dependencies,e!==null&&Qc(e)&&(Cn=!0))}function Yg(e,i,o,c){Wt=e;var m=0;do{if(Rl&&(Nl=null),Lu=0,Rl=!1,25<=m)throw Error(a(301));if(m+=1,An=Ue=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=N_,g=i(o,c)}while(Rl);return g}function kx(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Mu(i):i,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(Wt.flags|=1024),i}function xd(){var e=rh!==0;return rh=0,e}function Ed(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Sd(e){if(sh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}sh=!1}Wr=0,An=Ue=Wt=null,Rl=!1,Lu=rh=0,Nl=null}function ki(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Wt.memoizedState=An=e:An=An.next=e,An}function _n(){if(Ue===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var i=An===null?Wt.memoizedState:An.next;if(i!==null)An=i,Ue=e;else{if(e===null)throw Wt.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},An===null?Wt.memoizedState=An=e:An=An.next=e}return An}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mu(e){var i=Lu;return Lu+=1,Nl===null&&(Nl=[]),e=zg(Nl,e,i),i=Wt,(An===null?i.memoizedState:An.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?R_:Vd),e}function oh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mu(e);if(e.$$typeof===kt)return ti(e)}throw Error(a(438,String(e)))}function Ad(e){var i=null,o=Wt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Wt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ah(),Wt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=H;return i.index++,o}function Jr(e,i){return typeof i=="function"?i(e):i}function lh(e){var i=_n();return Cd(i,Ue,e)}function Cd(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}i.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{i=m.next;var C=T=null,z=null,X=i,it=!1;do{var lt=X.lane&-536870913;if(lt!==X.lane?(he&lt)===lt:(Wr&lt)===lt){var J=X.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),lt===El&&(it=!0);else if((Wr&J)===J){X=X.next,J===El&&(it=!0);continue}else lt={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(C=z=lt,T=g):z=z.next=lt,Wt.lanes|=J,za|=J;lt=X.action,Go&&o(g,lt),g=X.hasEagerState?X.eagerState:o(g,lt)}else J={lane:lt,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(C=z=J,T=g):z=z.next=J,Wt.lanes|=lt,za|=lt;X=X.next}while(X!==null&&X!==i);if(z===null?T=g:z.next=C,!Gn(g,e.memoizedState)&&(Cn=!0,it&&(o=Sl,o!==null)))throw o;e.memoizedState=g,e.baseState=T,e.baseQueue=z,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Id(e){var i=_n(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,g=i.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=e(g,T.action),T=T.next;while(T!==m);Gn(g,i.memoizedState)||(Cn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function Qg(e,i,o){var c=Wt,m=_n(),g=oe;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var T=!Gn((Ue||m).memoizedState,o);if(T&&(m.memoizedState=o,Cn=!0),m=m.queue,kd(Jg.bind(null,c,m,e),[e]),m.getSnapshot!==i||T||An!==null&&An.memoizedState.tag&1){if(c.flags|=2048,kl(9,{destroy:void 0},Wg.bind(null,c,m,o,i),null),Ke===null)throw Error(a(349));g||(Wr&127)!==0||Xg(c,i,o)}return o}function Xg(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Wt.updateQueue,i===null?(i=ah(),Wt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function Wg(e,i,o,c){i.value=o,i.getSnapshot=c,$g(i)&&t_(e)}function Jg(e,i,o){return o(function(){$g(i)&&t_(e)})}function $g(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Gn(e,o)}catch{return!0}}function t_(e){var i=Is(e,2);i!==null&&Wi(i,e,2)}function Rd(e){var i=ki();if(typeof e=="function"){var o=e;if(e=o(),Go){oi(!0);try{o()}finally{oi(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e},i}function e_(e,i,o,c){return e.baseState=o,Cd(e,Ue,typeof c=="function"?c:Jr)}function Lx(e,i,o,c,m){if(hh(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};K.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,n_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function n_(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var g=K.T,T={};K.T=T;try{var C=o(m,c),z=K.S;z!==null&&z(T,C),i_(e,i,C)}catch(X){Nd(e,i,X)}finally{g!==null&&T.types!==null&&(g.types=T.types),K.T=g}}else try{g=o(m,c),i_(e,i,g)}catch(X){Nd(e,i,X)}}function i_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){s_(e,i,c)},function(c){return Nd(e,i,c)}):s_(e,i,o)}function s_(e,i,o){i.status="fulfilled",i.value=o,r_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,n_(e,o)))}function Nd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,r_(i),i=i.next;while(i!==c)}e.action=null}function r_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function a_(e,i){return i}function o_(e,i){if(oe){var o=Ke.formState;if(o!==null){t:{var c=Wt;if(oe){if(Ae){e:{for(var m=Ae,g=Zi;m.nodeType!==8;){if(!g){m=null;break e}if(m=ks(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Ae=ks(m.nextSibling),c=m.data==="F!";break t}}Ar(c)}c=!1}c&&(i=o[0])}}return o=ki(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a_,lastRenderedState:i},o.queue=c,o=A_.bind(null,Wt,c),c.dispatch=o,c=Rd(!1),g=Dd.bind(null,Wt,!1,c.queue),c=ki(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=Lx.bind(null,Wt,m,g,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function l_(e){var i=_n();return u_(i,Ue,e)}function u_(e,i,o){if(i=Cd(e,i,a_)[0],e=lh(Jr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Mu(i)}catch(T){throw T===Al?Jc:T}else c=i;i=_n();var m=i.queue,g=m.dispatch;return o!==i.memoizedState&&(Wt.flags|=2048,kl(9,{destroy:void 0},Mx.bind(null,m,o),null)),[c,g,e]}function Mx(e,i){e.action=i}function c_(e){var i=_n(),o=Ue;if(o!==null)return u_(i,o,e);_n(),i=i.memoizedState,o=_n();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function kl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Wt.updateQueue,i===null&&(i=ah(),Wt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function h_(){return _n().memoizedState}function uh(e,i,o,c){var m=ki();Wt.flags|=e,m.memoizedState=kl(1|i,{destroy:void 0},o,c===void 0?null:c)}function ch(e,i,o,c){var m=_n();c=c===void 0?null:c;var g=m.memoizedState.inst;Ue!==null&&c!==null&&wd(c,Ue.memoizedState.deps)?m.memoizedState=kl(i,g,o,c):(Wt.flags|=e,m.memoizedState=kl(1|i,g,o,c))}function f_(e,i){uh(8390656,8,e,i)}function kd(e,i){ch(2048,8,e,i)}function Ox(e){Wt.flags|=4;var i=Wt.updateQueue;if(i===null)i=ah(),Wt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function d_(e){var i=_n().memoizedState;return Ox({ref:i,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function m_(e,i){return ch(4,2,e,i)}function p_(e,i){return ch(4,4,e,i)}function g_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function __(e,i,o){o=o!=null?o.concat([e]):null,ch(4,4,g_.bind(null,i,e),o)}function Ld(){}function y_(e,i){var o=_n();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&wd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function v_(e,i){var o=_n();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&wd(i,c[1]))return c[0];if(c=e(),Go){oi(!0);try{e()}finally{oi(!1)}}return o.memoizedState=[c,i],c}function Md(e,i,o){return o===void 0||(Wr&1073741824)!==0&&(he&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=by(),Wt.lanes|=e,za|=e,o)}function b_(e,i,o,c){return Gn(o,i)?o:Il.current!==null?(e=Md(e,o,c),Gn(e,i)||(Cn=!0),e):(Wr&42)===0||(Wr&1073741824)!==0&&(he&261930)===0?(Cn=!0,e.memoizedState=o):(e=by(),Wt.lanes|=e,za|=e,i)}function w_(e,i,o,c,m){var g=_t.p;_t.p=g!==0&&8>g?g:8;var T=K.T,C={};K.T=C,Dd(e,!1,i,o);try{var z=m(),X=K.S;if(X!==null&&X(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var it=Rx(z,c);Ou(e,i,it,ps(e))}else Ou(e,i,c,ps(e))}catch(lt){Ou(e,i,{then:function(){},status:"rejected",reason:lt},ps())}finally{_t.p=g,T!==null&&C.types!==null&&(T.types=C.types),K.T=T}}function Px(){}function Od(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=T_(e).queue;w_(e,m,i,ft,o===null?Px:function(){return x_(e),o(c)})}function T_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:ft},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function x_(e){var i=T_(e);i.next===null&&(i=e.alternate.memoizedState),Ou(e,i.next.queue,{},ps())}function Pd(){return ti(Wu)}function E_(){return _n().memoizedState}function S_(){return _n().memoizedState}function Dx(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=ps();e=La(o);var c=Ma(i,e,o);c!==null&&(Wi(c,i,o),Ru(c,i,o)),i={cache:cd()},e.payload=i;return}i=i.return}}function Vx(e,i,o){var c=ps();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},hh(e)?C_(i,o):(o=vu(e,i,o,c),o!==null&&(Wi(o,e,c),I_(o,i,c)))}function A_(e,i,o){var c=ps();Ou(e,i,o,c)}function Ou(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(hh(e))C_(i,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,C=g(T,o);if(m.hasEagerState=!0,m.eagerState=C,Gn(C,T))return Er(e,i,m,0),Ke===null&&Po(),!1}catch{}if(o=vu(e,i,m,c),o!==null)return Wi(o,e,c),I_(o,i,c),!0}return!1}function Dd(e,i,o,c){if(c={lane:2,revertLane:mm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},hh(e)){if(i)throw Error(a(479))}else i=vu(e,o,c,2),i!==null&&Wi(i,e,2)}function hh(e){var i=e.alternate;return e===Wt||i!==null&&i===Wt}function C_(e,i){Rl=sh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function I_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,bn(e,o)}}var Pu={readContext:ti,use:oh,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Pu.useEffectEvent=dn;var R_={readContext:ti,use:oh,useCallback:function(e,i){return ki().memoizedState=[e,i===void 0?null:i],e},useContext:ti,useEffect:f_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,uh(4194308,4,g_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return uh(4194308,4,e,i)},useInsertionEffect:function(e,i){uh(4,2,e,i)},useMemo:function(e,i){var o=ki();i=i===void 0?null:i;var c=e();if(Go){oi(!0);try{e()}finally{oi(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=ki();if(o!==void 0){var m=o(i);if(Go){oi(!0);try{o(i)}finally{oi(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=Vx.bind(null,Wt,e),[c.memoizedState,e]},useRef:function(e){var i=ki();return e={current:e},i.memoizedState=e},useState:function(e){e=Rd(e);var i=e.queue,o=A_.bind(null,Wt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Ld,useDeferredValue:function(e,i){var o=ki();return Md(o,e,i)},useTransition:function(){var e=Rd(!1);return e=w_.bind(null,Wt,e.queue,!0,!1),ki().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Wt,m=ki();if(oe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ke===null)throw Error(a(349));(he&127)!==0||Xg(c,i,o)}m.memoizedState=o;var g={value:o,getSnapshot:i};return m.queue=g,f_(Jg.bind(null,c,g,e),[e]),c.flags|=2048,kl(9,{destroy:void 0},Wg.bind(null,c,g,o,i),null),o},useId:function(){var e=ki(),i=Ke.identifierPrefix;if(oe){var o=wt,c=ot;o=(c&~(1<<32-Ye(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=rh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Nx++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Pd,useFormState:o_,useActionState:o_,useOptimistic:function(e){var i=ki();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Dd.bind(null,Wt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Ad,useCacheRefresh:function(){return ki().memoizedState=Dx.bind(null,Wt)},useEffectEvent:function(e){var i=ki(),o={impl:e};return i.memoizedState=o,function(){if((Re&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Vd={readContext:ti,use:oh,useCallback:y_,useContext:ti,useEffect:kd,useImperativeHandle:__,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:v_,useReducer:lh,useRef:h_,useState:function(){return lh(Jr)},useDebugValue:Ld,useDeferredValue:function(e,i){var o=_n();return b_(o,Ue.memoizedState,e,i)},useTransition:function(){var e=lh(Jr)[0],i=_n().memoizedState;return[typeof e=="boolean"?e:Mu(e),i]},useSyncExternalStore:Qg,useId:E_,useHostTransitionStatus:Pd,useFormState:l_,useActionState:l_,useOptimistic:function(e,i){var o=_n();return e_(o,Ue,e,i)},useMemoCache:Ad,useCacheRefresh:S_};Vd.useEffectEvent=d_;var N_={readContext:ti,use:oh,useCallback:y_,useContext:ti,useEffect:kd,useImperativeHandle:__,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:v_,useReducer:Id,useRef:h_,useState:function(){return Id(Jr)},useDebugValue:Ld,useDeferredValue:function(e,i){var o=_n();return Ue===null?Md(o,e,i):b_(o,Ue.memoizedState,e,i)},useTransition:function(){var e=Id(Jr)[0],i=_n().memoizedState;return[typeof e=="boolean"?e:Mu(e),i]},useSyncExternalStore:Qg,useId:E_,useHostTransitionStatus:Pd,useFormState:c_,useActionState:c_,useOptimistic:function(e,i){var o=_n();return Ue!==null?e_(o,Ue,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:S_};N_.useEffectEvent=d_;function zd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:N({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var jd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=ps(),m=La(c);m.payload=i,o!=null&&(m.callback=o),i=Ma(e,m,c),i!==null&&(Wi(i,e,c),Ru(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=ps(),m=La(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Ma(e,m,c),i!==null&&(Wi(i,e,c),Ru(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=ps(),c=La(o);c.tag=2,i!=null&&(c.callback=i),i=Ma(e,c,o),i!==null&&(Wi(i,e,o),Ru(i,e,o))}};function k_(e,i,o,c,m,g,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,T):i.prototype&&i.prototype.isPureReactComponent?!Sa(o,c)||!Sa(m,g):!0}function L_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&jd.enqueueReplaceState(i,i.state,null)}function Zo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=N({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function M_(e){Oo(e)}function O_(e){console.error(e)}function P_(e){Oo(e)}function fh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function D_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ud(e,i,o){return o=La(o),o.tag=3,o.payload={element:null},o.callback=function(){fh(e,i)},o}function V_(e){return e=La(e),e.tag=3,e}function z_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){D_(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){D_(i,o,c),typeof m!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function zx(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&xl(i,o,m,!0),o=hs.current,o!==null){switch(o.tag){case 31:case 13:return Ns===null?Eh():o.alternate===null&&mn===0&&(mn=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===$c?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),hm(e,c,m)),!1;case 22:return o.flags|=65536,c===$c?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),hm(e,c,m)),!1}throw Error(a(435,o.tag))}return hm(e,c,m),Eh(),!1}if(oe)return i=hs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Tl&&(e=Error(a(422),{cause:c}),zo(u(e,o)))):(c!==Tl&&(i=Error(a(423),{cause:c}),zo(u(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,o),m=Ud(e.stateNode,c,m),gd(e,m),mn!==4&&(mn=2)),!1;var g=Error(a(520),{cause:c});if(g=u(g,o),Hu===null?Hu=[g]:Hu.push(g),mn!==4&&(mn=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Ud(o.stateNode,c,e),gd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ja===null||!ja.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=V_(m),z_(m,e,o,c),gd(o,m),!1}o=o.return}while(o!==null);return!1}var Bd=Error(a(461)),Cn=!1;function ei(e,i,o,c){i.child=e===null?qg(i,null,o,c):Fo(i,e.child,o,c)}function j_(e,i,o,c,m){o=o.render;var g=i.ref;if("ref"in c){var T={};for(var C in c)C!=="ref"&&(T[C]=c[C])}else T=c;return Uo(i),c=Td(e,i,o,T,g,m),C=xd(),e!==null&&!Cn?(Ed(e,i,m),$r(e,i,m)):(oe&&C&&Pn(i),i.flags|=1,ei(e,i,c,m),i.child)}function U_(e,i,o,c,m){if(e===null){var g=o.type;return typeof g=="function"&&!bl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,B_(e,i,g,c,m)):(e=Vo(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Qd(e,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Sa,o(T,c)&&e.ref===i.ref)return $r(e,i,m)}return i.flags|=1,e=Rs(g,c),e.ref=i.ref,e.return=i,i.child=e}function B_(e,i,o,c,m){if(e!==null){var g=e.memoizedProps;if(Sa(g,c)&&e.ref===i.ref)if(Cn=!1,i.pendingProps=c=g,Qd(e,m))(e.flags&131072)!==0&&(Cn=!0);else return i.lanes=e.lanes,$r(e,i,m)}return qd(e,i,o,c,m)}function q_(e,i,o,c){var m=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,i.child=null;return H_(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wc(i,g!==null?g.cachePool:null),g!==null?Gg(i,g):yd(),Zg(i);else return c=i.lanes=536870912,H_(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Wc(i,g.cachePool),Gg(i,g),Pa(),i.memoizedState=null):(e!==null&&Wc(i,null),yd(),Pa());return ei(e,i,m,o),i.child}function Du(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function H_(e,i,o,c,m){var g=fd();return g=g===null?null:{parent:Sn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&Wc(i,null),yd(),Zg(i),e!==null&&xl(e,i,c,!0),i.childLanes=m,null}function dh(e,i){return i=ph({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function F_(e,i,o){return Fo(i,e.child,null,o),e=dh(i,i.pendingProps),e.flags|=2,fs(i),i.memoizedState=null,e}function jx(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(oe){if(c.mode==="hidden")return e=dh(i,c),i.lanes=536870912,Du(null,e);if(bd(i),(e=Ae)?(e=nv(e,Zi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:W!==null?{id:ot,overflow:wt}:null,retryLane:536870912,hydrationErrors:null},o=wu(e),o.return=i,i.child=o,Se=i,Ae=null)):e=null,e===null)throw Ar(i);return i.lanes=536870912,null}return dh(i,c)}var g=e.memoizedState;if(g!==null){var T=g.dehydrated;if(bd(i),m)if(i.flags&256)i.flags&=-257,i=F_(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Cn||xl(e,i,o,!1),m=(o&e.childLanes)!==0,Cn||m){if(c=Ke,c!==null&&(T=Si(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Is(e,T),Wi(c,e,T),Bd;Eh(),i=F_(e,i,o)}else e=g.treeContext,Ae=ks(T.nextSibling),Se=i,oe=!0,Sr=null,Zi=!1,e!==null&&Ni(i,e),i=dh(i,c),i.flags|=4096;return i}return e=Rs(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function mh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function qd(e,i,o,c,m){return Uo(i),o=Td(e,i,o,c,void 0,m),c=xd(),e!==null&&!Cn?(Ed(e,i,m),$r(e,i,m)):(oe&&c&&Pn(i),i.flags|=1,ei(e,i,o,m),i.child)}function G_(e,i,o,c,m,g){return Uo(i),i.updateQueue=null,o=Yg(i,c,o,m),Kg(e),c=xd(),e!==null&&!Cn?(Ed(e,i,g),$r(e,i,g)):(oe&&c&&Pn(i),i.flags|=1,ei(e,i,o,g),i.child)}function Z_(e,i,o,c,m){if(Uo(i),i.stateNode===null){var g=Kr,T=o.contextType;typeof T=="object"&&T!==null&&(g=ti(T)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},md(i),T=o.contextType,g.context=typeof T=="object"&&T!==null?ti(T):Kr,g.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(zd(i,o,T,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&jd.enqueueReplaceState(g,g.state,null),ku(i,c,g,m),Nu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var C=i.memoizedProps,z=Zo(o,C);g.props=z;var X=g.context,it=o.contextType;T=Kr,typeof it=="object"&&it!==null&&(T=ti(it));var lt=o.getDerivedStateFromProps;it=typeof lt=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,it||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||X!==T)&&L_(i,g,c,T),ka=!1;var J=i.memoizedState;g.state=J,ku(i,c,g,m),Nu(),X=i.memoizedState,C||J!==X||ka?(typeof lt=="function"&&(zd(i,o,lt,c),X=i.memoizedState),(z=ka||k_(i,o,z,c,J,X,T))?(it||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=X),g.props=c,g.state=X,g.context=T,c=z):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,pd(e,i),T=i.memoizedProps,it=Zo(o,T),g.props=it,lt=i.pendingProps,J=g.context,X=o.contextType,z=Kr,typeof X=="object"&&X!==null&&(z=ti(X)),C=o.getDerivedStateFromProps,(X=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==lt||J!==z)&&L_(i,g,c,z),ka=!1,J=i.memoizedState,g.state=J,ku(i,c,g,m),Nu();var tt=i.memoizedState;T!==lt||J!==tt||ka||e!==null&&e.dependencies!==null&&Qc(e.dependencies)?(typeof C=="function"&&(zd(i,o,C,c),tt=i.memoizedState),(it=ka||k_(i,o,it,c,J,tt,z)||e!==null&&e.dependencies!==null&&Qc(e.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,tt,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,tt,z)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=tt),g.props=c,g.state=tt,g.context=z,c=it):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,mh(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=Fo(i,e.child,null,m),i.child=Fo(i,null,o,m)):ei(e,i,o,m),i.memoizedState=g.state,e=i.child):e=$r(e,i,m),e}function K_(e,i,o,c){return Qr(),i.flags|=256,ei(e,i,o,c),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(e){return{baseLanes:e,cachePool:Dg()}}function Gd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=ms),e}function Y_(e,i,o){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=e!==null&&e.memoizedState===null?!1:(gn.current&2)!==0),T&&(m=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(oe){if(m?Oa(i):Pa(),(e=Ae)?(e=nv(e,Zi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:W!==null?{id:ot,overflow:wt}:null,retryLane:536870912,hydrationErrors:null},o=wu(e),o.return=i,i.child=o,Se=i,Ae=null)):e=null,e===null)throw Ar(i);return Cm(e)?i.lanes=32:i.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(Pa(),m=i.mode,C=ph({mode:"hidden",children:C},m),c=Yr(c,m,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,c=i.child,c.memoizedState=Fd(o),c.childLanes=Gd(e,T,o),i.memoizedState=Hd,Du(null,c)):(Oa(i),Zd(i,C))}var z=e.memoizedState;if(z!==null&&(C=z.dehydrated,C!==null)){if(g)i.flags&256?(Oa(i),i.flags&=-257,i=Kd(e,i,o)):i.memoizedState!==null?(Pa(),i.child=e.child,i.flags|=128,i=null):(Pa(),C=c.fallback,m=i.mode,c=ph({mode:"visible",children:c.children},m),C=Yr(C,m,o,null),C.flags|=2,c.return=i,C.return=i,c.sibling=C,i.child=c,Fo(i,e.child,null,o),c=i.child,c.memoizedState=Fd(o),c.childLanes=Gd(e,T,o),i.memoizedState=Hd,i=Du(null,c));else if(Oa(i),Cm(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var X=T.dgst;T=X,c=Error(a(419)),c.stack="",c.digest=T,zo({value:c,source:null,stack:null}),i=Kd(e,i,o)}else if(Cn||xl(e,i,o,!1),T=(o&e.childLanes)!==0,Cn||T){if(T=Ke,T!==null&&(c=Si(T,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,Is(e,c),Wi(T,e,c),Bd;Am(C)||Eh(),i=Kd(e,i,o)}else Am(C)?(i.flags|=192,i.child=e.child,i=null):(e=z.treeContext,Ae=ks(C.nextSibling),Se=i,oe=!0,Sr=null,Zi=!1,e!==null&&Ni(i,e),i=Zd(i,c.children),i.flags|=4096);return i}return m?(Pa(),C=c.fallback,m=i.mode,z=e.child,X=z.sibling,c=Rs(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,X!==null?C=Rs(X,C):(C=Yr(C,m,o,null),C.flags|=2),C.return=i,c.return=i,c.sibling=C,i.child=c,Du(null,c),c=i.child,C=e.child.memoizedState,C===null?C=Fd(o):(m=C.cachePool,m!==null?(z=Sn._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=Dg(),C={baseLanes:C.baseLanes|o,cachePool:m}),c.memoizedState=C,c.childLanes=Gd(e,T,o),i.memoizedState=Hd,Du(e.child,c)):(Oa(i),o=e.child,e=o.sibling,o=Rs(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function Zd(e,i){return i=ph({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ph(e,i){return e=pi(22,e,null,i),e.lanes=0,e}function Kd(e,i,o){return Fo(i,e.child,null,o),e=Zd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Q_(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),ld(e.return,i,o)}function Yd(e,i,o,c,m,g){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function X_(e,i,o){var c=i.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=gn.current,C=(T&2)!==0;if(C?(T=T&1|2,i.flags|=128):T&=1,dt(gn,T),ei(e,i,c,o),c=oe?A:0,!C&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Q_(e,o,i);else if(e.tag===19)Q_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&ih(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Yd(i,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&ih(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Yd(i,!0,o,null,g,c);break;case"together":Yd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function $r(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),za|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(xl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=Rs(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Rs(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Qd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Qc(e)))}function Ux(e,i,o){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Na(i,Sn,e.memoizedState.cache),Qr();break;case 27:case 5:ai(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Na(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Oa(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Y_(e,i,o):(Oa(i),e=$r(e,i,o),e!==null?e.sibling:null);Oa(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(xl(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return X_(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),dt(gn,gn.current),c)break;return null;case 22:return i.lanes=0,q_(e,i,o,i.pendingProps);case 24:Na(i,Sn,e.memoizedState.cache)}return $r(e,i,o)}function W_(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Cn=!0;else{if(!Qd(e,o)&&(i.flags&128)===0)return Cn=!1,Ux(e,i,o);Cn=(e.flags&131072)!==0}else Cn=!1,oe&&(i.flags&1048576)!==0&&$t(i,A,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=qo(i.elementType),i.type=e,typeof e=="function")bl(e)?(c=Zo(e,c),i.tag=1,i=Z_(null,i,e,c,o)):(i.tag=0,i=qd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===Jt){i.tag=11,i=j_(null,i,e,c,o);break t}else if(m===D){i.tag=14,i=U_(null,i,e,c,o);break t}}throw i=ee(e)||e,Error(a(306,i,""))}}return i;case 0:return qd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Zo(c,i.pendingProps),Z_(e,i,c,m,o);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,pd(e,i),ku(i,c,null,o);var T=i.memoizedState;if(c=T.cache,Na(i,Sn,c),c!==g.cache&&ud(i,[Sn],o,!0),Nu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=K_(e,i,c,o);break t}else if(c!==m){m=u(Error(a(424)),i),zo(m),i=K_(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ae=ks(e.firstChild),Se=i,oe=!0,Sr=null,Zi=!0,o=qg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qr(),c===m){i=$r(e,i,o);break t}ei(e,i,c,o)}i=i.child}return i;case 26:return mh(e,i),e===null?(o=lv(i.type,null,i.pendingProps,null))?i.memoizedState=o:oe||(o=i.type,e=i.pendingProps,c=kh(bt.current).createElement(o),c[Qe]=i,c[Xe]=e,ni(c,o,e),We(c),i.stateNode=c):i.memoizedState=lv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ai(i),e===null&&oe&&(c=i.stateNode=rv(i.type,i.pendingProps,bt.current),Se=i,Zi=!0,m=Ae,Ha(i.type)?(Im=m,Ae=ks(c.firstChild)):Ae=m),ei(e,i,i.pendingProps.children,o),mh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&oe&&((m=c=Ae)&&(c=gE(c,i.type,i.pendingProps,Zi),c!==null?(i.stateNode=c,Se=i,Ae=ks(c.firstChild),Zi=!1,m=!0):m=!1),m||Ar(i)),ai(i),m=i.type,g=i.pendingProps,T=e!==null?e.memoizedProps:null,c=g.children,xm(m,g)?c=null:T!==null&&xm(m,T)&&(i.flags|=32),i.memoizedState!==null&&(m=Td(e,i,kx,null,null,o),Wu._currentValue=m),mh(e,i),ei(e,i,c,o),i.child;case 6:return e===null&&oe&&((e=o=Ae)&&(o=_E(o,i.pendingProps,Zi),o!==null?(i.stateNode=o,Se=i,Ae=null,e=!0):e=!1),e||Ar(i)),null;case 13:return Y_(e,i,o);case 4:return Oe(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Fo(i,null,c,o):ei(e,i,c,o),i.child;case 11:return j_(e,i,i.type,i.pendingProps,o);case 7:return ei(e,i,i.pendingProps,o),i.child;case 8:return ei(e,i,i.pendingProps.children,o),i.child;case 12:return ei(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Na(i,i.type,c.value),ei(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Uo(i),m=ti(m),c=c(m),i.flags|=1,ei(e,i,c,o),i.child;case 14:return U_(e,i,i.type,i.pendingProps,o);case 15:return B_(e,i,i.type,i.pendingProps,o);case 19:return X_(e,i,o);case 31:return jx(e,i,o);case 22:return q_(e,i,o,i.pendingProps);case 24:return Uo(i),c=ti(Sn),e===null?(m=fd(),m===null&&(m=Ke,g=cd(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),i.memoizedState={parent:c,cache:m},md(i),Na(i,Sn,m)):((e.lanes&o)!==0&&(pd(e,i),ku(i,null,null,o),Nu()),m=e.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Na(i,Sn,c)):(c=g.cache,Na(i,Sn,c),c!==m.cache&&ud(i,[Sn],o,!0))),ei(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ta(e){e.flags|=4}function Xd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw Ho=$c,dd}else e.flags&=-16777217}function J_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dv(i))if(Ey())e.flags|=8192;else throw Ho=$c,dd}function gh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?jr():536870912,e.lanes|=i,Pl|=i)}function Vu(e,i){if(!oe)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function an(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function Bx(e,i,o){var c=i.pendingProps;switch(fn(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(i),null;case 1:return an(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Xr(Sn),je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(tr(i)?ta(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Eu())),an(i),null;case 26:var m=i.type,g=i.memoizedState;return e===null?(ta(i),g!==null?(an(i),J_(i,g)):(an(i),Xd(i,m,null,c,o))):g?g!==e.memoizedState?(ta(i),an(i),J_(i,g)):(an(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&ta(i),an(i),Xd(i,m,e,c,o)),null;case 27:if(es(i),o=bt.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ta(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return an(i),null}e=mt.current,tr(i)?xu(i):(e=rv(m,c,o),i.stateNode=e,ta(i))}return an(i),null;case 5:if(es(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ta(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return an(i),null}if(g=mt.current,tr(i))xu(i);else{var T=kh(bt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Qe]=i,g[Xe]=c;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;t:switch(ni(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&ta(i)}}return an(i),Xd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&ta(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=bt.current,tr(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=Se,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Qe]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Yy(e.nodeValue,o)),e||Ar(i,!0)}else e=kh(e).createTextNode(c),e[Qe]=i,i.stateNode=e}return an(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=tr(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Qe]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;an(i),e=!1}else o=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(fs(i),i):(fs(i),null);if((i.flags&128)!==0)throw Error(a(558))}return an(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=tr(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Qe]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;an(i),m=!1}else m=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(fs(i),i):(fs(i),null)}return fs(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),gh(i,i.updateQueue),an(i),null);case 4:return je(),e===null&&ym(i.stateNode.containerInfo),an(i),null;case 10:return Xr(i.type),an(i),null;case 19:if(nt(gn),c=i.memoizedState,c===null)return an(i),null;if(m=(i.flags&128)!==0,g=c.rendering,g===null)if(m)Vu(c,!1);else{if(mn!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=ih(e),g!==null){for(i.flags|=128,Vu(c,!1),e=g.updateQueue,i.updateQueue=e,gh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)bu(o,e),o=o.sibling;return dt(gn,gn.current&1|2),oe&&Ot(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&pn()>wh&&(i.flags|=128,m=!0,Vu(c,!1),i.lanes=4194304)}else{if(!m)if(e=ih(g),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,gh(i,e),Vu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!oe)return an(i),null}else 2*pn()-c.renderingStartTime>wh&&o!==536870912&&(i.flags|=128,m=!0,Vu(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=pn(),e.sibling=null,o=gn.current,dt(gn,m?o&1|2:o&1),oe&&Ot(i,c.treeForkCount),e):(an(i),null);case 22:case 23:return fs(i),vd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(an(i),i.subtreeFlags&6&&(i.flags|=8192)):an(i),o=i.updateQueue,o!==null&&gh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&nt(Bo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Xr(Sn),an(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function qx(e,i){switch(fn(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Xr(Sn),je(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return es(i),null;case 31:if(i.memoizedState!==null){if(fs(i),i.alternate===null)throw Error(a(340));Qr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(fs(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Qr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(gn),null;case 4:return je(),null;case 10:return Xr(i.type),null;case 22:case 23:return fs(i),vd(),e!==null&&nt(Bo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Xr(Sn),null;case 25:return null;default:return null}}function $_(e,i){switch(fn(i),i.tag){case 3:Xr(Sn),je();break;case 26:case 27:case 5:es(i);break;case 4:je();break;case 31:i.memoizedState!==null&&fs(i);break;case 13:fs(i);break;case 19:nt(gn);break;case 10:Xr(i.type);break;case 22:case 23:fs(i),vd(),e!==null&&nt(Bo);break;case 24:Xr(Sn)}}function zu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(C){ze(i,i.return,C)}}function Da(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var T=c.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,m=i;var z=o,X=C;try{X()}catch(it){ze(m,z,it)}}}c=c.next}while(c!==g)}}catch(it){ze(i,i.return,it)}}function ty(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Fg(i,o)}catch(c){ze(e,e.return,c)}}}function ey(e,i,o){o.props=Zo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){ze(e,i,c)}}function ju(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){ze(e,i,m)}}function Ir(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ze(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ze(e,i,m)}else o.current=null}function ny(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ze(e,e.return,m)}}function Wd(e,i,o){try{var c=e.stateNode;cE(c,e.type,o,i),c[Xe]=i}catch(m){ze(e,e.return,m)}}function iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Jd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $d(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ae));else if(c!==4&&(c===27&&Ha(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for($d(e,i,o),e=e.sibling;e!==null;)$d(e,i,o),e=e.sibling}function _h(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Ha(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(_h(e,i,o),e=e.sibling;e!==null;)_h(e,i,o),e=e.sibling}function sy(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);ni(i,c,o),i[Qe]=e,i[Xe]=o}catch(g){ze(e,e.return,g)}}var ea=!1,In=!1,tm=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function Hx(e,i){if(e=e.containerInfo,wm=zh,e=No(e),br(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,C=-1,z=-1,X=0,it=0,lt=e,J=null;e:for(;;){for(var tt;lt!==o||m!==0&&lt.nodeType!==3||(C=T+m),lt!==g||c!==0&&lt.nodeType!==3||(z=T+c),lt.nodeType===3&&(T+=lt.nodeValue.length),(tt=lt.firstChild)!==null;)J=lt,lt=tt;for(;;){if(lt===e)break e;if(J===o&&++X===m&&(C=T),J===g&&++it===c&&(z=T),(tt=lt.nextSibling)!==null)break;lt=J,J=lt.parentNode}lt=tt}o=C===-1||z===-1?null:{start:C,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:e,selectionRange:o},zh=!1,Kn=i;Kn!==null;)if(i=Kn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Kn=e;else for(;Kn!==null;){switch(i=Kn,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Nt=Zo(o.type,m);e=c.getSnapshotBeforeUpdate(Nt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(zt){ze(o,o.return,zt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Sm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Kn=e;break}Kn=i.return}}function ay(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ia(e,o),c&4&&zu(5,o);break;case 1:if(ia(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){ze(o,o.return,T)}else{var m=Zo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ze(o,o.return,T)}}c&64&&ty(o),c&512&&ju(o,o.return);break;case 3:if(ia(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Fg(e,i)}catch(T){ze(o,o.return,T)}}break;case 27:i===null&&c&4&&sy(o);case 26:case 5:ia(e,o),i===null&&c&4&&ny(o),c&512&&ju(o,o.return);break;case 12:ia(e,o);break;case 31:ia(e,o),c&4&&uy(e,o);break;case 13:ia(e,o),c&4&&cy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Jx.bind(null,o),yE(e,o))));break;case 22:if(c=o.memoizedState!==null||ea,!c){i=i!==null&&i.memoizedState!==null||In,m=ea;var g=In;ea=c,(In=i)&&!g?sa(e,o,(o.subtreeFlags&8772)!==0):ia(e,o),ea=m,In=g}break;case 30:break;default:ia(e,o)}}function oy(e){var i=e.alternate;i!==null&&(e.alternate=null,oy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&dr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ln=null,Ki=!1;function na(e,i,o){for(o=o.child;o!==null;)ly(e,i,o),o=o.sibling}function ly(e,i,o){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Xn,o)}catch{}switch(o.tag){case 26:In||Ir(o,i),na(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:In||Ir(o,i);var c=ln,m=Ki;Ha(o.type)&&(ln=o.stateNode,Ki=!1),na(e,i,o),Yu(o.stateNode),ln=c,Ki=m;break;case 5:In||Ir(o,i);case 6:if(c=ln,m=Ki,ln=null,na(e,i,o),ln=c,Ki=m,ln!==null)if(Ki)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(o.stateNode)}catch(g){ze(o,i,g)}else try{ln.removeChild(o.stateNode)}catch(g){ze(o,i,g)}break;case 18:ln!==null&&(Ki?(e=ln,tv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Hl(e)):tv(ln,o.stateNode));break;case 4:c=ln,m=Ki,ln=o.stateNode.containerInfo,Ki=!0,na(e,i,o),ln=c,Ki=m;break;case 0:case 11:case 14:case 15:Da(2,o,i),In||Da(4,o,i),na(e,i,o);break;case 1:In||(Ir(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ey(o,i,c)),na(e,i,o);break;case 21:na(e,i,o);break;case 22:In=(c=In)||o.memoizedState!==null,na(e,i,o),In=c;break;default:na(e,i,o)}}function uy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hl(e)}catch(o){ze(i,i.return,o)}}}function cy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hl(e)}catch(o){ze(i,i.return,o)}}function Fx(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ry),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ry),i;default:throw Error(a(435,e.tag))}}function yh(e,i){var o=Fx(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=$x.bind(null,e,c);c.then(m,m)}})}function Yi(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=e,T=i,C=T;t:for(;C!==null;){switch(C.tag){case 27:if(Ha(C.type)){ln=C.stateNode,Ki=!1;break t}break;case 5:ln=C.stateNode,Ki=!1;break t;case 3:case 4:ln=C.stateNode.containerInfo,Ki=!0;break t}C=C.return}if(ln===null)throw Error(a(160));ly(g,T,m),ln=null,Ki=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)hy(i,e),i=i.sibling}var nr=null;function hy(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yi(i,e),Qi(e),c&4&&(Da(3,e,e.return),zu(3,e),Da(5,e,e.return));break;case 1:Yi(i,e),Qi(e),c&512&&(In||o===null||Ir(o,o.return)),c&64&&ea&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=nr;if(Yi(i,e),Qi(e),c&512&&(In||o===null||Ir(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Vi]||g[Qe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),ni(g,c,o),g[Qe]=e,We(g),c=g;break t;case"link":var T=hv("link","href",m).get(c+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break e}}g=m.createElement(c),ni(g,c,o),m.head.appendChild(g);break;case"meta":if(T=hv("meta","content",m).get(c+(o.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break e}}g=m.createElement(c),ni(g,c,o),m.head.appendChild(g);break;default:throw Error(a(468,c))}g[Qe]=e,We(g),c=g}e.stateNode=c}else fv(m,e.type,e.stateNode);else e.stateNode=cv(m,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?fv(m,e.type,e.stateNode):cv(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Wd(e,e.memoizedProps,o.memoizedProps)}break;case 27:Yi(i,e),Qi(e),c&512&&(In||o===null||Ir(o,o.return)),o!==null&&c&4&&Wd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Yi(i,e),Qi(e),c&512&&(In||o===null||Ir(o,o.return)),e.flags&32){m=e.stateNode;try{sn(m,"")}catch(Nt){ze(e,e.return,Nt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Wd(e,m,o!==null?o.memoizedProps:m)),c&1024&&(tm=!0);break;case 6:if(Yi(i,e),Qi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Nt){ze(e,e.return,Nt)}}break;case 3:if(Oh=null,m=nr,nr=Lh(i.containerInfo),Yi(i,e),nr=m,Qi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(Nt){ze(e,e.return,Nt)}tm&&(tm=!1,fy(e));break;case 4:c=nr,nr=Lh(e.stateNode.containerInfo),Yi(i,e),Qi(e),nr=c;break;case 12:Yi(i,e),Qi(e);break;case 31:Yi(i,e),Qi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yh(e,c)));break;case 13:Yi(i,e),Qi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(bh=pn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yh(e,c)));break;case 22:m=e.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,X=ea,it=In;if(ea=X||m,In=it||z,Yi(i,e),In=it,ea=X,Qi(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||z||ea||In||Ko(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(g=z.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=z.stateNode;var lt=z.memoizedProps.style,J=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Nt){ze(z,z.return,Nt)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(Nt){ze(z,z.return,Nt)}}}else if(i.tag===18){if(o===null){z=i;try{var tt=z.stateNode;m?ev(tt,!0):ev(z.stateNode,!1)}catch(Nt){ze(z,z.return,Nt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,yh(e,o))));break;case 19:Yi(i,e),Qi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yh(e,c)));break;case 30:break;case 21:break;default:Yi(i,e),Qi(e)}}function Qi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(iy(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,g=Jd(e);_h(e,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(sn(T,""),o.flags&=-33);var C=Jd(e);_h(e,C,T);break;case 3:case 4:var z=o.stateNode.containerInfo,X=Jd(e);$d(e,X,z);break;default:throw Error(a(161))}}catch(it){ze(e,e.return,it)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ia(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ay(e,i.alternate,i),i=i.sibling}function Ko(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Da(4,i,i.return),Ko(i);break;case 1:Ir(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ey(i,i.return,o),Ko(i);break;case 27:Yu(i.stateNode);case 26:case 5:Ir(i,i.return),Ko(i);break;case 22:i.memoizedState===null&&Ko(i);break;case 30:Ko(i);break;default:Ko(i)}e=e.sibling}}function sa(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:sa(m,g,o),zu(4,g);break;case 1:if(sa(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){ze(c,c.return,X)}if(c=g,m=c.updateQueue,m!==null){var C=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)Hg(z[m],C)}catch(X){ze(c,c.return,X)}}o&&T&64&&ty(g),ju(g,g.return);break;case 27:sy(g);case 26:case 5:sa(m,g,o),o&&c===null&&T&4&&ny(g),ju(g,g.return);break;case 12:sa(m,g,o);break;case 31:sa(m,g,o),o&&T&4&&uy(m,g);break;case 13:sa(m,g,o),o&&T&4&&cy(m,g);break;case 22:g.memoizedState===null&&sa(m,g,o),ju(g,g.return);break;case 30:break;default:sa(m,g,o)}i=i.sibling}}function em(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Su(o))}function nm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Su(e))}function ir(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dy(e,i,o,c),i=i.sibling}function dy(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:ir(e,i,o,c),m&2048&&zu(9,i);break;case 1:ir(e,i,o,c);break;case 3:ir(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Su(e)));break;case 12:if(m&2048){ir(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){ze(i,i.return,z)}}else ir(e,i,o,c);break;case 31:ir(e,i,o,c);break;case 13:ir(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?ir(e,i,o,c):Uu(e,i):g._visibility&2?ir(e,i,o,c):(g._visibility|=2,Ll(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&em(T,i);break;case 24:ir(e,i,o,c),m&2048&&nm(i.alternate,i);break;default:ir(e,i,o,c)}}function Ll(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,T=i,C=o,z=c,X=T.flags;switch(T.tag){case 0:case 11:case 15:Ll(g,T,C,z,m),zu(8,T);break;case 23:break;case 22:var it=T.stateNode;T.memoizedState!==null?it._visibility&2?Ll(g,T,C,z,m):Uu(g,T):(it._visibility|=2,Ll(g,T,C,z,m)),m&&X&2048&&em(T.alternate,T);break;case 24:Ll(g,T,C,z,m),m&&X&2048&&nm(T.alternate,T);break;default:Ll(g,T,C,z,m)}i=i.sibling}}function Uu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Uu(o,c),m&2048&&em(c.alternate,c);break;case 24:Uu(o,c),m&2048&&nm(c.alternate,c);break;default:Uu(o,c)}i=i.sibling}}var Bu=8192;function Ml(e,i,o){if(e.subtreeFlags&Bu)for(e=e.child;e!==null;)my(e,i,o),e=e.sibling}function my(e,i,o){switch(e.tag){case 26:Ml(e,i,o),e.flags&Bu&&e.memoizedState!==null&&NE(o,nr,e.memoizedState,e.memoizedProps);break;case 5:Ml(e,i,o);break;case 3:case 4:var c=nr;nr=Lh(e.stateNode.containerInfo),Ml(e,i,o),nr=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Bu,Bu=16777216,Ml(e,i,o),Bu=c):Ml(e,i,o));break;default:Ml(e,i,o)}}function py(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function qu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Kn=c,_y(c,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:qu(e),e.flags&2048&&Da(9,e,e.return);break;case 3:qu(e);break;case 12:qu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,vh(e)):qu(e);break;default:qu(e)}}function vh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Kn=c,_y(c,e)}py(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Da(8,i,i.return),vh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,vh(i));break;default:vh(i)}e=e.sibling}}function _y(e,i){for(;Kn!==null;){var o=Kn;switch(o.tag){case 0:case 11:case 15:Da(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Su(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kn=c;else t:for(o=e;Kn!==null;){c=Kn;var m=c.sibling,g=c.return;if(oy(c),c===o){Kn=null;break t}if(m!==null){m.return=g,Kn=m;break t}Kn=g}}}var Gx={getCacheForType:function(e){var i=ti(Sn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return ti(Sn).controller.signal}},Zx=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ke=null,le=null,he=0,Ve=0,ds=null,Va=!1,Ol=!1,im=!1,ra=0,mn=0,za=0,Yo=0,sm=0,ms=0,Pl=0,Hu=null,Xi=null,rm=!1,bh=0,yy=0,wh=1/0,Th=null,ja=null,Dn=0,Ua=null,Dl=null,aa=0,am=0,om=null,vy=null,Fu=0,lm=null;function ps(){return(Re&2)!==0&&he!==0?he&-he:K.T!==null?mm():Ur()}function by(){if(ms===0)if((he&536870912)===0||oe){var e=Qt;Qt<<=1,(Qt&3932160)===0&&(Qt=262144),ms=e}else ms=536870912;return e=hs.current,e!==null&&(e.flags|=32),ms}function Wi(e,i,o){(e===Ke&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(Vl(e,0),Ba(e,he,ms,!1)),Ei(e,o),((Re&2)===0||e!==Ke)&&(e===Ke&&((Re&2)===0&&(Yo|=o),mn===4&&Ba(e,he,ms,!1)),Rr(e))}function wy(e,i,o){if((Re&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||xi(e,i),m=c?Qx(e,i):cm(e,i,!0),g=c;do{if(m===0){Ol&&!c&&Ba(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!Kx(o)){m=cm(e,i,!1),g=!1;continue}if(m===2){if(g=i,e.errorRecoveryDisabledLanes&g)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var C=e;m=Hu;var z=C.current.memoizedState.isDehydrated;if(z&&(Vl(C,T).flags|=256),T=cm(C,T,!1),T!==2){if(im&&!z){C.errorRecoveryDisabledLanes|=g,Yo|=g,m=4;break t}g=Xi,Xi=m,g!==null&&(Xi===null?Xi=g:Xi.push.apply(Xi,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){Vl(e,0),Ba(e,i,0,!0);break}t:{switch(c=e,g=m,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ba(c,i,ms,!Va);break t;case 2:Xi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=bh+300-pn(),10<m)){if(Ba(c,i,ms,!Va),Ti(c,0,!0)!==0)break t;aa=i,c.timeoutHandle=Jy(Ty.bind(null,c,o,Xi,Th,rm,i,ms,Yo,Pl,Va,g,"Throttled",-0,0),m);break t}Ty(c,o,Xi,Th,rm,i,ms,Yo,Pl,Va,g,null,-0,0)}}break}while(!0);Rr(e)}function Ty(e,i,o,c,m,g,T,C,z,X,it,lt,J,tt){if(e.timeoutHandle=-1,lt=i.subtreeFlags,lt&8192||(lt&16785408)===16785408){lt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ae},my(i,g,lt);var Nt=(g&62914560)===g?bh-pn():(g&4194048)===g?yy-pn():0;if(Nt=kE(lt,Nt),Nt!==null){aa=g,e.cancelPendingCommit=Nt(Ny.bind(null,e,i,g,o,c,m,T,C,z,it,lt,null,J,tt)),Ba(e,g,T,!X);return}}Ny(e,i,g,o,c,m,T,C,z)}function Kx(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Gn(g(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ba(e,i,o,c){i&=~sm,i&=~Yo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var g=31-Ye(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&bs(e,o,i)}function xh(){return(Re&6)===0?(Gu(0),!1):!0}function um(){if(le!==null){if(Ve===0)var e=le.return;else e=le,er=Cr=null,Sd(e),Cl=null,Cu=0,e=le;for(;e!==null;)$_(e.alternate,e),e=e.return;le=null}}function Vl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,dE(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),aa=0,um(),Ke=e,le=o=Rs(e.current,null),he=i,Ve=0,ds=null,Va=!1,Ol=xi(e,i),im=!1,Pl=ms=sm=Yo=za=mn=0,Xi=Hu=null,rm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-Ye(c),g=1<<m;i|=e[m],c&=~g}return ra=i,Po(),o}function xy(e,i){Wt=null,K.H=Pu,i===Al||i===Jc?(i=jg(),Ve=3):i===dd?(i=jg(),Ve=4):Ve=i===Bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ds=i,le===null&&(mn=1,fh(e,u(i,e.current)))}function Ey(){var e=hs.current;return e===null?!0:(he&4194048)===he?Ns===null:(he&62914560)===he||(he&536870912)!==0?e===Ns:!1}function Sy(){var e=K.H;return K.H=Pu,e===null?Pu:e}function Ay(){var e=K.A;return K.A=Gx,e}function Eh(){mn=4,Va||(he&4194048)!==he&&hs.current!==null||(Ol=!0),(za&134217727)===0&&(Yo&134217727)===0||Ke===null||Ba(Ke,he,ms,!1)}function cm(e,i,o){var c=Re;Re|=2;var m=Sy(),g=Ay();(Ke!==e||he!==i)&&(Th=null,Vl(e,i)),i=!1;var T=mn;t:do try{if(Ve!==0&&le!==null){var C=le,z=ds;switch(Ve){case 8:um(),T=6;break t;case 3:case 2:case 9:case 6:hs.current===null&&(i=!0);var X=Ve;if(Ve=0,ds=null,zl(e,C,z,X),o&&Ol){T=0;break t}break;default:X=Ve,Ve=0,ds=null,zl(e,C,z,X)}}Yx(),T=mn;break}catch(it){xy(e,it)}while(!0);return i&&e.shellSuspendCounter++,er=Cr=null,Re=c,K.H=m,K.A=g,le===null&&(Ke=null,he=0,Po()),T}function Yx(){for(;le!==null;)Cy(le)}function Qx(e,i){var o=Re;Re|=2;var c=Sy(),m=Ay();Ke!==e||he!==i?(Th=null,wh=pn()+500,Vl(e,i)):Ol=xi(e,i);t:do try{if(Ve!==0&&le!==null){i=le;var g=ds;e:switch(Ve){case 1:Ve=0,ds=null,zl(e,i,g,1);break;case 2:case 9:if(Vg(g)){Ve=0,ds=null,Iy(i);break}i=function(){Ve!==2&&Ve!==9||Ke!==e||(Ve=7),Rr(e)},g.then(i,i);break t;case 3:Ve=7;break t;case 4:Ve=5;break t;case 7:Vg(g)?(Ve=0,ds=null,Iy(i)):(Ve=0,ds=null,zl(e,i,g,7));break;case 5:var T=null;switch(le.tag){case 26:T=le.memoizedState;case 5:case 27:var C=le;if(T?dv(T):C.stateNode.complete){Ve=0,ds=null;var z=C.sibling;if(z!==null)le=z;else{var X=C.return;X!==null?(le=X,Sh(X)):le=null}break e}}Ve=0,ds=null,zl(e,i,g,5);break;case 6:Ve=0,ds=null,zl(e,i,g,6);break;case 8:um(),mn=6;break t;default:throw Error(a(462))}}Xx();break}catch(it){xy(e,it)}while(!0);return er=Cr=null,K.H=c,K.A=m,Re=o,le!==null?0:(Ke=null,he=0,Po(),mn)}function Xx(){for(;le!==null&&!wi();)Cy(le)}function Cy(e){var i=W_(e.alternate,e,ra);e.memoizedProps=e.pendingProps,i===null?Sh(e):le=i}function Iy(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=G_(o,i,i.pendingProps,i.type,void 0,he);break;case 11:i=G_(o,i,i.pendingProps,i.type.render,i.ref,he);break;case 5:Sd(i);default:$_(o,i),i=le=bu(i,ra),i=W_(o,i,ra)}e.memoizedProps=e.pendingProps,i===null?Sh(e):le=i}function zl(e,i,o,c){er=Cr=null,Sd(i),Cl=null,Cu=0;var m=i.return;try{if(zx(e,m,i,o,he)){mn=1,fh(e,u(o,e.current)),le=null;return}}catch(g){if(m!==null)throw le=m,g;mn=1,fh(e,u(o,e.current)),le=null;return}i.flags&32768?(oe||c===1?e=!0:Ol||(he&536870912)!==0?e=!1:(Va=e=!0,(c===2||c===9||c===3||c===6)&&(c=hs.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ry(i,e)):Sh(i)}function Sh(e){var i=e;do{if((i.flags&32768)!==0){Ry(i,Va);return}e=i.return;var o=Bx(i.alternate,i,ra);if(o!==null){le=o;return}if(i=i.sibling,i!==null){le=i;return}le=i=e}while(i!==null);mn===0&&(mn=5)}function Ry(e,i){do{var o=qx(e.alternate,e);if(o!==null){o.flags&=32767,le=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){le=e;return}le=e=o}while(e!==null);mn=6,le=null}function Ny(e,i,o,c,m,g,T,C,z){e.cancelPendingCommit=null;do Ah();while(Dn!==0);if((Re&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=vl,yo(e,o,g,T,C,z),e===Ke&&(le=Ke=null,he=0),Dl=i,Ua=e,aa=o,am=g,om=m,vy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tE(is,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,m=_t.p,_t.p=2,T=Re,Re|=4;try{Hx(e,i,o)}finally{Re=T,_t.p=m,K.T=c}}Dn=1,ky(),Ly(),My()}}function ky(){if(Dn===1){Dn=0;var e=Ua,i=Dl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=_t.p;_t.p=2;var m=Re;Re|=4;try{hy(i,e);var g=Tm,T=No(e.containerInfo),C=g.focusedElem,z=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&pl(C.ownerDocument.documentElement,C)){if(z!==null&&br(C)){var X=z.start,it=z.end;if(it===void 0&&(it=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(it,C.value.length);else{var lt=C.ownerDocument||document,J=lt&&lt.defaultView||window;if(J.getSelection){var tt=J.getSelection(),Nt=C.textContent.length,zt=Math.min(z.start,Nt),qe=z.end===void 0?zt:Math.min(z.end,Nt);!tt.extend&&zt>qe&&(T=qe,qe=zt,zt=T);var G=Ro(C,zt),q=Ro(C,qe);if(G&&q&&(tt.rangeCount!==1||tt.anchorNode!==G.node||tt.anchorOffset!==G.offset||tt.focusNode!==q.node||tt.focusOffset!==q.offset)){var Q=lt.createRange();Q.setStart(G.node,G.offset),tt.removeAllRanges(),zt>qe?(tt.addRange(Q),tt.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),tt.addRange(Q))}}}}for(lt=[],tt=C;tt=tt.parentNode;)tt.nodeType===1&&lt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<lt.length;C++){var rt=lt[C];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}zh=!!wm,Tm=wm=null}finally{Re=m,_t.p=c,K.T=o}}e.current=i,Dn=2}}function Ly(){if(Dn===2){Dn=0;var e=Ua,i=Dl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=_t.p;_t.p=2;var m=Re;Re|=4;try{ay(e,i.alternate,i)}finally{Re=m,_t.p=c,K.T=o}}Dn=3}}function My(){if(Dn===4||Dn===3){Dn=0,Mi();var e=Ua,i=Dl,o=aa,c=vy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Dn=5:(Dn=0,Dl=Ua=null,Oy(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(ja=null),At(o),i=i.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=K.T,m=_t.p,_t.p=2,K.T=null;try{for(var g=e.onRecoverableError,T=0;T<c.length;T++){var C=c[T];g(C.value,{componentStack:C.stack})}}finally{K.T=i,_t.p=m}}(aa&3)!==0&&Ah(),Rr(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===lm?Fu++:(Fu=0,lm=e):Fu=0,Gu(0)}}function Oy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Su(i)))}function Ah(){return ky(),Ly(),My(),Py()}function Py(){if(Dn!==5)return!1;var e=Ua,i=am;am=0;var o=At(aa),c=K.T,m=_t.p;try{_t.p=32>o?32:o,K.T=null,o=om,om=null;var g=Ua,T=aa;if(Dn=0,Dl=Ua=null,aa=0,(Re&6)!==0)throw Error(a(331));var C=Re;if(Re|=4,gy(g.current),dy(g,g.current,T,o),Re=C,Gu(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Xn,g)}catch{}return!0}finally{_t.p=m,K.T=c,Oy(e,i)}}function Dy(e,i,o){i=u(o,i),i=Ud(e.stateNode,i,2),e=Ma(e,i,2),e!==null&&(Ei(e,2),Rr(e))}function ze(e,i,o){if(e.tag===3)Dy(e,e,o);else for(;i!==null;){if(i.tag===3){Dy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ja===null||!ja.has(c))){e=u(o,e),o=V_(2),c=Ma(i,o,2),c!==null&&(z_(o,c,i,e),Ei(c,2),Rr(c));break}}i=i.return}}function hm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Zx;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(im=!0,m.add(o),e=Wx.bind(null,e,i,o),i.then(e,e))}function Wx(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ke===e&&(he&o)===o&&(mn===4||mn===3&&(he&62914560)===he&&300>pn()-bh?(Re&2)===0&&Vl(e,0):sm|=o,Pl===he&&(Pl=0)),Rr(e)}function Vy(e,i){i===0&&(i=jr()),e=Is(e,i),e!==null&&(Ei(e,i),Rr(e))}function Jx(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Vy(e,o)}function $x(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Vy(e,o)}function tE(e,i){return He(e,i)}var Ch=null,jl=null,fm=!1,Ih=!1,dm=!1,qa=0;function Rr(e){e!==jl&&e.next===null&&(jl===null?Ch=jl=e:jl=jl.next=e),Ih=!0,fm||(fm=!0,nE())}function Gu(e,i){if(!dm&&Ih){dm=!0;do for(var o=!1,c=Ch;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-Ye(42|e)+1)-1,g&=m&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,By(c,g))}else g=he,g=Ti(c,c===Ke?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||xi(c,g)||(o=!0,By(c,g));c=c.next}while(o);dm=!1}}function eE(){zy()}function zy(){Ih=fm=!1;var e=0;qa!==0&&fE()&&(e=qa);for(var i=pn(),o=null,c=Ch;c!==null;){var m=c.next,g=jy(c,i);g===0?(c.next=null,o===null?Ch=m:o.next=m,m===null&&(jl=o)):(o=c,(e!==0||(g&3)!==0)&&(Ih=!0)),c=m}Dn!==0&&Dn!==5||Gu(e),qa!==0&&(qa=0)}function jy(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var T=31-Ye(g),C=1<<T,z=m[T];z===-1?((C&o)===0||(C&c)!==0)&&(m[T]=fr(C,i)):z<=i&&(e.expiredLanes|=C),g&=~C}if(i=Ke,o=he,o=Ti(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Qn(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||xi(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Qn(c),At(o)){case 2:case 8:o=Oi;break;case 32:o=is;break;case 268435456:o=hr;break;default:o=is}return c=Uy.bind(null,e),o=He(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Qn(c),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,i){if(Dn!==0&&Dn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ah()&&e.callbackNode!==o)return null;var c=he;return c=Ti(e,e===Ke?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(wy(e,c,i),jy(e,pn()),e.callbackNode!=null&&e.callbackNode===o?Uy.bind(null,e):null)}function By(e,i){if(Ah())return null;wy(e,i,!0)}function nE(){mE(function(){(Re&6)!==0?He(vs,eE):zy()})}function mm(){if(qa===0){var e=El;e===0&&(e=Un,Un<<=1,(Un&261888)===0&&(Un=256)),qa=e}return qa}function qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xt(""+e)}function Hy(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function iE(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var g=qy((m[Xe]||null).action),T=c.submitter;T&&(i=(i=T[Xe]||null)?qy(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var C=new Es("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qa!==0){var z=T?Hy(m,T):new FormData(m);Od(o,{pending:!0,data:z,method:m.method,action:g},null,z)}}else typeof g=="function"&&(C.preventDefault(),z=T?Hy(m,T):new FormData(m),Od(o,{pending:!0,data:z,method:m.method,action:g},g,z))},currentTarget:m}]})}}for(var pm=0;pm<xr.length;pm++){var gm=xr[pm],sE=gm.toLowerCase(),rE=gm[0].toUpperCase()+gm.slice(1);Fi(sE,"on"+rE)}Fi(Lo,"onAnimationEnd"),Fi(Zc,"onAnimationIteration"),Fi(Mo,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(rd,"onTransitionRun"),Fi(Kc,"onTransitionStart"),Fi(ad,"onTransitionCancel"),Fi(Ia,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function Fy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var T=c.length-1;0<=T;T--){var C=c[T],z=C.instance,X=C.currentTarget;if(C=C.listener,z!==g&&m.isPropagationStopped())break t;g=C,m.currentTarget=X;try{g(m)}catch(it){Oo(it)}m.currentTarget=null,g=z}else for(T=0;T<c.length;T++){if(C=c[T],z=C.instance,X=C.currentTarget,C=C.listener,z!==g&&m.isPropagationStopped())break t;g=C,m.currentTarget=X;try{g(m)}catch(it){Oo(it)}m.currentTarget=null,g=z}}}}function ue(e,i){var o=i[ci];o===void 0&&(o=i[ci]=new Set);var c=e+"__bubble";o.has(c)||(Gy(i,e,2,!1),o.add(c))}function _m(e,i,o){var c=0;i&&(c|=4),Gy(o,e,c,i)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function ym(e){if(!e[Rh]){e[Rh]=!0,mr.forEach(function(o){o!=="selectionchange"&&(aE.has(o)||_m(o,!1,e),_m(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Rh]||(i[Rh]=!0,_m("selectionchange",!1,i))}}function Gy(e,i,o,c){switch(bv(i)){case 2:var m=OE;break;case 8:m=PE;break;default:m=Mm}o=m.bind(null,i,o,e),m=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function vm(e,i,o,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var C=c.stateNode.containerInfo;if(C===m)break;if(T===4)for(T=c.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;C!==null;){if(T=Ai(C),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){c=g=T;continue t}C=C.parentNode}}c=c.return}fi(function(){var X=g,it=De(o),lt=[];t:{var J=Yc.get(e);if(J!==void 0){var tt=Es,Nt=e;switch(e){case"keypress":if(_r(o)===0)break t;case"keydown":case"keyup":tt=Eo;break;case"focusin":Nt="focus",tt=Fr;break;case"focusout":Nt="blur",tt=Fr;break;case"beforeblur":case"afterblur":tt=Fr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=y;break;case Lo:case Zc:case Mo:tt=ya;break;case Ia:tt=R;break;case"scroll":case"scrollend":tt=ie;break;case"wheel":tt=$;break;case"copy":case"cut":case"paste":tt=Ii;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Ws;break;case"toggle":case"beforetoggle":tt=Bt}var zt=(i&4)!==0,qe=!zt&&(e==="scroll"||e==="scrollend"),G=zt?J!==null?J+"Capture":null:J;zt=[];for(var q=X,Q;q!==null;){var rt=q;if(Q=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Q===null||G===null||(rt=Je(q,G),rt!=null&&zt.push(Ku(q,rt,Q))),qe)break;q=q.return}0<zt.length&&(J=new tt(J,Nt,null,o,it),lt.push({event:J,listeners:zt}))}}if((i&7)===0){t:{if(J=e==="mouseover"||e==="pointerover",tt=e==="mouseout"||e==="pointerout",J&&o!==Le&&(Nt=o.relatedTarget||o.fromElement)&&(Ai(Nt)||Nt[ui]))break t;if((tt||J)&&(J=it.window===it?it:(J=it.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(Nt=o.relatedTarget||o.toElement,tt=X,Nt=Nt?Ai(Nt):null,Nt!==null&&(qe=h(Nt),zt=Nt.tag,Nt!==qe||zt!==5&&zt!==27&&zt!==6)&&(Nt=null)):(tt=null,Nt=X),tt!==Nt)){if(zt=vo,rt="onMouseLeave",G="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(zt=Ws,rt="onPointerLeave",G="onPointerEnter",q="pointer"),qe=tt==null?J:Tn(tt),Q=Nt==null?J:Tn(Nt),J=new zt(rt,q+"leave",tt,o,it),J.target=qe,J.relatedTarget=Q,rt=null,Ai(it)===X&&(zt=new zt(G,q+"enter",Nt,o,it),zt.target=Q,zt.relatedTarget=qe,rt=zt),qe=rt,tt&&Nt)e:{for(zt=oE,G=tt,q=Nt,Q=0,rt=G;rt;rt=zt(rt))Q++;rt=0;for(var Dt=q;Dt;Dt=zt(Dt))rt++;for(;0<Q-rt;)G=zt(G),Q--;for(;0<rt-Q;)q=zt(q),rt--;for(;Q--;){if(G===q||q!==null&&G===q.alternate){zt=G;break e}G=zt(G),q=zt(q)}zt=null}else zt=null;tt!==null&&Zy(lt,J,tt,zt,!1),Nt!==null&&qe!==null&&Zy(lt,qe,Nt,zt,!0)}}t:{if(J=X?Tn(X):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var Ce=Io;else if(Ss(J))if(Bc)Ce=sd;else{Ce=id;var Mt=Js}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&st(X.elementType)&&(Ce=Io):Ce=Ea;if(Ce&&(Ce=Ce(e,X))){Uc(lt,Ce,o,it);break t}Mt&&Mt(e,J,X),e==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Ci(J,"number",J.value)}switch(Mt=X?Tn(X):window,e){case"focusin":(Ss(Mt)||Mt.contentEditable==="true")&&(wr=Mt,_l=X,ko=null);break;case"focusout":ko=_l=wr=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,Fc(lt,o,it);break;case"selectionchange":if(gl)break;case"keydown":case"keyup":Fc(lt,o,it)}var te;if(ye)t:{switch(e){case"compositionstart":var fe="onCompositionStart";break t;case"compositionend":fe="onCompositionEnd";break t;case"compositionupdate":fe="onCompositionUpdate";break t}fe=void 0}else wa?Gr(e,o)&&(fe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(Hi&&o.locale!=="ko"&&(wa||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&wa&&(te=ss()):(Bi=it,Ys="value"in Bi?Bi.value:Bi.textContent,wa=!0)),Mt=Nh(X,fe),0<Mt.length&&(fe=new os(fe,e,null,o,it),lt.push({event:fe,listeners:Mt}),te?fe.data=te:(te=Zr(o),te!==null&&(fe.data=te)))),(te=qi?cs(e,o):Ta(e,o))&&(fe=Nh(X,"onBeforeInput"),0<fe.length&&(Mt=new os("onBeforeInput","beforeinput",null,o,it),lt.push({event:Mt,listeners:fe}),Mt.data=te)),iE(lt,e,X,o,it)}Fy(lt,i)})}function Ku(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Nh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Je(e,o),m!=null&&c.unshift(Ku(e,m,g)),m=Je(e,i),m!=null&&c.push(Ku(e,m,g))),e.tag===3)return c;e=e.return}return[]}function oE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,i,o,c,m){for(var g=i._reactName,T=[];o!==null&&o!==c;){var C=o,z=C.alternate,X=C.stateNode;if(C=C.tag,z!==null&&z===c)break;C!==5&&C!==26&&C!==27||X===null||(z=X,m?(X=Je(o,g),X!=null&&T.unshift(Ku(o,X,z))):m||(X=Je(o,g),X!=null&&T.push(Ku(o,X,z)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var lE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(lE,`
`).replace(uE,"")}function Yy(e,i){return i=Ky(i),Ky(e)===i}function Be(e,i,o,c,m,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||sn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&sn(e,""+c);break;case"className":re(e,"class",c);break;case"tabIndex":re(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":re(e,o,c);break;case"style":B(e,c,g);break;case"data":if(i!=="object"){re(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Xt(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Be(e,i,"name",m.name,m,null),Be(e,i,"formEncType",m.formEncType,m,null),Be(e,i,"formMethod",m.formMethod,m,null),Be(e,i,"formTarget",m.formTarget,m,null)):(Be(e,i,"encType",m.encType,m,null),Be(e,i,"method",m.method,m,null),Be(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Xt(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=ae);break;case"onScroll":c!=null&&ue("scroll",e);break;case"onScrollEnd":c!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Xt(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Kt(e,"popover",c);break;case"xlinkActuate":Fe(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Fe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Fe(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Fe(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Fe(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Fe(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Kt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gt.get(o)||o,Kt(e,o,c))}}function bm(e,i,o,c,m,g){switch(o){case"style":B(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?sn(e,c):(typeof c=="number"||typeof c=="bigint")&&sn(e,""+c);break;case"onScroll":c!=null&&ue("scroll",e);break;case"onScrollEnd":c!=null&&ue("scrollend",e);break;case"onClick":c!=null&&(e.onclick=ae);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),g=e[Xe]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Kt(e,o,c)}}}function ni(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Be(e,i,g,T,o,null)}}m&&Be(e,i,"srcSet",o.srcSet,o,null),c&&Be(e,i,"src",o.src,o,null);return;case"input":ue("invalid",e);var C=g=T=m=null,z=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var it=o[c];if(it!=null)switch(c){case"name":m=it;break;case"type":T=it;break;case"checked":z=it;break;case"defaultChecked":X=it;break;case"value":g=it;break;case"defaultValue":C=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,i));break;default:Be(e,i,c,it,o,null)}}Zs(e,g,C,z,X,T,m,!1);return;case"select":ue("invalid",e),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":c=C;default:Be(e,i,m,C,o,null)}i=g,o=T,e.multiple=!!c,i!=null?be(e,!!c,i,!1):o!=null&&be(e,!!c,o,!0);return;case"textarea":ue("invalid",e),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":c=C;break;case"defaultValue":m=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Be(e,i,T,C,o,null)}$n(e,c,m,g);return;case"option":for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null)&&(z==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Be(e,i,z,c,o,null));return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(c=0;c<Zu.length;c++)ue(Zu[c],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Be(e,i,X,c,o,null)}return;default:if(st(i)){for(it in o)o.hasOwnProperty(it)&&(c=o[it],c!==void 0&&bm(e,i,it,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&Be(e,i,C,c,o,null))}function cE(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,C=null,z=null,X=null,it=null;for(tt in o){var lt=o[tt];if(o.hasOwnProperty(tt)&&lt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":z=lt;default:c.hasOwnProperty(tt)||Be(e,i,tt,null,c,lt)}}for(var J in c){var tt=c[J];if(lt=o[J],c.hasOwnProperty(J)&&(tt!=null||lt!=null))switch(J){case"type":g=tt;break;case"name":m=tt;break;case"checked":X=tt;break;case"defaultChecked":it=tt;break;case"value":T=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:tt!==lt&&Be(e,i,J,tt,c,lt)}}pr(e,T,C,z,X,it,g,m);return;case"select":tt=T=C=J=null;for(g in o)if(z=o[g],o.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":tt=z;default:c.hasOwnProperty(g)||Be(e,i,g,null,c,z)}for(m in c)if(g=c[m],z=o[m],c.hasOwnProperty(m)&&(g!=null||z!=null))switch(m){case"value":J=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==z&&Be(e,i,m,g,c,z)}i=C,o=T,c=tt,J!=null?be(e,!!o,J,!1):!!c!=!!o&&(i!=null?be(e,!!o,i,!0):be(e,!!o,o?[]:"",!1));return;case"textarea":tt=J=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Be(e,i,C,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":J=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==g&&Be(e,i,T,m,c,g)}xn(e,J,tt);return;case"option":for(var Nt in o)J=o[Nt],o.hasOwnProperty(Nt)&&J!=null&&!c.hasOwnProperty(Nt)&&(Nt==="selected"?e.selected=!1:Be(e,i,Nt,null,c,J));for(z in c)J=c[z],tt=o[z],c.hasOwnProperty(z)&&J!==tt&&(J!=null||tt!=null)&&(z==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":Be(e,i,z,J,c,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in o)J=o[zt],o.hasOwnProperty(zt)&&J!=null&&!c.hasOwnProperty(zt)&&Be(e,i,zt,null,c,J);for(X in c)if(J=c[X],tt=o[X],c.hasOwnProperty(X)&&J!==tt&&(J!=null||tt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:Be(e,i,X,J,c,tt)}return;default:if(st(i)){for(var qe in o)J=o[qe],o.hasOwnProperty(qe)&&J!==void 0&&!c.hasOwnProperty(qe)&&bm(e,i,qe,void 0,c,J);for(it in c)J=c[it],tt=o[it],!c.hasOwnProperty(it)||J===tt||J===void 0&&tt===void 0||bm(e,i,it,J,c,tt);return}}for(var G in o)J=o[G],o.hasOwnProperty(G)&&J!=null&&!c.hasOwnProperty(G)&&Be(e,i,G,null,c,J);for(lt in c)J=c[lt],tt=o[lt],!c.hasOwnProperty(lt)||J===tt||J==null&&tt==null||Be(e,i,lt,J,c,tt)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,C=m.duration;if(g&&C&&Qy(T)){for(T=0,C=m.responseEnd,c+=1;c<o.length;c++){var z=o[c],X=z.startTime;if(X>C)break;var it=z.transferSize,lt=z.initiatorType;it&&Qy(lt)&&(z=z.responseEnd,T+=it*(z<C?1:(C-X)/(z-X)))}if(--c,i+=8*(g+T)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wm=null,Tm=null;function kh(e){return e.nodeType===9?e:e.ownerDocument}function Xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function xm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Em=null;function fE(){var e=window.event;return e&&e.type==="popstate"?e===Em?!1:(Em=e,!0):(Em=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(pE)}:Jy;function pE(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function tv(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Hl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Yu(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Yu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[Vi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Yu(e.ownerDocument.body);o=m}while(o);Hl(i)}function ev(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Sm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sm(o),dr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function gE(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Vi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ks(e.nextSibling),e===null)break}return null}function _E(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ks(e.nextSibling),e===null))return null;return e}function nv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ks(e.nextSibling),e===null))return null;return e}function Am(e){return e.data==="$?"||e.data==="$~"}function Cm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yE(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ks(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Im=null;function iv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return ks(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function sv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function rv(e,i,o){switch(i=kh(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);dr(e)}var Ls=new Map,av=new Set;function Lh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oa=_t.d;_t.d={f:vE,r:bE,D:wE,C:TE,L:xE,m:EE,X:AE,S:SE,M:CE};function vE(){var e=oa.f(),i=xh();return e||i}function bE(e){var i=Te(e);i!==null&&i.tag===5&&i.type==="form"?x_(i):oa.r(e)}var Ul=typeof document>"u"?null:document;function ov(e,i,o){var c=Ul;if(c&&typeof i=="string"&&i){var m=Pe(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),av.has(m)||(av.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),ni(i,"link",e),We(i),c.head.appendChild(i)))}}function wE(e){oa.D(e),ov("dns-prefetch",e,null)}function TE(e,i){oa.C(e,i),ov("preconnect",e,i)}function xE(e,i,o){oa.L(e,i,o);var c=Ul;if(c&&e&&i){var m='link[rel="preload"][as="'+Pe(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Pe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Pe(o.imageSizes)+'"]')):m+='[href="'+Pe(e)+'"]';var g=m;switch(i){case"style":g=Bl(e);break;case"script":g=ql(e)}Ls.has(g)||(e=N({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Ls.set(g,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Qu(g))||i==="script"&&c.querySelector(Xu(g))||(i=c.createElement("link"),ni(i,"link",e),We(i),c.head.appendChild(i)))}}function EE(e,i){oa.m(e,i);var o=Ul;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Pe(c)+'"][href="'+Pe(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ql(e)}if(!Ls.has(g)&&(e=N({rel:"modulepreload",href:e},i),Ls.set(g,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xu(g)))return}c=o.createElement("link"),ni(c,"link",e),We(c),o.head.appendChild(c)}}}function SE(e,i,o){oa.S(e,i,o);var c=Ul;if(c&&e){var m=Mn(c).hoistableStyles,g=Bl(e);i=i||"default";var T=m.get(g);if(!T){var C={loading:0,preload:null};if(T=c.querySelector(Qu(g)))C.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Ls.get(g))&&Rm(e,o);var z=T=c.createElement("link");We(z),ni(z,"link",e),z._p=new Promise(function(X,it){z.onload=X,z.onerror=it}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Mh(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:C},m.set(g,T)}}}function AE(e,i){oa.X(e,i);var o=Ul;if(o&&e){var c=Mn(o).hoistableScripts,m=ql(e),g=c.get(m);g||(g=o.querySelector(Xu(m)),g||(e=N({src:e,async:!0},i),(i=Ls.get(m))&&Nm(e,i),g=o.createElement("script"),We(g),ni(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function CE(e,i){oa.M(e,i);var o=Ul;if(o&&e){var c=Mn(o).hoistableScripts,m=ql(e),g=c.get(m);g||(g=o.querySelector(Xu(m)),g||(e=N({src:e,async:!0,type:"module"},i),(i=Ls.get(m))&&Nm(e,i),g=o.createElement("script"),We(g),ni(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function lv(e,i,o,c){var m=(m=bt.current)?Lh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Bl(o.href),o=Mn(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Bl(o.href);var g=Mn(m).hoistableStyles,T=g.get(e);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,T),(g=m.querySelector(Qu(e)))&&!g._p&&(T.instance=g,T.state.loading=5),Ls.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ls.set(e,o),g||IE(m,e,o,T.state))),i&&c===null)throw Error(a(528,""));return T}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ql(o),o=Mn(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Bl(e){return'href="'+Pe(e)+'"'}function Qu(e){return'link[rel="stylesheet"]['+e+"]"}function uv(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function IE(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),ni(i,"link",o),We(i),e.head.appendChild(i))}function ql(e){return'[src="'+Pe(e)+'"]'}function Xu(e){return"script[async]"+e}function cv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Pe(o.href)+'"]');if(c)return i.instance=c,We(c),c;var m=N({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),We(c),ni(c,"style",m),Mh(c,o.precedence,e),i.instance=c;case"stylesheet":m=Bl(o.href);var g=e.querySelector(Qu(m));if(g)return i.state.loading|=4,i.instance=g,We(g),g;c=uv(o),(m=Ls.get(m))&&Rm(c,m),g=(e.ownerDocument||e).createElement("link"),We(g);var T=g;return T._p=new Promise(function(C,z){T.onload=C,T.onerror=z}),ni(g,"link",c),i.state.loading|=4,Mh(g,o.precedence,e),i.instance=g;case"script":return g=ql(o.src),(m=e.querySelector(Xu(g)))?(i.instance=m,We(m),m):(c=o,(m=Ls.get(g))&&(c=N({},o),Nm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),We(m),ni(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Mh(c,o.precedence,e));return i.instance}function Mh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var C=c[T];if(C.dataset.precedence===i)g=C;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Rm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Nm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Oh=null;function hv(e,i,o){if(Oh===null){var c=new Map,m=Oh=new Map;m.set(o,c)}else m=Oh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var g=o[m];if(!(g[Vi]||g[Qe]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=e+T;var C=c.get(T);C?C.push(g):c.set(T,[g])}}return c}function fv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function RE(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function NE(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Bl(c.href),g=i.querySelector(Qu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ph.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,We(g);return}g=i.ownerDocument||i,c=uv(c),(m=Ls.get(m))&&Rm(c,m),g=g.createElement("link"),We(g);var T=g;T._p=new Promise(function(C,z){T.onload=C,T.onerror=z}),ni(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ph.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var km=0;function kE(e,i){return e.stylesheets&&e.count===0&&Vh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Vh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&km===0&&(km=62500*hE());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>km?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dh=null;function Vh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dh=new Map,i.forEach(LE,e),Dh=null,Ph.call(e))}function LE(e,i){if(!(i.state.loading&4)){var o=Dh.get(e);if(o)var c=o.get(null);else{o=new Map,Dh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=i.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=Ph.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Wu={$$typeof:kt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function ME(e,i,o,c,m,g,T,C,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function mv(e,i,o,c,m,g,T,C,z,X,it,lt){return e=new ME(e,i,o,T,z,X,it,lt,C),i=1,g===!0&&(i|=24),g=pi(3,null,null,i),e.current=g,g.stateNode=e,i=cd(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},md(g),e}function pv(e){return e?(e=Kr,e):Kr}function gv(e,i,o,c,m,g){m=pv(m),c.context===null?c.context=m:c.pendingContext=m,c=La(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ma(e,c,i),o!==null&&(Wi(o,e,i),Ru(o,e,i))}function _v(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Lm(e,i){_v(e,i),(e=e.alternate)&&_v(e,i)}function yv(e){if(e.tag===13||e.tag===31){var i=Is(e,67108864);i!==null&&Wi(i,e,67108864),Lm(e,67108864)}}function vv(e){if(e.tag===13||e.tag===31){var i=ps();i=wn(i);var o=Is(e,i);o!==null&&Wi(o,e,i),Lm(e,i)}}var zh=!0;function OE(e,i,o,c){var m=K.T;K.T=null;var g=_t.p;try{_t.p=2,Mm(e,i,o,c)}finally{_t.p=g,K.T=m}}function PE(e,i,o,c){var m=K.T;K.T=null;var g=_t.p;try{_t.p=8,Mm(e,i,o,c)}finally{_t.p=g,K.T=m}}function Mm(e,i,o,c){if(zh){var m=Om(c);if(m===null)vm(e,i,c,jh,o),wv(e,c);else if(VE(m,e,i,o,c))c.stopPropagation();else if(wv(e,c),i&4&&-1<DE.indexOf(e)){for(;m!==null;){var g=Te(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Pi(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var z=1<<31-Ye(T);C.entanglements[1]|=z,T&=~z}Rr(g),(Re&6)===0&&(wh=pn()+500,Gu(0))}}break;case 31:case 13:C=Is(g,2),C!==null&&Wi(C,g,2),xh(),Lm(g,2)}if(g=Om(c),g===null&&vm(e,i,c,jh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else vm(e,i,c,null,o)}}function Om(e){return e=De(e),Pm(e)}var jh=null;function Pm(e){if(jh=null,e=Ai(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===31){if(e=b(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return jh=e,null}function bv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case vs:return 2;case Oi:return 8;case is:case _o:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Dm=!1,Fa=null,Ga=null,Za=null,Ju=new Map,$u=new Map,Ka=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(e,i){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Ju.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(i.pointerId)}}function tc(e,i,o,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=Te(i),i!==null&&yv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function VE(e,i,o,c,m){switch(i){case"focusin":return Fa=tc(Fa,e,i,o,c,m),!0;case"dragenter":return Ga=tc(Ga,e,i,o,c,m),!0;case"mouseover":return Za=tc(Za,e,i,o,c,m),!0;case"pointerover":var g=m.pointerId;return Ju.set(g,tc(Ju.get(g)||null,e,i,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,$u.set(g,tc($u.get(g)||null,e,i,o,c,m)),!0}return!1}function Tv(e){var i=Ai(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,li(e.priority,function(){vv(o)});return}}else if(i===31){if(i=b(o),i!==null){e.blockedOn=i,li(e.priority,function(){vv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Om(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);Le=c,o.target.dispatchEvent(c),Le=null}else return i=Te(o),i!==null&&yv(i),e.blockedOn=o,!1;i.shift()}return!0}function xv(e,i,o){Uh(e)&&o.delete(i)}function zE(){Dm=!1,Fa!==null&&Uh(Fa)&&(Fa=null),Ga!==null&&Uh(Ga)&&(Ga=null),Za!==null&&Uh(Za)&&(Za=null),Ju.forEach(xv),$u.forEach(xv)}function Bh(e,i){e.blockedOn===i&&(e.blockedOn=null,Dm||(Dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zE)))}var qh=null;function Ev(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Pm(c||o)===null)continue;break}var g=Te(o);g!==null&&(e.splice(i,3),i-=3,Od(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Hl(e){function i(z){return Bh(z,e)}Fa!==null&&Bh(Fa,e),Ga!==null&&Bh(Ga,e),Za!==null&&Bh(Za,e),Ju.forEach(i),$u.forEach(i);for(var o=0;o<Ka.length;o++){var c=Ka[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ka.length&&(o=Ka[0],o.blockedOn===null);)Tv(o),o.blockedOn===null&&Ka.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[Xe]||null;if(typeof g=="function")T||Ev(o);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[Xe]||null)C=T.formAction;else if(Pm(m)!==null)continue}else C=T.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),Ev(o)}}}function Sv(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Vm(e){this._internalRoot=e}Hh.prototype.render=Vm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=ps();gv(o,c,e,i,null,null)},Hh.prototype.unmount=Vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;gv(e.current,2,null,e,null,null),xh(),i[ui]=null}};function Hh(e){this._internalRoot=e}Hh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ur();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ka.length&&i!==0&&i<Ka[o].priority;o++);Ka.splice(o,0,e),o===0&&Tv(e)}};var Av=t.version;if(Av!=="19.2.4")throw Error(a(527,Av,"19.2.4"));_t.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=x(i),e=e!==null?I(e):null,e=e===null?null:e.stateNode,e};var jE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Xn=Fh.inject(jE),hn=Fh}catch{}}return nc.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=M_,g=O_,T=P_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=mv(e,1,!1,null,null,o,c,null,m,g,T,Sv),e[ui]=i.current,ym(e),new Vm(i)},nc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",g=M_,T=O_,C=P_,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),i=mv(e,1,!0,i,o??null,c,m,z,g,T,C,Sv),i.context=pv(null),o=i.current,c=ps(),c=wn(c),m=La(c),m.callback=null,Ma(o,m,c),o=c,i.current.lanes=o,Ei(i,o),Rr(i),e[ui]=i.current,ym(e),new Hh(i)},nc.version="19.2.4",nc}var Dv;function XE(){if(Dv)return Um.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Um.exports=QE(),Um.exports}var WE=XE();const JE=Lp(WE);var ac={exports:{}};var $E=ac.exports,Vv;function t1(){return Vv||(Vv=1,(function(r,t){(function(n,a){a(t)})($E,(function(n){var a="1.9.4";function l(s){var u,d,_,w;for(d=1,_=arguments.length;d<_;d++){w=arguments[d];for(u in w)s[u]=w[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function p(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var b=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++b),s._leaflet_id}function x(s,u,d){var _,w,A,O;return O=function(){_=!1,w&&(A.apply(d,w),w=!1)},A=function(){_?w=arguments:(s.apply(d,arguments),setTimeout(O,u),_=!0)},A}function I(s,u,d){var _=u[1],w=u[0],A=_-w;return s===_&&d?s:((s-w)%A+A)%A+w}function N(){return!1}function k(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function et(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function at(s){return et(s).split(/\s+/)}function ct(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function pt(s,u,d){var _=[];for(var w in s)_.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var Lt=/\{ *([\w_ -]+) *\}/g;function jt(s,u){return s.replace(Lt,function(d,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var kt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Jt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var Ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var D=0;function M(s){var u=+new Date,d=Math.max(0,16-(u-D));return D=u+d,window.setTimeout(s,d)}var V=window.requestAnimationFrame||se("RequestAnimationFrame")||M,H=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function U(s,u,d){if(d&&V===M)s.call(u);else return V.call(window,p(s,u))}function F(s){s&&H.call(window,s)}var P={__proto__:null,extend:l,create:h,bind:p,get lastId(){return b},stamp:v,throttle:x,wrapNum:I,falseFn:N,formatNum:k,trim:et,splitWords:at,setOptions:ct,getParamString:pt,template:jt,isArray:kt,indexOf:Jt,emptyImageUrl:Ne,requestFn:V,cancelFn:H,requestAnimFrame:U,cancelAnimFrame:F};function ee(){}ee.extend=function(s){var u=function(){ct(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return s.statics&&l(u,s.statics),s.includes&&(tn(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,O=_._initHooks.length;A<O;A++)_._initHooks[A].call(this)}},u},ee.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},ee.mergeOptions=function(s){return l(this.prototype.options,s),this},ee.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function tn(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=kt(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=at(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=at(s);for(var w=arguments.length===1,A=0,O=s.length;A<O;A++)w?this._off(s[A]):this._off(s[A],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};_&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,u,d){var _,w,A;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,A=_.length;w<A;w++)_[w].fn=N;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var O=this._listens(s,u,d);if(O!==!1){var Z=_[O];this._firingCount&&(Z.fn=N,this._events[s]=_=_.slice()),_.splice(O,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var A=0,O=w.length;A<O;A++){var Z=w[A],W=Z.fn;Z.once&&this.off(s,W,Z.ctx),W.call(Z.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,d=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,w,d)!==!1)return!0;if(_){for(var O in this._eventParents)if(this._eventParents[O].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var w=0,A=_.length;w<A;w++)if(_[w].fn===u&&_[w].ctx===d)return w;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=at(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var _t=ee.extend(K);function ft(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var ne=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(s){return this.clone()._add(xt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(xt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ft(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ft(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(s){s=xt(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=xt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=xt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function xt(s,u,d){return s instanceof ft?s:kt(s)?new ft(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ft(s.x,s.y):new ft(s,u,d)}function j(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}j.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof ft||typeof s[0]=="number"||"x"in s)u=d=xt(s);else if(s=nt(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return xt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return xt(this.min.x,this.max.y)},getTopRight:function(){return xt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof ft?s=xt(s):s=nt(s),s instanceof j?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=nt(s);var u=this.min,d=this.max,_=s.min,w=s.max,A=w.x>=u.x&&_.x<=d.x,O=w.y>=u.y&&_.y<=d.y;return A&&O},overlaps:function(s){s=nt(s);var u=this.min,d=this.max,_=s.min,w=s.max,A=w.x>u.x&&_.x<d.x,O=w.y>u.y&&_.y<d.y;return A&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,w=Math.abs(u.y-d.y)*s;return nt(xt(u.x-_,u.y-w),xt(d.x+_,d.y+w))},equals:function(s){return s?(s=nt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function nt(s,u){return!s||s instanceof j?s:new j(s,u)}function dt(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}dt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,w;if(s instanceof Tt)_=s,w=s;else if(s instanceof dt){if(_=s._southWest,w=s._northEast,!_||!w)return this}else return s?this.extend(bt(s)||mt(s)):this;return!u&&!d?(this._southWest=new Tt(_.lat,_.lng),this._northEast=new Tt(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,w=Math.abs(u.lng-d.lng)*s;return new dt(new Tt(u.lat-_,u.lng-w),new Tt(d.lat+_,d.lng+w))},getCenter:function(){return new Tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Tt||"lat"in s?s=bt(s):s=mt(s);var u=this._southWest,d=this._northEast,_,w;return s instanceof dt?(_=s.getSouthWest(),w=s.getNorthEast()):_=w=s,_.lat>=u.lat&&w.lat<=d.lat&&_.lng>=u.lng&&w.lng<=d.lng},intersects:function(s){s=mt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>=u.lat&&_.lat<=d.lat,O=w.lng>=u.lng&&_.lng<=d.lng;return A&&O},overlaps:function(s){s=mt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>u.lat&&_.lat<d.lat,O=w.lng>u.lng&&_.lng<d.lng;return A&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=mt(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function mt(s,u){return s instanceof dt?s:new dt(s,u)}function Tt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}Tt.prototype={equals:function(s,u){if(!s)return!1;s=bt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+k(this.lat,s)+", "+k(this.lng,s)+")"},distanceTo:function(s){return Oe.distance(this,bt(s))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return mt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new Tt(this.lat,this.lng,this.alt)}};function bt(s,u,d){return s instanceof Tt?s:kt(s)&&typeof s[0]!="object"?s.length===3?new Tt(s[0],s[1],s[2]):s.length===2?new Tt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Tt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new Tt(s,u,d)}var qt={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new j(_,w)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?I(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?I(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new Tt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,w=u.lng-d.lng;if(_===0&&w===0)return s;var A=s.getSouthWest(),O=s.getNorthEast(),Z=new Tt(A.lat-_,A.lng-w),W=new Tt(O.lat-_,O.lng-w);return new dt(Z,W)}},Oe=l({},qt,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,w=u.lat*d,A=Math.sin((u.lat-s.lat)*d/2),O=Math.sin((u.lng-s.lng)*d/2),Z=A*A+Math.cos(_)*Math.cos(w)*O*O,W=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*W}}),je=6378137,ai={R:je,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),w=Math.sin(_*u);return new ft(this.R*s.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var u=180/Math.PI;return new Tt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=je*Math.PI;return new j([-s,-s],[s,s])})()};function es(s,u,d,_){if(kt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}es.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ft((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function zn(s,u,d,_){return new es(s,u,d,_)}var ns=l({},Oe,{code:"EPSG:3857",projection:ai,transformation:(function(){var s=.5/(Math.PI*ai.R);return zn(s,.5,-s,.5)})()}),jn=l({},ns,{code:"EPSG:900913"});function Ds(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Vs(s,u){var d="",_,w,A,O,Z,W;for(_=0,A=s.length;_<A;_++){for(Z=s[_],w=0,O=Z.length;w<O;w++)W=Z[w],d+=(w?"L":"M")+W.x+" "+W.y;d+=u?At.svg?"z":"x":""}return d||"M0 0"}var zs=document.documentElement.style,ys="ActiveXObject"in window,en=ys&&!document.addEventListener,He="msLaunchUri"in navigator&&!("documentMode"in document),Qn=wn("webkit"),wi=wn("android"),Mi=wn("android 2")||wn("android 3"),pn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),js=wi&&wn("Google")&&pn<537&&!("AudioNode"in window),vs=!!window.opera,Oi=!He&&wn("chrome"),is=wn("gecko")&&!Qn&&!vs&&!ys,_o=!Oi&&wn("safari"),hr=wn("phantom"),nn="OTransition"in zs,_a=navigator.platform.indexOf("Win")===0,Xn=ys&&"transition"in zs,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mi,oi="MozPerspective"in zs,Ye=!window.L_DISABLE_3D&&(Xn||hn||oi)&&!nn&&!hr,Us=typeof orientation<"u"||wn("mobile"),Bs=Us&&Qn,ge=Us&&hn,Un=!window.PointerEvent&&window.MSPointerEvent,Qt=!!(window.PointerEvent||Un),we="ontouchstart"in window||!!window.TouchEvent,Pi=!window.L_NO_TOUCH&&(we||Qt),Ti=Us&&vs,xi=Us&&is,fr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,jr=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",N,u),window.removeEventListener("testPassiveEventSupport",N,u)}catch{}return s})(),Di=(function(){return!!document.createElement("canvas").getContext})(),Ei=!!(document.createElementNS&&Ds("svg").createSVGRect),yo=!!Ei&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),bs=!Ei&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),bn=navigator.platform.indexOf("Mac")===0,Si=navigator.platform.indexOf("Linux")===0;function wn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var At={ie:ys,ielt9:en,edge:He,webkit:Qn,android:wi,android23:Mi,androidStock:js,opera:vs,chrome:Oi,gecko:is,safari:_o,phantom:hr,opera12:nn,win:_a,ie3d:Xn,webkit3d:hn,gecko3d:oi,any3d:Ye,mobile:Us,mobileWebkit:Bs,mobileWebkit3d:ge,msPointer:Un,pointer:Qt,touch:Pi,touchNative:we,mobileOpera:Ti,mobileGecko:xi,retina:fr,passiveEvents:jr,canvas:Di,svg:Ei,vml:bs,inlineSvg:yo,mac:bn,linux:Si},Ur=At.msPointer?"MSPointerDown":"pointerdown",li=At.msPointer?"MSPointerMove":"pointermove",Wn=At.msPointer?"MSPointerUp":"pointerup",Qe=At.msPointer?"MSPointerCancel":"pointercancel",Xe={touchstart:Ur,touchmove:li,touchend:Wn,touchcancel:Qe},ui={touchstart:Mn,touchmove:Tn,touchend:Tn,touchcancel:Tn},ci={},ws=!1;function Br(s,u,d){return u==="touchstart"&&Te(),ui[u]?(d=ui[u].bind(this,d),s.addEventListener(Xe[u],d,!1),d):(console.warn("wrong event specified:",u),N)}function qs(s,u,d){if(!Xe[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Xe[u],d,!1)}function Vi(s){ci[s.pointerId]=s}function dr(s){ci[s.pointerId]&&(ci[s.pointerId]=s)}function Ai(s){delete ci[s.pointerId]}function Te(){ws||(document.addEventListener(Ur,Vi,!0),document.addEventListener(li,dr,!0),document.addEventListener(Wn,Ai,!0),document.addEventListener(Qe,Ai,!0),ws=!0)}function Tn(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in ci)u.touches.push(ci[d]);u.changedTouches=[u],s(u)}}function Mn(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&rn(u),Tn(s,u)}function We(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var mr=200;function qr(s,u){s.addEventListener("dblclick",u);var d=0,_;function w(A){if(A.detail!==1){_=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var O=_r(A);if(!(O.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!O.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var Z=Date.now();Z-d<=mr?(_++,_===2&&u(We(A))):_=1,d=Z}}}return s.addEventListener("click",w),{dblclick:u,simDblclick:w}}function Bn(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Jn=Zs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zi=Zs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Hs=zi==="webkitTransition"||zi==="OTransition"?zi+"End":"transitionend";function Fs(s){return typeof s=="string"?document.getElementById(s):s}function Ts(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Kt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function re(s){var u=s.parentNode;u&&u.removeChild(s)}function Fe(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ke(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function On(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Gs(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=ji(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function Et(s,u){if(s.classList!==void 0)for(var d=at(u),_=0,w=d.length;_<w;_++)s.classList.add(d[_]);else if(!Gs(s,u)){var A=ji(s);hi(s,(A?A+" ":"")+u)}}function xe(s,u){s.classList!==void 0?s.classList.remove(u):hi(s,et((" "+ji(s)+" ").replace(" "+u+" "," ")))}function hi(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function ji(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Pe(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&pr(s,u)}function pr(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function Zs(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function Ci(s,u,d){var _=u||new ft(0,0);s.style[Jn]=(At.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function be(s,u){s._leaflet_pos=u,At.any3d?Ci(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function xn(s){return s._leaflet_pos||new ft(0,0)}var $n,sn,gr;if("onselectstart"in document)$n=function(){Rt(window,"selectstart",rn)},sn=function(){Yt(window,"selectstart",rn)};else{var Ui=Zs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$n=function(){if(Ui){var s=document.documentElement.style;gr=s[Ui],s[Ui]="none"}},sn=function(){Ui&&(document.documentElement.style[Ui]=gr,gr=void 0)}}function B(){Rt(window,"dragstart",rn)}function st(){Yt(window,"dragstart",rn)}var gt,Ct;function Xt(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(ae(),gt=s,Ct=s.style.outlineStyle,s.style.outlineStyle="none",Rt(window,"keydown",ae))}function ae(){gt&&(gt.style.outlineStyle=Ct,gt=void 0,Ct=void 0,Yt(window,"keydown",ae))}function Le(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function De(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var Ee={__proto__:null,TRANSFORM:Jn,TRANSITION:zi,TRANSITION_END:Hs,get:Fs,getStyle:Ts,create:Kt,remove:re,empty:Fe,toFront:ke,toBack:On,hasClass:Gs,addClass:Et,removeClass:xe,setClass:hi,getClass:ji,setOpacity:Pe,testProp:Zs,setTransform:Ci,setPosition:be,getPosition:xn,get disableTextSelection(){return $n},get enableTextSelection(){return sn},disableImageDrag:B,enableImageDrag:st,preventOutline:Xt,restoreOutline:ae,getSizedParentNode:Le,getScale:De};function Rt(s,u,d,_){if(u&&typeof u=="object")for(var w in u)qn(s,w,u[w],d);else{u=at(u);for(var A=0,O=u.length;A<O;A++)qn(s,u[A],d,_)}return this}var Ge="_leaflet_events";function Yt(s,u,d,_){if(arguments.length===1)fi(s),delete s[Ge];else if(u&&typeof u=="object")for(var w in u)Ks(s,w,u[w],d);else if(u=at(u),arguments.length===2)fi(s,function(Z){return Jt(u,Z)!==-1});else for(var A=0,O=u.length;A<O;A++)Ks(s,u[A],d,_);return this}function fi(s,u){for(var d in s[Ge]){var _=d.split(/\d/)[0];(!u||u(_))&&Ks(s,_,null,null,d)}}var Je={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qn(s,u,d,_){var w=u+v(d)+(_?"_"+v(_):"");if(s[Ge]&&s[Ge][w])return this;var A=function(Z){return d.call(_||s,Z||window.event)},O=A;!At.touchNative&&At.pointer&&u.indexOf("touch")===0?A=Br(s,u,A):At.touch&&u==="dblclick"?A=qr(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Je[u]||u,A,At.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(Z){Z=Z||window.event,as(s,Z)&&O(Z)},s.addEventListener(Je[u],A,!1)):s.addEventListener(u,O,!1):s.attachEvent("on"+u,A),s[Ge]=s[Ge]||{},s[Ge][w]=A}function Ks(s,u,d,_,w){w=w||u+v(d)+(_?"_"+v(_):"");var A=s[Ge]&&s[Ge][w];if(!A)return this;!At.touchNative&&At.pointer&&u.indexOf("touch")===0?qs(s,u,A):At.touch&&u==="dblclick"?Bn(s,A):"removeEventListener"in s?s.removeEventListener(Je[u]||u,A,!1):s.detachEvent("on"+u,A),s[Ge][w]=null}function ce(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Bi(s){return qn(s,"wheel",ce),this}function Ys(s){return Rt(s,"mousedown touchstart dblclick contextmenu",ce),s._leaflet_disable_click=!0,this}function rn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ss(s){return rn(s),ce(s),this}function _r(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function xs(s,u){if(!u)return new ft(s.clientX,s.clientY);var d=De(u),_=d.boundingClientRect;return new ft((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var rs=At.linux&&At.chrome?window.devicePixelRatio:At.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function En(s){return At.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/rs:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function as(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var Es={__proto__:null,on:Rt,off:Yt,stopPropagation:ce,disableScrollPropagation:Bi,disableClickPropagation:Ys,preventDefault:rn,stop:ss,getPropagationPath:_r,getMousePosition:xs,getWheelDelta:En,isExternalTarget:as,addListener:Rt,removeListener:Yt},Qs=_t.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=xn(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),be(this._el,d),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),ie=_t.extend({options:{crs:ns,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=ct(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(bt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zi&&At.any3d&&!At.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rt(this._proxy,Hs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(bt(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),A=s instanceof ft?s:this.latLngToContainerPoint(s),O=A.subtract(w).multiplyBy(1-1/_),Z=this.containerPointToLatLng(w.add(O));return this.setView(Z,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():mt(s);var d=xt(u.paddingTopLeft||u.padding||[0,0]),_=xt(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(s,!1,d.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var A=_.subtract(d).divideBy(2),O=this.project(s.getSouthWest(),w),Z=this.project(s.getNorthEast(),w),W=this.unproject(O.add(Z).divideBy(2).add(A),w);return{center:W,zoom:w}},fitBounds:function(s,u){if(s=mt(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=xt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Et(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!At.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),w=this.project(s),A=this.getSize(),O=this._zoom;s=bt(s),u=u===void 0?O:u;var Z=Math.max(A.x,A.y),W=Z*this.getZoomScale(O,u),ot=w.distanceTo(_)||1,wt=1.42,Ot=wt*wt;function $t(un){var tr=un?-1:1,Qr=un?W:Z,Eu=W*W-Z*Z+tr*Ot*Ot*ot*ot,zo=2*Qr*Ot*ot,jo=Eu/zo,Cr=Math.sqrt(jo*jo+1)-jo,er=Cr<1e-9?-18:Math.log(Cr);return er}function Pn(un){return(Math.exp(un)-Math.exp(-un))/2}function fn(un){return(Math.exp(un)+Math.exp(-un))/2}function Ni(un){return Pn(un)/fn(un)}var Se=$t(0);function Ae(un){return Z*(fn(Se)/fn(Se+wt*un))}function oe(un){return Z*(fn(Se)*Ni(Se+wt*un)-Pn(Se))/Ot}function Sr(un){return 1-Math.pow(1-un,1.5)}var Zi=Date.now(),Tl=($t(1)-Se)/wt,Ar=d.duration?1e3*d.duration:1e3*Tl*.8;function xu(){var un=(Date.now()-Zi)/Ar,tr=Sr(un)*Tl;un<=1?(this._flyToFrame=U(xu,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(oe(tr)/ot)),O),this.getScaleZoom(Z/Ae(tr),O),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),xu.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=mt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,mt(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=xt(u.paddingTopLeft||u.padding||[0,0]),_=xt(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),A=this.project(s),O=this.getPixelBounds(),Z=nt([O.min.add(d),O.max.subtract(_)]),W=Z.getSize();if(!Z.contains(A)){this._enforcingBounds=!0;var ot=A.subtract(Z.getCenter()),wt=Z.extend(A).getSize().subtract(W);w.x+=ot.x<0?-wt.x:wt.x,w.y+=ot.y<0?-wt.y:wt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),w=d.divideBy(2).round(),A=_.subtract(w);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new Tt(u,d),w=_.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var O=this.getBoundsZoom(w);this.setView(_,A.maxZoom?Math.min(O,A.maxZoom):O)}var Z={latlng:_,bounds:w,timestamp:s.timestamp};for(var W in s.coords)typeof s.coords[W]=="number"&&(Z[W]=s.coords[W]);this.fire("locationfound",Z)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)re(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Kt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new dt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=mt(s),d=xt(d||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),A=this.getMaxZoom(),O=s.getNorthWest(),Z=s.getSouthEast(),W=this.getSize().subtract(d),ot=nt(this.project(Z,_),this.project(O,_)).getSize(),wt=At.any3d?this.options.zoomSnap:1,Ot=W.x/ot.x,$t=W.y/ot.y,Pn=u?Math.max(Ot,$t):Math.min(Ot,$t);return _=this.getScaleZoom(Pn,_),wt&&(_=Math.round(_/(wt/100))*(wt/100),_=u?Math.ceil(_/wt)*wt:Math.floor(_/wt)*wt),Math.max(w,Math.min(A,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new j(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(bt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(xt(s),u)},layerPointToLatLng:function(s){var u=xt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(bt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(bt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(mt(s))},distance:function(s,u){return this.options.crs.distance(bt(s),bt(u))},containerPointToLayerPoint:function(s){return xt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return xt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(xt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(s)))},mouseEventToContainerPoint:function(s){return xs(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Fs(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Rt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&At.any3d,Et(s,"leaflet-container"+(At.touch?" leaflet-touch":"")+(At.retina?" leaflet-retina":"")+(At.ielt9?" leaflet-oldie":"")+(At.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ts(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Et(s.markerPane,"leaflet-zoom-hide"),Et(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){be(this._mapPane,new ft(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(s,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){be(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?Yt:Rt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),At.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,w=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,O=!1;A;){if(_=this._targets[v(A)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){O=!0;break}if(_&&_.listens(u,!0)&&(w&&!as(A,s)||(d.push(_),w))||A===this._container)break;A=A.parentNode}return!d.length&&!O&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&Xt(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var w=this._findEventTargets(s,u);if(d){for(var A=[],O=0;O<d.length;O++)d[O].listens(u,!0)&&A.push(d[O]);w=A.concat(w)}if(w.length){u==="contextmenu"&&rn(s);var Z=w[0],W={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ot=Z.getLatLng&&(!Z._radius||Z._radius<=10);W.containerPoint=ot?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(s),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=ot?Z.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(O=0;O<w.length;O++)if(w[O].fire(u,W,!0),W.originalEvent._stopped||w[O].options.bubblingMouseEvents===!1&&Jt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return xn(this._mapPane)||new ft(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return nt([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),w=this.getSize().divideBy(2),A=new j(_.subtract(w),_.add(w)),O=this._getBoundsOffset(A,d,u);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?s:this.unproject(_.add(O),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new j(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=nt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=_.min.subtract(s.min),A=_.max.subtract(s.max),O=this._rebound(w.x,-A.x),Z=this._rebound(w.y,-A.y);return new ft(O,Z)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=At.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=Jn,_=this._proxy.style[d];Ci(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){re(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Ci(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(w)?!1:(U(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yr(s,u){return new ie(s,u)}var Hn=ee.extend({options:{position:"topright"},initialize:function(s){ct(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return Et(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(re(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),di=function(s){return new Hn(s)};ie.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Kt("div",u+"control-container",this._container);function _(w,A){var O=u+w+" "+u+A;s[w+A]=Kt("div",O,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)re(this._controlCorners[s]);re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hr=Hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){ct(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Hn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Kt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ys(u),Bi(u);var _=this._section=Kt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Rt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Kt("a",s+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Rt(w,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){rn(A),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Kt("div",s+"-base",_),this._separator=Kt("div",s+"-separator",_),this._overlaysList=Kt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fe(this._baseLayersList),Fe(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,w=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(_),_.layerId=v(s.layer),Rt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(_),A.appendChild(w);var O=s.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],w=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||w.push(d);for(A=0;A<w.length;A++)this._map.hasLayer(w[A])&&this._map.removeLayer(w[A]);for(A=0;A<_.length;A++)this._map.hasLayer(_[A])||this._map.addLayer(_[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),w=s.length-1;w>=0;w--)u=s[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Rt(s,"click",rn),this.expand();var u=this;setTimeout(function(){Yt(s,"click",rn),u._preventClick=!1})}}),vo=function(s,u,d){return new Hr(s,u,d)},Xs=Hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Kt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,w){var A=Kt("a",d,_);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),Ys(A),Rt(A,"click",ss),Rt(A,"click",w,this),Rt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";xe(this._zoomInButton,u),xe(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Et(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Et(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xs,this.addControl(this.zoomControl))});var cl=function(s){return new Xs(s)},bo=Hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Kt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Kt("div",u,d)),s.imperial&&(this._iScale=Kt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,w;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Fr=function(s){return new bo(s)},wo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ya=Hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(At.inlineSvg?wo+" ":"")+"Leaflet</a>"},initialize:function(s){ct(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Kt("div","leaflet-control-attribution"),Ys(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new ya().addTo(this)});var va=function(s){return new ya(s)};Hn.Layers=Hr,Hn.Zoom=Xs,Hn.Scale=bo,Hn.Attribution=ya,di.layers=vo,di.zoom=cl,di.scale=Fr,di.attribution=va;var Ii=ee.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ii.addTo=function(s,u){return s.addHandler(u,this),this};var hl={Events:K},os=At.touch?"touchstart mousedown":"mousedown",ls=_t.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){ct(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Rt(this._dragStartTarget,os,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ls._dragging===this&&this.finishDrag(!0),Yt(this._dragStartTarget,os,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Gs(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ls._dragging===this&&this.finishDrag();return}if(!(ls._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ls._dragging=this,this._preventOutline&&Xt(this._element),B(),$n(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=Le(this._element);this._startPoint=new ft(u.clientX,u.clientY),this._startPos=xn(this._element),this._parentScale=De(d);var _=s.type==="mousedown";Rt(document,_?"mousemove":"touchmove",this._onMove,this),Rt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new ft(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,rn(s),this._moved||(this.fire("dragstart"),this._moved=!0,Et(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),be(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){xe(document.body,"leaflet-dragging"),this._lastTarget&&(xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Yt(document,"mousemove touchmove",this._onMove,this),Yt(document,"mouseup touchend touchcancel",this._onUp,this),st(),sn();var u=this._moved&&this._moving;this._moving=!1,ls._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function To(s,u,d){var _,w=[1,4,2,8],A,O,Z,W,ot,wt,Ot,$t;for(A=0,wt=s.length;A<wt;A++)s[A]._code=$(s[A],u);for(Z=0;Z<4;Z++){for(Ot=w[Z],_=[],A=0,wt=s.length,O=wt-1;A<wt;O=A++)W=s[A],ot=s[O],W._code&Ot?ot._code&Ot||($t=Y(ot,W,Ot,u,d),$t._code=$($t,u),_.push($t)):(ot._code&Ot&&($t=Y(ot,W,Ot,u,d),$t._code=$($t,u),_.push($t)),_.push(W));s=_}return s}function xo(s,u){var d,_,w,A,O,Z,W,ot,wt;if(!s||s.length===0)throw new Error("latlngs not passed");_e(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ot=bt([0,0]),$t=mt(s),Pn=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());Pn<1700&&(Ot=ba(s));var fn=s.length,Ni=[];for(d=0;d<fn;d++){var Se=bt(s[d]);Ni.push(u.project(bt([Se.lat-Ot.lat,Se.lng-Ot.lng])))}for(Z=W=ot=0,d=0,_=fn-1;d<fn;_=d++)w=Ni[d],A=Ni[_],O=w.y*A.x-A.y*w.x,W+=(w.x+A.x)*O,ot+=(w.y+A.y)*O,Z+=O*3;Z===0?wt=Ni[0]:wt=[W/Z,ot/Z];var Ae=u.unproject(xt(wt));return bt([Ae.lat+Ot.lat,Ae.lng+Ot.lng])}function ba(s){for(var u=0,d=0,_=0,w=0;w<s.length;w++){var A=bt(s[w]);u+=A.lat,d+=A.lng,_++}return bt([u/_,d/_])}var vr={__proto__:null,clipPolygon:To,polygonCenter:xo,centroid:ba};function Fn(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=y(s,d),s=Ws(s,d),s}function Eo(s,u,d){return Math.sqrt(Bt(s,u,d,!0))}function fl(s,u,d){return Bt(s,u,d)}function Ws(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(d);w[0]=w[d-1]=1,f(s,w,u,0,d-1);var A,O=[];for(A=0;A<d;A++)w[A]&&O.push(s[A]);return O}function f(s,u,d,_,w){var A=0,O,Z,W;for(Z=_+1;Z<=w-1;Z++)W=Bt(s[Z],s[_],s[w],!0),W>A&&(O=Z,A=W);A>d&&(u[O]=1,f(s,u,d,_,O),f(s,u,d,O,w))}function y(s,u){for(var d=[s[0]],_=1,w=0,A=s.length;_<A;_++)yt(s[_],s[w])>u&&(d.push(s[_]),w=_);return w<A-1&&d.push(s[A-1]),d}var E;function R(s,u,d,_,w){var A=_?E:$(s,d),O=$(u,d),Z,W,ot;for(E=O;;){if(!(A|O))return[s,u];if(A&O)return!1;Z=A||O,W=Y(s,u,Z,d,w),ot=$(W,d),Z===A?(s=W,A=ot):(u=W,O=ot)}}function Y(s,u,d,_,w){var A=u.x-s.x,O=u.y-s.y,Z=_.min,W=_.max,ot,wt;return d&8?(ot=s.x+A*(W.y-s.y)/O,wt=W.y):d&4?(ot=s.x+A*(Z.y-s.y)/O,wt=Z.y):d&2?(ot=W.x,wt=s.y+O*(W.x-s.x)/A):d&1&&(ot=Z.x,wt=s.y+O*(Z.x-s.x)/A),new ft(ot,wt,w)}function $(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function yt(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function Bt(s,u,d,_){var w=u.x,A=u.y,O=d.x-w,Z=d.y-A,W=O*O+Z*Z,ot;return W>0&&(ot=((s.x-w)*O+(s.y-A)*Z)/W,ot>1?(w=d.x,A=d.y):ot>0&&(w+=O*ot,A+=Z*ot)),O=s.x-w,Z=s.y-A,_?O*O+Z*Z:new ft(w,A)}function _e(s){return!kt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ye(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_e(s)}function Ze(s,u){var d,_,w,A,O,Z,W,ot;if(!s||s.length===0)throw new Error("latlngs not passed");_e(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var wt=bt([0,0]),Ot=mt(s),$t=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());$t<1700&&(wt=ba(s));var Pn=s.length,fn=[];for(d=0;d<Pn;d++){var Ni=bt(s[d]);fn.push(u.project(bt([Ni.lat-wt.lat,Ni.lng-wt.lng])))}for(d=0,_=0;d<Pn-1;d++)_+=fn[d].distanceTo(fn[d+1])/2;if(_===0)ot=fn[0];else for(d=0,A=0;d<Pn-1;d++)if(O=fn[d],Z=fn[d+1],w=O.distanceTo(Z),A+=w,A>_){W=(A-_)/w,ot=[Z.x-W*(Z.x-O.x),Z.y-W*(Z.y-O.y)];break}var Se=u.unproject(xt(ot));return bt([Se.lat+wt.lat,Se.lng+wt.lng])}var qi={__proto__:null,simplify:Fn,pointToSegmentDistance:Eo,closestPointOnSegment:fl,clipSegment:R,_getEdgeIntersection:Y,_getBitCode:$,_sqClosestPointOnSegment:Bt,isFlat:_e,_flat:ye,polylineCenter:Ze},Hi={project:function(s){return new ft(s.lng,s.lat)},unproject:function(s){return new Tt(s.y,s.x)},bounds:new j([-180,-90],[180,90])},Ri={R:6378137,R_MINOR:6356752314245179e-9,bounds:new j([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,w=this.R_MINOR/d,A=Math.sqrt(1-w*w),O=A*Math.sin(_),Z=Math.tan(Math.PI/4-_/2)/Math.pow((1-O)/(1+O),A/2);return _=-d*Math.log(Math.max(Z,1e-10)),new ft(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,w=Math.sqrt(1-_*_),A=Math.exp(-s.y/d),O=Math.PI/2-2*Math.atan(A),Z=0,W=.1,ot;Z<15&&Math.abs(W)>1e-7;Z++)ot=w*Math.sin(O),ot=Math.pow((1-ot)/(1+ot),w/2),W=Math.PI/2-2*Math.atan(A*ot)-O,O+=W;return new Tt(O*u,s.x*u/d)}},us={__proto__:null,LonLat:Hi,Mercator:Ri,SphericalMercator:ai},Gr=l({},Oe,{code:"EPSG:3395",projection:Ri,transformation:(function(){var s=.5/(Math.PI*Ri.R);return zn(s,.5,-s,.5)})()}),Zr=l({},Oe,{code:"EPSG:4326",projection:Hi,transformation:zn(1/180,1,-1/180,.5)}),wa=l({},qt,{projection:Hi,transformation:zn(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});qt.Earth=Oe,qt.EPSG3395=Gr,qt.EPSG3857=ns,qt.EPSG900913=jn,qt.EPSG4326=Zr,qt.Simple=wa;var cs=_t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?kt(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ta=cs.extend({initialize:function(s,u){ct(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),nd=function(s,u){return new Ta(s,u)},Ss=Ta.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ta.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ta.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new dt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Uc=function(s,u){return new Ss(s,u)},As=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){ct(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=xt(_),A=xt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return At.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function So(s){return new As(s)}var Ao=As.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Ao.imagePath!="string"&&(Ao.imagePath=this._detectIconPath()),(this.options.imagePath||Ao.imagePath)+As.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,w){var A=_.exec(d);return A&&A[w]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Kt("div","leaflet-default-icon-path",document.body),u=Ts(s,"background-image")||Ts(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Co=Ii.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ls(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Et(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,A=xn(u._icon),O=d.getPixelBounds(),Z=d.getPixelOrigin(),W=nt(O.min._subtract(Z).add(w),O.max._subtract(Z).subtract(w));if(!W.contains(A)){var ot=xt((Math.max(W.max.x,A.x)-W.max.x)/(O.max.x-W.max.x)-(Math.min(W.min.x,A.x)-W.min.x)/(O.min.x-W.min.x),(Math.max(W.max.y,A.y)-W.max.y)/(O.max.y-W.max.y)-(Math.min(W.min.y,A.y)-W.min.y)/(O.min.y-W.min.y)).multiplyBy(_);d.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),be(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=U(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=xn(u._icon),w=u._map.layerPointToLatLng(_);d&&be(d,_),u._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Io=cs.extend({options:{icon:new Ao,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){ct(this,u),this._latlng=bt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=bt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),Et(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rt(d,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),A=!1;w!==this._shadow&&(this._removeShadow(),A=!0),w&&(Et(w,u),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yt(this._icon,"focus",this._panOnFocus,this),re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&re(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&be(this._icon,s),this._shadow&&be(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Co)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Co(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Pe(this._icon,s),this._shadow&&Pe(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?xt(u.iconSize):xt(0,0),_=u.iconAnchor?xt(u.iconAnchor):xt(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Bc(s,u){return new Io(s,u)}var Cs=cs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return ct(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xa=Cs.extend({options:{fill:!0,radius:10},initialize:function(s,u){ct(this,u),this._latlng=bt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=bt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Cs.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new j(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qc(s,u){return new xa(s,u)}var dl=xa.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),ct(this,u),this._latlng=bt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Cs.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===Oe.distance){var w=Math.PI/180,A=this._mRadius/Oe.R/w,O=d.project([u+A,s]),Z=d.project([u-A,s]),W=O.add(Z).divideBy(2),ot=d.unproject(W).lat,wt=Math.acos((Math.cos(A*w)-Math.sin(u*w)*Math.sin(ot*w))/(Math.cos(u*w)*Math.cos(ot*w)))/w;(isNaN(wt)||wt===0)&&(wt=A/Math.cos(Math.PI/180*u)),this._point=W.subtract(d.getPixelOrigin()),this._radius=isNaN(wt)?0:W.x-d.project([ot,s-wt]).x,this._radiusY=W.y-O.y}else{var Ot=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ot).x}this._updateBounds()}});function Hc(s,u,d){return new dl(s,u,d)}var Js=Cs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){ct(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=Bt,w,A,O=0,Z=this._parts.length;O<Z;O++)for(var W=this._parts[O],ot=1,wt=W.length;ot<wt;ot++){w=W[ot-1],A=W[ot];var Ot=_(s,w,A,!0);Ot<u&&(u=Ot,d=_(s,w,A))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ze(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=bt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new dt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return _e(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=_e(s),_=0,w=s.length;_<w;_++)d?(u[_]=bt(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ft(s,s);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof Tt,w=s.length,A,O;if(_){for(O=[],A=0;A<w;A++)O[A]=this._map.latLngToLayerPoint(s[A]),d.extend(O[A]);u.push(O)}else for(A=0;A<w;A++)this._projectLatlngs(s[A],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,w,A,O,Z,W;for(d=0,w=0,A=this._rings.length;d<A;d++)for(W=this._rings[d],_=0,O=W.length;_<O-1;_++)Z=R(W[_],W[_+1],s,_,!0),Z&&(u[w]=u[w]||[],u[w].push(Z[0]),(Z[1]!==W[_+1]||_===O-2)&&(u[w].push(Z[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=Fn(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,w,A,O,Z,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,A=this._parts.length;d<A;d++)for(Z=this._parts[d],_=0,O=Z.length,w=O-1;_<O;w=_++)if(!(!u&&_===0)&&Eo(s,Z[w],Z[_])<=W)return!0;return!1}});function id(s,u){return new Js(s,u)}Js._flat=ye;var Ea=Js.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Js.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof Tt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){Js.prototype._setLatLngs.call(this,s),_e(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _e(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new ft(u,u);if(s=new j(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,A;_<w;_++)A=To(this._rings[_],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,w,A,O,Z,W,ot;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,W=this._parts.length;A<W;A++)for(d=this._parts[A],O=0,ot=d.length,Z=ot-1;O<ot;Z=O++)_=d[O],w=d[Z],_.y>s.y!=w.y>s.y&&s.x<(w.x-_.x)*(s.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||Js.prototype._containsPoint.call(this,s,!0)}});function sd(s,u){return new Ea(s,u)}var $s=Ss.extend({initialize:function(s,u){ct(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=kt(s)?s:s.features,d,_,w;if(u){for(d=0,_=u.length;d<_;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var O=Gn(s,A);return O?(O.feature=gl(s),O.defaultOptions=O.options,this.resetStyle(O),A.onEachFeature&&A.onEachFeature(s,O),this.addLayer(O)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Gn(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,w=[],A=u&&u.pointToLayer,O=u&&u.coordsToLatLng||ml,Z,W,ot,wt;if(!_&&!d)return null;switch(d.type){case"Point":return Z=O(_),Sa(A,s,Z,u);case"MultiPoint":for(ot=0,wt=_.length;ot<wt;ot++)Z=O(_[ot]),w.push(Sa(A,s,Z,u));return new Ss(w);case"LineString":case"MultiLineString":return W=Ro(_,d.type==="LineString"?0:1,O),new Js(W,u);case"Polygon":case"MultiPolygon":return W=Ro(_,d.type==="Polygon"?1:2,O),new Ea(W,u);case"GeometryCollection":for(ot=0,wt=d.geometries.length;ot<wt;ot++){var Ot=Gn({geometry:d.geometries[ot],type:"Feature",properties:s.properties},u);Ot&&w.push(Ot)}return new Ss(w);case"FeatureCollection":for(ot=0,wt=d.features.length;ot<wt;ot++){var $t=Gn(d.features[ot],u);$t&&w.push($t)}return new Ss(w);default:throw new Error("Invalid GeoJSON object.")}}function Sa(s,u,d,_){return s?s(u,d):new Io(d,_&&_.markersInheritOptions&&_)}function ml(s){return new Tt(s[1],s[0],s[2])}function Ro(s,u,d){for(var _=[],w=0,A=s.length,O;w<A;w++)O=u?Ro(s[w],u-1,d):(d||ml)(s[w]),_.push(O);return _}function pl(s,u){return s=bt(s),s.alt!==void 0?[k(s.lng,u),k(s.lat,u),k(s.alt,u)]:[k(s.lng,u),k(s.lat,u)]}function No(s,u,d,_){for(var w=[],A=0,O=s.length;A<O;A++)w.push(u?No(s[A],_e(s[A])?0:u-1,d,_):pl(s[A],_));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function br(s,u){return s.feature?l({},s.feature,{geometry:u}):gl(u)}function gl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var wr={toGeoJSON:function(s){return br(this,{type:"Point",coordinates:pl(this.getLatLng(),s)})}};Io.include(wr),dl.include(wr),xa.include(wr),Js.include({toGeoJSON:function(s){var u=!_e(this._latlngs),d=No(this._latlngs,u?1:0,!1,s);return br(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),Ea.include({toGeoJSON:function(s){var u=!_e(this._latlngs),d=u&&!_e(this._latlngs[0]),_=No(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),br(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),Ta.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),br(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var A=w.toGeoJSON(s);if(d)_.push(A.geometry);else{var O=gl(A);O.type==="FeatureCollection"?_.push.apply(_,O.features):_.push(O)}}}),d?br(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function _l(s,u){return new $s(s,u)}var ko=_l,Aa=cs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=mt(u),ct(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ke(this._image),this},bringToBack:function(){return this._map&&On(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=mt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Kt("img");if(Et(u,"leaflet-image-layer"),this._zoomAnimated&&Et(u,"leaflet-zoom-animated"),this.options.className&&Et(u,this.options.className),u.onselectstart=N,u.onmousemove=N,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ci(this._image,d,u)},_reset:function(){var s=this._image,u=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();be(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Pe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Fc=function(s,u,d){return new Aa(s,u,d)},Tr=Aa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Kt("video");if(Et(u,"leaflet-image-layer"),this._zoomAnimated&&Et(u,"leaflet-zoom-animated"),this.options.className&&Et(u,this.options.className),u.onselectstart=N,u.onmousemove=N,u.onloadeddata=p(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],w=0;w<d.length;w++)_.push(d[w].src);this._url=d.length>0?_:[u.src];return}kt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var O=Kt("source");O.src=this._url[A],u.appendChild(O)}}});function Ca(s,u,d){return new Tr(s,u,d)}var yl=Aa.extend({_initImage:function(){var s=this._image=this._url;Et(s,"leaflet-image-layer"),this._zoomAnimated&&Et(s,"leaflet-zoom-animated"),this.options.className&&Et(s,this.options.className),s.onselectstart=N,s.onmousemove=N}});function Gc(s,u,d){return new yl(s,u,d)}var Zn=cs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof Tt||kt(s))?(this._latlng=bt(s),ct(this,u)):(ct(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Pe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Pe(this._container,1),this.bringToFront(),this.options.interactive&&(Et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Pe(this._container,0),this._removeTimeout=setTimeout(p(re,void 0,this._container),200)):re(this._container),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=bt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ke(this._container),this},bringToBack:function(){return this._map&&On(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Ss){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=xt(this.options.offset),d=this._getAnchor();this._zoomAnimated?be(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(s,u,d,_){var w=u;return w instanceof s||(w=new s(_).setContent(u)),d&&w.setLatLng(d),w}}),cs.include({_initOverlay:function(s,u,d,_){var w=d;return w instanceof s?(ct(w,_),w._source=this):(w=u&&!_?u:new s(_,this),w.setContent(d)),w}});var Lo=Zn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Zn.prototype.openOn.call(this,s)},onAdd:function(s){Zn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cs||this._source.on("preclick",ce))},onRemove:function(s){Zn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cs||this._source.off("preclick",ce))},getEvents:function(){var s=Zn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Kt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Kt("div",s+"-content-wrapper",u);if(this._contentNode=Kt("div",s+"-content",d),Ys(u),Bi(this._contentNode),Rt(u,"contextmenu",ce),this._tipContainer=Kt("div",s+"-tip-container",u),this._tip=Kt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Kt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Rt(_,"click",function(w){rn(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,w=this.options.maxHeight,A="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",Et(s,A)):xe(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();be(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Ts(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,w=new ft(this._containerLeft,-d-this._containerBottom);w._add(xn(this._container));var A=s.layerPointToContainerPoint(w),O=xt(this.options.autoPanPadding),Z=xt(this.options.autoPanPaddingTopLeft||O),W=xt(this.options.autoPanPaddingBottomRight||O),ot=s.getSize(),wt=0,Ot=0;A.x+_+W.x>ot.x&&(wt=A.x+_-ot.x+W.x),A.x-wt-Z.x<0&&(wt=A.x-Z.x),A.y+d+W.y>ot.y&&(Ot=A.y+d-ot.y+W.y),A.y-Ot-Z.y<0&&(Ot=A.y-Z.y),(wt||Ot)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([wt,Ot]))}},_getAnchor:function(){return xt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zc=function(s,u){return new Lo(s,u)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(s,u,d){return this._initOverlay(Lo,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),cs.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Lo,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ss||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ss(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Cs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Mo=Zn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Zn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Zn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Zn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,w=this._container,A=_.latLngToContainerPoint(_.getCenter()),O=_.layerPointToContainerPoint(s),Z=this.options.direction,W=w.offsetWidth,ot=w.offsetHeight,wt=xt(this.options.offset),Ot=this._getAnchor();Z==="top"?(u=W/2,d=ot):Z==="bottom"?(u=W/2,d=0):Z==="center"?(u=W/2,d=ot/2):Z==="right"?(u=0,d=ot/2):Z==="left"?(u=W,d=ot/2):O.x<A.x?(Z="right",u=0,d=ot/2):(Z="left",u=W+(wt.x+Ot.x)*2,d=ot/2),s=s.subtract(xt(u,d,!0)).add(wt).add(Ot),xe(w,"leaflet-tooltip-right"),xe(w,"leaflet-tooltip-left"),xe(w,"leaflet-tooltip-top"),xe(w,"leaflet-tooltip-bottom"),Et(w,"leaflet-tooltip-"+Z),be(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Pe(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return xt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rd=function(s,u){return new Mo(s,u)};ie.include({openTooltip:function(s,u,d){return this._initOverlay(Mo,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),cs.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mo,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ss||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Rt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Rt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Kc=As.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Fe(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=xt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function ad(s){return new Kc(s)}As.Default=Ao;var Ia=cs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:At.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){ct(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),re(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(On(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ft?s:new ft(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,w=u.length,A;_<w;_++)A=u[_].style.zIndex,u[_]!==this._container&&A&&(d=s(d,+A));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!At.ielt9){Pe(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var A=Math.min(1,(s-w.loaded)/200);Pe(w.el,A),A<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=Kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(re(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],w=this._map;return _||(_=this._levels[s]={},_.el=Kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,w.getCenter(),w.getZoom()),N(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)re(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var w=Math.floor(s/2),A=Math.floor(u/2),O=d-1,Z=new ft(+w,+A);Z.z=+O;var W=this._tileCoordsToKey(Z),ot=this._tiles[W];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),O>_?this._retainParent(w,A,O,_):!1)},_retainChildren:function(s,u,d,_){for(var w=2*s;w<2*s+2;w++)for(var A=2*u;A<2*u+2;A++){var O=new ft(w,A);O.z=d+1;var Z=this._tileCoordsToKey(O),W=this._tiles[Z];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);d+1<_&&this._retainChildren(w,A,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var A=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||A)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),w=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();At.any3d?Ci(s.el,w,_):be(s.el,w)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),w=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(_*2);return new j(w.subtract(A),w.add(A))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(_),A=w.getCenter(),O=[],Z=this.options.keepBuffer,W=new j(w.getBottomLeft().subtract([Z,-Z]),w.getTopRight().add([Z,-Z]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var wt=this._tiles[ot].coords;(wt.z!==this._tileZoom||!W.contains(new ft(wt.x,wt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Ot=w.min.y;Ot<=w.max.y;Ot++)for(var $t=w.min.x;$t<=w.max.x;$t++){var Pn=new ft($t,Ot);if(Pn.z=this._tileZoom,!!this._isValidTile(Pn)){var fn=this._tiles[this._tileCoordsToKey(Pn)];fn?fn.current=!0:O.push(Pn)}}if(O.sort(function(Se,Ae){return Se.distanceTo(A)-Ae.distanceTo(A)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ni=document.createDocumentFragment();for($t=0;$t<O.length;$t++)this._addTile(O[$t],Ni);this._level.el.appendChild(Ni)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return mt(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),w=_.add(d),A=u.unproject(_,s.z),O=u.unproject(w,s.z);return[A,O]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new dt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new ft(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(re(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Et(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=N,s.onmousemove=N,At.ielt9&&this.options.opacity<1&&Pe(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&U(p(this._tileReady,this,s,null,w)),be(w,d),this._tiles[_]={el:w,coords:s,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Pe(d.el,0),F(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(Et(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),At.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ft(this._wrapX?I(s.x,this._wrapX):s.x,this._wrapY?I(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new j(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Yc(s){return new Ia(s)}var xr=Ia.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=ct(this,u),u.detectRetina&&At.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Rt(d,"load",p(this._tileOnLoad,this,u,d)),Rt(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:At.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return jt(this._url,l(u,this.options))},_tileOnLoad:function(s,u){At.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=N,u.onerror=N,!u.complete)){u.src=Ne;var d=this._tiles[s].coords;re(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",Ne),Ia.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===Ne))return Ia.prototype._tileReady.call(this,s,u,d)}});function Fi(s,u){return new xr(s,u)}var Oo=xr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=ct(this,u);var w=u.detectRetina&&At.retina?2:1,A=this.getTileSize();d.width=A.x*w,d.height=A.y*w,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,xr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=nt(d.project(u[0]),d.project(u[1])),w=_.min,A=_.max,O=(this._wmsVersion>=1.3&&this._crs===Zr?[w.y,w.x,A.y,A.x]:[w.x,w.y,A.x,A.y]).join(","),Z=xr.prototype.getTileUrl.call(this,s);return Z+pt(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function Gi(s,u){return new Oo(s,u)}xr.WMS=Oo,Fi.wms=Gi;var mi=cs.extend({options:{padding:.1},initialize:function(s){ct(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),A=_.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(s,u));At.any3d?Ci(this._container,A,d):be(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new j(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vl=mi.extend({options:{tolerance:0},getEvents:function(){var s=mi.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Rt(s,"mousemove",this._onMouseMove,this),Rt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,re(this._container),Yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mi.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=At.retina?2:1;be(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",At.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){mi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,w,A,O=s._parts,Z=O.length,W=this._ctx;if(Z){for(W.beginPath(),d=0;d<Z;d++){for(_=0,w=O[d].length;_<w;_++)A=O[d][_],W[_?"lineTo":"moveTo"](A.x,A.y);u&&W.closePath()}this._fillStroke(W,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||_)/_;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(xe(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(Et(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Po(s){return At.canvas?new vl(s):null}var Er=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),vu={_initContainer:function(){this._container=Kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mi.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Er("shape");Et(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Er("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;re(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,w=s._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=s._stroke=Er("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=kt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=Er("fill")),w.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(w.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){ke(s._container)},_bringToBack:function(s){On(s._container)}},Is=At.vml?Er:Ds,Ra=mi.extend({_initContainer:function(){this._container=Is("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Is("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){re(this._container),Yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mi.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),be(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Is("path");s.options.className&&Et(u,s.options.className),s.options.interactive&&Et(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){re(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Vs(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,w="a"+d+","+_+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){ke(s._path)},_bringToBack:function(s){On(s._path)}});At.vml&&Ra.include(vu);function Do(s){return At.svg||At.vml?new Ra(s):null}ie.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Po(s)||Do(s)}});var Kr=Ea.extend({initialize:function(s,u){Ea.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=mt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function od(s,u){return new Kr(s,u)}Ra.create=Is,Ra.pointsToPath=Vs,$s.geometryToLayer=Gn,$s.coordsToLatLng=ml,$s.coordsToLatLngs=Ro,$s.latLngToCoords=pl,$s.latLngsToCoords=No,$s.getFeature=br,$s.asFeature=gl,ie.mergeOptions({boxZoom:!0});var pi=Ii.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$n(),B(),this._startPoint=this._map.mouseEventToContainerPoint(s),Rt(document,{contextmenu:ss,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Kt("div","leaflet-zoom-box",this._container),Et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new j(this._point,this._startPoint),d=u.getSize();be(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(re(this._box),xe(this._container,"leaflet-crosshair")),sn(),st(),Yt(document,{contextmenu:ss,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",pi),ie.mergeOptions({doubleClickZoom:!0});var bl=Ii.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,w=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(s.containerPoint,w)}});ie.addInitHook("addHandler","doubleClickZoom",bl),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rs=Ii.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ls(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xe(this._map._container,"leaflet-grab"),xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=mt(this._map.options.maxBounds);this._offsetLimit=nt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+d)%s+u-d,A=(_+u+d)%s-u-d,O=Math.abs(w+d)<Math.abs(A+d)?w:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,O=d.easeLinearity,Z=w.multiplyBy(O/A),W=Z.distanceTo([0,0]),ot=Math.min(d.inertiaMaxSpeed,W),wt=Z.multiplyBy(ot/W),Ot=ot/(d.inertiaDeceleration*O),$t=wt.multiplyBy(-Ot/2).round();!$t.x&&!$t.y?u.fire("moveend"):($t=u._limitOffset($t,u.options.maxBounds),U(function(){u.panBy($t,{duration:Ot,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",Rs),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bu=Ii.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Rt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,w;for(_=0,w=d.left.length;_<w;_++)u[d.left[_]]=[-1*s,0];for(_=0,w=d.right.length;_<w;_++)u[d.right[_]]=[s,0];for(_=0,w=d.down.length;_<w;_++)u[d.down[_]]=[0,s];for(_=0,w=d.up.length;_<w;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,w;for(_=0,w=d.zoomIn.length;_<w;_++)u[d.zoomIn[_]]=s;for(_=0,w=d.zoomOut.length;_<w;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=xt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(xt(_),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(w)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;ss(s)}}});ie.addInitHook("addHandler","keyboard",bu),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vo=Ii.extend({addHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=En(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),ss(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,A=d?Math.ceil(w/d)*d:w,O=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,O&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+O):s.setZoomAround(this._lastMousePos,u+O))}});ie.addInitHook("addHandler","scrollWheelZoom",Vo);var Yr=600;ie.mergeOptions({tapHold:At.touchNative&&At.safari&&At.mobile,tapTolerance:15});var wl=Ii.extend({addHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ft(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Rt(document,"touchend",rn),Rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Yr),Rt(document,"touchend touchcancel contextmenu",this._cancel,this),Rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Yt(document,"touchend",rn),Yt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Yt(document,"touchend touchcancel contextmenu",this._cancel,this),Yt(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ft(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});ie.addInitHook("addHandler","tapHold",wl),ie.mergeOptions({touchZoom:At.touch,bounceAtZoomLimits:!0});var wu=Ii.extend({addHooks:function(){Et(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend touchcancel",this._onTouchEnd,this),rn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),w=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var A=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var O=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(O,this,!0),rn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Yt(document,"touchmove",this._onTouchMove,this),Yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",wu),ie.BoxZoom=pi,ie.DoubleClickZoom=bl,ie.Drag=Rs,ie.Keyboard=bu,ie.ScrollWheelZoom=Vo,ie.TapHold=wl,ie.TouchZoom=wu,n.Bounds=j,n.Browser=At,n.CRS=qt,n.Canvas=vl,n.Circle=dl,n.CircleMarker=xa,n.Class=ee,n.Control=Hn,n.DivIcon=Kc,n.DivOverlay=Zn,n.DomEvent=Es,n.DomUtil=Ee,n.Draggable=ls,n.Evented=_t,n.FeatureGroup=Ss,n.GeoJSON=$s,n.GridLayer=Ia,n.Handler=Ii,n.Icon=As,n.ImageOverlay=Aa,n.LatLng=Tt,n.LatLngBounds=dt,n.Layer=cs,n.LayerGroup=Ta,n.LineUtil=qi,n.Map=ie,n.Marker=Io,n.Mixin=hl,n.Path=Cs,n.Point=ft,n.PolyUtil=vr,n.Polygon=Ea,n.Polyline=Js,n.Popup=Lo,n.PosAnimation=Qs,n.Projection=us,n.Rectangle=Kr,n.Renderer=mi,n.SVG=Ra,n.SVGOverlay=yl,n.TileLayer=xr,n.Tooltip=Mo,n.Transformation=es,n.Util=P,n.VideoOverlay=Tr,n.bind=p,n.bounds=nt,n.canvas=Po,n.circle=Hc,n.circleMarker=qc,n.control=di,n.divIcon=ad,n.extend=l,n.featureGroup=Uc,n.geoJSON=_l,n.geoJson=ko,n.gridLayer=Yc,n.icon=So,n.imageOverlay=Fc,n.latLng=bt,n.latLngBounds=mt,n.layerGroup=nd,n.map=yr,n.marker=Bc,n.point=xt,n.polygon=sd,n.polyline=id,n.popup=Zc,n.rectangle=od,n.setOptions=ct,n.stamp=v,n.svg=Do,n.svgOverlay=Gc,n.tileLayer=Fi,n.tooltip=rd,n.transformation=zn,n.version=a,n.videoOverlay=Ca;var Tu=window.L;n.noConflict=function(){return window.L=Tu,this},window.L=n}))})(ac,ac.exports)),ac.exports}var e1=t1();const Gh=Lp(e1),Fl={Africa:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=0&single=true&output=csv",Asia:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=1068676948&single=true&output=csv",Europe:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=1320626933&single=true&output=csv",NorthAmerica:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=1830200360&single=true&output=csv",SouthAmerica:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=1119979844&single=true&output=csv",Oceania:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=868971470&single=true&output=csv",Any:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQqewGCZNbrYaCLnvN3EBwCLLCdy6hB3SSZ08p6slZTF-sXpC-RM1zeIS8LSklyPeRp73xDL1IAO5_o/pub?gid=0&single=true&output=csv"},n1=r=>{const t=[];let n=[],a="",l=!1;for(let p=0;p<r.length;p++){const b=r[p];b==='"'?l=!l:b===","&&!l?(n.push(a.trim()),a=""):b===`
`&&!l?(n.push(a.trim()),n.length>1&&t.push(n),n=[],a=""):b===`
`&&l?a+=" ":b!=="\r"&&(a+=b)}if((a||n.length>0)&&(n.push(a.trim()),n.length>1&&t.push(n)),t.length===0)return[];const h=t[0].map(p=>p.replace(/^"|"$/g,""));return t.slice(1).map(p=>{const b={};return h.forEach((v,x)=>{b[v]=p[x]?p[x].replace(/^"|"$/g,""):""}),b})},i1=r=>{const[t,n]=vt.useState([]),[a,l]=vt.useState(!0),[h,p]=vt.useState(null),[b,v]=vt.useState(null);return vt.useEffect(()=>{(async()=>{l(!0);try{let I=[];if(r==="Any"){const at=[Fl.Africa,Fl.Asia,Fl.Europe,Fl.NorthAmerica,Fl.SouthAmerica,Fl.Oceania].filter(Boolean),ct=await Promise.all(at.map(Lt=>fetch(Lt)));(await Promise.all(ct.map(Lt=>Lt.text()))).forEach(Lt=>{I=I.concat(n1(Lt))})}const N=[],k=[],et=new Set;I.forEach(at=>{const ct=parseInt(at.Taxon_ID),pt=at.Name;pt&&ct?et.has(pt)||(et.add(pt),N.push({name:pt,correctName:pt,emoji:at.Emoji,sciName:at.SciName,displayLatin:at.SciName,id:ct,category:at["Animal Category"],clue1:at["Clue 1"],clue2:at["Clue 2"],family:"Unknown",groupEmoji:at.Emoji,region:at.region})):(pt||at.Taxon_ID)&&k.push({name:pt||"MISSING NAME",rawIdCell:at.Taxon_ID||"BLANK"})}),k.length>0&&console.warn(` FILTER CAUGHT ${k.length} BROKEN ANIMALS:`,k),n(N),v(r)}catch(I){console.error("Failed to load animal data:",I),p(I)}finally{l(!1)}})()},[r]),{animals:t,loading:a,error:h,loadedRegion:b}},s1=()=>{};var zv={};const Eb=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},r1=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],p=r[n++],b=r[n++],v=((l&7)<<18|(h&63)<<12|(p&63)<<6|b&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[n++],p=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},Sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],p=l+1<r.length,b=p?r[l+1]:0,v=l+2<r.length,x=v?r[l+2]:0,I=h>>2,N=(h&3)<<4|b>>4;let k=(b&15)<<2|x>>6,et=x&63;v||(et=64,p||(k=64)),a.push(n[I],n[N],n[k],n[et])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Eb(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):r1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],b=l<r.length?n[r.charAt(l)]:0;++l;const x=l<r.length?n[r.charAt(l)]:64;++l;const N=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||b==null||x==null||N==null)throw new a1;const k=h<<2|b>>4;if(a.push(k),x!==64){const et=b<<4&240|x>>2;if(a.push(et),N!==64){const at=x<<6&192|N;a.push(at)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class a1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o1=function(r){const t=Eb(r);return Sb.encodeByteArray(t,!0)},ff=function(r){return o1(r).replace(/\./g,"")},Ab=function(r){try{return Sb.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const u1=()=>l1().__FIREBASE_DEFAULTS__,c1=()=>{if(typeof process>"u"||typeof zv>"u")return;const r=zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},h1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Ab(r[1]);return t&&JSON.parse(t)},Mf=()=>{try{return s1()||u1()||c1()||h1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cb=r=>Mf()?.emulatorHosts?.[r],f1=r=>{const t=Cb(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},Ib=()=>Mf()?.config,Rb=r=>Mf()?.[`_${r}`];class d1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function hu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nb(r){return(await fetch(r,{credentials:"include"})).ok}function m1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ff(JSON.stringify(n)),ff(JSON.stringify(p)),""].join(".")}const hc={};function p1(){const r={prod:[],emulator:[]};for(const t of Object.keys(hc))hc[t]?r.emulator.push(t):r.prod.push(t);return r}function g1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let jv=!1;function kb(r,t){if(typeof window>"u"||typeof document>"u"||!hu(window.location.host)||hc[r]===t||hc[r]||jv)return;hc[r]=t;function n(k){return`__firebase__banner__${k}`}const a="__firebase__banner",h=p1().prod.length>0;function p(){const k=document.getElementById(a);k&&k.remove()}function b(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function v(k,et){k.setAttribute("width","24"),k.setAttribute("id",et),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function x(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{jv=!0,p()},k}function I(k,et){k.setAttribute("id",et),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function N(){const k=g1(a),et=n("text"),at=document.getElementById(et)||document.createElement("span"),ct=n("learnmore"),pt=document.getElementById(ct)||document.createElement("a"),Lt=n("preprendIcon"),jt=document.getElementById(Lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const kt=k.element;b(kt),I(pt,ct);const Jt=x();v(jt,Lt),kt.append(jt,at,pt,Jt),document.body.appendChild(kt)}h?(at.innerText="Preview backend disconnected.",jt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(jt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,at.innerText="Preview backend running in this workspace."),at.setAttribute("id",et)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function bi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bi())}function y1(){const r=Mf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function b1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w1(){const r=bi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function T1(){return!y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ob(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}function x1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const E1="FirebaseError";class cr extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=E1,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?S1(h,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new cr(l,b,a)}}function S1(r,t){return r.replace(A1,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const A1=/\{\$([^}]+)}/g;function C1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ao(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],p=t[l];if(Uv(h)&&Uv(p)){if(!ao(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Uv(r){return r!==null&&typeof r=="object"}function Cc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function I1(r,t){const n=new R1(r,t);return n.subscribe.bind(n)}class R1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");N1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=Fm),l.error===void 0&&(l.error=Fm),l.complete===void 0&&(l.complete=Fm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Fm(){}const k1=1e3,L1=2,M1=14400*1e3,O1=.5;function Bv(r,t=k1,n=L1){const a=t*Math.pow(n,r),l=Math.round(O1*a*(Math.random()-.5)*2);return Math.min(M1,a+l)}function Ln(r){return r&&r._delegate?r._delegate:r}class lr{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qo="[DEFAULT]";class P1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new d1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(V1(t))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Qo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qo){return this.instances.has(t)}getOptions(t=Qo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(h);a===b&&p.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:D1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qo){return this.component?this.component.multipleInstances?t:Qo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(r){return r===Qo?void 0:r}function V1(r){return r.instantiationMode==="EAGER"}class z1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new P1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var de;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(de||(de={}));const j1={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},U1=de.INFO,B1={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},q1=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=B1[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Of{constructor(t){this.name=t,this._logLevel=U1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in de))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?j1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...t),this._logHandler(this,de.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...t),this._logHandler(this,de.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,de.INFO,...t),this._logHandler(this,de.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,de.WARN,...t),this._logHandler(this,de.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...t),this._logHandler(this,de.ERROR,...t)}}const H1=(r,t)=>t.some(n=>r instanceof n);let qv,Hv;function F1(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,op=new WeakMap,Db=new WeakMap,Gm=new WeakMap,Op=new WeakMap;function Z1(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",p)},h=()=>{n(eo(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&Pb.set(n,r)}).catch(()=>{}),Op.set(t,r),t}function K1(r){if(op.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",p),r.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",p),r.addEventListener("abort",p)});op.set(r,t)}let lp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return op.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Db.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Y1(r){lp=r(lp)}function Q1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Zm(this),t,...n);return Db.set(a,t.sort?t.sort():[t]),eo(a)}:G1().includes(r)?function(...t){return r.apply(Zm(this),t),eo(Pb.get(this))}:function(...t){return eo(r.apply(Zm(this),t))}}function X1(r){return typeof r=="function"?Q1(r):(r instanceof IDBTransaction&&K1(r),H1(r,F1())?new Proxy(r,lp):r)}function eo(r){if(r instanceof IDBRequest)return Z1(r);if(Gm.has(r))return Gm.get(r);const t=X1(r);return t!==r&&(Gm.set(r,t),Op.set(t,r)),t}const Zm=r=>Op.get(r);function Vb(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(r,t),b=eo(p);return a&&p.addEventListener("upgradeneeded",v=>{a(eo(p.result),v.oldVersion,v.newVersion,eo(p.transaction),v)}),n&&p.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),b.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),b}const W1=["get","getKey","getAll","getAllKeys","count"],J1=["put","add","delete","clear"],Km=new Map;function Fv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Km.get(t))return Km.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=J1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||W1.includes(n)))return;const h=async function(p,...b){const v=this.transaction(p,l?"readwrite":"readonly");let x=v.store;return a&&(x=x.index(b.shift())),(await Promise.all([x[n](...b),l&&v.done]))[0]};return Km.set(t,h),h}Y1(r=>({...r,get:(t,n,a)=>Fv(t,n)||r.get(t,n,a),has:(t,n)=>!!Fv(t,n)||r.has(t,n)}));class $1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tS(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function tS(r){return r.getComponent()?.type==="VERSION"}const up="@firebase/app",Gv="0.14.7";const da=new Of("@firebase/app"),eS="@firebase/app-compat",nS="@firebase/analytics-compat",iS="@firebase/analytics",sS="@firebase/app-check-compat",rS="@firebase/app-check",aS="@firebase/auth",oS="@firebase/auth-compat",lS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",hS="@firebase/functions",fS="@firebase/functions-compat",dS="@firebase/installations",mS="@firebase/installations-compat",pS="@firebase/messaging",gS="@firebase/messaging-compat",_S="@firebase/performance",yS="@firebase/performance-compat",vS="@firebase/remote-config",bS="@firebase/remote-config-compat",wS="@firebase/storage",TS="@firebase/storage-compat",xS="@firebase/firestore",ES="@firebase/ai",SS="@firebase/firestore-compat",AS="firebase",CS="12.8.0";const cp="[DEFAULT]",IS={[up]:"fire-core",[eS]:"fire-core-compat",[iS]:"fire-analytics",[nS]:"fire-analytics-compat",[rS]:"fire-app-check",[sS]:"fire-app-check-compat",[aS]:"fire-auth",[oS]:"fire-auth-compat",[lS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[hS]:"fire-fn",[fS]:"fire-fn-compat",[dS]:"fire-iid",[mS]:"fire-iid-compat",[pS]:"fire-fcm",[gS]:"fire-fcm-compat",[_S]:"fire-perf",[yS]:"fire-perf-compat",[vS]:"fire-rc",[bS]:"fire-rc-compat",[wS]:"fire-gcs",[TS]:"fire-gcs-compat",[xS]:"fire-fst",[SS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};const df=new Map,RS=new Map,hp=new Map;function Zv(r,t){try{r.container.addComponent(t)}catch(n){da.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Pr(r){const t=r.name;if(hp.has(t))return da.debug(`There were multiple attempts to register component ${t}.`),!1;hp.set(t,r);for(const n of df.values())Zv(n,r);for(const n of RS.values())Zv(n,r);return!0}function al(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ms(r){return r==null?!1:r.settings!==void 0}const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new rl("app","Firebase",NS);class kS{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}const fu=CS;function zb(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:cp,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw no.create("bad-app-name",{appName:String(l)});if(n||(n=Ib()),!n)throw no.create("no-options");const h=df.get(l);if(h){if(ao(n,h.options)&&ao(a,h.config))return h;throw no.create("duplicate-app",{appName:l})}const p=new z1(l);for(const v of hp.values())p.addComponent(v);const b=new kS(n,a,p);return df.set(l,b),b}function Pp(r=cp){const t=df.get(r);if(!t&&r===cp&&Ib())return zb();if(!t)throw no.create("no-app",{appName:r});return t}function Ps(r,t,n){let a=IS[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${t}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),da.warn(p.join(" "));return}Pr(new lr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const LS="firebase-heartbeat-database",MS=1,_c="firebase-heartbeat-store";let Ym=null;function jb(){return Ym||(Ym=Vb(LS,MS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(r=>{throw no.create("idb-open",{originalErrorMessage:r.message})})),Ym}async function OS(r){try{const n=(await jb()).transaction(_c),a=await n.objectStore(_c).get(Ub(r));return await n.done,a}catch(t){if(t instanceof cr)da.warn(t.message);else{const n=no.create("idb-get",{originalErrorMessage:t?.message});da.warn(n.message)}}}async function Kv(r,t){try{const a=(await jb()).transaction(_c,"readwrite");await a.objectStore(_c).put(t,Ub(r)),await a.done}catch(n){if(n instanceof cr)da.warn(n.message);else{const a=no.create("idb-set",{originalErrorMessage:n?.message});da.warn(a.message)}}}function Ub(r){return`${r.name}!${r.options.appId}`}const PS=1024,DS=30;class VS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jS(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>DS){const l=US(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){da.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Yv(),{heartbeatsToSend:n,unsentEntries:a}=zS(this._heartbeatsCache.heartbeats),l=ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return da.warn(t),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function zS(r,t=PS){const n=[];let a=r.slice();for(const l of r){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),Qv(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Qv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class jS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mb()?Ob().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Qv(r){return ff(JSON.stringify({version:2,heartbeats:r})).length}function US(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}function BS(r){Pr(new lr("platform-logger",t=>new $1(t),"PRIVATE")),Pr(new lr("heartbeat",t=>new VS(t),"PRIVATE")),Ps(up,Gv,r),Ps(up,Gv,"esm2020"),Ps("fire-js","")}BS("");var qS="firebase",HS="12.8.0";Ps(qS,HS,"app");function Bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FS=Bb,qb=new rl("auth","Firebase",Bb());const mf=new Of("@firebase/auth");function GS(r,...t){mf.logLevel<=de.WARN&&mf.warn(`Auth (${fu}): ${r}`,...t)}function tf(r,...t){mf.logLevel<=de.ERROR&&mf.error(`Auth (${fu}): ${r}`,...t)}function Dr(r,...t){throw Vp(r,...t)}function rr(r,...t){return Vp(r,...t)}function Dp(r,t,n){const a={...FS(),[t]:n};return new rl("auth","Firebase",a).create(t,{appName:r.name})}function io(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZS(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&Dr(r,"argument-error"),Dp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return qb.create(r,...t)}function Ht(r,t,...n){if(!r)throw Vp(t,...n)}function ca(r){const t="INTERNAL ASSERTION FAILED: "+r;throw tf(t),new Error(t)}function ma(r,t){r||ca(t)}function fp(){return typeof self<"u"&&self.location?.href||""}function KS(){return Xv()==="http:"||Xv()==="https:"}function Xv(){return typeof self<"u"&&self.location?.protocol||null}function YS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KS()||Lb()||"connection"in navigator)?navigator.onLine:!0}function QS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ic{constructor(t,n){this.shortDelay=t,this.longDelay=n,ma(n>t,"Short delay should be less than long delay!"),this.isMobile=_1()||b1()}get(){return YS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zp(r,t){ma(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Hb{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JS=new Ic(3e4,6e4);function Pf(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function du(r,t,n,a,l={}){return Fb(r,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const b=Cc({key:r.config.apiKey,...p}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const x={method:t,headers:v,...h};return v1()||(x.referrerPolicy="no-referrer"),r.emulatorConfig&&hu(r.emulatorConfig.host)&&(x.credentials="include"),Hb.fetch()(await Zb(r,r.config.apiHost,n,b),x)})}async function Fb(r,t,n){r._canInitEmulator=!1;const a={...XS,...t};try{const l=new $S(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Zh(r,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const b=h.ok?p.errorMessage:p.error.message,[v,x]=b.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(r,"credential-already-in-use",p);if(v==="EMAIL_EXISTS")throw Zh(r,"email-already-in-use",p);if(v==="USER_DISABLED")throw Zh(r,"user-disabled",p);const I=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw Dp(r,I,x);Dr(r,I)}}catch(l){if(l instanceof cr)throw l;Dr(r,"network-request-failed",{message:String(l)})}}async function Gb(r,t,n,a,l={}){const h=await du(r,t,n,a,l);return"mfaPendingCredential"in h&&Dr(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function Zb(r,t,n,a){const l=`${t}${n}?${a}`,h=r,p=h.config.emulator?zp(r.config,l):`${r.config.apiScheme}://${l}`;return WS.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}class $S{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(rr(this.auth,"network-request-failed")),JS.get())})}}function Zh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=rr(r,t,a);return l.customData._tokenResponse=n,l}async function tA(r,t){return du(r,"POST","/v1/accounts:delete",t)}async function pf(r,t){return du(r,"POST","/v1/accounts:lookup",t)}function fc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eA(r,t=!1){const n=Ln(r),a=await n.getIdToken(t),l=jp(a);Ht(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h?.sign_in_provider;return{claims:l,token:a,authTime:fc(Qm(l.auth_time)),issuedAtTime:fc(Qm(l.iat)),expirationTime:fc(Qm(l.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Qm(r){return Number(r)*1e3}function jp(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const l=Ab(n);return l?JSON.parse(l):(tf("Failed to decode base64 JWT payload"),null)}catch(l){return tf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Wv(r){const t=jp(r);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function yc(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof cr&&nA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function nA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class iA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gf(r){const t=r.auth,n=await r.getIdToken(),a=await yc(r,pf(t,{idToken:n}));Ht(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?Kb(l.providerUserInfo):[],p=rA(r.providerData,h),b=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!p?.length,x=b?v:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new dp(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(r,I)}async function sA(r){const t=Ln(r);await gf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Kb(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function aA(r,t){const n=await Fb(r,{},async()=>{const a=Cc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,p=await Zb(r,l,"/v1/token",`key=${h}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:b,body:a};return r.emulatorConfig&&hu(r.emulatorConfig.host)&&(v.credentials="include"),Hb.fetch()(p,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oA(r,t){return du(r,"POST","/v2/accounts:revokeToken",Pf(r,t))}class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const n=Wv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await aA(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new Wl;return a&&(Ht(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(Ht(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(Ht(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return ca("not implemented")}}function Qa(r,t){Ht(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class sr{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new iA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await yc(this,this.stsTokenManager.getToken(this.auth,t));return Ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return eA(this,t)}reload(){return sA(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new sr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await gf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ms(this.auth.app))return Promise.reject(io(this.auth));const t=await this.getIdToken();return await yc(this,tA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,p=n.photoURL??void 0,b=n.tenantId??void 0,v=n._redirectEventId??void 0,x=n.createdAt??void 0,I=n.lastLoginAt??void 0,{uid:N,emailVerified:k,isAnonymous:et,providerData:at,stsTokenManager:ct}=n;Ht(N&&ct,t,"internal-error");const pt=Wl.fromJSON(this.name,ct);Ht(typeof N=="string",t,"internal-error"),Qa(a,t.name),Qa(l,t.name),Ht(typeof k=="boolean",t,"internal-error"),Ht(typeof et=="boolean",t,"internal-error"),Qa(h,t.name),Qa(p,t.name),Qa(b,t.name),Qa(v,t.name),Qa(x,t.name),Qa(I,t.name);const Lt=new sr({uid:N,auth:t,email:l,emailVerified:k,displayName:a,isAnonymous:et,photoURL:p,phoneNumber:h,tenantId:b,stsTokenManager:pt,createdAt:x,lastLoginAt:I});return at&&Array.isArray(at)&&(Lt.providerData=at.map(jt=>({...jt}))),v&&(Lt._redirectEventId=v),Lt}static async _fromIdTokenResponse(t,n,a=!1){const l=new Wl;l.updateFromServerResponse(n);const h=new sr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await gf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Ht(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Kb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!h?.length,b=new Wl;b.updateFromIdToken(a);const v=new sr({uid:l.localId,auth:t,stsTokenManager:b,isAnonymous:p}),x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new dp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,x),v}}const Jv=new Map;function ha(r){ma(r instanceof Function,"Expected a class definition");let t=Jv.get(r);return t?(ma(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Jv.set(r,t),t)}class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Yb.type="NONE";const $v=Yb;function ef(r,t,n){return`firebase:${r}:${t}:${n}`}class Jl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=ef(this.userKey,l.apiKey,h),this.fullPersistenceKey=ef("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await pf(this.auth,{idToken:t}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,t):null}return sr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Jl(ha($v),t,a);const l=(await Promise.all(n.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let h=l[0]||ha($v);const p=ef(a,t.config.apiKey,t.name);let b=null;for(const x of n)try{const I=await x._get(p);if(I){let N;if(typeof I=="string"){const k=await pf(t,{idToken:I}).catch(()=>{});if(!k)break;N=await sr._fromGetAccountInfoResponse(t,k,I)}else N=sr._fromJSON(t,I);x!==h&&(b=N),h=x;break}}catch{}const v=l.filter(x=>x._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Jl(h,t,a):(h=v[0],b&&await h._set(p,b.toJSON()),await Promise.all(n.map(async x=>{if(x!==h)try{await x._remove(p)}catch{}})),new Jl(h,t,a))}}function t0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tw(t))return"Blackberry";if(ew(t))return"Webos";if(Xb(t))return"Safari";if((t.includes("chrome/")||Wb(t))&&!t.includes("edge/"))return"Chrome";if($b(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Qb(r=bi()){return/firefox\//i.test(r)}function Xb(r=bi()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wb(r=bi()){return/crios\//i.test(r)}function Jb(r=bi()){return/iemobile/i.test(r)}function $b(r=bi()){return/android/i.test(r)}function tw(r=bi()){return/blackberry/i.test(r)}function ew(r=bi()){return/webos/i.test(r)}function Up(r=bi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lA(r=bi()){return Up(r)&&!!window.navigator?.standalone}function uA(){return w1()&&document.documentMode===10}function nw(r=bi()){return Up(r)||$b(r)||ew(r)||tw(r)||/windows phone/i.test(r)||Jb(r)}function iw(r,t=[]){let n;switch(r){case"Browser":n=t0(bi());break;case"Worker":n=`${t0(bi())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fu}/${a}`}class cA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,b)=>{try{const v=t(h);p(v)}catch(v){b(v)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function hA(r,t={}){return du(r,"GET","/v2/passwordPolicy",Pf(r,t))}const fA=6;class dA{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class mA{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new cA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ha(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await pf(this,{idToken:t}),a=await sr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ms(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(t);(!h||h===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await gf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ms(this.app))return Promise.reject(io(this));const n=t?Ln(t):null;return n&&Ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ms(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ms(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ha(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hA(this),n=new dA(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rl("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await oA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ha(t)||this._popupRedirectResolver;Ht(n,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[ha(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(b,this,"internal-error"),b.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,a,l);return()=>{p=!0,v()}}else{const v=t.addObserver(n);return()=>{p=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&GS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rc(r){return Ln(r)}class e0{constructor(t){this.auth=t,this.observer=null,this.addObserver=I1(n=>this.observer=n)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pA(r){Bp=r}function gA(r){return Bp.loadJS(r)}function _A(){return Bp.gapiScript}function yA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function vA(r,t){const n=al(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(ao(h,t??{}))return l;Dr(l,"already-initialized")}return n.initialize({options:t})}function bA(r,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ha);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function wA(r,t,n){const a=Rc(r);Ht(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=sw(t),{host:p,port:b}=TA(t),v=b===null?"":`:${b}`,x={url:`${h}//${p}${v}/`},I=Object.freeze({host:p,port:b,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ht(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ht(ao(x,a.config.emulator)&&ao(I,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=x,a.emulatorConfig=I,a.settings.appVerificationDisabledForTesting=!0,hu(p)?(Nb(`${h}//${p}${v}`),kb("Auth",!0)):xA()}function sw(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function TA(r){const t=sw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:n0(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:n0(p)}}}function n0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function xA(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class rw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ca("not implemented")}_getIdTokenResponse(t){return ca("not implemented")}_linkToIdToken(t,n){return ca("not implemented")}_getReauthenticationResolver(t){return ca("not implemented")}}async function $l(r,t){return Gb(r,"POST","/v1/accounts:signInWithIdp",Pf(r,t))}const EA="http://localhost";class tl extends rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const p=new tl(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return $l(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,$l(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$l(t,n)}buildRequest(){const t={requestUri:EA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Cc(n)}return t}}class qp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Nc extends qp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Wa extends Nc{constructor(){super("facebook.com")}static credential(t){return tl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wa.credential(t.oauthAccessToken)}catch{return null}}}Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wa.PROVIDER_ID="facebook.com";class ua extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return tl._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ua.credentialFromTaggedObject(t)}static credentialFromError(t){return ua.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return ua.credential(n,a)}catch{return null}}}ua.GOOGLE_SIGN_IN_METHOD="google.com";ua.PROVIDER_ID="google.com";class Ja extends Nc{constructor(){super("github.com")}static credential(t){return tl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ja.credentialFromTaggedObject(t)}static credentialFromError(t){return Ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ja.credential(t.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";class $a extends Nc{constructor(){super("twitter.com")}static credential(t,n){return tl._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return $a.credential(n,a)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";async function SA(r,t){return Gb(r,"POST","/v1/accounts:signUp",Pf(r,t))}class oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await sr._fromIdTokenResponse(t,a,l),p=i0(a);return new oo({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=i0(a);return new oo({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function i0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function AA(r){if(Ms(r.app))return Promise.reject(io(r));const t=Rc(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new oo({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await SA(t,{returnSecureToken:!0}),a=await oo._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(a.user),a}class _f extends cr{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new _f(t,n,a,l)}}function aw(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(r,h,t,a):h})}async function CA(r,t,n=!1){const a=await yc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return oo._forOperation(r,"link",a)}async function IA(r,t,n=!1){const{auth:a}=r;if(Ms(a.app))return Promise.reject(io(a));const l="reauthenticate";try{const h=await yc(r,aw(a,l,t,r),n);Ht(h.idToken,a,"internal-error");const p=jp(h.idToken);Ht(p,a,"internal-error");const{sub:b}=p;return Ht(r.uid===b,a,"user-mismatch"),oo._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Dr(a,"user-mismatch"),h}}async function RA(r,t,n=!1){if(Ms(r.app))return Promise.reject(io(r));const a="signIn",l=await aw(r,a,t),h=await oo._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}function NA(r,t,n,a){return Ln(r).onIdTokenChanged(t,n,a)}function kA(r,t,n){return Ln(r).beforeAuthStateChanged(t,n)}function LA(r,t,n,a){return Ln(r).onAuthStateChanged(t,n,a)}function MA(r){return Ln(r).signOut()}const yf="__sak";class ow{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yf,"1"),this.storage.removeItem(yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const OA=1e3,PA=10;class lw extends ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,b,v)=>{this.notifyListeners(p,v)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);uA()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,PA):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},OA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}lw.type="LOCAL";const DA=lw;class uw extends ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}uw.type="SESSION";const cw=uw;function VA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Df{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Df(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async x=>x(n.origin,h)),v=await VA(b);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];function Hp(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}class zA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((b,v)=>{const x=Hp("",20);l.port1.start();const I=setTimeout(()=>{v(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(N){const k=N;if(k.data.eventId===x)switch(k.data.status){case"ack":clearTimeout(I),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),b(k.data.response);break;default:clearTimeout(I),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:x,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function kr(){return window}function jA(r){kr().location.href=r}function hw(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function UA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BA(){return navigator?.serviceWorker?.controller||null}function qA(){return hw()?self:null}const fw="firebaseLocalStorageDb",HA=1,vf="firebaseLocalStorage",dw="fbase_key";class kc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(r,t){return r.transaction([vf],t?"readwrite":"readonly").objectStore(vf)}function FA(){const r=indexedDB.deleteDatabase(fw);return new kc(r).toPromise()}function mp(){const r=indexedDB.open(fw,HA);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(vf,{keyPath:dw})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(vf)?t(a):(a.close(),await FA(),t(await mp()))})})}async function s0(r,t,n){const a=Vf(r,!0).put({[dw]:t,value:n});return new kc(a).toPromise()}async function GA(r,t){const n=Vf(r,!1).get(t),a=await new kc(n).toPromise();return a===void 0?null:a.value}function r0(r,t){const n=Vf(r,!0).delete(t);return new kc(n).toPromise()}const ZA=800,KA=3;class mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>KA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(qA()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UA(),!this.activeServiceWorker)return;this.sender=new zA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mp();return await s0(t,yf,"1"),await r0(t,yf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>s0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>GA(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>r0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Vf(l,!1).getAll();return new kc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mw.type="LOCAL";const YA=mw;new Ic(3e4,6e4);function pw(r,t){return t?ha(t):(Ht(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fp extends rw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $l(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $l(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $l(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function QA(r){return RA(r.auth,new Fp(r),r.bypassAuthState)}function XA(r){const{auth:t,user:n}=r;return Ht(n,t,"internal-error"),IA(n,new Fp(r),r.bypassAuthState)}async function WA(r){const{auth:t,user:n}=r;return Ht(n,t,"internal-error"),CA(n,new Fp(r),r.bypassAuthState)}class gw{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:b}=t;if(p){this.reject(p);return}const v={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(v))}catch(x){this.reject(x)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QA;case"linkViaPopup":case"linkViaRedirect":return WA;case"reauthViaPopup":case"reauthViaRedirect":return XA;default:Dr(this.auth,"internal-error")}}resolve(t){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JA=new Ic(2e3,1e4);async function $A(r,t,n){if(Ms(r.app))return Promise.reject(rr(r,"operation-not-supported-in-this-environment"));const a=Rc(r);ZS(r,t,qp);const l=pw(a,n);return new Xo(a,"signInViaPopup",t,l).executeNotNull()}class Xo extends gw{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const t=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,JA.get())};t()}}Xo.currentPopupAction=null;const t2="pendingRedirect",nf=new Map;class e2 extends gw{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=nf.get(this.auth._key());if(!t){try{const a=await n2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}nf.set(this.auth._key(),t)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n2(r,t){const n=r2(t),a=s2(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function i2(r,t){nf.set(r._key(),t)}function s2(r){return ha(r._redirectPersistence)}function r2(r){return ef(t2,r.config.apiKey,r.name)}async function a2(r,t,n=!1){if(Ms(r.app))return Promise.reject(io(r));const a=Rc(r),l=pw(a,t),p=await new e2(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}const o2=600*1e3;class l2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!u2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!_w(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(rr(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=o2&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(t))}saveEventToCache(t){this.cachedEventUids.add(a0(t)),this.lastProcessedEventTime=Date.now()}}function a0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function _w({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function u2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _w(r);default:return!1}}async function c2(r,t={}){return du(r,"GET","/v1/projects",t)}const h2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f2=/^https?/;async function d2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await c2(r);for(const n of t)try{if(m2(n))return}catch{}Dr(r,"unauthorized-domain")}function m2(r){const t=fp(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!f2.test(n))return!1;if(h2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const p2=new Ic(3e4,6e4);function o0(){const r=kr().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function g2(r){return new Promise((t,n)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),n(rr(r,"network-request-failed"))},timeout:p2.get()})}if(kr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(kr().gapi?.load)a();else{const l=yA("iframefcb");return kr()[l]=()=>{gapi.load?a():n(rr(r,"network-request-failed"))},gA(`${_A()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw sf=null,t})}let sf=null;function _2(r){return sf=sf||g2(r),sf}const y2=new Ic(5e3,15e3),v2="__/auth/iframe",b2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x2(r){const t=r.config;Ht(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?zp(t,b2):`https://${r.config.authDomain}/${v2}`,a={apiKey:t.apiKey,appName:r.name,v:fu},l=T2.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Cc(a).slice(1)}`}async function E2(r){const t=await _2(r),n=kr().gapi;return Ht(n,r,"internal-error"),t.open({where:document.body,url:x2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=rr(r,"network-request-failed"),b=kr().setTimeout(()=>{h(p)},y2.get());function v(){kr().clearTimeout(b),l(a)}a.ping(v).then(v,()=>{h(p)})}))}const S2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A2=500,C2=600,I2="_blank",R2="http://localhost";class l0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N2(r,t,n,a=A2,l=C2){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const v={...S2,width:a.toString(),height:l.toString(),top:h,left:p},x=bi().toLowerCase();n&&(b=Wb(x)?I2:n),Qb(x)&&(t=t||R2,v.scrollbars="yes");const I=Object.entries(v).reduce((k,[et,at])=>`${k}${et}=${at},`,"");if(lA(x)&&b!=="_self")return k2(t||"",b),new l0(null);const N=window.open(t||"",b,I);Ht(N,r,"popup-blocked");try{N.focus()}catch{}return new l0(N)}function k2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const L2="__/auth/handler",M2="emulator/auth/handler",O2=encodeURIComponent("fac");async function u0(r,t,n,a,l,h){Ht(r.config.authDomain,r,"auth-domain-config-required"),Ht(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:fu,eventId:l};if(t instanceof qp){t.setDefaultLanguage(r.languageCode),p.providerId=t.providerId||"",C1(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[I,N]of Object.entries({}))p[I]=N}if(t instanceof Nc){const I=t.getScopes().filter(N=>N!=="");I.length>0&&(p.scopes=I.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const I of Object.keys(b))b[I]===void 0&&delete b[I];const v=await r._getAppCheckToken(),x=v?`#${O2}=${encodeURIComponent(v)}`:"";return`${P2(r)}?${Cc(b).slice(1)}${x}`}function P2({config:r}){return r.emulator?zp(r,M2):`https://${r.authDomain}/${L2}`}const Xm="webStorageSupport";class D2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cw,this._completeRedirectFn=a2,this._overrideRedirectResult=i2}async _openPopup(t,n,a,l){ma(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await u0(t,n,a,fp(),l);return N2(t,h,Hp())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await u0(t,n,a,fp(),l);return jA(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(ma(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await E2(t),a=new l2(t);return n.register("authEvent",l=>(Ht(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xm,{type:Xm},l=>{const h=l?.[0]?.[Xm];h!==void 0&&n(!!h),Dr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return nw()||Xb()||Up()}}const V2=D2;var c0="@firebase/auth",h0="1.12.0";class z2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U2(r){Pr(new lr("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Ht(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(r)},x=new mA(a,l,h,v);return bA(x,n),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Pr(new lr("auth-internal",t=>{const n=Rc(t.getProvider("auth").getImmediate());return(a=>new z2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(c0,h0,j2(r)),Ps(c0,h0,"esm2020")}const B2=300,q2=Rb("authIdTokenMaxAge")||B2;let f0=null;const H2=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>q2)return;const l=n?.token;f0!==l&&(f0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yw(r=Pp()){const t=al(r,"auth");if(t.isInitialized())return t.getImmediate();const n=vA(r,{popupRedirectResolver:V2,persistence:[YA,DA,cw]}),a=Rb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=H2(h.toString());kA(n,p,()=>p(n.currentUser)),NA(n,b=>p(b))}}const l=Cb("auth");return l&&wA(n,`http://${l}`),n}function F2(){return document.getElementsByTagName("head")?.[0]??document}pA({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=rr("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",F2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U2("Browser");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var so,vw;(function(){var r;function t(D,M){function V(){}V.prototype=M.prototype,D.F=M.prototype,D.prototype=new V,D.prototype.constructor=D,D.D=function(H,U,F){for(var P=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)P[ee-2]=arguments[ee];return M.prototype[U].apply(H,P)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,M,V){V||(V=0);const H=Array(16);if(typeof M=="string")for(var U=0;U<16;++U)H[U]=M.charCodeAt(V++)|M.charCodeAt(V++)<<8|M.charCodeAt(V++)<<16|M.charCodeAt(V++)<<24;else for(U=0;U<16;++U)H[U]=M[V++]|M[V++]<<8|M[V++]<<16|M[V++]<<24;M=D.g[0],V=D.g[1],U=D.g[2];let F=D.g[3],P;P=M+(F^V&(U^F))+H[0]+3614090360&4294967295,M=V+(P<<7&4294967295|P>>>25),P=F+(U^M&(V^U))+H[1]+3905402710&4294967295,F=M+(P<<12&4294967295|P>>>20),P=U+(V^F&(M^V))+H[2]+606105819&4294967295,U=F+(P<<17&4294967295|P>>>15),P=V+(M^U&(F^M))+H[3]+3250441966&4294967295,V=U+(P<<22&4294967295|P>>>10),P=M+(F^V&(U^F))+H[4]+4118548399&4294967295,M=V+(P<<7&4294967295|P>>>25),P=F+(U^M&(V^U))+H[5]+1200080426&4294967295,F=M+(P<<12&4294967295|P>>>20),P=U+(V^F&(M^V))+H[6]+2821735955&4294967295,U=F+(P<<17&4294967295|P>>>15),P=V+(M^U&(F^M))+H[7]+4249261313&4294967295,V=U+(P<<22&4294967295|P>>>10),P=M+(F^V&(U^F))+H[8]+1770035416&4294967295,M=V+(P<<7&4294967295|P>>>25),P=F+(U^M&(V^U))+H[9]+2336552879&4294967295,F=M+(P<<12&4294967295|P>>>20),P=U+(V^F&(M^V))+H[10]+4294925233&4294967295,U=F+(P<<17&4294967295|P>>>15),P=V+(M^U&(F^M))+H[11]+2304563134&4294967295,V=U+(P<<22&4294967295|P>>>10),P=M+(F^V&(U^F))+H[12]+1804603682&4294967295,M=V+(P<<7&4294967295|P>>>25),P=F+(U^M&(V^U))+H[13]+4254626195&4294967295,F=M+(P<<12&4294967295|P>>>20),P=U+(V^F&(M^V))+H[14]+2792965006&4294967295,U=F+(P<<17&4294967295|P>>>15),P=V+(M^U&(F^M))+H[15]+1236535329&4294967295,V=U+(P<<22&4294967295|P>>>10),P=M+(U^F&(V^U))+H[1]+4129170786&4294967295,M=V+(P<<5&4294967295|P>>>27),P=F+(V^U&(M^V))+H[6]+3225465664&4294967295,F=M+(P<<9&4294967295|P>>>23),P=U+(M^V&(F^M))+H[11]+643717713&4294967295,U=F+(P<<14&4294967295|P>>>18),P=V+(F^M&(U^F))+H[0]+3921069994&4294967295,V=U+(P<<20&4294967295|P>>>12),P=M+(U^F&(V^U))+H[5]+3593408605&4294967295,M=V+(P<<5&4294967295|P>>>27),P=F+(V^U&(M^V))+H[10]+38016083&4294967295,F=M+(P<<9&4294967295|P>>>23),P=U+(M^V&(F^M))+H[15]+3634488961&4294967295,U=F+(P<<14&4294967295|P>>>18),P=V+(F^M&(U^F))+H[4]+3889429448&4294967295,V=U+(P<<20&4294967295|P>>>12),P=M+(U^F&(V^U))+H[9]+568446438&4294967295,M=V+(P<<5&4294967295|P>>>27),P=F+(V^U&(M^V))+H[14]+3275163606&4294967295,F=M+(P<<9&4294967295|P>>>23),P=U+(M^V&(F^M))+H[3]+4107603335&4294967295,U=F+(P<<14&4294967295|P>>>18),P=V+(F^M&(U^F))+H[8]+1163531501&4294967295,V=U+(P<<20&4294967295|P>>>12),P=M+(U^F&(V^U))+H[13]+2850285829&4294967295,M=V+(P<<5&4294967295|P>>>27),P=F+(V^U&(M^V))+H[2]+4243563512&4294967295,F=M+(P<<9&4294967295|P>>>23),P=U+(M^V&(F^M))+H[7]+1735328473&4294967295,U=F+(P<<14&4294967295|P>>>18),P=V+(F^M&(U^F))+H[12]+2368359562&4294967295,V=U+(P<<20&4294967295|P>>>12),P=M+(V^U^F)+H[5]+4294588738&4294967295,M=V+(P<<4&4294967295|P>>>28),P=F+(M^V^U)+H[8]+2272392833&4294967295,F=M+(P<<11&4294967295|P>>>21),P=U+(F^M^V)+H[11]+1839030562&4294967295,U=F+(P<<16&4294967295|P>>>16),P=V+(U^F^M)+H[14]+4259657740&4294967295,V=U+(P<<23&4294967295|P>>>9),P=M+(V^U^F)+H[1]+2763975236&4294967295,M=V+(P<<4&4294967295|P>>>28),P=F+(M^V^U)+H[4]+1272893353&4294967295,F=M+(P<<11&4294967295|P>>>21),P=U+(F^M^V)+H[7]+4139469664&4294967295,U=F+(P<<16&4294967295|P>>>16),P=V+(U^F^M)+H[10]+3200236656&4294967295,V=U+(P<<23&4294967295|P>>>9),P=M+(V^U^F)+H[13]+681279174&4294967295,M=V+(P<<4&4294967295|P>>>28),P=F+(M^V^U)+H[0]+3936430074&4294967295,F=M+(P<<11&4294967295|P>>>21),P=U+(F^M^V)+H[3]+3572445317&4294967295,U=F+(P<<16&4294967295|P>>>16),P=V+(U^F^M)+H[6]+76029189&4294967295,V=U+(P<<23&4294967295|P>>>9),P=M+(V^U^F)+H[9]+3654602809&4294967295,M=V+(P<<4&4294967295|P>>>28),P=F+(M^V^U)+H[12]+3873151461&4294967295,F=M+(P<<11&4294967295|P>>>21),P=U+(F^M^V)+H[15]+530742520&4294967295,U=F+(P<<16&4294967295|P>>>16),P=V+(U^F^M)+H[2]+3299628645&4294967295,V=U+(P<<23&4294967295|P>>>9),P=M+(U^(V|~F))+H[0]+4096336452&4294967295,M=V+(P<<6&4294967295|P>>>26),P=F+(V^(M|~U))+H[7]+1126891415&4294967295,F=M+(P<<10&4294967295|P>>>22),P=U+(M^(F|~V))+H[14]+2878612391&4294967295,U=F+(P<<15&4294967295|P>>>17),P=V+(F^(U|~M))+H[5]+4237533241&4294967295,V=U+(P<<21&4294967295|P>>>11),P=M+(U^(V|~F))+H[12]+1700485571&4294967295,M=V+(P<<6&4294967295|P>>>26),P=F+(V^(M|~U))+H[3]+2399980690&4294967295,F=M+(P<<10&4294967295|P>>>22),P=U+(M^(F|~V))+H[10]+4293915773&4294967295,U=F+(P<<15&4294967295|P>>>17),P=V+(F^(U|~M))+H[1]+2240044497&4294967295,V=U+(P<<21&4294967295|P>>>11),P=M+(U^(V|~F))+H[8]+1873313359&4294967295,M=V+(P<<6&4294967295|P>>>26),P=F+(V^(M|~U))+H[15]+4264355552&4294967295,F=M+(P<<10&4294967295|P>>>22),P=U+(M^(F|~V))+H[6]+2734768916&4294967295,U=F+(P<<15&4294967295|P>>>17),P=V+(F^(U|~M))+H[13]+1309151649&4294967295,V=U+(P<<21&4294967295|P>>>11),P=M+(U^(V|~F))+H[4]+4149444226&4294967295,M=V+(P<<6&4294967295|P>>>26),P=F+(V^(M|~U))+H[11]+3174756917&4294967295,F=M+(P<<10&4294967295|P>>>22),P=U+(M^(F|~V))+H[2]+718787259&4294967295,U=F+(P<<15&4294967295|P>>>17),P=V+(F^(U|~M))+H[9]+3951481745&4294967295,D.g[0]=D.g[0]+M&4294967295,D.g[1]=D.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+F&4294967295}a.prototype.v=function(D,M){M===void 0&&(M=D.length);const V=M-this.blockSize,H=this.C;let U=this.h,F=0;for(;F<M;){if(U==0)for(;F<=V;)l(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<M;)if(H[U++]=D.charCodeAt(F++),U==this.blockSize){l(this,H),U=0;break}}else for(;F<M;)if(H[U++]=D[F++],U==this.blockSize){l(this,H),U=0;break}}this.h=U,this.o+=M},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var M=1;M<D.length-8;++M)D[M]=0;M=this.o*8;for(var V=D.length-8;V<D.length;++V)D[V]=M&255,M/=256;for(this.v(D),D=Array(16),M=0,V=0;V<4;++V)for(let H=0;H<32;H+=8)D[M++]=this.g[V]>>>H&255;return D};function h(D,M){var V=b;return Object.prototype.hasOwnProperty.call(V,D)?V[D]:V[D]=M(D)}function p(D,M){this.h=M;const V=[];let H=!0;for(let U=D.length-1;U>=0;U--){const F=D[U]|0;H&&F==M||(V[U]=F,H=!1)}this.g=V}var b={};function v(D){return-128<=D&&D<128?h(D,function(M){return new p([M|0],M<0?-1:0)}):new p([D|0],D<0?-1:0)}function x(D){if(isNaN(D)||!isFinite(D))return N;if(D<0)return pt(x(-D));const M=[];let V=1;for(let H=0;D>=V;H++)M[H]=D/V|0,V*=4294967296;return new p(M,0)}function I(D,M){if(D.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(D.charAt(0)=="-")return pt(I(D.substring(1),M));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=x(Math.pow(M,8));let H=N;for(let F=0;F<D.length;F+=8){var U=Math.min(8,D.length-F);const P=parseInt(D.substring(F,F+U),M);U<8?(U=x(Math.pow(M,U)),H=H.j(U).add(x(P))):(H=H.j(V),H=H.add(x(P)))}return H}var N=v(0),k=v(1),et=v(16777216);r=p.prototype,r.m=function(){if(ct(this))return-pt(this).m();let D=0,M=1;for(let V=0;V<this.g.length;V++){const H=this.i(V);D+=(H>=0?H:4294967296+H)*M,M*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(at(this))return"0";if(ct(this))return"-"+pt(this).toString(D);const M=x(Math.pow(D,6));var V=this;let H="";for(;;){const U=Jt(V,M).g;V=Lt(V,U.j(M));let F=((V.g.length>0?V.g[0]:V.h)>>>0).toString(D);if(V=U,at(V))return F+H;for(;F.length<6;)F="0"+F;H=F+H}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function at(D){if(D.h!=0)return!1;for(let M=0;M<D.g.length;M++)if(D.g[M]!=0)return!1;return!0}function ct(D){return D.h==-1}r.l=function(D){return D=Lt(this,D),ct(D)?-1:at(D)?0:1};function pt(D){const M=D.g.length,V=[];for(let H=0;H<M;H++)V[H]=~D.g[H];return new p(V,~D.h).add(k)}r.abs=function(){return ct(this)?pt(this):this},r.add=function(D){const M=Math.max(this.g.length,D.g.length),V=[];let H=0;for(let U=0;U<=M;U++){let F=H+(this.i(U)&65535)+(D.i(U)&65535),P=(F>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);H=P>>>16,F&=65535,P&=65535,V[U]=P<<16|F}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Lt(D,M){return D.add(pt(M))}r.j=function(D){if(at(this)||at(D))return N;if(ct(this))return ct(D)?pt(this).j(pt(D)):pt(pt(this).j(D));if(ct(D))return pt(this.j(pt(D)));if(this.l(et)<0&&D.l(et)<0)return x(this.m()*D.m());const M=this.g.length+D.g.length,V=[];for(var H=0;H<2*M;H++)V[H]=0;for(H=0;H<this.g.length;H++)for(let U=0;U<D.g.length;U++){const F=this.i(H)>>>16,P=this.i(H)&65535,ee=D.i(U)>>>16,tn=D.i(U)&65535;V[2*H+2*U]+=P*tn,jt(V,2*H+2*U),V[2*H+2*U+1]+=F*tn,jt(V,2*H+2*U+1),V[2*H+2*U+1]+=P*ee,jt(V,2*H+2*U+1),V[2*H+2*U+2]+=F*ee,jt(V,2*H+2*U+2)}for(D=0;D<M;D++)V[D]=V[2*D+1]<<16|V[2*D];for(D=M;D<2*M;D++)V[D]=0;return new p(V,0)};function jt(D,M){for(;(D[M]&65535)!=D[M];)D[M+1]+=D[M]>>>16,D[M]&=65535,M++}function kt(D,M){this.g=D,this.h=M}function Jt(D,M){if(at(M))throw Error("division by zero");if(at(D))return new kt(N,N);if(ct(D))return M=Jt(pt(D),M),new kt(pt(M.g),pt(M.h));if(ct(M))return M=Jt(D,pt(M)),new kt(pt(M.g),M.h);if(D.g.length>30){if(ct(D)||ct(M))throw Error("slowDivide_ only works with positive integers.");for(var V=k,H=M;H.l(D)<=0;)V=Ne(V),H=Ne(H);var U=se(V,1),F=se(H,1);for(H=se(H,2),V=se(V,2);!at(H);){var P=F.add(H);P.l(D)<=0&&(U=U.add(V),F=P),H=se(H,1),V=se(V,1)}return M=Lt(D,U.j(M)),new kt(U,M)}for(U=N;D.l(M)>=0;){for(V=Math.max(1,Math.floor(D.m()/M.m())),H=Math.ceil(Math.log(V)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),F=x(V),P=F.j(M);ct(P)||P.l(D)>0;)V-=H,F=x(V),P=F.j(M);at(F)&&(F=k),U=U.add(F),D=Lt(D,P)}return new kt(U,D)}r.B=function(D){return Jt(this,D).h},r.and=function(D){const M=Math.max(this.g.length,D.g.length),V=[];for(let H=0;H<M;H++)V[H]=this.i(H)&D.i(H);return new p(V,this.h&D.h)},r.or=function(D){const M=Math.max(this.g.length,D.g.length),V=[];for(let H=0;H<M;H++)V[H]=this.i(H)|D.i(H);return new p(V,this.h|D.h)},r.xor=function(D){const M=Math.max(this.g.length,D.g.length),V=[];for(let H=0;H<M;H++)V[H]=this.i(H)^D.i(H);return new p(V,this.h^D.h)};function Ne(D){const M=D.g.length+1,V=[];for(let H=0;H<M;H++)V[H]=D.i(H)<<1|D.i(H-1)>>>31;return new p(V,D.h)}function se(D,M){const V=M>>5;M%=32;const H=D.g.length-V,U=[];for(let F=0;F<H;F++)U[F]=M>0?D.i(F+V)>>>M|D.i(F+V+1)<<32-M:D.i(F+V);return new p(U,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,vw=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=x,p.fromString=I,so=p}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bw,oc,ww,rf,pp,Tw,xw,Ew;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function l(f,y){if(y)t:{var E=a;f=f.split(".");for(var R=0;R<f.length-1;R++){var Y=f[R];if(!(Y in E))break t;E=E[Y]}f=f[f.length-1],R=E[f],y=y(R),y!=R&&y!=null&&t(E,f,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(y){var E=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&E.push([R,y[R]]);return E}});var h=h||{},p=this||self;function b(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,E){return f.call.apply(f.bind,arguments)}function x(f,y,E){return x=v,x.apply(null,arguments)}function I(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function N(f,y){function E(){}E.prototype=y.prototype,f.Z=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(R,Y,$){for(var yt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)yt[Bt-2]=arguments[Bt];return y.prototype[Y].apply(R,yt)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function et(f){const y=f.length;if(y>0){const E=Array(y);for(let R=0;R<y;R++)E[R]=f[R];return E}return[]}function at(f,y){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var E=typeof Y;if(E=E!="object"?E:Y?Array.isArray(Y)?"array":E:"null",E=="array"||E=="object"&&typeof Y.length=="number"){E=f.length||0;const $=Y.length||0;f.length=E+$;for(let yt=0;yt<$;yt++)f[E+yt]=Y[yt]}else f.push(Y)}}class ct{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function pt(f){p.setTimeout(()=>{throw f},0)}function Lt(){var f=D;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class jt{constructor(){this.h=this.g=null}add(y,E){const R=kt.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var kt=new ct(()=>new Jt,f=>f.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,se=!1,D=new jt,M=()=>{const f=Promise.resolve(void 0);Ne=()=>{f.then(V)}};function V(){for(var f;f=Lt();){try{f.h.call(f.g)}catch(E){pt(E)}var y=kt;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}se=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};p.addEventListener("test",E,y),p.removeEventListener("test",E,y)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function ee(f,y){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}N(ee,U),ee.prototype.init=function(f,y){const E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var tn="closure_listenable_"+(Math.random()*1e6|0),K=0;function _t(f,y,E,R,Y){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=Y,this.key=++K,this.da=this.fa=!1}function ft(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,y,E){for(const R in f)y.call(E,f[R],R,f)}function xt(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function j(f){const y={};for(const E in f)y[E]=f[E];return y}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(f,y){let E,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(E in R)f[E]=R[E];for(let $=0;$<nt.length;$++)E=nt[$],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function mt(f){this.src=f,this.g={},this.h=0}mt.prototype.add=function(f,y,E,R,Y){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const yt=bt(f,y,R,Y);return yt>-1?(y=f[yt],E||(y.fa=!1)):(y=new _t(y,this.src,$,!!R,Y),y.fa=E,f.push(y)),y};function Tt(f,y){const E=y.type;if(E in f.g){var R=f.g[E],Y=Array.prototype.indexOf.call(R,y,void 0),$;($=Y>=0)&&Array.prototype.splice.call(R,Y,1),$&&(ft(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function bt(f,y,E,R){for(let Y=0;Y<f.length;++Y){const $=f[Y];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==R)return Y}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),Oe={};function je(f,y,E,R,Y){if(Array.isArray(y)){for(let $=0;$<y.length;$++)je(f,y[$],E,R,Y);return null}return E=ys(E),f&&f[tn]?f.J(y,E,b(R)?!!R.capture:!1,Y):ai(f,y,E,!1,R,Y)}function ai(f,y,E,R,Y,$){if(!y)throw Error("Invalid event type");const yt=b(Y)?!!Y.capture:!!Y;let Bt=Vs(f);if(Bt||(f[qt]=Bt=new mt(f)),E=Bt.add(y,E,R,yt,$),E.proxy)return E;if(R=es(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)F||(Y=yt),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),R,Y);else if(f.attachEvent)f.attachEvent(jn(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function es(){function f(E){return y.call(f.src,f.listener,E)}const y=Ds;return f}function zn(f,y,E,R,Y){if(Array.isArray(y))for(var $=0;$<y.length;$++)zn(f,y[$],E,R,Y);else R=b(R)?!!R.capture:!!R,E=ys(E),f&&f[tn]?(f=f.i,$=String(y).toString(),$ in f.g&&(y=f.g[$],E=bt(y,E,R,Y),E>-1&&(ft(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete f.g[$],f.h--)))):f&&(f=Vs(f))&&(y=f.g[y.toString()],f=-1,y&&(f=bt(y,E,R,Y)),(E=f>-1?y[f]:null)&&ns(E))}function ns(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[tn])Tt(y.i,f);else{var E=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(E,R,f.capture):y.detachEvent?y.detachEvent(jn(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=Vs(y))?(Tt(E,f),E.h==0&&(E.src=null,y[qt]=null)):ft(f)}}}function jn(f){return f in Oe?Oe[f]:Oe[f]="on"+f}function Ds(f,y){if(f.da)f=!0;else{y=new ee(y,this);const E=f.listener,R=f.ha||f.src;f.fa&&ns(f),f=E.call(R,y)}return f}function Vs(f){return f=f[qt],f instanceof mt?f:null}var zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(f){return typeof f=="function"?f:(f[zs]||(f[zs]=function(y){return f.handleEvent(y)}),f[zs])}function en(){H.call(this),this.i=new mt(this),this.M=this,this.G=null}N(en,H),en.prototype[tn]=!0,en.prototype.removeEventListener=function(f,y,E,R){zn(this,f,y,E,R)};function He(f,y){var E,R=f.G;if(R)for(E=[];R;R=R.G)E.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new U(y,f);else if(y instanceof U)y.target=y.target||f;else{var Y=y;y=new U(R,f),dt(y,Y)}Y=!0;let $,yt;if(E)for(yt=E.length-1;yt>=0;yt--)$=y.g=E[yt],Y=Qn($,R,!0,y)&&Y;if($=y.g=f,Y=Qn($,R,!0,y)&&Y,Y=Qn($,R,!1,y)&&Y,E)for(yt=0;yt<E.length;yt++)$=y.g=E[yt],Y=Qn($,R,!1,y)&&Y}en.prototype.N=function(){if(en.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const E=f.g[y];for(let R=0;R<E.length;R++)ft(E[R]);delete f.g[y],f.h--}}this.G=null},en.prototype.J=function(f,y,E,R){return this.i.add(String(f),y,!1,E,R)},en.prototype.K=function(f,y,E,R){return this.i.add(String(f),y,!0,E,R)};function Qn(f,y,E,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let Y=!0;for(let $=0;$<y.length;++$){const yt=y[$];if(yt&&!yt.da&&yt.capture==E){const Bt=yt.listener,_e=yt.ha||yt.src;yt.fa&&Tt(f.i,yt),Y=Bt.call(_e,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function wi(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(f,y||0)}function Mi(f){f.g=wi(()=>{f.g=null,f.i&&(f.i=!1,Mi(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class pn extends H{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mi(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(f){H.call(this),this.h=f,this.g={}}N(js,H);var vs=[];function Oi(f){ne(f.g,function(y,E){this.g.hasOwnProperty(E)&&ns(y)},f),f.g={}}js.prototype.N=function(){js.Z.N.call(this),Oi(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=p.JSON.stringify,_o=p.JSON.parse,hr=class{stringify(f){return p.JSON.stringify(f,void 0)}parse(f){return p.JSON.parse(f,void 0)}};function nn(){}function _a(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hn(){U.call(this,"d")}N(hn,U);function oi(){U.call(this,"c")}N(oi,U);var Ye={},Us=null;function Bs(){return Us=Us||new en}Ye.Ia="serverreachability";function ge(f){U.call(this,Ye.Ia,f)}N(ge,U);function Un(f){const y=Bs();He(y,new ge(y))}Ye.STAT_EVENT="statevent";function Qt(f,y){U.call(this,Ye.STAT_EVENT,f),this.stat=y}N(Qt,U);function we(f){const y=Bs();He(y,new Qt(y,f))}Ye.Ja="timingevent";function Pi(f,y){U.call(this,Ye.Ja,f),this.size=y}N(Pi,U);function Ti(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){f()},y)}function xi(){this.g=!0}xi.prototype.ua=function(){this.g=!1};function fr(f,y,E,R,Y,$){f.info(function(){if(f.g)if($){var yt="",Bt=$.split("&");for(let ye=0;ye<Bt.length;ye++){var _e=Bt[ye].split("=");if(_e.length>1){const Ze=_e[0];_e=_e[1];const qi=Ze.split("_");yt=qi.length>=2&&qi[1]=="type"?yt+(Ze+"="+_e+"&"):yt+(Ze+"=redacted&")}}}else yt=null;else yt=$;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+y+`
`+E+`
`+yt})}function jr(f,y,E,R,Y,$,yt){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+y+`
`+E+`
`+$+" "+yt})}function Di(f,y,E,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+yo(f,E)+(R?" "+R:"")})}function Ei(f,y){f.info(function(){return"TIMEOUT: "+y})}xi.prototype.info=function(){};function yo(f,y){if(!f.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var E=$[f];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let yt=1;yt<R.length;yt++)R[yt]=""}}}}return is($)}catch{return y}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function wn(){}N(wn,nn),wn.prototype.g=function(){return new XMLHttpRequest},Si=new wn;function At(f){return encodeURIComponent(String(f))}function Ur(f){var y=1;f=f.split(":");const E=[];for(;y>0&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function li(f,y,E,R){this.j=f,this.i=y,this.l=E,this.S=R||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Qe={},Xe={};function ui(f,y,E){f.M=1,f.A=xe(Fe(y)),f.u=E,f.R=!0,ci(f,null)}function ci(f,y){f.F=Date.now(),Vi(f),f.B=Fe(f.A);var E=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),st(E.i,"t",R),f.C=0,E=f.j.L,f.h=new Wn,f.g=xo(f.j,E?y:null,!f.u),f.P>0&&(f.O=new pn(x(f.Y,f,f.g),f.P)),y=f.V,E=f.g,R=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(vs[0]=Y.toString()),Y=vs);for(let $=0;$<Y.length;$++){const yt=je(E,Y[$],R||y.handleEvent,!1,y.h||y);if(!yt)break;y.g[yt.key]=yt}y=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Un(),fr(f.i,f.v,f.B,f.l,f.S,f.u)}li.prototype.ba=function(f){f=f.target;const y=this.O;y&&rs(f)==3?y.j():this.Y(f)},li.prototype.Y=function(f){try{if(f==this.g)t:{const Bt=rs(this.g),_e=this.g.ya(),ye=this.g.ca();if(!(Bt<3)&&(Bt!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||Bt!=4||_e==7||(_e==8||ye<=0?Un(3):Un(2)),Ai(this);var y=this.g.ca();this.X=y;var E=ws(this);if(this.o=y==200,jr(this.i,this.v,this.B,this.l,this.S,Bt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var $=R;break e}}$=null}if(f=$)Di(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mn(this,f);else{this.o=!1,this.m=3,we(12),Tn(this),Te(this);break t}}if(this.R){f=!0;let Ze;for(;!this.K&&this.C<E.length;)if(Ze=qs(this,E),Ze==Xe){Bt==4&&(this.m=4,we(14),f=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Qe){this.m=4,we(15),Di(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Di(this.i,this.l,Ze,null),Mn(this,Ze);if(Br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||E.length!=0||this.h.h||(this.m=1,we(16),f=!1),this.o=this.o&&f,!f)Di(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),Te(this);else if(E.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),wo(yt),yt.P=!0,we(11))}}else Di(this.i,this.l,E,null),Mn(this,E);Bt==4&&Tn(this),this.o&&!this.K&&(Bt==4?Ii(this.j,this):(this.o=!1,Vi(this)))}else as(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Tn(this),Te(this)}}}catch{}};function ws(f){if(!Br(f))return f.g.la();const y=En(f.g);if(y==="")return"";let E="";const R=y.length,Y=rs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Tn(f),Te(f),"";f.h.i=new p.TextDecoder}for(let $=0;$<R;$++)f.h.h=!0,E+=f.h.i.decode(y[$],{stream:!(Y&&$==R-1)});return y.length=0,f.h.g+=E,f.C=0,f.h.g}function Br(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function qs(f,y){var E=f.C,R=y.indexOf(`
`,E);return R==-1?Xe:(E=Number(y.substring(E,R)),isNaN(E)?Qe:(R+=1,R+E>y.length?Xe:(y=y.slice(R,R+E),f.C=R+E,y)))}li.prototype.cancel=function(){this.K=!0,Tn(this)};function Vi(f){f.T=Date.now()+f.H,dr(f,f.H)}function dr(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ti(x(f.aa,f),y)}function Ai(f){f.D&&(p.clearTimeout(f.D),f.D=null)}li.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ei(this.i,this.B),this.M!=2&&(Un(),we(17)),Tn(this),this.m=2,Te(this)):dr(this,this.T-f)};function Te(f){f.j.I==0||f.K||Ii(f.j,f)}function Tn(f){Ai(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Oi(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Mn(f,y){try{var E=f.j;if(E.I!=0&&(E.g==f||Jn(E.h,f))){if(!f.L&&Jn(E.h,f)&&E.I==3){try{var R=E.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)va(E),yr(E);else break t;Fr(E),we(18)}}else E.xa=Y[1],0<E.xa-E.K&&Y[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(x(E.Va,E),6e3));Bn(E.h)<=1&&E.ta&&(E.ta=void 0)}else os(E,11)}else if((f.L||E.g==f)&&va(E),!P(y))for(Y=E.Ba.g.parse(y),y=0;y<Y.length;y++){let ye=Y[y];const Ze=ye[0];if(!(Ze<=E.K))if(E.K=Ze,ye=ye[1],E.I==2)if(ye[0]=="c"){E.M=ye[1],E.ba=ye[2];const qi=ye[3];qi!=null&&(E.ka=qi,E.j.info("VER="+E.ka));const Hi=ye[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const Ri=ye[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(R=1.5*Ri,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const us=f.g;if(us){const Gr=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var $=R.h;$.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(zi($,$.h),$.h=null))}if(R.G){const Zr=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;Zr&&(R.wa=Zr,Et(R.J,R.G,Zr))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var yt=f;if(R.na=To(R,R.L?R.ba:null,R.W),yt.L){Hs(R.h,yt);var Bt=yt,_e=R.O;_e&&(Bt.H=_e),Bt.D&&(Ai(Bt),Vi(Bt)),R.g=yt}else bo(R);E.i.length>0&&di(E)}else ye[0]!="stop"&&ye[0]!="close"||os(E,7);else E.I==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?os(E,7):ie(E):ye[0]!="noop"&&E.l&&E.l.qa(ye),E.A=0)}}Un(4)}catch{}}var We=class{constructor(f,y){this.g=f,this.map=y}};function mr(f){this.l=f||10,p.PerformanceNavigationTiming?(f=p.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Bn(f){return f.h?1:f.g?f.g.size:0}function Jn(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function zi(f,y){f.g?f.g.add(y):f.h=y}function Hs(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}mr.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Fs(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.G);return y}return et(f.i)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kt(f,y){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const R=f[E].indexOf("=");let Y,$=null;R>=0?(Y=f[E].substring(0,R),$=f[E].substring(R+1)):Y=f[E],y(Y,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function re(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof re?(this.l=f.l,ke(this,f.j),this.o=f.o,this.g=f.g,On(this,f.u),this.h=f.h,Gs(this,gt(f.i)),this.m=f.m):f&&(y=String(f).match(Ts))?(this.l=!1,ke(this,y[1]||"",!0),this.o=hi(y[2]||""),this.g=hi(y[3]||"",!0),On(this,y[4]),this.h=hi(y[5]||"",!0),Gs(this,y[6]||"",!0),this.m=hi(y[7]||"")):(this.l=!1,this.i=new $n(null,this.l))}re.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(ji(y,pr,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(ji(y,pr,!0),"@"),f.push(At(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ji(E,E.charAt(0)=="/"?Ci:Zs,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ji(E,xn)),f.join("")},re.prototype.resolve=function(f){const y=Fe(this);let E=!!f.j;E?ke(y,f.j):E=!!f.o,E?y.o=f.o:E=!!f.g,E?y.g=f.g:E=f.u!=null;var R=f.h;if(E)On(y,f.u);else if(E=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=y.h.lastIndexOf("/");Y!=-1&&(R=y.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const $=[];for(let yt=0;yt<Y.length;){const Bt=Y[yt++];Bt=="."?R&&yt==Y.length&&$.push(""):Bt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),R&&yt==Y.length&&$.push("")):($.push(Bt),R=!0)}R=$.join("/")}else R=Y}return E?y.h=R:E=f.i.toString()!=="",E?Gs(y,gt(f.i)):E=!!f.m,E&&(y.m=f.m),y};function Fe(f){return new re(f)}function ke(f,y,E){f.j=E?hi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function On(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function Gs(f,y,E){y instanceof $n?(f.i=y,Xt(f.i,f.l)):(E||(y=ji(y,be)),f.i=new $n(y,f.l))}function Et(f,y,E){f.i.set(y,E)}function xe(f){return Et(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function hi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ji(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Pe),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Pe(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var pr=/[#\/\?@]/g,Zs=/[#\?:]/g,Ci=/[#\?]/g,be=/[#\?@]/g,xn=/#/g;function $n(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function sn(f){f.g||(f.g=new Map,f.h=0,f.i&&Kt(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=$n.prototype,r.add=function(f,y){sn(this),this.i=null,f=Ct(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function gr(f,y){sn(f),y=Ct(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ui(f,y){return sn(f),y=Ct(f,y),f.g.has(y)}r.forEach=function(f,y){sn(this),this.g.forEach(function(E,R){E.forEach(function(Y){f.call(y,Y,R,this)},this)},this)};function B(f,y){sn(f);let E=[];if(typeof y=="string")Ui(f,y)&&(E=E.concat(f.g.get(Ct(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)E=E.concat(f[y]);return E}r.set=function(f,y){return sn(this),this.i=null,f=Ct(this,f),Ui(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=B(this,f),f.length>0?String(f[0]):y):y};function st(f,y,E){gr(f,y),E.length>0&&(f.i=null,f.g.set(Ct(f,y),et(E)),f.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var E=y[R];const Y=At(E);E=B(this,E);for(let $=0;$<E.length;$++){let yt=Y;E[$]!==""&&(yt+="="+At(E[$])),f.push(yt)}}return this.i=f.join("&")};function gt(f){const y=new $n;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Ct(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Xt(f,y){y&&!f.j&&(sn(f),f.i=null,f.g.forEach(function(E,R){const Y=R.toLowerCase();R!=Y&&(gr(this,R),st(this,Y,E))},f)),f.j=y}function ae(f,y){const E=new xi;if(p.Image){const R=new Image;R.onload=I(De,E,"TestLoadImage: loaded",!0,y,R),R.onerror=I(De,E,"TestLoadImage: error",!1,y,R),R.onabort=I(De,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=I(De,E,"TestLoadImage: timeout",!1,y,R),p.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function Le(f,y){const E=new xi,R=new AbortController,Y=setTimeout(()=>{R.abort(),De(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then($=>{clearTimeout(Y),$.ok?De(E,"TestPingServer: ok",!0,y):De(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),De(E,"TestPingServer: error",!1,y)})}function De(f,y,E,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(E)}catch{}}function Ee(){this.g=new hr}function Rt(f){this.i=f.Sb||null,this.h=f.ab||!1}N(Rt,nn),Rt.prototype.g=function(){return new Ge(this.i,this.h)};function Ge(f,y){en.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(Ge,en),r=Ge.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,Je(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Je(this)),this.g&&(this.readyState=3,Je(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?fi(this):Je(this),this.readyState==3&&Yt(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,fi(this))},r.Na=function(f){this.g&&(this.response=f,fi(this))},r.ga=function(){this.g&&fi(this)};function fi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Je(f)}r.setRequestHeader=function(f,y){this.A.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function Je(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ge.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function qn(f){let y="";return ne(f,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Ks(f,y,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=qn(E),typeof f=="string"?E!=null&&At(E):Et(f,y,E))}function ce(f){en.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(ce,en);var Bi=/^https?$/i,Ys=["POST","PUT"];r=ce.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=k(x(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch($){rn(this,$);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)E.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())E.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),Y=p.FormData&&f instanceof p.FormData,!(Array.prototype.indexOf.call(Ys,y,void 0)>=0)||R||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,yt]of E)this.g.setRequestHeader($,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){rn(this,$)}};function rn(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,ss(f),xs(f)}function ss(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,He(this,"complete"),He(this,"abort"),xs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),ce.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},r.Xa=function(){_r(this)};function _r(f){if(f.h&&typeof h<"u"){if(f.v&&rs(f)==4)setTimeout(f.Ca.bind(f),0);else if(He(f,"readystatechange"),rs(f)==4){f.h=!1;try{const $=f.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var R;if(R=$===0){let yt=String(f.D).match(Ts)[1]||null;!yt&&p.self&&p.self.location&&(yt=p.self.location.protocol.slice(0,-1)),R=!Bi.test(yt?yt.toLowerCase():"")}E=R}if(E)He(f,"complete"),He(f,"success");else{f.o=6;try{var Y=rs(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",ss(f)}}finally{xs(f)}}}}function xs(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,y||He(f,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function rs(f){return f.g?f.g.readyState:0}r.ca=function(){try{return rs(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),_o(y)}};function En(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function as(f){const y={};f=(f.g&&rs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(P(f[R]))continue;var E=Ur(f[R]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[Y]||[];y[Y]=$,$.push(E)}xt(y,function(R){return R.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Qs(f){this.za=0,this.i=[],this.j=new xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Es("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Es("baseRetryDelayMs",5e3,f),this.Za=Es("retryDelaySeedMs",1e4,f),this.Ta=Es("forwardChannelMaxRetries",2,f),this.va=Es("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new mr(f&&f.concurrentRequestLimit),this.Ba=new Ee,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Qs.prototype,r.ka=8,r.I=1,r.connect=function(f,y,E,R){we(0),this.W=f,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=To(this,null,this.W),di(this)};function ie(f){if(Hn(f),f.I==3){var y=f.V++,E=Fe(f.J);if(Et(E,"SID",f.M),Et(E,"RID",y),Et(E,"TYPE","terminate"),Xs(f,E),y=new li(f,f.j,y),y.M=2,y.A=xe(Fe(E)),E=!1,p.navigator&&p.navigator.sendBeacon)try{E=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&p.Image&&(new Image().src=y.A,E=!0),E||(y.g=xo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Vi(y)}ls(f)}function yr(f){f.g&&(wo(f),f.g.cancel(),f.g=null)}function Hn(f){yr(f),f.v&&(p.clearTimeout(f.v),f.v=null),va(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&p.clearTimeout(f.m),f.m=null)}function di(f){if(!qr(f.h)&&!f.m){f.m=!0;var y=f.Ea;Ne||M(),se||(Ne(),se=!0),D.add(y,f),f.D=0}}function Hr(f,y){return Bn(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ti(x(f.Ea,f,y),hl(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new li(this,this.j,f);let $=this.o;if(this.U&&($?($=j($),dt($,this.U)):$=this.U),this.u!==null||this.R||(Y.J=$,$=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=cl(this,Y,y),E=Fe(this.J),Et(E,"RID",f),Et(E,"CVER",22),this.G&&Et(E,"X-HTTP-Session-Id",this.G),Xs(this,E),$&&(this.R?y="headers="+At(qn($))+"&"+y:this.u&&Ks(E,this.u,$)),zi(this.h,Y),this.Ra&&Et(E,"TYPE","init"),this.S?(Et(E,"$req",y),Et(E,"SID","null"),Y.U=!0,ui(Y,E,null)):ui(Y,E,y),this.I=2}}else this.I==3&&(f?vo(this,f):this.i.length==0||qr(this.h)||vo(this))};function vo(f,y){var E;y?E=y.l:E=f.V++;const R=Fe(f.J);Et(R,"SID",f.M),Et(R,"RID",E),Et(R,"AID",f.K),Xs(f,R),f.u&&f.o&&Ks(R,f.u,f.o),E=new li(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),y&&(f.i=y.G.concat(f.i)),y=cl(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),zi(f.h,E),ui(E,R,y)}function Xs(f,y){f.H&&ne(f.H,function(E,R){Et(y,R,E)}),f.l&&ne({},function(E,R){Et(y,R,E)})}function cl(f,y,E){E=Math.min(f.i.length,E);const R=f.l?x(f.l.Ka,f.l,f):null;t:{var Y=f.i;let Bt=-1;for(;;){const _e=["count="+E];Bt==-1?E>0?(Bt=Y[0].g,_e.push("ofs="+Bt)):Bt=0:_e.push("ofs="+Bt);let ye=!0;for(let Ze=0;Ze<E;Ze++){var $=Y[Ze].g;const qi=Y[Ze].map;if($-=Bt,$<0)Bt=Math.max(0,Y[Ze].g-100),ye=!1;else try{$="req"+$+"_"||"";try{var yt=qi instanceof Map?qi:Object.entries(qi);for(const[Hi,Ri]of yt){let us=Ri;b(Ri)&&(us=is(Ri)),_e.push($+Hi+"="+encodeURIComponent(us))}}catch(Hi){throw _e.push($+"type="+encodeURIComponent("_badmap")),Hi}}catch{R&&R(qi)}}if(ye){yt=_e.join("&");break t}}yt=void 0}return f=f.i.splice(0,E),y.G=f,yt}function bo(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;Ne||M(),se||(Ne(),se=!0),D.add(y,f),f.A=0}}function Fr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ti(x(f.Da,f),hl(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,ya(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ti(x(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),yr(this),ya(this))};function wo(f){f.B!=null&&(p.clearTimeout(f.B),f.B=null)}function ya(f){f.g=new li(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Fe(f.na);Et(y,"RID","rpc"),Et(y,"SID",f.M),Et(y,"AID",f.K),Et(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&Et(y,"TO",f.ia),Et(y,"TYPE","xmlhttp"),Xs(f,y),f.u&&f.o&&Ks(y,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=xe(Fe(y)),E.u=null,E.R=!0,ci(E,f)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),Fr(this),we(19))};function va(f){f.C!=null&&(p.clearTimeout(f.C),f.C=null)}function Ii(f,y){var E=null;if(f.g==y){va(f),wo(f),f.g=null;var R=2}else if(Jn(f.h,y))E=y.G,Hs(f.h,y),R=1;else return;if(f.I!=0){if(y.o)if(R==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var Y=f.D;R=Bs(),He(R,new Pi(R,E)),di(f)}else bo(f);else if(Y=y.m,Y==3||Y==0&&y.X>0||!(R==1&&Hr(f,y)||R==2&&Fr(f)))switch(E&&E.length>0&&(y=f.h,y.i=y.i.concat(E)),Y){case 1:os(f,5);break;case 4:os(f,10);break;case 3:os(f,6);break;default:os(f,2)}}}function hl(f,y){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*y}function os(f,y){if(f.j.info("Error code "+y),y==2){var E=x(f.bb,f),R=f.Ua;const Y=!R;R=new re(R||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ke(R,"https"),xe(R),Y?ae(R.toString(),E):Le(R.toString(),E)}else we(2);f.I=0,f.l&&f.l.pa(y),ls(f),Hn(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function ls(f){if(f.I=0,f.ja=[],f.l){const y=Fs(f.h);(y.length!=0||f.i.length!=0)&&(at(f.ja,y),at(f.ja,f.i),f.h.i.length=0,et(f.i),f.i.length=0),f.l.oa()}}function To(f,y,E){var R=E instanceof re?Fe(E):new re(E);if(R.g!="")y&&(R.g=y+"."+R.g),On(R,R.u);else{var Y=p.location;R=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;const $=new re(null);R&&ke($,R),y&&($.g=y),Y&&On($,Y),E&&($.h=E),R=$}return E=f.G,y=f.wa,E&&y&&Et(R,E,y),Et(R,"VER",f.ka),Xs(f,R),R}function xo(f,y,E){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new ce(new Rt({ab:E})):new ce(f.ma),y.Fa(f.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ba(){}r=ba.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vr(){}vr.prototype.g=function(f,y){return new Fn(f,y)};function Fn(f,y){en.call(this),this.g=new Qs(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!P(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!P(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Ws(this)}N(Fn,en),Fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){ie(this.g)},Fn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=is(f),f=E);y.i.push(new We(y.Ya++,f)),y.I==3&&di(y)},Fn.prototype.N=function(){this.g.l=null,delete this.j,ie(this.g),delete this.g,Fn.Z.N.call(this)};function Eo(f){hn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const E in y){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}N(Eo,hn);function fl(){oi.call(this),this.status=1}N(fl,oi);function Ws(f){this.g=f}N(Ws,ba),Ws.prototype.ra=function(){He(this.g,"a")},Ws.prototype.qa=function(f){He(this.g,new Eo(f))},Ws.prototype.pa=function(f){He(this.g,new fl)},Ws.prototype.oa=function(){He(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,Ew=function(){return new vr},xw=function(){return Bs()},Tw=Ye,pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,rf=bs,bn.COMPLETE="complete",ww=bn,_a.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",en.prototype.listen=en.prototype.J,oc=_a,ce.prototype.listenOnce=ce.prototype.K,ce.prototype.getLastError=ce.prototype.Ha,ce.prototype.getLastErrorCode=ce.prototype.ya,ce.prototype.getStatus=ce.prototype.ca,ce.prototype.getResponseJson=ce.prototype.La,ce.prototype.getResponseText=ce.prototype.la,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Fa,bw=ce}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});class yi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yi.UNAUTHENTICATED=new yi(null),yi.GOOGLE_CREDENTIALS=new yi("google-credentials-uid"),yi.FIRST_PARTY=new yi("first-party-uid"),yi.MOCK_USER=new yi("mock-user");let mu="12.8.0";function G2(r){mu=r}const el=new Of("@firebase/firestore");function Kl(){return el.logLevel}function It(r,...t){if(el.logLevel<=de.DEBUG){const n=t.map(Gp);el.debug(`Firestore (${mu}): ${r}`,...n)}}function pa(r,...t){if(el.logLevel<=de.ERROR){const n=t.map(Gp);el.error(`Firestore (${mu}): ${r}`,...n)}}function su(r,...t){if(el.logLevel<=de.WARN){const n=t.map(Gp);el.warn(`Firestore (${mu}): ${r}`,...n)}}function Gp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ut(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,Sw(r,a,n)}function Sw(r,t,n){let a=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw pa(a),new Error(a)}function Me(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||Sw(t,l,a)}function Zt(r,t){return r}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends cr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Aw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(yi.UNAUTHENTICATED)))}shutdown(){}}class K2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Y2{constructor(t){this.t=t,this.currentUser=yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Me(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,n(v)):Promise.resolve();let h=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new fa,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},b=v=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((v=>b(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?b(v):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new fa)}}),0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Me(typeof a.accessToken=="string",31837,{l:a}),new Aw(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Me(t===null||typeof t=="string",2055,{h:t}),new yi(t)}}class Q2{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=yi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class X2{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new Q2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(yi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ms(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Me(this.o===void 0,3512);const a=h=>{h.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,It("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new m0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function J2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class Zp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=J2(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function me(r,t){return r<t?-1:r>t?1:0}function gp(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return Wm(l)===Wm(h)?me(l,h):Wm(l)?1:-1}return me(r.length,t.length)}const $2=55296,tC=57343;function Wm(r){const t=r.charCodeAt(0);return t>=$2&&t<=tC}function ru(r,t,n){return r.length===t.length&&r.every(((a,l)=>n(a,t[l])))}const p0="__name__";class Nr{constructor(t,n,a){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Ut(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Nr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Nr?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=Nr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return me(t.length,n.length)}static compareSegments(t,n){const a=Nr.isNumericId(t),l=Nr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Nr.extractNumericId(t).compare(Nr.extractNumericId(n)):gp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return so.fromString(t.substring(4,t.length-2))}}class $e extends Nr{construct(t,n,a){return new $e(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new St(ut.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new $e(n)}static emptyPath(){return new $e([])}}const eC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends Nr{construct(t,n,a){return new si(t,n,a)}static isValidIdentifier(t){return eC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new si([p0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new St(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const b=t[l];if(b==="\\"){if(l+1===t.length)throw new St(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new St(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(h(),l++)}if(h(),p)throw new St(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new si(n)}static emptyPath(){return new si([])}}class Vt{constructor(t){this.path=t}static fromPath(t){return new Vt($e.fromString(t))}static fromName(t){return new Vt($e.fromString(t).popFirst(5))}static empty(){return new Vt($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $e.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Vt(new $e(t.slice()))}}function Cw(r,t,n){if(!n)throw new St(ut.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function nC(r,t,n,a){if(t===!0&&a===!0)throw new St(ut.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function g0(r){if(!Vt.isDocumentKey(r))throw new St(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _0(r){if(Vt.isDocumentKey(r))throw new St(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Iw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Ut(12329,{type:typeof r})}function Vr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new St(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(r);throw new St(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function kn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Lc(r,t){if(!Iw(r))throw new St(ut.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&p!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new St(ut.INVALID_ARGUMENT,n);return!0}const y0=-62135596800,v0=1e6;class on{static now(){return on.fromMillis(Date.now())}static fromDate(t){return on.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*v0);return new on(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<y0)throw new St(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(t){return this.seconds===t.seconds?me(this.nanoseconds,t.nanoseconds):me(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:on._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lc(t,on._jsonSchema))return new on(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-y0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}on._jsonSchemaVersion="firestore/timestamp/1.0",on._jsonSchema={type:kn("string",on._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new on(0,0))}static max(){return new Ft(new on(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vc=-1;function iC(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ft.fromTimestamp(a===1e9?new on(n+1,0):new on(n,a));return new lo(l,Vt.empty(),t)}function sC(r){return new lo(r.readTime,r.key,vc)}class lo{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new lo(Ft.min(),Vt.empty(),vc)}static max(){return new lo(Ft.max(),Vt.empty(),vc)}}function rC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Vt.comparator(r.documentKey,t.documentKey),n!==0?n:me(r.largestBatchId,t.largestBatchId))}const aC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function pu(r){if(r.code!==ut.FAILED_PRECONDITION||r.message!==aC)throw r;It("LocalStore","Unexpectedly lost primary lease")}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ht(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ht.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ht.reject(n)}static resolve(t){return new ht(((n,a)=>{n(t)}))}static reject(t){return new ht(((n,a)=>{a(t)}))}static waitFor(t){return new ht(((n,a)=>{let l=0,h=0,p=!1;t.forEach((b=>{++l,b.next((()=>{++h,p&&h===l&&n()}),(v=>a(v)))})),p=!0,h===l&&n()}))}static or(t){let n=ht.resolve(!1);for(const a of t)n=n.next((l=>l?ht.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new ht(((a,l)=>{const h=t.length,p=new Array(h);let b=0;for(let v=0;v<h;v++){const x=v;n(t[x]).next((I=>{p[x]=I,++b,b===h&&a(p)}),(I=>l(I)))}}))}static doWhile(t,n){return new ht(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function lC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gu(r){return r.name==="IndexedDbTransactionError"}class jf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jf.ce=-1;const Kp=-1;function Uf(r){return r==null}function bf(r){return r===0&&1/r==-1/0}function uC(r){return typeof r=="number"&&Number.isInteger(r)&&!bf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Rw="";function cC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=b0(t)),t=hC(r.get(n),t);return b0(t)}function hC(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case Rw:n+="";break;default:n+=h}}return n}function b0(r){return r+Rw+""}function w0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function po(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function Nw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class cn{constructor(t,n){this.comparator=t,this.root=n||ii.EMPTY}insert(t,n){return new cn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(t){return new cn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ii.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yh(this.root,t,this.comparator,!0)}}class Yh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ii{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??ii.RED,this.left=l??ii.EMPTY,this.right=h??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new ii(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ii.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1;ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new ii(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(t){this.comparator=t,this.data=new cn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(t){return new T0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof Vn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Vn(this.comparator);return n.data=t,n}}class T0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gs{constructor(t){this.fields=t,t.sort(si.comparator)}static empty(){return new gs([])}unionWith(t){let n=new Vn(si.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new gs(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ru(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ri{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new kw("Invalid base64 string: "+h):h}})(t);return new ri(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h})(t);return new ri(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return me(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const fC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(r){if(Me(!!r,39018),typeof r=="string"){let t=0;const n=fC.exec(r);if(Me(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:yn(r.seconds),nanos:yn(r.nanos)}}function yn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function co(r){return typeof r=="string"?ri.fromBase64String(r):ri.fromUint8Array(r)}const Lw="server_timestamp",Mw="__type__",Ow="__previous_value__",Pw="__local_write_time__";function Yp(r){return(r?.mapValue?.fields||{})[Mw]?.stringValue===Lw}function Bf(r){const t=r.mapValue.fields[Ow];return Yp(t)?Bf(t):t}function bc(r){const t=uo(r.mapValue.fields[Pw].timestampValue);return new on(t.seconds,t.nanos)}class dC{constructor(t,n,a,l,h,p,b,v,x,I,N){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=v,this.useFetchStreams=x,this.isUsingEmulator=I,this.apiKey=N}}const wf="(default)";class wc{constructor(t,n){this.projectId=t,this.database=n||wf}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===wf}isEqual(t){return t instanceof wc&&t.projectId===this.projectId&&t.database===this.database}}function mC(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new St(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(r.options.projectId,t)}const Dw="__type__",pC="__max__",Qh={mapValue:{}},Vw="__vector__",Tf="value";function ho(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:_C(r)?9007199254740991:gC(r)?10:11:Ut(28295,{value:r})}function zr(r,t){if(r===t)return!0;const n=ho(r);if(n!==ho(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return bc(r).isEqual(bc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=uo(l.timestampValue),b=uo(h.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return co(l.bytesValue).isEqual(co(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return yn(l.geoPointValue.latitude)===yn(h.geoPointValue.latitude)&&yn(l.geoPointValue.longitude)===yn(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return yn(l.integerValue)===yn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=yn(l.doubleValue),b=yn(h.doubleValue);return p===b?bf(p)===bf(b):isNaN(p)&&isNaN(b)}return!1})(r,t);case 9:return ru(r.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:case 11:return(function(l,h){const p=l.mapValue.fields||{},b=h.mapValue.fields||{};if(w0(p)!==w0(b))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(b[v]===void 0||!zr(p[v],b[v])))return!1;return!0})(r,t);default:return Ut(52216,{left:r})}}function Tc(r,t){return(r.values||[]).find((n=>zr(n,t)))!==void 0}function au(r,t){if(r===t)return 0;const n=ho(r),a=ho(t);if(n!==a)return me(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(r.booleanValue,t.booleanValue);case 2:return(function(h,p){const b=yn(h.integerValue||h.doubleValue),v=yn(p.integerValue||p.doubleValue);return b<v?-1:b>v?1:b===v?0:isNaN(b)?isNaN(v)?0:-1:1})(r,t);case 3:return x0(r.timestampValue,t.timestampValue);case 4:return x0(bc(r),bc(t));case 5:return gp(r.stringValue,t.stringValue);case 6:return(function(h,p){const b=co(h),v=co(p);return b.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,p){const b=h.split("/"),v=p.split("/");for(let x=0;x<b.length&&x<v.length;x++){const I=me(b[x],v[x]);if(I!==0)return I}return me(b.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,p){const b=me(yn(h.latitude),yn(p.latitude));return b!==0?b:me(yn(h.longitude),yn(p.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return E0(r.arrayValue,t.arrayValue);case 10:return(function(h,p){const b=h.fields||{},v=p.fields||{},x=b[Tf]?.arrayValue,I=v[Tf]?.arrayValue,N=me(x?.values?.length||0,I?.values?.length||0);return N!==0?N:E0(x,I)})(r.mapValue,t.mapValue);case 11:return(function(h,p){if(h===Qh.mapValue&&p===Qh.mapValue)return 0;if(h===Qh.mapValue)return 1;if(p===Qh.mapValue)return-1;const b=h.fields||{},v=Object.keys(b),x=p.fields||{},I=Object.keys(x);v.sort(),I.sort();for(let N=0;N<v.length&&N<I.length;++N){const k=gp(v[N],I[N]);if(k!==0)return k;const et=au(b[v[N]],x[I[N]]);if(et!==0)return et}return me(v.length,I.length)})(r.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function x0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return me(r,t);const n=uo(r),a=uo(t),l=me(n.seconds,a.seconds);return l!==0?l:me(n.nanos,a.nanos)}function E0(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=au(n[l],a[l]);if(h)return h}return me(n.length,a.length)}function ou(r){return _p(r)}function _p(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=uo(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return co(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Vt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=_p(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${_p(n.fields[p])}`;return l+"}"})(r.mapValue):Ut(61005,{value:r})}function af(r){switch(ho(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bf(r);return t?16+af(t):16;case 5:return 2*r.stringValue.length;case 6:return co(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+af(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return po(a.fields,((h,p)=>{l+=h.length+af(p)})),l})(r.mapValue);default:throw Ut(13486,{value:r})}}function S0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function yp(r){return!!r&&"integerValue"in r}function Qp(r){return!!r&&"arrayValue"in r}function A0(r){return!!r&&"nullValue"in r}function C0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function of(r){return!!r&&"mapValue"in r}function gC(r){return(r?.mapValue?.fields||{})[Dw]?.stringValue===Vw}function dc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return po(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=dc(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dc(r.arrayValue.values[n]);return t}return{...r}}function _C(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pC}class ts{constructor(t){this.value=t}static empty(){return new ts({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!of(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dc(n)}setAll(t){let n=si.emptyPath(),a={},l=[];t.forEach(((p,b)=>{if(!n.isImmediateParentOf(b)){const v=this.getFieldsMap(n);this.applyChanges(v,a,l),a={},l=[],n=b.popLast()}p?a[b.lastSegment()]=dc(p):l.push(b.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];of(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){po(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new ts(dc(this.value))}}function zw(r){const t=[];return po(r.fields,((n,a)=>{const l=new si([n]);if(of(a)){const h=zw(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)})),new gs(t)}class vi{constructor(t,n,a,l,h,p,b){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=b}static newInvalidDocument(t){return new vi(t,0,Ft.min(),Ft.min(),Ft.min(),ts.empty(),0)}static newFoundDocument(t,n,a,l){return new vi(t,1,n,Ft.min(),a,l,0)}static newNoDocument(t,n){return new vi(t,2,n,Ft.min(),Ft.min(),ts.empty(),0)}static newUnknownDocument(t,n){return new vi(t,3,n,Ft.min(),Ft.min(),ts.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xf{constructor(t,n){this.position=t,this.inclusive=n}}function I0(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],p=r.position[l];if(h.field.isKeyField()?a=Vt.comparator(Vt.fromName(p.referenceValue),n.key):a=au(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function R0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zr(r.position[n],t.position[n]))return!1;return!0}class Ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function yC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class jw{}class Nn extends jw{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new bC(t,n,a):n==="array-contains"?new xC(t,a):n==="in"?new EC(t,a):n==="not-in"?new SC(t,a):n==="array-contains-any"?new AC(t,a):new Nn(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new wC(t,a):new TC(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(au(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(au(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends jw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ur(t,n)}matches(t){return Uw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Uw(r){return r.op==="and"}function Bw(r){return vC(r)&&Uw(r)}function vC(r){for(const t of r.filters)if(t instanceof ur)return!1;return!0}function vp(r){if(r instanceof Nn)return r.field.canonicalString()+r.op.toString()+ou(r.value);if(Bw(r))return r.filters.map((t=>vp(t))).join(",");{const t=r.filters.map((n=>vp(n))).join(",");return`${r.op}(${t})`}}function qw(r,t){return r instanceof Nn?(function(a,l){return l instanceof Nn&&a.op===l.op&&a.field.isEqual(l.field)&&zr(a.value,l.value)})(r,t):r instanceof ur?(function(a,l){return l instanceof ur&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,p,b)=>h&&qw(p,l.filters[b])),!0):!1})(r,t):void Ut(19439)}function Hw(r){return r instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ou(n.value)}`})(r):r instanceof ur?(function(n){return n.op.toString()+" {"+n.getFilters().map(Hw).join(" ,")+"}"})(r):"Filter"}class bC extends Nn{constructor(t,n,a){super(t,n,a),this.key=Vt.fromName(a.referenceValue)}matches(t){const n=Vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class wC extends Nn{constructor(t,n){super(t,"in",n),this.keys=Fw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class TC extends Nn{constructor(t,n){super(t,"not-in",n),this.keys=Fw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Fw(r,t){return(t.arrayValue?.values||[]).map((n=>Vt.fromName(n.referenceValue)))}class xC extends Nn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Qp(n)&&Tc(n.arrayValue,this.value)}}class EC extends Nn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class SC extends Nn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class AC extends Nn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Tc(this.value.arrayValue,a)))}}class CC{constructor(t,n=null,a=[],l=[],h=null,p=null,b=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=b,this.Te=null}}function N0(r,t=null,n=[],a=[],l=null,h=null,p=null){return new CC(r,t,n,a,l,h,p)}function Xp(r){const t=Zt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>vp(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>ou(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>ou(a))).join(",")),t.Te=n}return t.Te}function Wp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!qw(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!R0(r.startAt,t.startAt)&&R0(r.endAt,t.endAt)}function bp(r){return Vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Mc{constructor(t,n=null,a=[],l=[],h=null,p="F",b=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=b,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function IC(r,t,n,a,l,h,p,b){return new Mc(r,t,n,a,l,h,p,b)}function Jp(r){return new Mc(r)}function k0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RC(r){return Vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Gw(r){return r.collectionGroup!==null}function mc(r){const t=Zt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Vn(si.comparator);return p.filters.forEach((v=>{v.getFlattenedFilters().forEach((x=>{x.isInequality()&&(b=b.add(x.field))}))})),b})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Ef(h,a))})),n.has(si.keyField().canonicalString())||t.Ie.push(new Ef(si.keyField(),a))}return t.Ie}function Lr(r){const t=Zt(r);return t.Ee||(t.Ee=NC(t,mc(r))),t.Ee}function NC(r,t){if(r.limitType==="F")return N0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Ef(l.field,h)}));const n=r.endAt?new xf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new xf(r.startAt.position,r.startAt.inclusive):null;return N0(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function wp(r,t){const n=r.filters.concat([t]);return new Mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Sf(r,t,n){return new Mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function qf(r,t){return Wp(Lr(r),Lr(t))&&r.limitType===t.limitType}function Zw(r){return`${Xp(Lr(r))}|lt:${r.limitType}`}function Yl(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>Hw(l))).join(", ")}]`),Uf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>ou(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>ou(l))).join(",")),`Target(${a})`})(Lr(r))}; limitType=${r.limitType})`}function Hf(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Vt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of mc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(p,b,v){const x=I0(p,b,v);return p.inclusive?x<=0:x<0})(a.startAt,mc(a),l)||a.endAt&&!(function(p,b,v){const x=I0(p,b,v);return p.inclusive?x>=0:x>0})(a.endAt,mc(a),l))})(r,t)}function kC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Kw(r){return(t,n)=>{let a=!1;for(const l of mc(r)){const h=LC(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function LC(r,t,n){const a=r.field.isKeyField()?Vt.comparator(t.key,n.key):(function(h,p,b){const v=p.data.field(h),x=b.data.field(h);return v!==null&&x!==null?au(v,x):Ut(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ut(19790,{direction:r.dir})}}class ol{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){po(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}const MC=new cn(Vt.comparator);function ga(){return MC}const Yw=new cn(Vt.comparator);function lc(...r){let t=Yw;for(const n of r)t=t.insert(n.key,n);return t}function Qw(r){let t=Yw;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Wo(){return pc()}function Xw(){return pc()}function pc(){return new ol((r=>r.toString()),((r,t)=>r.isEqual(t)))}const OC=new cn(Vt.comparator),PC=new Vn(Vt.comparator);function pe(...r){let t=PC;for(const n of r)t=t.add(n);return t}const DC=new Vn(me);function VC(){return DC}function $p(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(t)?"-0":t}}function Ww(r){return{integerValue:""+r}}function Jw(r,t){return uC(t)?Ww(t):$p(r,t)}class Ff{constructor(){this._=void 0}}function zC(r,t,n){return r instanceof xc?(function(l,h){const p={fields:{[Mw]:{stringValue:Lw},[Pw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Yp(h)&&(h=Bf(h)),h&&(p.fields[Ow]=h),{mapValue:p}})(n,t):r instanceof Ec?tT(r,t):r instanceof Sc?eT(r,t):(function(l,h){const p=$w(l,h),b=L0(p)+L0(l.Ae);return yp(p)&&yp(l.Ae)?Ww(b):$p(l.serializer,b)})(r,t)}function jC(r,t,n){return r instanceof Ec?tT(r,t):r instanceof Sc?eT(r,t):n}function $w(r,t){return r instanceof Ac?(function(a){return yp(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class xc extends Ff{}class Ec extends Ff{constructor(t){super(),this.elements=t}}function tT(r,t){const n=nT(t);for(const a of r.elements)n.some((l=>zr(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Sc extends Ff{constructor(t){super(),this.elements=t}}function eT(r,t){let n=nT(t);for(const a of r.elements)n=n.filter((l=>!zr(l,a)));return{arrayValue:{values:n}}}class Ac extends Ff{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function L0(r){return yn(r.integerValue||r.doubleValue)}function nT(r){return Qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class iT{constructor(t,n){this.field=t,this.transform=n}}function UC(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ec&&l instanceof Ec||a instanceof Sc&&l instanceof Sc?ru(a.elements,l.elements,zr):a instanceof Ac&&l instanceof Ac?zr(a.Ae,l.Ae):a instanceof xc&&l instanceof xc})(r.transform,t.transform)}class BC{constructor(t,n){this.version=t,this.transformResults=n}}class ar{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Gf{}function sT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new aT(r.key,ar.none()):new Oc(r.key,r.data,ar.none());{const n=r.data,a=ts.empty();let l=new Vn(si.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new go(r.key,a,new gs(l.toArray()),ar.none())}}function qC(r,t,n){r instanceof Oc?(function(l,h,p){const b=l.value.clone(),v=O0(l.fieldTransforms,h,p.transformResults);b.setAll(v),h.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,t,n):r instanceof go?(function(l,h,p){if(!lf(l.precondition,h))return void h.convertToUnknownDocument(p.version);const b=O0(l.fieldTransforms,h,p.transformResults),v=h.data;v.setAll(rT(l)),v.setAll(b),h.convertToFoundDocument(p.version,v).setHasCommittedMutations()})(r,t,n):(function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,n)}function gc(r,t,n,a){return r instanceof Oc?(function(h,p,b,v){if(!lf(h.precondition,p))return b;const x=h.value.clone(),I=P0(h.fieldTransforms,v,p);return x.setAll(I),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),null})(r,t,n,a):r instanceof go?(function(h,p,b,v){if(!lf(h.precondition,p))return b;const x=P0(h.fieldTransforms,v,p),I=p.data;return I.setAll(rT(h)),I.setAll(x),p.convertToFoundDocument(p.version,I).setHasLocalMutations(),b===null?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(r,t,n,a):(function(h,p,b){return lf(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,t,n)}function HC(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=$w(a.transform,l||null);h!=null&&(n===null&&(n=ts.empty()),n.set(a.field,h))}return n||null}function M0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ru(a,l,((h,p)=>UC(h,p)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Oc extends Gf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class go extends Gf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function rT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function O0(r,t,n){const a=new Map;Me(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const h=r[l],p=h.transform,b=t.data.field(h.field);a.set(h.field,jC(p,b,n[l]))}return a}function P0(r,t,n){const a=new Map;for(const l of r){const h=l.transform,p=n.data.field(l.field);a.set(l.field,zC(h,p,t))}return a}class aT extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FC extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GC{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&qC(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=gc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=gc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=Xw();return this.mutations.forEach((l=>{const h=t.get(l.key),p=h.overlayedDocument;let b=this.applyToLocalView(p,h.mutatedFields);b=n.has(l.key)?null:b;const v=sT(p,b);v!==null&&a.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(Ft.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),pe())}isEqual(t){return this.batchId===t.batchId&&ru(this.mutations,t.mutations,((n,a)=>M0(n,a)))&&ru(this.baseMutations,t.baseMutations,((n,a)=>M0(n,a)))}}class tg{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){Me(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return OC})();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new tg(t,n,a,l)}}class ZC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Rn,ve;function YC(r){switch(r){case ut.OK:return Ut(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return Ut(15467,{code:r})}}function oT(r){if(r===void 0)return pa("GRPC error has no .code"),ut.UNKNOWN;switch(r){case Rn.OK:return ut.OK;case Rn.CANCELLED:return ut.CANCELLED;case Rn.UNKNOWN:return ut.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return ut.INTERNAL;case Rn.UNAVAILABLE:return ut.UNAVAILABLE;case Rn.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Rn.NOT_FOUND:return ut.NOT_FOUND;case Rn.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Rn.ABORTED:return ut.ABORTED;case Rn.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Rn.DATA_LOSS:return ut.DATA_LOSS;default:return Ut(39323,{code:r})}}(ve=Rn||(Rn={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";function QC(){return new TextEncoder}const XC=new so([4294967295,4294967295],0);function D0(r){const t=QC().encode(r),n=new vw;return n.update(t),new Uint8Array(n.digest())}function V0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new so([n,a],0),new so([l,h],0)]}class eg{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(a<0)throw new uc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=so.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(so.fromNumber(a)));return l.compare(XC)===1&&(l=new so([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=D0(t),[a,l]=V0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);if(!this.we(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new eg(h,l,n);return a.forEach((b=>p.insert(b))),p}insert(t){if(this.ge===0)return;const n=D0(t),[a,l]=V0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);this.be(p)}}be(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Pc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Zf(Ft.min(),l,new cn(me),ga(),pe())}}class Pc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Pc(a,n,pe(),pe(),pe())}}class uf{constructor(t,n,a,l){this.Se=t,this.removedTargetIds=n,this.key=a,this.De=l}}class lT{constructor(t,n){this.targetId=t,this.Ce=n}}class uT{constructor(t,n,a=ri.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class z0{constructor(){this.ve=0,this.Fe=j0(),this.Me=ri.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=pe(),n=pe(),a=pe();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Ut(38017,{changeType:h})}})),new Pc(this.Me,this.xe,t,n,a)}Ke(){this.Oe=!1,this.Fe=j0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class WC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ga(),this.He=Xh(),this.Je=Xh(),this.Ze=new cn(me)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(bp(h))if(a===0){const p=new Vt(h.path);this.et(n,p,vi.newNoDocument(p,Ft.min()))}else Me(a===1,20013,{expectedCount:a});else{const p=this._t(n);if(p!==a){const b=this.ut(t),v=b?this.ct(b,t,p):1;if(v!==0){this.it(n);const x=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,x)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,b;try{p=co(a).toUint8Array()}catch(v){if(v instanceof kw)return su("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{b=new eg(p,l,h)}catch(v){return su(v instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return b.ge===0?null:b}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(b)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,p)=>{const b=this.ot(p);if(b){if(h.current&&bp(b.target)){const v=new Vt(b.target.path);this.It(v).has(p)||this.Et(p,v)||this.et(p,v,vi.newNoDocument(v,t))}h.Be&&(n.set(p,h.ke()),h.Ke())}}));let a=pe();this.Je.forEach(((h,p)=>{let b=!0;p.forEachWhile((v=>{const x=this.ot(v);return!x||x.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(h))})),this.je.forEach(((h,p)=>p.setReadTime(t)));const l=new Zf(t,n,this.Ze,this.je,a);return this.je=ga(),this.He=Xh(),this.Je=Xh(),this.Ze=new cn(me),l}Ye(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new z0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Vn(me),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Vn(me),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||It("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new z0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Xh(){return new cn(Vt.comparator)}function j0(){return new cn(Vt.comparator)}const JC={asc:"ASCENDING",desc:"DESCENDING"},$C={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tI={and:"AND",or:"OR"};class eI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Tp(r,t){return r.useProto3Json||Uf(t)?t:{value:t}}function Af(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function nI(r,t){return Af(r,t.toTimestamp())}function Mr(r){return Me(!!r,49232),Ft.fromTimestamp((function(n){const a=uo(n);return new on(a.seconds,a.nanos)})(r))}function ng(r,t){return xp(r,t).canonicalString()}function xp(r,t){const n=(function(l){return new $e(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function hT(r){const t=$e.fromString(r);return Me(gT(t),10190,{key:t.toString()}),t}function Ep(r,t){return ng(r.databaseId,t.path)}function Jm(r,t){const n=hT(t);if(n.get(1)!==r.databaseId.projectId)throw new St(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new St(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Vt(dT(n))}function fT(r,t){return ng(r.databaseId,t)}function iI(r){const t=hT(r);return t.length===4?$e.emptyPath():dT(t)}function Sp(r){return new $e(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dT(r){return Me(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function U0(r,t,n){return{name:Ep(r,t),fields:n.value.mapValue.fields}}function sI(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Ut(39313,{state:x})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(x,I){return x.useProto3Json?(Me(I===void 0||typeof I=="string",58123),ri.fromBase64String(I||"")):(Me(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),ri.fromUint8Array(I||new Uint8Array))})(r,t.targetChange.resumeToken),p=t.targetChange.cause,b=p&&(function(x){const I=x.code===void 0?ut.UNKNOWN:oT(x.code);return new St(I,x.message||"")})(p);n=new uT(a,l,h,b||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Jm(r,a.document.name),h=Mr(a.document.updateTime),p=a.document.createTime?Mr(a.document.createTime):Ft.min(),b=new ts({mapValue:{fields:a.document.fields}}),v=vi.newFoundDocument(l,h,p,b),x=a.targetIds||[],I=a.removedTargetIds||[];n=new uf(x,I,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Jm(r,a.document),h=a.readTime?Mr(a.readTime):Ft.min(),p=vi.newNoDocument(l,h),b=a.removedTargetIds||[];n=new uf([],b,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Jm(r,a.document),h=a.removedTargetIds||[];n=new uf([],h,l,null)}else{if(!("filter"in t))return Ut(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new KC(l,h),b=a.targetId;n=new lT(b,p)}}return n}function rI(r,t){let n;if(t instanceof Oc)n={update:U0(r,t.key,t.value)};else if(t instanceof aT)n={delete:Ep(r,t.key)};else if(t instanceof go)n={update:U0(r,t.key,t.data),updateMask:mI(t.fieldMask)};else{if(!(t instanceof FC))return Ut(16599,{dt:t.type});n={verify:Ep(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,p){const b=p.transform;if(b instanceof xc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ec)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Sc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Ac)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Ut(20930,{transform:p.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:nI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ut(27497)})(r,t.precondition)),n}function aI(r,t){return r&&r.length>0?(Me(t!==void 0,14353),r.map((n=>(function(l,h){let p=l.updateTime?Mr(l.updateTime):Mr(h);return p.isEqual(Ft.min())&&(p=Mr(h)),new BC(p,l.transformResults||[])})(n,t)))):[]}function oI(r,t){return{documents:[fT(r,t.path)]}}function lI(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=fT(r,l);const h=(function(x){if(x.length!==0)return pT(ur.create(x,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const p=(function(x){if(x.length!==0)return x.map((I=>(function(k){return{field:Ql(k.field),direction:hI(k.dir)}})(I)))})(t.orderBy);p&&(n.structuredQuery.orderBy=p);const b=Tp(r,t.limit);return b!==null&&(n.structuredQuery.limit=b),t.startAt&&(n.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(t.endAt)),{ft:n,parent:l}}function uI(r){let t=iI(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Me(a===1,65062);const I=n.from[0];I.allDescendants?l=I.collectionId:t=t.child(I.collectionId)}let h=[];n.where&&(h=(function(N){const k=mT(N);return k instanceof ur&&Bw(k)?k.getFilters():[k]})(n.where));let p=[];n.orderBy&&(p=(function(N){return N.map((k=>(function(at){return new Ef(Xl(at.field),(function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(at.direction))})(k)))})(n.orderBy));let b=null;n.limit&&(b=(function(N){let k;return k=typeof N=="object"?N.value:N,Uf(k)?null:k})(n.limit));let v=null;n.startAt&&(v=(function(N){const k=!!N.before,et=N.values||[];return new xf(et,k)})(n.startAt));let x=null;return n.endAt&&(x=(function(N){const k=!N.before,et=N.values||[];return new xf(et,k)})(n.endAt)),IC(t,l,p,h,b,"F",v,x)}function cI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function mT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Xl(n.unaryFilter.field);return Nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Xl(n.unaryFilter.field);return Nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Xl(n.unaryFilter.field);return Nn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Xl(n.unaryFilter.field);return Nn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nn.create(Xl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ur.create(n.compositeFilter.filters.map((a=>mT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(n.compositeFilter.op))})(r):Ut(30097,{filter:r})}function hI(r){return JC[r]}function fI(r){return $C[r]}function dI(r){return tI[r]}function Ql(r){return{fieldPath:r.canonicalString()}}function Xl(r){return si.fromServerFormat(r.fieldPath)}function pT(r){return r instanceof Nn?(function(n){if(n.op==="=="){if(C0(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NAN"}};if(A0(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C0(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NAN"}};if(A0(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(n.field),op:fI(n.op),value:n.value}}})(r):r instanceof ur?(function(n){const a=n.getFilters().map((l=>pT(l)));return a.length===1?a[0]:{compositeFilter:{op:dI(n.op),filters:a}}})(r):Ut(54877,{filter:r})}function mI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function gT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function _T(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class to{constructor(t,n,a,l,h=Ft.min(),p=Ft.min(),b=ri.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=v}withSequenceNumber(t){return new to(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class pI{constructor(t){this.yt=t}}function gI(r){const t=uI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Sf(t,t.limit,"L"):t}class _I{constructor(){this.Sn=new yI}addToCollectionParentIndex(t,n){return this.Sn.add(n),ht.resolve()}getCollectionParents(t,n){return ht.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return ht.resolve()}deleteFieldIndex(t,n){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,n){return ht.resolve()}getDocumentsMatchingTarget(t,n){return ht.resolve(null)}getIndexType(t,n){return ht.resolve(0)}getFieldIndexes(t,n){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,n){return ht.resolve(lo.min())}getMinOffsetFromCollectionGroup(t,n){return ht.resolve(lo.min())}updateCollectionGroup(t,n,a){return ht.resolve()}updateIndexEntries(t,n){return ht.resolve()}}class yI{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new Vn($e.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Vn($e.comparator)).toArray()}}const B0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class $i{static withCacheSize(t){return new $i(t,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(yT,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);class lu{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lu(0)}static ar(){return new lu(-1)}}const q0="LruGarbageCollector",vI=1048576;function H0([r,t],[n,a]){const l=me(r,n);return l===0?me(t,a):l}class bI{constructor(t){this.Pr=t,this.buffer=new Vn(H0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();H0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wI{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){It(q0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gu(n)?It(q0,"Ignoring IndexedDB error during garbage collection: ",n):await pu(n)}await this.Ar(3e5)}))}}class TI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return ht.resolve(jf.ce);const a=new bI(n);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.Vr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(B0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let a,l,h,p,b,v,x;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,p=Date.now(),this.nthSequenceNumber(t,l)))).next((N=>(a=N,b=Date.now(),this.removeTargets(t,a,n)))).next((N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((N=>(x=Date.now(),Kl()<=de.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-I}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${h} targets in `+(v-b)+`ms
	Removed ${N} documents in `+(x-v)+`ms
Total Duration: ${x-I}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:N}))))}}function xI(r,t){return new TI(r,t)}class EI{constructor(){this.changes=new ol((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,vi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ht.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class SI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class AI{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&gc(a.mutation,l,gs.empty(),on.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,pe()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=pe()){const l=Wo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let p=lc();return h.forEach(((b,v)=>{p=p.insert(b,v.overlayedDocument)})),p}))))}getOverlayedDocuments(t,n){const a=Wo();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,pe())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((p,b)=>{n.set(p,b)}))}))}computeViews(t,n,a,l){let h=ga();const p=pc(),b=(function(){return pc()})();return n.forEach(((v,x)=>{const I=a.get(x.key);l.has(x.key)&&(I===void 0||I.mutation instanceof go)?h=h.insert(x.key,x):I!==void 0?(p.set(x.key,I.mutation.getFieldMask()),gc(I.mutation,x,I.mutation.getFieldMask(),on.now())):p.set(x.key,gs.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((x,I)=>p.set(x,I))),n.forEach(((x,I)=>b.set(x,new SI(I,p.get(x)??null)))),b)))}recalculateAndSaveOverlays(t,n){const a=pc();let l=new cn(((p,b)=>p-b)),h=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((p=>{for(const b of p)b.keys().forEach((v=>{const x=n.get(v);if(x===null)return;let I=a.get(v)||gs.empty();I=b.applyToLocalView(x,I),a.set(v,I);const N=(l.get(b.batchId)||pe()).add(v);l=l.insert(b.batchId,N)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const v=b.getNext(),x=v.key,I=v.value,N=Xw();I.forEach((k=>{if(!h.has(k)){const et=sT(n.get(k),a.get(k));et!==null&&N.set(k,et),h=h.add(k)}})),p.push(this.documentOverlayCache.saveOverlays(t,x,N))}return ht.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return RC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Gw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ht.resolve(Wo());let b=vc,v=h;return p.next((x=>ht.forEach(x,((I,N)=>(b<N.largestBatchId&&(b=N.largestBatchId),h.get(I)?ht.resolve():this.remoteDocumentCache.getEntry(t,I).next((k=>{v=v.insert(I,k)}))))).next((()=>this.populateOverlays(t,x,h))).next((()=>this.computeViews(t,v,x,pe()))).next((I=>({batchId:b,changes:Qw(I)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Vt(n)).next((a=>{let l=lc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=lc();return this.indexManager.getCollectionParents(t,h).next((b=>ht.forEach(b,(v=>{const x=(function(N,k){return new Mc(k,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(n,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,x,a,l).next((I=>{I.forEach(((N,k)=>{p=p.insert(N,k)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((p=>{h.forEach(((v,x)=>{const I=x.getKey();p.get(I)===null&&(p=p.insert(I,vi.newInvalidDocument(I)))}));let b=lc();return p.forEach(((v,x)=>{const I=h.get(v);I!==void 0&&gc(I.mutation,x,gs.empty(),on.now()),Hf(n,x)&&(b=b.insert(v,x))})),b}))}}class CI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return ht.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Mr(l.createTime)}})(n)),ht.resolve()}getNamedQuery(t,n){return ht.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:gI(l.bundledQuery),readTime:Mr(l.readTime)}})(n)),ht.resolve()}}class II{constructor(){this.overlays=new cn(Vt.comparator),this.Lr=new Map}getOverlay(t,n){return ht.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Wo();return ht.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.bt(t,n,h)})),ht.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),ht.resolve()}getOverlaysForCollection(t,n,a){const l=Wo(),h=n.length+1,p=new Vt(n.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const v=b.getNext().value,x=v.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return ht.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new cn(((x,I)=>x-I));const p=this.overlays.getIterator();for(;p.hasNext();){const x=p.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>a){let I=h.get(x.largestBatchId);I===null&&(I=Wo(),h=h.insert(x.largestBatchId,I)),I.set(x.getKey(),x)}}const b=Wo(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((x,I)=>b.set(x,I))),!(b.size()>=l)););return ht.resolve(b)}bt(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new ZC(n,a));let h=this.Lr.get(n);h===void 0&&(h=pe(),this.Lr.set(n,h)),this.Lr.set(n,h.add(a.key))}}class RI{constructor(){this.sessionToken=ri.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ht.resolve()}}class ig{constructor(){this.kr=new Vn(Yn.Kr),this.qr=new Vn(Yn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const a=new Yn(t,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Wr(new Yn(t,n))}Qr(t,n){t.forEach((a=>this.removeReference(a,n)))}Gr(t){const n=new Vt(new $e([])),a=new Yn(n,t),l=new Yn(n,t+1),h=[];return this.qr.forEachInRange([a,l],(p=>{this.Wr(p),h.push(p.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Vt(new $e([])),a=new Yn(n,t),l=new Yn(n,t+1);let h=pe();return this.qr.forEachInRange([a,l],(p=>{h=h.add(p.key)})),h}containsKey(t){const n=new Yn(t,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Yn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Vt.comparator(t.key,n.key)||me(t.Hr,n.Hr)}static Ur(t,n){return me(t.Hr,n.Hr)||Vt.comparator(t.key,n.key)}}class NI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vn(Yn.Kr)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new GC(h,n,a,l);this.mutationQueue.push(p);for(const b of l)this.Jr=this.Jr.add(new Yn(b.key,h)),this.indexManager.addToCollectionParentIndex(t,b.key.path.popLast());return ht.resolve(p)}lookupMutationBatch(t,n){return ht.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.Xr(a),h=l<0?0:l;return ht.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Kp:this.Yn-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Yn(n,0),l=new Yn(n,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(p=>{const b=this.Zr(p.Hr);h.push(b)})),ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new Vn(me);return n.forEach((l=>{const h=new Yn(l,0),p=new Yn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,p],(b=>{a=a.add(b.Hr)}))})),ht.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Vt.isDocumentKey(h)||(h=h.child(""));const p=new Yn(new Vt(h),0);let b=new Vn(me);return this.Jr.forEachWhile((v=>{const x=v.key.path;return!!a.isPrefixOf(x)&&(x.length===l&&(b=b.add(v.Hr)),!0)}),p),ht.resolve(this.Yr(b))}Yr(t){const n=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Me(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ht.forEach(n.mutations,(l=>{const h=new Yn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,n){const a=new Yn(n,0),l=this.Jr.firstAfterOrEqual(a);return ht.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kI{constructor(t){this.ti=t,this.docs=(function(){return new cn(Vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ht.resolve(a?a.document.mutableCopy():vi.newInvalidDocument(n))}getEntries(t,n){let a=ga();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():vi.newInvalidDocument(l))})),ht.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=ga();const p=n.path,b=new Vt(p.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(b);for(;v.hasNext();){const{key:x,value:{document:I}}=v.getNext();if(!p.isPrefixOf(x.path))break;x.path.length>p.length+1||rC(sC(I),a)<=0||(l.has(I.key)||Hf(n,I))&&(h=h.insert(I.key,I.mutableCopy()))}return ht.resolve(h)}getAllFromCollectionGroup(t,n,a,l){Ut(9500)}ni(t,n){return ht.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new LI(this)}getSize(t){return ht.resolve(this.size)}}class LI extends EI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),ht.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class MI{constructor(t){this.persistence=t,this.ri=new ol((n=>Xp(n)),Wp),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.ii=0,this.si=new ig,this.targetCount=0,this.oi=lu._r()}forEachTarget(t,n){return this.ri.forEach(((a,l)=>n(l))),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),ht.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new lu(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,ht.resolve()}updateTargetData(t,n){return this.lr(n),ht.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.ri.forEach(((p,b)=>{b.sequenceNumber<=n&&a.get(b.targetId)===null&&(this.ri.delete(p),h.push(this.removeMatchingKeysForTargetId(t,b.targetId)),l++)})),ht.waitFor(h).next((()=>l))}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,n){const a=this.ri.get(n)||null;return ht.resolve(a)}addMatchingKeys(t,n,a){return this.si.$r(n,a),ht.resolve()}removeMatchingKeys(t,n,a){this.si.Qr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((p=>{h.push(l.markPotentiallyOrphaned(t,p))})),ht.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),ht.resolve()}getMatchingKeysForTargetId(t,n){const a=this.si.jr(n);return ht.resolve(a)}containsKey(t,n){return ht.resolve(this.si.containsKey(n))}}class vT{constructor(t,n){this._i={},this.overlays={},this.ai=new jf(0),this.ui=!1,this.ui=!0,this.ci=new RI,this.referenceDelegate=t(this),this.li=new MI(this),this.indexManager=new _I,this.remoteDocumentCache=(function(l){return new kI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new pI(n),this.Pi=new CI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new II,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this._i[t.toKey()];return a||(a=new NI(n,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,a){It("MemoryPersistence","Starting transaction:",t);const l=new OI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,n){return ht.or(Object.values(this._i).map((a=>()=>a.containsKey(t,n))))}}class OI extends oC{constructor(t){super(),this.currentSequenceNumber=t}}class sg{constructor(t){this.persistence=t,this.Ri=new ig,this.Ai=null}static Vi(t){return new sg(t)}get di(){if(this.Ai)return this.Ai;throw Ut(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),ht.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),ht.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.di,(a=>{const l=Vt.fromPath(a);return this.mi(t,l).next((h=>{h||n.removeEntry(l,Ft.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return ht.or([()=>ht.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Cf{constructor(t,n){this.persistence=t,this.fi=new ol((a=>cC(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=xI(this,n)}static Vi(t,n){return new Cf(t,n)}Ti(){}Ii(t){return ht.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}pr(t){let n=0;return this.mr(t,(a=>{n++})).next((()=>n))}mr(t,n){return ht.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?ht.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(p=>this.wr(t,p,n).next((b=>{b||(a++,h.removeEntry(p,Ft.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),ht.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),ht.resolve()}removeReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),ht.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=af(t.data.value)),n}wr(t,n,a){return ht.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return ht.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class rg{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Ts=a,this.Is=l}static Es(t,n){let a=pe(),l=pe();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new rg(t,n.fromCache,a,l)}}class PI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class DI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return T1()?8:lC(bi())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.gs(t,n).next((p=>{h.result=p})).next((()=>{if(!h.result)return this.ps(t,n,l,a).next((p=>{h.result=p}))})).next((()=>{if(h.result)return;const p=new PI;return this.ys(t,n,p).next((b=>{if(h.result=b,this.As)return this.ws(t,n,p,b.size)}))})).next((()=>h.result))}ws(t,n,a,l){return a.documentReadCount<this.Vs?(Kl()<=de.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ht.resolve()):(Kl()<=de.DEBUG&&It("QueryEngine","Query:",Yl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Kl()<=de.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Lr(n))):ht.resolve())}gs(t,n){if(k0(n))return ht.resolve(null);let a=Lr(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Sf(n,null,"F"),a=Lr(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const p=pe(...h);return this.fs.getDocuments(t,p).next((b=>this.indexManager.getMinOffset(t,a).next((v=>{const x=this.bs(n,b);return this.Ss(n,x,p,v.readTime)?this.gs(t,Sf(n,null,"F")):this.Ds(t,x,n,v)}))))})))))}ps(t,n,a,l){return k0(n)||l.isEqual(Ft.min())?ht.resolve(null):this.fs.getDocuments(t,a).next((h=>{const p=this.bs(n,h);return this.Ss(n,p,a,l)?ht.resolve(null):(Kl()<=de.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Yl(n)),this.Ds(t,p,n,iC(l,vc)).next((b=>b)))}))}bs(t,n){let a=new Vn(Kw(t));return n.forEach(((l,h)=>{Hf(t,h)&&(a=a.add(h))})),a}Ss(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,n,a){return Kl()<=de.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.fs.getDocumentsMatchingQuery(t,n,lo.min(),a)}Ds(t,n,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((p=>{h=h.insert(p.key,p)})),h)))}}const ag="LocalStore",VI=3e8;class zI{constructor(t,n,a,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new cn(me),this.Fs=new ol((h=>Xp(h)),Wp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function jI(r,t,n,a){return new zI(r,t,n,a)}async function bT(r,t){const n=Zt(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Os(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const p=[],b=[];let v=pe();for(const x of l){p.push(x.batchId);for(const I of x.mutations)v=v.add(I.key)}for(const x of h){b.push(x.batchId);for(const I of x.mutations)v=v.add(I.key)}return n.localDocuments.getDocuments(a,v).next((x=>({Ns:x,removedBatchIds:p,addedBatchIds:b})))}))}))}function UI(r,t){const n=Zt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.xs.newChangeBuffer({trackRemovals:!0});return(function(b,v,x,I){const N=x.batch,k=N.keys();let et=ht.resolve();return k.forEach((at=>{et=et.next((()=>I.getEntry(v,at))).next((ct=>{const pt=x.docVersions.get(at);Me(pt!==null,48541),ct.version.compareTo(pt)<0&&(N.applyToRemoteDocument(ct,x),ct.isValidDocument()&&(ct.setReadTime(x.commitVersion),I.addEntry(ct)))}))})),et.next((()=>b.mutationQueue.removeMutationBatch(v,N)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let v=pe();for(let x=0;x<b.mutationResults.length;++x)b.mutationResults[x].transformResults.length>0&&(v=v.add(b.batch.mutations[x].key));return v})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function wT(r){const t=Zt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function BI(r,t){const n=Zt(r),a=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const p=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const b=[];t.targetChanges.forEach(((I,N)=>{const k=l.get(N);if(!k)return;b.push(n.li.removeMatchingKeys(h,I.removedDocuments,N).next((()=>n.li.addMatchingKeys(h,I.addedDocuments,N))));let et=k.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(N)!==null?et=et.withResumeToken(ri.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):I.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(I.resumeToken,a)),l=l.insert(N,et),(function(ct,pt,Lt){return ct.resumeToken.approximateByteSize()===0||pt.snapshotVersion.toMicroseconds()-ct.snapshotVersion.toMicroseconds()>=VI?!0:Lt.addedDocuments.size+Lt.modifiedDocuments.size+Lt.removedDocuments.size>0})(k,et,I)&&b.push(n.li.updateTargetData(h,et))}));let v=ga(),x=pe();if(t.documentUpdates.forEach((I=>{t.resolvedLimboDocuments.has(I)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(h,I))})),b.push(qI(h,p,t.documentUpdates).next((I=>{v=I.Bs,x=I.Ls}))),!a.isEqual(Ft.min())){const I=n.li.getLastRemoteSnapshotVersion(h).next((N=>n.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));b.push(I)}return ht.waitFor(b).next((()=>p.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,v,x))).next((()=>v))})).then((h=>(n.vs=l,h)))}function qI(r,t,n){let a=pe(),l=pe();return n.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let p=ga();return n.forEach(((b,v)=>{const x=h.get(b);v.isFoundDocument()!==x.isFoundDocument()&&(l=l.add(b)),v.isNoDocument()&&v.version.isEqual(Ft.min())?(t.removeEntry(b,v.readTime),p=p.insert(b,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||v.version.compareTo(x.version)===0&&x.hasPendingWrites?(t.addEntry(v),p=p.insert(b,v)):It(ag,"Ignoring outdated watch update for ",b,". Current version:",x.version," Watch version:",v.version)})),{Bs:p,Ls:l}}))}function HI(r,t){const n=Zt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function FI(r,t){const n=Zt(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.li.getTargetData(a,t).next((h=>h?(l=h,ht.resolve(l)):n.li.allocateTargetId(a).next((p=>(l=new to(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(t,a.targetId)),a}))}async function Ap(r,t,n){const a=Zt(r),l=a.vs.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!gu(p))throw p;It(ag,`Failed to update sequence numbers for target ${t}: ${p}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function F0(r,t,n){const a=Zt(r);let l=Ft.min(),h=pe();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(v,x,I){const N=Zt(v),k=N.Fs.get(I);return k!==void 0?ht.resolve(N.vs.get(k)):N.li.getTargetData(x,I)})(a,p,Lr(t)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(p,b.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(p,t,n?l:Ft.min(),n?h:pe()))).next((b=>(GI(a,kC(t),b),{documents:b,ks:h})))))}function GI(r,t,n){let a=r.Ms.get(t)||Ft.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Ms.set(t,a)}class G0{constructor(){this.activeTargetIds=VC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZI{constructor(){this.vo=new G0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,a){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new G0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class KI{Mo(t){}shutdown(){}}const Z0="ConnectivityMonitor";class K0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){It(Z0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){It(Z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wh=null;function Cp(){return Wh===null?Wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wh++,"0x"+Wh.toString(16)}const $m="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===wf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,n,a,l,h){const p=Cp(),b=this.Qo(t,n.toUriEncodedString());It($m,`Sending RPC '${t}' ${p}:`,b,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:x}=new URL(b),I=hu(x);return this.zo(t,b,v,a,I).then((N=>(It($m,`Received RPC '${t}' ${p}: `,N),N)),(N=>{throw su($m,`RPC '${t}' ${p} failed with error: `,N,"url: ",b,"request:",a),N}))}jo(t,n,a,l,h,p){return this.Wo(t,n,a,l,h)}Go(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,n){const a=YI[t];let l=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class XI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const _i="WebChannelConnection",ic=(r,t,n)=>{r.listen(t,(a=>{try{n(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class tu extends QI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!tu.c_){const t=xw();ic(t,Tw.STAT_EVENT,(n=>{n.stat===pp.PROXY?It(_i,"STAT_EVENT: detected buffering proxy"):n.stat===pp.NOPROXY&&It(_i,"STAT_EVENT: detected no buffering proxy")})),tu.c_=!0}}zo(t,n,a,l,h){const p=Cp();return new Promise(((b,v)=>{const x=new bw;x.setWithCredentials(!0),x.listenOnce(ww.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case rf.NO_ERROR:const N=x.getResponseJson();It(_i,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(N)),b(N);break;case rf.TIMEOUT:It(_i,`RPC '${t}' ${p} timed out`),v(new St(ut.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const k=x.getStatus();if(It(_i,`RPC '${t}' ${p} failed with status:`,k,"response text:",x.getResponseText()),k>0){let et=x.getResponseJson();Array.isArray(et)&&(et=et[0]);const at=et?.error;if(at&&at.status&&at.message){const ct=(function(Lt){const jt=Lt.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(jt)>=0?jt:ut.UNKNOWN})(at.status);v(new St(ct,at.message))}else v(new St(ut.UNKNOWN,"Server responded with status "+x.getStatus()))}else v(new St(ut.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:p,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{It(_i,`RPC '${t}' ${p} completed.`)}}));const I=JSON.stringify(l);It(_i,`RPC '${t}' ${p} sending request:`,l),x.send(n,"POST",I,a,15)}))}T_(t,n,a){const l=Cp(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=this.createWebChannelTransport(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(b.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Go(b.initMessageHeaders,n,a),b.encodeInitMessageHeaders=!0;const x=h.join("");It(_i,`Creating RPC '${t}' stream ${l}: ${x}`,b);const I=p.createWebChannel(x,b);this.I_(I);let N=!1,k=!1;const et=new XI({Ho:at=>{k?It(_i,`Not sending because RPC '${t}' stream ${l} is closed:`,at):(N||(It(_i,`Opening RPC '${t}' stream ${l} transport.`),I.open(),N=!0),It(_i,`RPC '${t}' stream ${l} sending:`,at),I.send(at))},Jo:()=>I.close()});return ic(I,oc.EventType.OPEN,(()=>{k||(It(_i,`RPC '${t}' stream ${l} transport opened.`),et.i_())})),ic(I,oc.EventType.CLOSE,(()=>{k||(k=!0,It(_i,`RPC '${t}' stream ${l} transport closed`),et.o_(),this.E_(I))})),ic(I,oc.EventType.ERROR,(at=>{k||(k=!0,su(_i,`RPC '${t}' stream ${l} transport errored. Name:`,at.name,"Message:",at.message),et.o_(new St(ut.UNAVAILABLE,"The operation could not be completed")))})),ic(I,oc.EventType.MESSAGE,(at=>{if(!k){const ct=at.data[0];Me(!!ct,16349);const pt=ct,Lt=pt?.error||pt[0]?.error;if(Lt){It(_i,`RPC '${t}' stream ${l} received error:`,Lt);const jt=Lt.status;let kt=(function(se){const D=Rn[se];if(D!==void 0)return oT(D)})(jt),Jt=Lt.message;kt===void 0&&(kt=ut.INTERNAL,Jt="Unknown error status: "+jt+" with message "+Lt.message),k=!0,et.o_(new St(kt,Jt)),I.close()}else It(_i,`RPC '${t}' stream ${l} received:`,ct),et.__(ct)}})),tu.u_(),setTimeout((()=>{et.s_()}),0),et}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,a){super.Go(t,n,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ew()}}function WI(r){return new tu(r)}function tp(){return typeof document<"u"?document:null}function Kf(r){return new eI(r,!0)}tu.c_=!1;class TT{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=n,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&It("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Y0="PersistentStream";class xT{constructor(t,n,a,l,h,p,b,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ut.RESOURCE_EXHAUSTED?(pa(n.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new St(ut.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return It(Y0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(It(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JI extends xT{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=sI(this.serializer,t),a=(function(h){if(!("targetChange"in h))return Ft.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?Ft.min():p.readTime?Mr(p.readTime):Ft.min()})(t);return this.listener.J_(n,a)}Z_(t){const n={};n.database=Sp(this.serializer),n.addTarget=(function(h,p){let b;const v=p.target;if(b=bp(v)?{documents:oI(h,v)}:{query:lI(h,v).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=cT(h,p.resumeToken);const x=Tp(h,p.expectedCount);x!==null&&(b.expectedCount=x)}else if(p.snapshotVersion.compareTo(Ft.min())>0){b.readTime=Af(h,p.snapshotVersion.toTimestamp());const x=Tp(h,p.expectedCount);x!==null&&(b.expectedCount=x)}return b})(this.serializer,t);const a=cI(this.serializer,t);a&&(n.labels=a),this.K_(n)}X_(t){const n={};n.database=Sp(this.serializer),n.removeTarget=t,this.K_(n)}}class $I extends xT{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Me(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=aI(t.writeResults,t.commitTime),a=Mr(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=Sp(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>rI(this.serializer,a)))};this.K_(n)}}class tR{}class eR extends tR{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new St(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Wo(t,xp(n,a),l,h,p))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(ut.UNKNOWN,h.toString())}))}jo(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.jo(t,xp(n,a),l,p,b,h))).catch((p=>{throw p.name==="FirebaseError"?(p.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new St(ut.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nR(r,t,n,a){return new eR(r,t,n,a)}class iR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pa(n),this.aa=!1):It("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nl="RemoteStore";class sR{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((p=>{a.enqueueAndForget((async()=>{ll(this)&&(It(nl,"Restarting streams for network reachability change."),await(async function(v){const x=Zt(v);x.Ea.add(4),await Dc(x),x.Va.set("Unknown"),x.Ea.delete(4),await Yf(x)})(this))}))})),this.Va=new iR(a,l)}}async function Yf(r){if(ll(r))for(const t of r.Ra)await t(!0)}async function Dc(r){for(const t of r.Ra)await t(!1)}function ET(r,t){const n=Zt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cg(n)?ug(n):_u(n).O_()&&lg(n,t))}function og(r,t){const n=Zt(r),a=_u(n);n.Ia.delete(t),a.O_()&&ST(n,t),n.Ia.size===0&&(a.O_()?a.L_():ll(n)&&n.Va.set("Unknown"))}function lg(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_u(r).Z_(t)}function ST(r,t){r.da.$e(t),_u(r).X_(t)}function ug(r){r.da=new WC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_u(r).start(),r.Va.ua()}function cg(r){return ll(r)&&!_u(r).x_()&&r.Ia.size>0}function ll(r){return Zt(r).Ea.size===0}function AT(r){r.da=void 0}async function rR(r){r.Va.set("Online")}async function aR(r){r.Ia.forEach(((t,n)=>{lg(r,t)}))}async function oR(r,t){AT(r),cg(r)?(r.Va.ha(t),ug(r)):r.Va.set("Unknown")}async function lR(r,t,n){if(r.Va.set("Online"),t instanceof uT&&t.state===2&&t.cause)try{await(async function(l,h){const p=h.cause;for(const b of h.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.da.removeTarget(b))})(r,t)}catch(a){It(nl,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await If(r,a)}else if(t instanceof uf?r.da.Xe(t):t instanceof lT?r.da.st(t):r.da.tt(t),!n.isEqual(Ft.min()))try{const a=await wT(r.localStore);n.compareTo(a)>=0&&await(function(h,p){const b=h.da.Tt(p);return b.targetChanges.forEach(((v,x)=>{if(v.resumeToken.approximateByteSize()>0){const I=h.Ia.get(x);I&&h.Ia.set(x,I.withResumeToken(v.resumeToken,p))}})),b.targetMismatches.forEach(((v,x)=>{const I=h.Ia.get(v);if(!I)return;h.Ia.set(v,I.withResumeToken(ri.EMPTY_BYTE_STRING,I.snapshotVersion)),ST(h,v);const N=new to(I.target,v,x,I.sequenceNumber);lg(h,N)})),h.remoteSyncer.applyRemoteEvent(b)})(r,n)}catch(a){It(nl,"Failed to raise snapshot:",a),await If(r,a)}}async function If(r,t,n){if(!gu(t))throw t;r.Ea.add(1),await Dc(r),r.Va.set("Offline"),n||(n=()=>wT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{It(nl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Yf(r)}))}function CT(r,t){return t().catch((n=>If(r,n,t)))}async function Qf(r){const t=Zt(r),n=fo(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Kp;for(;uR(t);)try{const l=await HI(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,cR(t,l)}catch(l){await If(t,l)}IT(t)&&RT(t)}function uR(r){return ll(r)&&r.Ta.length<10}function cR(r,t){r.Ta.push(t);const n=fo(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function IT(r){return ll(r)&&!fo(r).x_()&&r.Ta.length>0}function RT(r){fo(r).start()}async function hR(r){fo(r).ra()}async function fR(r){const t=fo(r);for(const n of r.Ta)t.ea(n.mutations)}async function dR(r,t,n){const a=r.Ta.shift(),l=tg.from(a,t,n);await CT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Qf(r)}async function mR(r,t){t&&fo(r).Y_&&await(async function(a,l){if((function(p){return YC(p)&&p!==ut.ABORTED})(l.code)){const h=a.Ta.shift();fo(a).B_(),await CT(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Qf(a)}})(r,t),IT(r)&&RT(r)}async function Q0(r,t){const n=Zt(r);n.asyncQueue.verifyOperationInProgress(),It(nl,"RemoteStore received new credentials");const a=ll(n);n.Ea.add(3),await Dc(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Yf(n)}async function pR(r,t){const n=Zt(r);t?(n.Ea.delete(2),await Yf(n)):t||(n.Ea.add(2),await Dc(n),n.Va.set("Unknown"))}function _u(r){return r.ma||(r.ma=(function(n,a,l){const h=Zt(n);return h.sa(),new JI(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:rR.bind(null,r),Yo:aR.bind(null,r),t_:oR.bind(null,r),J_:lR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),cg(r)?ug(r):r.Va.set("Unknown")):(await r.ma.stop(),AT(r))}))),r.ma}function fo(r){return r.fa||(r.fa=(function(n,a,l){const h=Zt(n);return h.sa(),new $I(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:hR.bind(null,r),t_:mR.bind(null,r),ta:fR.bind(null,r),na:dR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Qf(r)):(await r.fa.stop(),r.Ta.length>0&&(It(nl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class hg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,b=new hg(t,n,p,l,h);return b.start(a),b}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,t){if(pa("AsyncQueue",`${t}: ${r}`),gu(r))return new St(ut.UNAVAILABLE,`${t}: ${r}`);throw r}class eu{static emptySet(t){return new eu(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Vt.comparator(n.key,a.key):(n,a)=>Vt.comparator(n.key,a.key),this.keyedMap=lc(),this.sortedSet=new cn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new eu;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class X0{constructor(){this.ga=new cn(Vt.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class uu{constructor(t,n,a,l,h,p,b,v,x){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach((b=>{p.push({type:0,doc:b})})),new uu(t,n,eu.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class gR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class _R{constructor(){this.queries=W0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Zt(n),h=l.queries;l.queries=W0(),h.forEach(((p,b)=>{for(const v of b.ba)v.onError(a)}))})(this,new St(ut.ABORTED,"Firestore shutting down"))}}function W0(){return new ol((r=>Zw(r)),qf)}async function NT(r,t){const n=Zt(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new gR,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const b=fg(p,`Initialization of query '${Yl(t.query)}' failed`);return void t.onError(b)}n.queries.set(l,h),h.ba.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&dg(n)}async function kT(r,t){const n=Zt(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.ba.indexOf(t);p>=0&&(h.ba.splice(p,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yR(r,t){const n=Zt(r);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const b of p.ba)b.Fa(l)&&(a=!0);p.wa=l}}a&&dg(n)}function vR(r,t,n){const a=Zt(r),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(n);a.queries.delete(t)}function dg(r){r.Ca.forEach((t=>{t.next()}))}var Ip,J0;(J0=Ip||(Ip={})).Ma="default",J0.Cache="cache";class LT{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new uu(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ip.Cache}}class MT{constructor(t){this.key=t}}class OT{constructor(t){this.key=t}}class bR{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.eu=Kw(t),this.tu=new eu(this.eu)}get nu(){return this.Za}ru(t,n){const a=n?n.iu:new X0,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,b=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,x=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((I,N)=>{const k=l.get(I),et=Hf(this.query,N)?N:null,at=!!k&&this.mutatedKeys.has(k.key),ct=!!et&&(et.hasLocalMutations||this.mutatedKeys.has(et.key)&&et.hasCommittedMutations);let pt=!1;k&&et?k.data.isEqual(et.data)?at!==ct&&(a.track({type:3,doc:et}),pt=!0):this.su(k,et)||(a.track({type:2,doc:et}),pt=!0,(v&&this.eu(et,v)>0||x&&this.eu(et,x)<0)&&(b=!0)):!k&&et?(a.track({type:0,doc:et}),pt=!0):k&&!et&&(a.track({type:1,doc:k}),pt=!0,(v||x)&&(b=!0)),pt&&(et?(p=p.add(et),h=ct?h.add(I):h.delete(I)):(p=p.delete(I),h=h.delete(I)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const I=this.query.limitType==="F"?p.last():p.first();p=p.delete(I.key),h=h.delete(I.key),a.track({type:1,doc:I})}return{tu:p,iu:a,Ss:b,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((I,N)=>(function(et,at){const ct=pt=>{switch(pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Vt:pt})}};return ct(et)-ct(at)})(I.type,N.type)||this.eu(I.doc,N.doc))),this.ou(a),l=l??!1;const b=n&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,x=v!==this.Xa;return this.Xa=v,p.length!==0||x?{snapshot:new uu(this.query,t.tu,h,p,t.mutatedKeys,v===0,x,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return t.forEach((a=>{this.Ya.has(a)||n.push(new OT(a))})),this.Ya.forEach((a=>{t.has(a)||n.push(new MT(a))})),n}cu(t){this.Za=t.ks,this.Ya=pe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mg="SyncEngine";class wR{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class TR{constructor(t){this.key=t,this.hu=!1}}class xR{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new ol((b=>Zw(b)),qf),this.Iu=new Map,this.Eu=new Set,this.Ru=new cn(Vt.comparator),this.Au=new Map,this.Vu=new ig,this.du={},this.mu=new Map,this.fu=lu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ER(r,t,n=!0){const a=UT(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await PT(a,t,n,!0),l}async function SR(r,t){const n=UT(r);await PT(n,t,!0,!1)}async function PT(r,t,n,a){const l=await FI(r.localStore,Lr(t)),h=l.targetId,p=r.sharedClientState.addLocalQueryTarget(h,n);let b;return a&&(b=await AR(r,t,h,p==="current",l.resumeToken)),r.isPrimaryClient&&n&&ET(r.remoteStore,l),b}async function AR(r,t,n,a,l){r.pu=(N,k,et)=>(async function(ct,pt,Lt,jt){let kt=pt.view.ru(Lt);kt.Ss&&(kt=await F0(ct.localStore,pt.query,!1).then((({documents:D})=>pt.view.ru(D,kt))));const Jt=jt&&jt.targetChanges.get(pt.targetId),Ne=jt&&jt.targetMismatches.get(pt.targetId)!=null,se=pt.view.applyChanges(kt,ct.isPrimaryClient,Jt,Ne);return tb(ct,pt.targetId,se.au),se.snapshot})(r,N,k,et);const h=await F0(r.localStore,t,!0),p=new bR(t,h.ks),b=p.ru(h.documents),v=Pc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),x=p.applyChanges(b,r.isPrimaryClient,v);tb(r,n,x.au);const I=new wR(t,n,p);return r.Tu.set(t,I),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),x.snapshot}async function CR(r,t,n){const a=Zt(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((p=>!qf(p,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Ap(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&og(a.remoteStore,l.targetId),Rp(a,l.targetId)})).catch(pu)):(Rp(a,l.targetId),await Ap(a.localStore,l.targetId,!0))}async function IR(r,t){const n=Zt(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),og(n.remoteStore,a.targetId))}async function RR(r,t,n){const a=DR(r);try{const l=await(function(p,b){const v=Zt(p),x=on.now(),I=b.reduce(((et,at)=>et.add(at.key)),pe());let N,k;return v.persistence.runTransaction("Locally write mutations","readwrite",(et=>{let at=ga(),ct=pe();return v.xs.getEntries(et,I).next((pt=>{at=pt,at.forEach(((Lt,jt)=>{jt.isValidDocument()||(ct=ct.add(Lt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(et,at))).next((pt=>{N=pt;const Lt=[];for(const jt of b){const kt=HC(jt,N.get(jt.key).overlayedDocument);kt!=null&&Lt.push(new go(jt.key,kt,zw(kt.value.mapValue),ar.exists(!0)))}return v.mutationQueue.addMutationBatch(et,x,Lt,b)})).next((pt=>{k=pt;const Lt=pt.applyToLocalDocumentSet(N,ct);return v.documentOverlayCache.saveOverlays(et,pt.batchId,Lt)}))})).then((()=>({batchId:k.batchId,changes:Qw(N)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,v){let x=p.du[p.currentUser.toKey()];x||(x=new cn(me)),x=x.insert(b,v),p.du[p.currentUser.toKey()]=x})(a,l.batchId,n),await Vc(a,l.changes),await Qf(a.remoteStore)}catch(l){const h=fg(l,"Failed to persist write");n.reject(h)}}async function DT(r,t){const n=Zt(r);try{const a=await BI(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const p=n.Au.get(h);p&&(Me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Me(p.hu,14607):l.removedDocuments.size>0&&(Me(p.hu,42227),p.hu=!1))})),await Vc(n,a,t)}catch(a){await pu(a)}}function $0(r,t,n){const a=Zt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,p)=>{const b=p.view.va(t);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const v=Zt(p);v.onlineState=b;let x=!1;v.queries.forEach(((I,N)=>{for(const k of N.ba)k.va(b)&&(x=!0)})),x&&dg(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function NR(r,t,n){const a=Zt(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let p=new cn(Vt.comparator);p=p.insert(h,vi.newNoDocument(h,Ft.min()));const b=pe().add(h),v=new Zf(Ft.min(),new Map,new cn(me),p,b);await DT(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(t),pg(a)}else await Ap(a.localStore,t,!1).then((()=>Rp(a,t,n))).catch(pu)}async function kR(r,t){const n=Zt(r),a=t.batch.batchId;try{const l=await UI(n.localStore,t);zT(n,a,null),VT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Vc(n,l)}catch(l){await pu(l)}}async function LR(r,t,n){const a=Zt(r);try{const l=await(function(p,b){const v=Zt(p);return v.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let I;return v.mutationQueue.lookupMutationBatch(x,b).next((N=>(Me(N!==null,37113),I=N.keys(),v.mutationQueue.removeMutationBatch(x,N)))).next((()=>v.mutationQueue.performConsistencyCheck(x))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(x,I,b))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,I))).next((()=>v.localDocuments.getDocuments(x,I)))}))})(a.localStore,t);zT(a,t,n),VT(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Vc(a,l)}catch(l){await pu(l)}}function VT(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function zT(r,t,n){const a=Zt(r);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Rp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||jT(r,a)}))}function jT(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(og(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),pg(r))}function tb(r,t,n){for(const a of n)a instanceof MT?(r.Vu.addReference(a.key,t),MR(r,a)):a instanceof OT?(It(mg,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||jT(r,a.key)):Ut(19791,{wu:a})}function MR(r,t){const n=t.key,a=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(a)||(It(mg,"New document in limbo: "+n),r.Eu.add(a),pg(r))}function pg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Vt($e.fromString(t)),a=r.fu.next();r.Au.set(a,new TR(n)),r.Ru=r.Ru.insert(n,a),ET(r.remoteStore,new to(Lr(Jp(n.path)),a,"TargetPurposeLimboResolution",jf.ce))}}async function Vc(r,t,n){const a=Zt(r),l=[],h=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,v)=>{p.push(a.pu(v,t,n).then((x=>{if((x||n)&&a.isPrimaryClient){const I=x?!x.fromCache:n?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,I?"current":"not-current")}if(x){l.push(x);const I=rg.Es(v.targetId,x);h.push(I)}})))})),await Promise.all(p),a.Pu.J_(l),await(async function(v,x){const I=Zt(v);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>ht.forEach(x,(k=>ht.forEach(k.Ts,(et=>I.persistence.referenceDelegate.addReference(N,k.targetId,et))).next((()=>ht.forEach(k.Is,(et=>I.persistence.referenceDelegate.removeReference(N,k.targetId,et)))))))))}catch(N){if(!gu(N))throw N;It(ag,"Failed to update sequence numbers: "+N)}for(const N of x){const k=N.targetId;if(!N.fromCache){const et=I.vs.get(k),at=et.snapshotVersion,ct=et.withLastLimboFreeSnapshotVersion(at);I.vs=I.vs.insert(k,ct)}}})(a.localStore,h))}async function OR(r,t){const n=Zt(r);if(!n.currentUser.isEqual(t)){It(mg,"User change. New user:",t.toKey());const a=await bT(n.localStore,t);n.currentUser=t,(function(h,p){h.mu.forEach((b=>{b.forEach((v=>{v.reject(new St(ut.CANCELLED,p))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Vc(n,a.Ns)}}function PR(r,t){const n=Zt(r),a=n.Au.get(t);if(a&&a.hu)return pe().add(a.key);{let l=pe();const h=n.Iu.get(t);if(!h)return l;for(const p of h){const b=n.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function UT(r){const t=Zt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NR.bind(null,t),t.Pu.J_=yR.bind(null,t.eventManager),t.Pu.yu=vR.bind(null,t.eventManager),t}function DR(r){const t=Zt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LR.bind(null,t),t}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return jI(this.persistence,new DI,t.initialUser,this.serializer)}Cu(t){return new vT(sg.Vi,this.serializer)}Du(t){return new ZI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class VR extends Rf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Me(this.persistence.referenceDelegate instanceof Cf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wI(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new vT((a=>Cf.Vi(a,n)),this.serializer)}}class Np{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=OR.bind(null,this.syncEngine),await pR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _R})()}createDatastore(t){const n=Kf(t.databaseInfo.databaseId),a=WI(t.databaseInfo);return nR(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,p,b){return new sR(a,l,h,p,b)})(this.localStore,this.datastore,t.asyncQueue,(n=>$0(this.syncEngine,n,0)),(function(){return K0.v()?new K0:new KI})())}createSyncEngine(t,n){return(function(l,h,p,b,v,x,I){const N=new xR(l,h,p,b,v,x);return I&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Zt(n);It(nl,"RemoteStore shutting down."),a.Ea.add(5),await Dc(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Np.provider={build:()=>new Np};class BT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):pa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const mo="FirestoreClient";class zR{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=l,this.user=yi.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async p=>{It(mo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(It(mo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=fg(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function ep(r,t){r.asyncQueue.verifyOperationInProgress(),It(mo,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await bT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function eb(r,t){r.asyncQueue.verifyOperationInProgress();const n=await jR(r);It(mo,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>Q0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Q0(t.remoteStore,l))),r._onlineComponents=t}async function jR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){It(mo,"Using user provided OfflineComponentProvider");try{await ep(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ut.FAILED_PRECONDITION||l.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;su("Error using user provided cache. Falling back to memory cache: "+n),await ep(r,new Rf)}}else It(mo,"Using default OfflineComponentProvider"),await ep(r,new VR(void 0));return r._offlineComponents}async function qT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(It(mo,"Using user provided OnlineComponentProvider"),await eb(r,r._uninitializedComponentsProvider._online)):(It(mo,"Using default OnlineComponentProvider"),await eb(r,new Np))),r._onlineComponents}function UR(r){return qT(r).then((t=>t.syncEngine))}async function HT(r){const t=await qT(r),n=t.eventManager;return n.onListen=ER.bind(null,t.syncEngine),n.onUnlisten=CR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=IR.bind(null,t.syncEngine),n}function BR(r,t,n={}){const a=new fa;return r.asyncQueue.enqueueAndForget((async()=>(function(h,p,b,v,x){const I=new BT({next:k=>{I.Nu(),p.enqueueAndForget((()=>kT(h,N)));const et=k.docs.has(b);!et&&k.fromCache?x.reject(new St(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&k.fromCache&&v&&v.source==="server"?x.reject(new St(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(k)},error:k=>x.reject(k)}),N=new LT(Jp(b.path),I,{includeMetadataChanges:!0,Ka:!0});return NT(h,N)})(await HT(r),r.asyncQueue,t,n,a))),a.promise}function qR(r,t,n={}){const a=new fa;return r.asyncQueue.enqueueAndForget((async()=>(function(h,p,b,v,x){const I=new BT({next:k=>{I.Nu(),p.enqueueAndForget((()=>kT(h,N))),k.fromCache&&v.source==="server"?x.reject(new St(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(k)},error:k=>x.reject(k)}),N=new LT(b,I,{includeMetadataChanges:!0,Ka:!0});return NT(h,N)})(await HT(r),r.asyncQueue,t,n,a))),a.promise}function HR(r,t){const n=new fa;return r.asyncQueue.enqueueAndForget((async()=>RR(await UR(r),t,n))),n.promise}function FT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const FR="ComponentProvider",nb=new Map;function GR(r,t,n,a,l){return new dC(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,FT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const GT="firestore.googleapis.com",ib=!0;class sb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=ib}else this.host=t.host,this.ssl=t.ssl??ib;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vI)throw new St(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new St(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new St(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new St(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xf{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Z2;switch(a.type){case"firstParty":return new X2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new St(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=nb.get(n);a&&(It(FR,"Removing Datastore"),nb.delete(n),a.terminate())})(this),Promise.resolve()}}function ZR(r,t,n,a={}){r=Vr(r,Xf);const l=hu(t),h=r._getSettings(),p={...h,emulatorOptions:r._getEmulatorOptions()},b=`${t}:${n}`;l&&(Nb(`https://${b}`),kb("Firestore",!0)),h.host!==GT&&h.host!==b&&su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:b,ssl:l,emulatorOptions:a};if(!ao(v,p)&&(r._setSettings(v),a.mockUserToken)){let x,I;if(typeof a.mockUserToken=="string")x=a.mockUserToken,I=yi.MOCK_USER;else{x=m1(a.mockUserToken,r._app?.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new St(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new yi(N)}r._authCredentials=new K2(new Aw(x,I))}}class ul{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ul(this.firestore,t,this._query)}}class vn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vn(this.firestore,t,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Lc(n,vn._jsonSchema))return new vn(t,a||null,new Vt($e.fromString(n.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:kn("string",vn._jsonSchemaVersion),referencePath:kn("string")};class ro extends ul{constructor(t,n,a){super(t,n,Jp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vn(this.firestore,null,new Vt(t))}withConverter(t){return new ro(this.firestore,t,this._path)}}function Gl(r,t,...n){if(r=Ln(r),Cw("collection","path",t),r instanceof Xf){const a=$e.fromString(t,...n);return _0(a),new ro(r,null,a)}{if(!(r instanceof vn||r instanceof ro))throw new St(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child($e.fromString(t,...n));return _0(a),new ro(r.firestore,null,a)}}function la(r,t,...n){if(r=Ln(r),arguments.length===1&&(t=Zp.newId()),Cw("doc","path",t),r instanceof Xf){const a=$e.fromString(t,...n);return g0(a),new vn(r,null,new Vt(a))}{if(!(r instanceof vn||r instanceof ro))throw new St(ut.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child($e.fromString(t,...n));return g0(a),new vn(r.firestore,r instanceof ro?r.converter:null,new Vt(a))}}const rb="AsyncQueue";class ab{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TT(this,"async_queue_retry"),this._c=()=>{const a=tp();a&&It(rb,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!gu(t))throw t;It(rb,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,pa("INTERNAL UNHANDLED ERROR: ",ob(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=hg.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Ut(47125,{Pc:ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ob(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class yu extends Xf{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new ab,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ab(t),this._firestoreClient=void 0,await t}}}function KR(r,t){const n=typeof r=="object"?r:Pp(),a=typeof r=="string"?r:wf,l=al(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=f1("firestore");h&&ZR(l,...h)}return l}function gg(r){if(r._terminated)throw new St(ut.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||YR(r),r._firestoreClient}function YR(r){const t=r._freezeSettings(),n=GR(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new zR(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class Os{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Os(ri.fromBase64String(t))}catch(n){throw new St(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Os(ri.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lc(t,Os._jsonSchema))return Os.fromBase64String(t.bytes)}}Os._jsonSchemaVersion="firestore/bytes/1.0",Os._jsonSchema={type:kn("string",Os._jsonSchemaVersion),bytes:kn("string")};class _g{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zc{constructor(t){this._methodName=t}}class Or{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return me(this._lat,t._lat)||me(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(t){if(Lc(t,Or._jsonSchema))return new Or(t.latitude,t.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:kn("string",Or._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};class or{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lc(t,or._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new or(t.vectorValues);throw new St(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:kn("string",or._jsonSchemaVersion),vectorValues:kn("object")};const QR=/^__.*__$/;class XR{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new go(t,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(t,this.data,n,this.fieldTransforms)}}class ZT{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new go(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function KT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{dataSource:r})}}class yg{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new yg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const n=this.path?.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Nf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(KT(this.dataSource)&&QR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class WR{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Kf(t)}createContext(t,n,a,l=!1){return new yg({dataSource:t,methodName:n,targetDoc:a,path:si.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wf(r){const t=r._freezeSettings(),n=Kf(r._databaseId);return new WR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function YT(r,t,n,a,l,h={}){const p=r.createContext(h.merge||h.mergeFields?2:0,t,n,l);wg("Data must be an object, but it was:",p,a);const b=QT(a,p);let v,x;if(h.merge)v=new gs(p.fieldMask),x=p.fieldTransforms;else if(h.mergeFields){const I=[];for(const N of h.mergeFields){const k=cu(t,N,n);if(!p.contains(k))throw new St(ut.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);JT(I,k)||I.push(k)}v=new gs(I),x=p.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,x=p.fieldTransforms;return new XR(new ts(b),v,x)}class Jf extends zc{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jf}}class vg extends zc{_toFieldTransform(t){return new iT(t.path,new xc)}isEqual(t){return t instanceof vg}}class bg extends zc{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new Ac(t.serializer,Jw(t.serializer,this.Vc));return new iT(t.path,n)}isEqual(t){return t instanceof bg&&this.Vc===t.Vc}}function JR(r,t,n,a){const l=r.createContext(1,t,n);wg("Data must be an object, but it was:",l,a);const h=[],p=ts.empty();po(a,((v,x)=>{const I=WT(t,v,n);x=Ln(x);const N=l.childContextForFieldPath(I);if(x instanceof Jf)h.push(I);else{const k=jc(x,N);k!=null&&(h.push(I),p.set(I,k))}}));const b=new gs(h);return new ZT(p,b,l.fieldTransforms)}function $R(r,t,n,a,l,h){const p=r.createContext(1,t,n),b=[cu(t,a,n)],v=[l];if(h.length%2!=0)throw new St(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<h.length;k+=2)b.push(cu(t,h[k])),v.push(h[k+1]);const x=[],I=ts.empty();for(let k=b.length-1;k>=0;--k)if(!JT(x,b[k])){const et=b[k];let at=v[k];at=Ln(at);const ct=p.childContextForFieldPath(et);if(at instanceof Jf)x.push(et);else{const pt=jc(at,ct);pt!=null&&(x.push(et),I.set(et,pt))}}const N=new gs(x);return new ZT(I,N,p.fieldTransforms)}function tN(r,t,n,a=!1){return jc(n,r.createContext(a?4:3,t))}function jc(r,t){if(XT(r=Ln(r)))return wg("Unsupported field value:",t,r),QT(r,t);if(r instanceof zc)return(function(a,l){if(!KT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let p=0;for(const b of a){let v=jc(b,l.childContextForArray(p));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),p++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=Ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Jw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=on.fromDate(a);return{timestampValue:Af(l.serializer,h)}}if(a instanceof on){const h=new on(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Af(l.serializer,h)}}if(a instanceof Or)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Os)return{bytesValue:cT(l.serializer,a._byteString)};if(a instanceof vn){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.createError(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ng(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof or)return(function(p,b){const v=p instanceof or?p.toArray():p;return{mapValue:{fields:{[Dw]:{stringValue:Vw},[Tf]:{arrayValue:{values:v.map((I=>{if(typeof I!="number")throw b.createError("VectorValues must only contain numeric values.");return $p(b.serializer,I)}))}}}}}})(a,l);if(_T(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${zf(a)}`)})(r,t)}function QT(r,t){const n={};return Nw(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):po(r,((a,l)=>{const h=jc(l,t.childContextForField(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function XT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof on||r instanceof Or||r instanceof Os||r instanceof vn||r instanceof zc||r instanceof or||_T(r))}function wg(r,t,n){if(!XT(n)||!Iw(n)){const a=zf(n);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function cu(r,t,n){if((t=Ln(t))instanceof _g)return t._internalPath;if(typeof t=="string")return WT(r,t);throw Nf("Field path arguments must be of type string or ",r,!1,void 0,n)}const eN=new RegExp("[~\\*/\\[\\]]");function WT(r,t,n){if(t.search(eN)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new _g(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nf(r,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${t}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let v="";return(h||p)&&(v+=" (found",h&&(v+=` in field ${a}`),p&&(v+=` in document ${l}`),v+=")"),new St(ut.INVALID_ARGUMENT,b+r+v)}function JT(r,t){return r.some((n=>n.isEqual(t)))}class nN{convertValue(t,n="none"){switch(ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(co(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return po(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[Tf].arrayValue?.values?.map((a=>yn(a.doubleValue)));return new or(n)}convertGeoPoint(t){return new Or(yn(t.latitude),yn(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Bf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(bc(t));default:return null}}convertTimestamp(t){const n=uo(t);return new on(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=$e.fromString(t);Me(gT(a),9688,{name:t});const l=new wc(a.get(1),a.get(3)),h=new Vt(a.popFirst(5));return l.isEqual(n)||pa(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}class $T extends nN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Os(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function sc(){return new vg("serverTimestamp")}function Zl(r){return new bg("increment",r)}const lb="@firebase/firestore",ub="4.10.0";class tx{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(cu("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iN extends tx{data(){return super.data()}}function sN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new St(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class ex extends Tg{}function rc(r,t,...n){let a=[];t instanceof Tg&&a.push(t),a=a.concat(n),(function(h){const p=h.filter((v=>v instanceof xg)).length,b=h.filter((v=>v instanceof $f)).length;if(p>1||p>0&&b>0)throw new St(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class $f extends ex{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new $f(t,n,a)}_apply(t){const n=this._parse(t);return nx(t._query,n),new ul(t.firestore,t.converter,wp(t._query,n))}_parse(t){const n=Wf(t.firestore);return(function(h,p,b,v,x,I,N){let k;if(x.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new St(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){hb(N,I);const at=[];for(const ct of N)at.push(cb(v,h,ct));k={arrayValue:{values:at}}}else k=cb(v,h,N)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||hb(N,I),k=tN(b,p,N,I==="in"||I==="not-in");return Nn.create(x,I,k)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Xa(r,t,n){const a=t,l=cu("where",r);return $f._create(l,a,n)}class xg extends Tg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new xg(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let p=l;const b=h.getFlattenedFilters();for(const v of b)nx(p,v),p=wp(p,v)})(t._query,n),new ul(t.firestore,t.converter,wp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends ex{constructor(t,n,a){super(),this.type=t,this._limit=n,this._limitType=a}static _create(t,n,a){return new Eg(t,n,a)}_apply(t){return new ul(t.firestore,t.converter,Sf(t._query,this._limit,this._limitType))}}function rN(r){return Eg._create("limit",r,"F")}function cb(r,t,n){if(typeof(n=Ln(n))=="string"){if(n==="")throw new St(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gw(t)&&n.indexOf("/")!==-1)throw new St(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child($e.fromString(n));if(!Vt.isDocumentKey(a))throw new St(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return S0(r,new Vt(a))}if(n instanceof vn)return S0(r,n._key);throw new St(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function hb(r,t){if(!Array.isArray(r)||r.length===0)throw new St(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nx(r,t){const n=(function(l,h){for(const p of l)for(const b of p.getFlattenedFilters())if(h.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new St(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function ix(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class cc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $o extends tx{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(cu("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:kn("string",$o._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class cf extends $o{data(t={}){return super.data(t)}}class nu{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new cc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new cf(this._firestore,this._userDataWriter,a.key,a,new cc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const v=new cf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new cc(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>h||b.type!==3)).map((b=>{const v=new cf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new cc(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let x=-1,I=-1;return b.type!==0&&(x=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),I=p.indexOf(b.doc.key)),{type:aN(b.type),doc:v,oldIndex:x,newIndex:I}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=nu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:r})}}nu._jsonSchemaVersion="firestore/querySnapshot/1.0",nu._jsonSchema={type:kn("string",nu._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};function np(r){r=Vr(r,vn);const t=Vr(r.firestore,yu),n=gg(t);return BR(n,r._key).then((a=>lN(t,r,a)))}function Jh(r){r=Vr(r,ul);const t=Vr(r.firestore,yu),n=gg(t),a=new $T(t);return sN(r._query),qR(n,r._query).then((l=>new nu(t,a,r,l)))}function $h(r,t,n){r=Vr(r,vn);const a=Vr(r.firestore,yu),l=ix(r.converter,t,n),h=Wf(a);return Sg(a,[YT(h,"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,ar.none())])}function oN(r,t,n,...a){r=Vr(r,vn);const l=Vr(r.firestore,yu),h=Wf(l);let p;return p=typeof(t=Ln(t))=="string"||t instanceof _g?$R(h,"updateDoc",r._key,t,n,a):JR(h,"updateDoc",r._key,t),Sg(l,[p.toMutation(r._key,ar.exists(!0))])}function fb(r,t){const n=Vr(r.firestore,yu),a=la(r),l=ix(r.converter,t),h=Wf(r.firestore);return Sg(n,[YT(h,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ar.exists(!1))]).then((()=>a))}function Sg(r,t){const n=gg(r);return HR(n,t)}function lN(r,t,n){const a=n.docs.get(t._key),l=new $T(r);return new $o(r,l,t._key,a,new cc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){G2(fu),Pr(new lr("firestore",((a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),b=new yu(new Y2(a.getProvider("auth-internal")),new W2(p,a.getProvider("app-check-internal")),mC(p,l),p);return h={useFetchStreams:n,...h},b._setSettings(h),b}),"PUBLIC").setMultipleInstances(!0)),Ps(lb,ub,t),Ps(lb,ub,"esm2020")})();const sx="@firebase/installations",Ag="0.6.19";const rx=1e4,ax=`w:${Ag}`,ox="FIS_v2",uN="https://firebaseinstallations.googleapis.com/v1",cN=3600*1e3,hN="installations",fN="Installations";const dN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},il=new rl(hN,fN,dN);function lx(r){return r instanceof cr&&r.code.includes("request-failed")}function ux({projectId:r}){return`${uN}/projects/${r}/installations`}function cx(r){return{token:r.token,requestStatus:2,expiresIn:pN(r.expiresIn),creationTime:Date.now()}}async function hx(r,t){const a=(await t.json()).error;return il.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function fx({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function mN(r,{refreshToken:t}){const n=fx(r);return n.append("Authorization",gN(t)),n}async function dx(r){const t=await r();return t.status>=500&&t.status<600?r():t}function pN(r){return Number(r.replace("s","000"))}function gN(r){return`${ox} ${r}`}async function _N({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const a=ux(r),l=fx(r),h=t.getImmediate({optional:!0});if(h){const x=await h.getHeartbeatsHeader();x&&l.append("x-firebase-client",x)}const p={fid:n,authVersion:ox,appId:r.appId,sdkVersion:ax},b={method:"POST",headers:l,body:JSON.stringify(p)},v=await dx(()=>fetch(a,b));if(v.ok){const x=await v.json();return{fid:x.fid||n,registrationStatus:2,refreshToken:x.refreshToken,authToken:cx(x.authToken)}}else throw await hx("Create Installation",v)}function mx(r){return new Promise(t=>{setTimeout(t,r)})}function yN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const vN=/^[cdef][\w-]{21}$/,kp="";function bN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=wN(r);return vN.test(n)?n:kp}catch{return kp}}function wN(r){return yN(r).substr(0,22)}function td(r){return`${r.appName}!${r.appId}`}const px=new Map;function gx(r,t){const n=td(r);_x(n,t),TN(n,t)}function _x(r,t){const n=px.get(r);if(n)for(const a of n)a(t)}function TN(r,t){const n=xN();n&&n.postMessage({key:r,fid:t}),EN()}let Jo=null;function xN(){return!Jo&&"BroadcastChannel"in self&&(Jo=new BroadcastChannel("[Firebase] FID Change"),Jo.onmessage=r=>{_x(r.data.key,r.data.fid)}),Jo}function EN(){px.size===0&&Jo&&(Jo.close(),Jo=null)}const SN="firebase-installations-database",AN=1,sl="firebase-installations-store";let ip=null;function Cg(){return ip||(ip=Vb(SN,AN,{upgrade:(r,t)=>{t===0&&r.createObjectStore(sl)}})),ip}async function kf(r,t){const n=td(r),l=(await Cg()).transaction(sl,"readwrite"),h=l.objectStore(sl),p=await h.get(n);return await h.put(t,n),await l.done,(!p||p.fid!==t.fid)&&gx(r,t.fid),t}async function yx(r){const t=td(r),a=(await Cg()).transaction(sl,"readwrite");await a.objectStore(sl).delete(t),await a.done}async function ed(r,t){const n=td(r),l=(await Cg()).transaction(sl,"readwrite"),h=l.objectStore(sl),p=await h.get(n),b=t(p);return b===void 0?await h.delete(n):await h.put(b,n),await l.done,b&&(!p||p.fid!==b.fid)&&gx(r,b.fid),b}async function Ig(r){let t;const n=await ed(r.appConfig,a=>{const l=CN(a),h=IN(r,l);return t=h.registrationPromise,h.installationEntry});return n.fid===kp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function CN(r){const t=r||{fid:bN(),registrationStatus:0};return vx(t)}function IN(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(il.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=RN(r,n);return{installationEntry:n,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:NN(r)}:{installationEntry:t}}async function RN(r,t){try{const n=await _N(r,t);return kf(r.appConfig,n)}catch(n){throw lx(n)&&n.customData.serverCode===409?await yx(r.appConfig):await kf(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function NN(r){let t=await db(r.appConfig);for(;t.registrationStatus===1;)await mx(100),t=await db(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await Ig(r);return a||n}return t}function db(r){return ed(r,t=>{if(!t)throw il.create("installation-not-found");return vx(t)})}function vx(r){return kN(r)?{fid:r.fid,registrationStatus:0}:r}function kN(r){return r.registrationStatus===1&&r.registrationTime+rx<Date.now()}async function LN({appConfig:r,heartbeatServiceProvider:t},n){const a=MN(r,n),l=mN(r,n),h=t.getImmediate({optional:!0});if(h){const x=await h.getHeartbeatsHeader();x&&l.append("x-firebase-client",x)}const p={installation:{sdkVersion:ax,appId:r.appId}},b={method:"POST",headers:l,body:JSON.stringify(p)},v=await dx(()=>fetch(a,b));if(v.ok){const x=await v.json();return cx(x)}else throw await hx("Generate Auth Token",v)}function MN(r,{fid:t}){return`${ux(r)}/${t}/authTokens:generate`}async function Rg(r,t=!1){let n;const a=await ed(r.appConfig,h=>{if(!bx(h))throw il.create("not-registered");const p=h.authToken;if(!t&&DN(p))return h;if(p.requestStatus===1)return n=ON(r,t),h;{if(!navigator.onLine)throw il.create("app-offline");const b=zN(h);return n=PN(r,b),b}});return n?await n:a.authToken}async function ON(r,t){let n=await mb(r.appConfig);for(;n.authToken.requestStatus===1;)await mx(100),n=await mb(r.appConfig);const a=n.authToken;return a.requestStatus===0?Rg(r,t):a}function mb(r){return ed(r,t=>{if(!bx(t))throw il.create("not-registered");const n=t.authToken;return jN(n)?{...t,authToken:{requestStatus:0}}:t})}async function PN(r,t){try{const n=await LN(r,t),a={...t,authToken:n};return await kf(r.appConfig,a),n}catch(n){if(lx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yx(r.appConfig);else{const a={...t,authToken:{requestStatus:0}};await kf(r.appConfig,a)}throw n}}function bx(r){return r!==void 0&&r.registrationStatus===2}function DN(r){return r.requestStatus===2&&!VN(r)}function VN(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+cN}function zN(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function jN(r){return r.requestStatus===1&&r.requestTime+rx<Date.now()}async function UN(r){const t=r,{installationEntry:n,registrationPromise:a}=await Ig(t);return a?a.catch(console.error):Rg(t).catch(console.error),n.fid}async function BN(r,t=!1){const n=r;return await qN(n),(await Rg(n,t)).token}async function qN(r){const{registrationPromise:t}=await Ig(r);t&&await t}function HN(r){if(!r||!r.options)throw sp("App Configuration");if(!r.name)throw sp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw sp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function sp(r){return il.create("missing-app-config-values",{valueName:r})}const wx="installations",FN="installations-internal",GN=r=>{const t=r.getProvider("app").getImmediate(),n=HN(t),a=al(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},ZN=r=>{const t=r.getProvider("app").getImmediate(),n=al(t,wx).getImmediate();return{getId:()=>UN(n),getToken:l=>BN(n,l)}};function KN(){Pr(new lr(wx,GN,"PUBLIC")),Pr(new lr(FN,ZN,"PRIVATE"))}KN();Ps(sx,Ag);Ps(sx,Ag,"esm2020");const Lf="analytics",YN="firebase_id",QN="origin",XN=60*1e3,WN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ng="https://www.googletagmanager.com/gtag/js";const Li=new Of("@firebase/analytics");const JN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_s=new rl("analytics","Analytics",JN);function $N(r){if(!r.startsWith(Ng)){const t=_s.create("invalid-gtag-resource",{gtagURL:r});return Li.warn(t.message),""}return r}function Tx(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function tk(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function ek(r,t){const n=tk("firebase-js-sdk-policy",{createScriptURL:$N}),a=document.createElement("script"),l=`${Ng}?l=${r}&id=${t}`;a.src=n?n?.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function nk(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function ik(r,t,n,a,l,h){const p=a[l];try{if(p)await t[p];else{const v=(await Tx(n)).find(x=>x.measurementId===l);v&&await t[v.appId]}}catch(b){Li.error(b)}r("config",l,h)}async function sk(r,t,n,a,l){try{let h=[];if(l&&l.send_to){let p=l.send_to;Array.isArray(p)||(p=[p]);const b=await Tx(n);for(const v of p){const x=b.find(N=>N.measurementId===v),I=x&&t[x.appId];if(I)h.push(I);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),r("event",a,l||{})}catch(h){Li.error(h)}}function rk(r,t,n,a){async function l(h,...p){try{if(h==="event"){const[b,v]=p;await sk(r,t,n,b,v)}else if(h==="config"){const[b,v]=p;await ik(r,t,n,a,b,v)}else if(h==="consent"){const[b,v]=p;r("consent",b,v)}else if(h==="get"){const[b,v,x]=p;r("get",b,v,x)}else if(h==="set"){const[b]=p;r("set",b)}else r(h,...p)}catch(b){Li.error(b)}}return l}function ak(r,t,n,a,l){let h=function(...p){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(h=window[l]),window[l]=rk(h,r,t,n),{gtagCore:h,wrappedGtag:window[l]}}function ok(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ng)&&n.src.includes(r))return n;return null}const lk=30,uk=1e3;class ck{constructor(t={},n=uk){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const xx=new ck;function hk(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function fk(r){const{appId:t,apiKey:n}=r,a={method:"GET",headers:hk(n)},l=WN.replace("{app-id}",t),h=await fetch(l,a);if(h.status!==200&&h.status!==304){let p="";try{const b=await h.json();b.error?.message&&(p=b.error.message)}catch{}throw _s.create("config-fetch-failed",{httpStatus:h.status,responseMessage:p})}return h.json()}async function dk(r,t=xx,n){const{appId:a,apiKey:l,measurementId:h}=r.options;if(!a)throw _s.create("no-app-id");if(!l){if(h)return{measurementId:h,appId:a};throw _s.create("no-api-key")}const p=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},b=new gk;return setTimeout(async()=>{b.abort()},XN),Ex({appId:a,apiKey:l,measurementId:h},p,b,t)}async function Ex(r,{throttleEndTimeMillis:t,backoffCount:n},a,l=xx){const{appId:h,measurementId:p}=r;try{await mk(a,t)}catch(b){if(p)return Li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:h,measurementId:p};throw b}try{const b=await fk(r);return l.deleteThrottleMetadata(h),b}catch(b){const v=b;if(!pk(v)){if(l.deleteThrottleMetadata(h),p)return Li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:p};throw b}const x=Number(v?.customData?.httpStatus)===503?Bv(n,l.intervalMillis,lk):Bv(n,l.intervalMillis),I={throttleEndTimeMillis:Date.now()+x,backoffCount:n+1};return l.setThrottleMetadata(h,I),Li.debug(`Calling attemptFetch again in ${x} millis`),Ex(r,I,a,l)}}function mk(r,t){return new Promise((n,a)=>{const l=Math.max(t-Date.now(),0),h=setTimeout(n,l);r.addEventListener(()=>{clearTimeout(h),a(_s.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function pk(r){if(!(r instanceof cr)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class gk{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function _k(r,t,n,a,l){if(l&&l.global){r("event",n,a);return}else{const h=await t,p={...a,send_to:h};r("event",n,p)}}async function yk(r,t,n,a){if(a&&a.global){const l={};for(const h of Object.keys(n))l[`user_properties.${h}`]=n[h];return r("set",l),Promise.resolve()}else{const l=await t;r("config",l,{update:!0,user_properties:n})}}async function vk(){if(Mb())try{await Ob()}catch(r){return Li.warn(_s.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Li.warn(_s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bk(r,t,n,a,l,h,p){const b=dk(r);b.then(k=>{n[k.measurementId]=k.appId,r.options.measurementId&&k.measurementId!==r.options.measurementId&&Li.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>Li.error(k)),t.push(b);const v=vk().then(k=>{if(k)return a.getId()}),[x,I]=await Promise.all([b,v]);ok(h)||ek(h,x.measurementId),l("js",new Date);const N=p?.config??{};return N[QN]="firebase",N.update=!0,I!=null&&(N[YN]=I),l("config",x.measurementId,N),x.measurementId}class wk{constructor(t){this.app=t}_delete(){return delete iu[this.app.options.appId],Promise.resolve()}}let iu={},pb=[];const gb={};let rp="dataLayer",Tk="gtag",_b,kg,yb=!1;function xk(){const r=[];if(Lb()&&r.push("This is a browser extension environment."),x1()||r.push("Cookies are not available."),r.length>0){const t=r.map((a,l)=>`(${l+1}) ${a}`).join(" "),n=_s.create("invalid-analytics-context",{errorInfo:t});Li.warn(n.message)}}function Ek(r,t,n){xk();const a=r.options.appId;if(!a)throw _s.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _s.create("no-api-key");if(iu[a]!=null)throw _s.create("already-exists",{id:a});if(!yb){nk(rp);const{wrappedGtag:h,gtagCore:p}=ak(iu,pb,gb,rp,Tk);kg=h,_b=p,yb=!0}return iu[a]=bk(r,pb,gb,t,_b,rp,n),new wk(r)}function Sk(r=Pp()){r=Ln(r);const t=al(r,Lf);return t.isInitialized()?t.getImmediate():Ak(r)}function Ak(r,t={}){const n=al(r,Lf);if(n.isInitialized()){const l=n.getImmediate();if(ao(t,n.getOptions()))return l;throw _s.create("already-initialized")}return n.initialize({options:t})}function Ck(r,t,n){r=Ln(r),yk(kg,iu[r.app.options.appId],t,n).catch(a=>Li.error(a))}function hf(r,t,n,a){r=Ln(r),_k(kg,iu[r.app.options.appId],t,n,a).catch(l=>Li.error(l))}const vb="@firebase/analytics",bb="0.10.19";function Ik(){Pr(new lr(Lf,(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return Ek(a,l,n)},"PUBLIC")),Pr(new lr("analytics-internal",r,"PRIVATE")),Ps(vb,bb),Ps(vb,bb,"esm2020");function r(t){try{const n=t.getProvider(Lf).getImmediate();return{logEvent:(a,l,h)=>hf(n,a,l,h),setUserProperties:(a,l)=>Ck(n,a,l)}}catch(n){throw _s.create("interop-component-reg-failed",{reason:n})}}}Ik();const Rk={apiKey:"AIzaSyDG8l4zCw8qFP_YcPzCJZ1pX7v94SW1TOM",authDomain:"wildguess-810cb.firebaseapp.com",projectId:"wildguess-810cb",storageBucket:"wildguess-810cb.firebasestorage.app",messagingSenderId:"534801192362",appId:"1:534801192362:web:90d4053ad89a2dbe0307d3",measurementId:"G-7RKBPRH5JQ"},Lg=zb(Rk);yw(Lg);const Ji=KR(Lg),ap=Sk(Lg),wb={win1:{url:"https://assets.mixkit.co/active_storage/sfx/103/103-preview.mp3",volume:.4},win2:{url:"https://assets.mixkit.co/active_storage/sfx/2066/2066-preview.mp3",volume:.4},win3:{url:"https://assets.mixkit.co/active_storage/sfx/2063/2063-preview.mp3",volume:.4},unlock:{url:"https://assets.mixkit.co/active_storage/sfx/1104/1104-preview.mp3",volume:.4},incorrect:{url:"https://assets.mixkit.co/active_storage/sfx/6/6-preview.mp3",volume:1},error:[{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.025},{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.05},{url:"https://assets.mixkit.co/active_storage/sfx/216/216-preview.mp3",volume:.075}],click:{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.5},countdown:{url:"https://assets.mixkit.co/active_storage/sfx/112/112-preview.mp3",volume:.075},start:{url:"https://assets.mixkit.co/active_storage/sfx/75/75-preview.mp3",volume:.4},hover:[{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.4},{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.3},{url:"https://assets.mixkit.co/active_storage/sfx/2073/2073-preview.mp3",volume:.2}]};class Nk{constructor(){this.sounds={},this.indices={},this.muted=!1,Object.keys(wb).forEach(t=>{const n=wb[t],a=l=>{const h=new Audio(l.url);return h.volume=l.volume,h.preservesPitch!==void 0&&(h.preservesPitch=!1),h.mozPreservesPitch!==void 0&&(h.mozPreservesPitch=!1),h.webkitPreservesPitch!==void 0&&(h.webkitPreservesPitch=!1),h};Array.isArray(n)?(this.sounds[t]=n.map(l=>a(l)),this.indices[t]=0):this.sounds[t]=a(n)})}play(t,n=0){if(!this.sounds[t]){console.error(` Sound not found: ${t}`);return}if(!this.muted)try{let a;if(Array.isArray(this.sounds[t])){const l=this.indices[t]%this.sounds[t].length;a=this.sounds[t][l],this.indices[t]++}else a=this.sounds[t];if(a.currentTime=0,n>0){const l=1+(Math.random()*n*2-n);a.playbackRate=l}else a.playbackRate=1;a.play().catch(l=>{l.name!=="NotAllowedError"&&console.warn(` Audio Error '${t}':`,l)})}catch(a){console.error("Sound Error:",a)}}playWin(){if(this.muted)return;const t=Math.floor(Math.random()*3)+1;this.play(`win${t}`)}toggleMute(){return this.muted=!this.muted,this.muted}}const Pt=new Nk,Tb=[{id:"backup_1",name:"Lion",correctName:"Lion",sciName:"Panthera leo",family:"Felidae",image:"https://upload.wikimedia.org/wikipedia/commons/7/73/Lion_waiting_in_Namibia.jpg",lat:-2.333,lng:34.833,location:"Serengeti National Park, Tanzania",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Lion",stats:{trait:"Known as the 'King of Beasts', they live in prides.",date:"2024",year:2024}},{id:"backup_2",name:"Emperor Penguin",correctName:"Emperor Penguin",sciName:"Aptenodytes forsteri",family:"Spheniscidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/07/Emperor_Penguin_Manchot_empereur.jpg",lat:-77,lng:166,location:"Ross Sea, Antarctica",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Emperor_penguin",stats:{trait:"The tallest and heaviest of all living penguin species.",date:"2024",year:2024}},{id:"backup_3",name:"Monarch Butterfly",correctName:"Monarch Butterfly",sciName:"Danaus plexippus",family:"Nymphalidae",image:"https://upload.wikimedia.org/wikipedia/commons/6/63/Monarch_In_May.jpg",lat:19.6,lng:-100.2,location:"Michoacn, Mexico",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Monarch_butterfly",stats:{trait:"Known for its long-distance annual migration.",date:"2024",year:2024}},{id:"backup_4",name:"Koala",correctName:"Koala",sciName:"Phascolarctos cinereus",family:"Phascolarctidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/49/Koala_climbing_tree.jpg",lat:-27.4,lng:153,location:"Queensland, Australia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Koala",stats:{trait:"Sleeps up to 20 hours a day and eats eucalyptus.",date:"2024",year:2024}},{id:"backup_5",name:"Great White Shark",correctName:"Great White Shark",sciName:"Carcharodon carcharias",family:"Lamnidae",image:"https://upload.wikimedia.org/wikipedia/commons/5/56/White_shark.jpg",lat:-34.5,lng:19.3,location:"Gansbaai, South Africa",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Great_white_shark",stats:{trait:"The world's largest known predatory fish.",date:"2024",year:2024}},{id:"backup_6",name:"Bald Eagle",correctName:"Bald Eagle",sciName:"Haliaeetus leucocephalus",family:"Accipitridae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1a/About_to_Launch_%2826075320352%29.jpg",lat:57,lng:-135,location:"Sitka, Alaska, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Bald_eagle",stats:{trait:"The national bird of the United States.",date:"2024",year:2024}},{id:"backup_7",name:"Red-Eyed Tree Frog",correctName:"Red-Eyed Tree Frog",sciName:"Agalychnis callidryas",family:"Phyllomedusidae",image:"https://upload.wikimedia.org/wikipedia/commons/e/e3/Red-eyed_Tree_Frog_%28Agalychnis_callidryas%29_1.jpg",lat:10,lng:-84,location:"Monteverde, Costa Rica",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Agalychnis_callidryas",stats:{trait:"Has bright red eyes and neon green skin.",date:"2024",year:2024}},{id:"backup_8",name:"Komodo Dragon",correctName:"Komodo Dragon",sciName:"Varanus komodoensis",family:"Varanidae",image:"https://upload.wikimedia.org/wikipedia/commons/1/18/Komodo_Dragon_en_face.jpg",lat:-8.5,lng:119.5,location:"Komodo Island, Indonesia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Komodo_dragon",stats:{trait:"The largest living species of lizard.",date:"2024",year:2024}},{id:"backup_9",name:"Giant Panda",correctName:"Giant Panda",sciName:"Ailuropoda melanoleuca",family:"Ursidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/0f/Grosser_Panda.JPG",lat:30,lng:103,location:"Sichuan, China",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Giant_panda",stats:{trait:"99% of its diet consists of bamboo.",date:"2024",year:2024}},{id:"backup_10",name:"Blue Whale",correctName:"Blue Whale",sciName:"Balaenoptera musculus",family:"Balaenopteridae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1c/Anim1754_-_Flickr_-_NOAA_Photo_Library.jpg",lat:33,lng:-118,location:"Pacific Ocean, California",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Blue_whale",stats:{trait:"The largest animal known to have ever lived.",date:"2024",year:2024}},{id:"backup_11",name:"Honey Bee",correctName:"Honey Bee",sciName:"Apis mellifera",family:"Apidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/4d/Apis_mellifera_Western_honey_bee.jpg",lat:45,lng:2,location:"Provence, France",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Western_honey_bee",stats:{trait:"Produces honey and pollinates flowers.",date:"2024",year:2024}},{id:"backup_12",name:"Meerkat",correctName:"Meerkat",sciName:"Suricata suricatta",family:"Herpestidae",image:"https://upload.wikimedia.org/wikipedia/commons/f/f6/Suricata_suricatta_Mongoose.jpg",lat:-25,lng:20,location:"Kalahari Desert, Botswana",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Meerkat",stats:{trait:"Known for standing upright to watch for predators.",date:"2024",year:2024}},{id:"backup_13",name:"Galapagos Tortoise",correctName:"Galapagos Tortoise",sciName:"Chelonoidis niger",family:"Testudinidae",image:"https://upload.wikimedia.org/wikipedia/commons/4/42/Galapagos_giant_tortoise_Geochelone_elephantopus.jpg",lat:-.5,lng:-90.5,location:"Galpagos Islands, Ecuador",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Galpagos_tortoise",stats:{trait:"Can live for over 100 years.",date:"2024",year:2024}},{id:"backup_14",name:"Snow Leopard",correctName:"Snow Leopard",sciName:"Panthera uncia",family:"Felidae",image:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Irbis4.JPG",lat:35,lng:76,location:"Himalayas, Pakistan",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Snow_leopard",stats:{trait:"Known as the 'Ghost of the Mountains'.",date:"2024",year:2024}},{id:"backup_15",name:"Capybara",correctName:"Capybara",sciName:"Hydrochoerus hydrochaeris",family:"Caviidae",image:"https://upload.wikimedia.org/wikipedia/commons/e/ec/Capybara_%28Hydrochoerus_hydrochaeris%29.JPG",lat:-15,lng:-56,location:"Pantanal, Brazil",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Capybara",stats:{trait:"The largest living rodent in the world.",date:"2024",year:2024}},{id:"backup_16",name:"Platypus",correctName:"Platypus",sciName:"Ornithorhynchus anatinus",family:"Ornithorhynchidae",image:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Platypus-sketch.jpg",lat:-42,lng:146,location:"Tasmania, Australia",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Platypus",stats:{trait:"One of the few mammals that lay eggs.",date:"2024",year:2024}},{id:"backup_17",name:"Green Sea Turtle",correctName:"Green Sea Turtle",sciName:"Chelonia mydas",family:"Cheloniidae",image:"https://upload.wikimedia.org/wikipedia/commons/1/1d/Green_Sea_Turtle_swimming.jpg",lat:21,lng:-157,location:"Hawaii, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Green_sea_turtle",stats:{trait:"Named for the color of its fat, not its shell.",date:"2024",year:2024}},{id:"backup_18",name:"Peregrine Falcon",correctName:"Peregrine Falcon",sciName:"Falco peregrinus",family:"Falconidae",image:"https://upload.wikimedia.org/wikipedia/commons/0/07/Peregrine_Falcon_USFWS.jpg",lat:40.7,lng:-74,location:"New York City, USA",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Peregrine_falcon",stats:{trait:"The fastest member of the animal kingdom.",date:"2024",year:2024}},{id:"backup_19",name:"African Elephant",correctName:"Elephant",sciName:"Loxodonta africana",family:"Elephantidae",image:"https://upload.wikimedia.org/wikipedia/commons/b/bf/African_Elephant_%28Loxodonta_africana%29_male_%2817289351322%29.jpg",lat:-19,lng:23,location:"Okavango Delta, Botswana",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/African_elephant",stats:{trait:"The largest land animal on Earth.",date:"2024",year:2024}},{id:"backup_20",name:"Ring-Tailed Lemur",correctName:"Lemur",sciName:"Lemur catta",family:"Lemuridae",image:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Ring-tailed_lemur_%28Lemur_catta%29.jpg",lat:-22,lng:45,location:"Madagascar",recordedBy:"Offline_Backup",link:"https://en.wikipedia.org/wiki/Ring-tailed_lemur",stats:{trait:"Endemic to the island of Madagascar.",date:"2024",year:2024}}],kk=({lat:r,lng:t,zoom:n})=>{const a=vt.useRef(null),l=vt.useRef(null),h=vt.useRef(null),p=vt.useRef(null);return vt.useEffect(()=>{if(a.current&&!l.current){l.current=Gh.map(a.current,{zoomControl:!1,attributionControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([r,t],n),Gh.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap &copy; CARTO",maxZoom:19}).addTo(l.current);const b=Gh.divIcon({className:"custom-pin",html:"<div></div>",iconSize:[20,20],iconAnchor:[10,10]});h.current=Gh.marker([r,t],{icon:b}).addTo(l.current),p.current=new ResizeObserver(()=>{l.current&&l.current.invalidateSize()}),p.current.observe(a.current)}return()=>{p.current&&p.current.disconnect(),l.current&&(l.current.remove(),l.current=null)}},[]),vt.useEffect(()=>{l.current&&h.current&&(l.current.flyTo([r,t],n,{animate:!0,duration:2}),h.current.setLatLng([r,t]))},[r,t,n]),S.jsx("div",{ref:a,className:"w-full h-full"})},Lk=()=>{const r=new Date,t=r.toISOString().split("T")[0],n=new Date(r.getFullYear(),0,1),a=Math.floor((r-n)/864e5),l=Math.ceil((a+n.getDay()+1)/7),h=`${r.getFullYear()}-W${l}`;return{dayKey:t,weekKey:h}},Mk=r=>{if(r.annotations&&r.annotations.length>0)for(const l of r.annotations){const h=Number(l.controlled_attribute_id),p=Number(l.controlled_value_id);if(h===17&&p===19||h===22&&p!==24||[19,23,25,26,27,28,29,30,31,32,35].includes(p))return!0}const t=(r.dynamicProperties||"").toLowerCase().replace(/\s/g,"");if(t.includes('"evidenceofpresence":"track"')||t.includes('"evidenceofpresence":"scat"')||t.includes('"vitality":"dead"'))return!0;const n=["track","print","footprint","paw","scat","feces","dropping","poop","dung","burrow","nest","den","moult","shed","dead","roadkill","carcass","remains","bone","skull","skeleton","corpse","specimen","taxidermy","construction","web"],a=[r.description,r.occurrenceRemarks,r.fieldNotes,r.media?.[0]?.description,r.media?.[0]?.title,(r.tags||[]).join(" ")].filter(Boolean).join(" ").toLowerCase();return n.some(l=>a.includes(l))},Ok=({onComplete:r,stickers:t,isReady:n})=>{const[a,l]=vt.useState(3),[h,p]=vt.useState(""),[b,v]=vt.useState(0),x=["","","","","","","","","","","","","",""],I=["Acquiring Target Data...","Triangulating Coordinates...","Sourcing High-Res Photos...","Generating Cryptic Clues...","Consulting Local Biologists...","Reversing Global Warming...","Calibrating Satellites..."];return vt.useEffect(()=>{Pt.play("countdown")},[]),vt.useEffect(()=>{if(a>0){const N=setTimeout(()=>l(k=>k-1),1e3);return()=>clearTimeout(N)}},[a]),vt.useEffect(()=>{if(a===0&&!n){const N=setInterval(()=>{v(k=>(k+1)%I.length)},1800);return()=>clearInterval(N)}},[a,n]),vt.useEffect(()=>{if(a===0&&n){const N=setTimeout(r,500);return()=>clearTimeout(N)}},[a,n,r]),vt.useEffect(()=>{const N=setInterval(()=>{p(x[Math.floor(Math.random()*x.length)])},150);return()=>clearInterval(N)},[]),S.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-gradient-to-b from-green-900 to-green-700 overflow-hidden relative text-white",children:[S.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-50",children:t&&t.map(N=>S.jsx("div",{className:"absolute emoji-sticker transition-transform duration-1000 ease-in-out",style:{top:`${N.top}%`,left:`${N.left}%`,fontSize:`${N.size}rem`,transform:`rotate(${N.rotation}deg)`,opacity:N.opacity},children:N.emoji},N.id))}),S.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[S.jsx("h2",{className:"text-4xl font-black mb-8 animate-pulse text-emerald-100 drop-shadow-md tracking-wider uppercase",children:"GET READY"}),S.jsx("div",{className:"text-9xl mb-8 font-mono font-bold drop-shadow-2xl text-white",children:a>0?a:n?"GO!":S.jsx("span",{className:"text-6xl animate-pulse",children:""})}),a===0&&!n&&S.jsx("div",{className:"text-emerald-200 font-mono font-bold uppercase tracking-widest animate-pulse mb-4 text-center px-4 h-8 transition-all duration-300",children:I[b]}),S.jsx("div",{className:"text-7xl swap-anim filter drop-shadow-xl",children:h})]})]})},Pk=({pendingAnimals:r,onConfirmOne:t,onConfirmAll:n,allAnimalsFlat:a})=>{const[l,h]=vt.useState(!1),p=r[0],b=a.find(N=>N.name===p)||{},v=b.emoji||b.groupEmoji||"",x=()=>{l||(Pt.playWin(),h(!0),setTimeout(()=>{h(!1),t(p)},1500))},I=()=>{Pt.play("unlock"),n()};return S.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-8 text-center shadow-2xl animate-pop border-4 border-emerald-400 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle,rgba(52,211,153,0.2)_0%,rgba(255,255,255,0)_70%)] animate-pulse"}),S.jsx("h2",{className:"text-2xl font-black text-emerald-800 uppercase tracking-widest mb-2 relative z-10",children:"New Discovery!"}),S.jsxs("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wide mb-8 relative z-10",children:[r.length," New Entry",r.length>1?"s":""," Found"]}),S.jsxs("div",{className:"relative mx-auto w-48 h-48 mb-8 flex items-center justify-center",children:[S.jsx("div",{className:`transition-all duration-700 transform ${l?"scale-110 rotate-0 filter-none":"scale-100 rotate-12 blur-sm grayscale brightness-0 opacity-80"}`,children:S.jsx("div",{className:"text-9xl",children:v})}),l&&S.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[S.jsx("div",{className:"text-6xl animate-ping absolute top-0 left-0",children:""}),S.jsx("div",{className:"text-6xl animate-ping absolute bottom-4 right-4 delay-100",children:""}),S.jsx("div",{className:"text-6xl animate-ping absolute top-4 right-10 delay-200",children:""})]})]}),S.jsx("h3",{className:`text-xl font-bold mb-8 transition-all duration-500 ${l?"text-slate-800 scale-110":"text-slate-300 scale-90 blur-sm"}`,children:l?p:"????????"}),S.jsxs("div",{className:"space-y-3 relative z-10",children:[S.jsx("button",{onClick:x,disabled:l,className:`w-full py-4 rounded-xl font-black text-white uppercase tracking-widest shadow-lg transform transition-all ${l?"bg-emerald-400 scale-105":"bg-emerald-600 hover:bg-emerald-500 hover:scale-105"}`,children:l?"ADDED!":"ADD TO JOURNAL"}),r.length>1&&S.jsxs("button",{onClick:I,className:"w-full py-2 text-slate-400 text-xs font-bold uppercase hover:text-emerald-600 transition-colors",children:["Add All (",r.length,")"]})]})]})})},xb={Any:null,Africa:97392,Asia:97395,Europe:97391,NorthAmerica:97394,"South America":97389,Oceania:97393},Dk=[{label:" All Regions",value:"Any"},{label:" Africa",value:"Africa"},{label:" Asia",value:"Asia"},{label:" Europe",value:"Europe"},{label:" North America",value:"NorthAmerica"},{label:" South America",value:"SouthAmerica"},{label:" Oceania (Australia/NZ)",value:"Oceania"}],Vk=()=>{const[r,t]=vt.useState("menu"),[n,a]=vt.useState(!1),[l,h]=vt.useState(!1),[p,b]=vt.useState(!1),[v,x]=vt.useState(null),[I,N]=vt.useState(null),[k,et]=vt.useState(0),[at,ct]=vt.useState(0),[pt,Lt]=vt.useState(15),[jt,kt]=vt.useState(5),[Jt,Ne]=vt.useState(!1),[se,D]=vt.useState([]),[M,V]=vt.useState(null),[H,U]=vt.useState(null),[F,P]=vt.useState(0),[ee,tn]=vt.useState(""),[K,_t]=vt.useState(null),[ft,ne]=vt.useState(""),xt=yw(),j=new ua,[nt,dt]=vt.useState(!1),[mt,Tt]=vt.useState(!0),[bt,qt]=vt.useState(!1),[Oe,je]=vt.useState(!1),[ai,es]=vt.useState([]),[zn,ns]=vt.useState("weekly"),[jn,Ds]=vt.useState("explorer"),[Vs,zs]=vt.useState([]),[ys,en]=vt.useState(!1),[He,Qn]=vt.useState([]),wi=vt.useRef(!1),Mi=vt.useRef(!1),pn=vt.useRef(0),[js,vs]=vt.useState(!1),[Oi,is]=vt.useState(!1),[_o,hr]=vt.useState(!1),[nn,_a]=vt.useState("Any"),[Xn,hn]=vt.useState(!1),[oi,Ye]=vt.useState(0),[Us,Bs]=vt.useState(0),[ge,Un]=vt.useState(!1),[Qt,we]=vt.useState(0),[Pi,Ti]=vt.useState(!1),{animals:xi,loading:fr,loadedRegion:jr}=i1("Any"),[Di,Ei]=vt.useState(!1),[yo,bs]=vt.useState(!1),bn=xi||[];vt.useEffect(()=>{N(null),pn.current+=1},[nn]);const Si=vt.useMemo(()=>{if(nn==="Any")return bn;const B=nn.replace(/\s+/g,"").toLowerCase(),st=bn.filter(gt=>(gt.region||gt.Region||"").replace(/\s+/g,"").toLowerCase()===B);return st.length>0?st:bn},[bn,nn]),wn=vt.useMemo(()=>{if(!Si.length)return[];const B={};return Si.forEach(gt=>{const Ct=gt.category||" Uncategorized";if(!B[Ct]){const Xt=Ct.indexOf(" ");let ae="",Le=Ct;Xt!==-1&&(ae=Ct.substring(0,Xt),Le=Ct.substring(Xt+1)),B[Ct]={id:Ct,name:Le,emoji:ae,animals:[]}}B[Ct].animals.push(gt)}),Object.values(B).sort((gt,Ct)=>gt.name.localeCompare(Ct.name))},[Si]);vt.useEffect(()=>{if(nt&&!localStorage.getItem("wildGuess_update_v2_seen")){const st=setTimeout(()=>hr(!0),500);return()=>clearTimeout(st)}},[nt]);const At=()=>{Pt.play("click"),localStorage.setItem("wildGuess_update_v2_seen","true"),hr(!1)},Ur=B=>{if(!B)return[];const gt=Si.filter(ae=>ae.name!==B.correctName).sort(()=>.5-Math.random()).slice(0,4),Ct=bn.find(ae=>ae.name===B.correctName);return[...gt,Ct].sort(()=>.5-Math.random())};vt.useEffect(()=>{r==="menu"&&!localStorage.getItem("wildGuess_timer_promo_seen")&&!l&&JSON.parse(localStorage.getItem("wildGuess_played")||"[]").length>=10&&Ei(!0)},[r,l]);const li=()=>{Pt.play("click"),h(!0),localStorage.setItem("wildGuess_timer_promo_seen","true"),Ei(!1)},Wn=()=>{Pt.play("click"),localStorage.setItem("wildGuess_timer_promo_seen","true"),Ei(!1)};vt.useEffect(()=>{wi.current=!1},[k]);const[Qe,Xe]=vt.useState(!1),[ui,ci]=vt.useState(new Set),[ws,Br]=vt.useState("All"),qs=async()=>{if(!K)return;Br(nn==="Any"?"All":nn);const B=JSON.parse(localStorage.getItem("journal_queue")||"[]");if(B.length>0){Qn(B),Xe(!0);return}Pt.play("unlock",.3),Xe(!0);try{const st=Gl(Ji,"games"),gt=rc(st,Xa("userId","==",K.uid),Xa("result","==","win")),Ct=await Jh(gt),Xt=new Set;Ct.forEach(ae=>{const Le=ae.data();Le.animalName&&Xt.add(Le.animalName)}),ci(Xt)}catch(st){console.error("Error fetching journal:",st)}},Vi=B=>{const st=He.filter(gt=>gt!==B);Qn(st),localStorage.setItem("journal_queue",JSON.stringify(st)),st.length===0&&qs()},dr=()=>{Qn([]),localStorage.setItem("journal_queue","[]"),qs()};vt.useEffect(()=>{(async()=>{try{const st=la(Ji,"system","blacklist"),gt=await np(st);gt.exists()&&zs(gt.data().ids||[])}catch(st){console.error("Failed to load blacklist:",st)}})()},[]),vt.useEffect(()=>{K&&(async()=>{try{const st=rc(Gl(Ji,"games"),Xa("userId","==",K.uid),Xa("result","==","win")),gt=await Jh(st),Ct=new Set;gt.forEach(Xt=>{const ae=Xt.data();ae.animalName&&Ct.add(ae.animalName)}),ci(Ct)}catch(st){console.error("Background journal load failed:",st)}})()},[K]),vt.useEffect(()=>{const B=LA(xt,async st=>{if(console.log(" [Auth Listener] State Changed:",st?`Logged In (${st.isAnonymous?"Anon":"Verified"})`:"Logged Out"),console.log(" [Auth Listener] Google Flag is:",Mi.current),st){_t(st),st.isAnonymous||(Mi.current=!1);try{const gt=la(Ji,"users",st.uid),Ct=await np(gt);Ct.exists()?(console.log(" [Auth Listener] Profile found:",Ct.data().username),ne(Ct.data().username),dt(!0)):(console.log(" [Auth Listener] No Profile doc found for this ID."),dt(!1))}catch(gt){console.error("Read Error:",gt)}Tt(!1)}else Mi.current?console.log(" [Auth Listener] Google Login in progress... Pausing Guest creation."):(console.log(" [Auth Listener] No user & No Google in progress. Creating Guest..."),AA(xt).catch(gt=>console.error("Auth Error:",gt)).finally(()=>Tt(!1)))});return()=>B()},[]);const Ai=()=>{const B=Pt.toggleMute();a(B)},Te=vt.useRef(null),Tn=["Connecting to Satellite ","Triangulating Signal ","Tracking Wildlife ","Filtering Bad Data ","Verifying Coordinates ","Consulting Biologists ","Loading Map Tiles ","Enhancing Image "],Mn=[{title:"CLUE 1: SCIENTIFIC NAME",text:" You start with a global map view and the **Scientific Name**.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-32",arrowClasses:"-top-[10px] left-1/2 -translate-x-1/2 border-b-[10px] border-b-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 2: LOCATION & PHOTO",text:" Next, we zoom into the **Location** and reveal a **blurred photo**.",positionClasses:"top-24 left-4 md:top-40 md:left-1/2 md:-translate-x-1/2",arrowClasses:"hidden",buttonText:"Reveal Next Clue"},{title:"CLUE 3: FIRST HINT",text:" Now you get your first **behavioral hint**.",positionClasses:"bottom-32 left-1/2 transform -translate-x-1/2",arrowClasses:"-bottom-[10px] left-1/2 -translate-x-1/2 border-t-[10px] border-t-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"Reveal Next Clue"},{title:"CLUE 4: FINAL HINT",text:" Still stuck? Here is your **final hint** to narrow it down.",positionClasses:"bottom-24 left-1/2 transform -translate-x-1/2",arrowClasses:"-bottom-[10px] left-1/2 -translate-x-1/2 border-t-[10px] border-t-white border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent",buttonText:"I'm Ready to Guess"},{title:"MAKE A GUESS",text:"Start by selecting a **Category** or searching.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"hidden",hideButton:!0},{title:"PICK THE ANIMAL",text:"Choose the **animal** you think it is.",positionClasses:"top-24 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"hidden",hideButton:!0},{title:"WRONG! BUT WAIT...",text:"Still didn't get it? We've narrowed it down to **5 choices** to help you make a final guess.",positionClasses:"top-60 left-1/2 transform -translate-x-1/2 md:top-1/2 md:-translate-y-1/2 md:right-[400px] md:left-auto md:translate-x-0",arrowClasses:"hidden",hideButton:!0},{title:"SUCCESS!",text:"Well done! Click **Play Again**.",positionClasses:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",arrowClasses:"hidden",buttonText:"Play Again"},{title:"GAME OVER",text:"Oh well! Click **Play Again**.",positionClasses:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",arrowClasses:"hidden",buttonText:"Play Again"}],We=()=>{if(Pt.play("click",.2),Qt>=7){Un(!1),localStorage.setItem("wildGuess_tutorial_complete","true"),Ti(!0),setTimeout(()=>Ti(!1),8e3),Kt();return}if(Qt<Mn.length-1){const B=Qt+1;we(B),B===1&&(et(1),ct(1),kt(4)),B===2&&(et(2),ct(2),kt(3)),B===3&&(et(3),ct(3),kt(2)),B===6&&(et(4),ct(4),kt(1))}},mr=vt.useMemo(()=>{const B=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ct=16.666666666666668,Xt=100/5;return B.slice(0,30).map((ae,Le)=>{const De=Le%6,Ee=Math.floor(Le/6);return{id:Le,emoji:ae,left:De*Ct+Math.random()*(Ct*.7),top:Ee*Xt+Math.random()*(Xt*.7),rotation:Math.floor(Math.random()*60)-30,size:3+Math.random()*2,opacity:.1+Math.random()*.1}})},[]);vt.useEffect(()=>{let B;return Xn&&(Ye(0),Bs(0),B=setInterval(()=>{Ye(st=>Math.min(st+5,95)),Bs(st=>(st+1)%Tn.length)},400)),()=>clearInterval(B)},[Xn]),vt.useEffect(()=>{(r==="menu"||r==="summary")&&qr(zn,jn)},[r,zn,jn]);const qr=async(B=zn,st=jn)=>{try{let gt=null;const Ct=new Date;B==="daily"?gt=new Date(Ct.getTime()-1440*60*1e3):B==="weekly"?gt=new Date(Ct.getTime()-10080*60*1e3):B==="monthly"&&(gt=new Date(Ct.getTime()-720*60*60*1e3));const Xt=Gl(Ji,"users");let ae;gt?ae=rc(Xt,Xa("lastPlayed",">=",gt)):ae=rc(Xt);const Le=await Jh(ae);let De=[];Le.forEach(Ee=>{const Rt=Ee.data(),Ge=Rt.totalScore||0,Yt=Rt.gamesPlayed||0;if(Yt>0){const fi=Ge/Yt,Je=Yt<=10,qn=Yt>=11;(st==="hobbyist"&&Je||st==="explorer"&&qn)&&De.push({id:Ee.id,username:Rt.username||"Anonymous Explorer",totalScore:Ge,gamesPlayed:Yt,discoveries:Rt.discoveries||0,averageScore:fi})}}),De.sort((Ee,Rt)=>Rt.averageScore-Ee.averageScore),es(De.slice(0,10))}catch(gt){console.error("Error fetching leaderboard:",gt),es([])}};vt.useEffect(()=>(r==="game"&&!ge&&ke(),()=>{Te.current&&clearInterval(Te.current)}),[k,r,ge]),vt.useEffect(()=>(r==="game"&&!ge&&(l?(pt<=1&&Lt(15),ke(!1,!0)):Te.current&&clearInterval(Te.current)),()=>{Te.current&&clearInterval(Te.current)}),[l]),vt.useEffect(()=>{if(r==="countdown"){if(fr){console.log(" [Countdown] Paused. Waiting for data to finish downloading...");return}D([]),kt(5),Ne(!1),V(null),U(null),P(gt=>gt+1),et(-1),en(!1),ct(0),wi.current=!1;const B=localStorage.getItem("wildGuess_tutorial_complete");Un(!B),B||we(0);const st=setTimeout(async()=>{let gt=null;if(I?(gt=I,N(null)):gt=await Bn(),x(gt),gt&&gt.image)try{await Ts(gt.image)}catch{}en(!0)},100);return()=>clearTimeout(st)}},[r,nn,jr,fr]),vt.useEffect(()=>{if(fr){console.log(" [Preload] Waiting for spreadsheet to process...");return}r==="menu"&&(console.log(` [Preload] Sheet ready for ${nn}. Fetching standby animal...`),N(null),Jn())},[nn,jr,r,fr]);const Bn=async(B=1)=>{if(B>20)return console.warn(" [Fetch] Max attempts reached. Switching to backup."),vs(!0),Tb[Math.floor(Math.random()*Tb.length)];const st=localStorage.getItem("wildGuess_played"),gt=st?JSON.parse(st):[];let Ct=bn;if(nn!=="Any"){const Le=nn.replace(/\s+/g,"").toLowerCase();Ct=bn.filter(De=>De.region?.replace(/\s+/g,"").toLowerCase()===Le)}Ct.length===0&&(console.warn(`Oops! Couldn't find animals for ${nn}, falling back to Any!`),Ct=bn);const Xt=Ct[Math.floor(Math.random()*Ct.length)];let ae=`https://api.inaturalist.org/v1/observations?taxon_id=${Xt.id}&photo_license=cc0,cc-by,cc-by-sa&quality_grade=research&photos=true&per_page=10`;nn!=="Any"&&xb[nn]&&(ae+=`&place_id=${xb[nn]}`);try{const Le=await fetch(ae);if(!Le.ok)throw new Error(`Server Error: ${Le.status}`);const De=await Le.json();if(De.results.length>0){const Ee=De.results.find(Rt=>!Mk(Rt));if(Ee){console.log(" [Debug] Success! Found clean observation:",Ee.id);let Rt=null;try{const Je=await(await fetch(`https://api.inaturalist.org/v1/taxa/${Ee.taxon.id}`)).json();Je.results&&Je.results.length>0&&(Rt=Je.results[0].wikipedia_summary)}catch{console.warn("Could not fetch Wikipedia summary.")}gt.includes(Xt.name)||(gt.push(Xt.name),localStorage.setItem("wildGuess_played",JSON.stringify(gt))),vs(!1);const Ge=new Date(Ee.observed_on||Ee.created_at),Yt=Ge.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return{id:Ee.id,name:Xt.name,correctName:Xt.name,sciName:Xt.displayLatin||Xt.sciName,image:Ee.photos[0].url.replace("square","original").replace("small","original").replace("medium","original").replace("large","original"),lat:parseFloat(Ee.geojson?.coordinates[1]||0),lng:parseFloat(Ee.geojson?.coordinates[0]||0),location:Ee.place_guess||"Unknown Wilderness",recordedBy:Ee.user?.login||"Unknown Observer",link:Ee.uri,wikiSummary:Rt,stats:{clue1:Xt.clue1||"No hint available.",clue2:Xt.clue2||"No further hints available.",date:Yt,year:Ge.getFullYear()}}}else return console.warn(` [Debug] All 10 results for ${Xt.name} were low quality. Trying next animal...`),Bn(B+1)}return console.log(` [Debug] 0 results for ${Xt.name} in ${nn}. Trying next animal...`),Bn(B+1)}catch(Le){return console.error(" [Fetch] Error:",Le),Bn(B+1)}},Jn=async()=>{const B=++pn.current;console.log(" [Preload] Starting background fetch...");try{const st=await Bn();pn.current===B&&N(st)}catch(st){console.warn("Background fetch failed",st)}},zi=async B=>{if(!bt){if(!B.trim()){alert("Please enter a valid name.");return}if(!K){alert("Waiting for connection...");return}qt(!0);try{const st=la(Ji,"users",K.uid);await $h(st,{username:B,createdAt:sc(),lastLogin:sc(),gamesPlayed:0,totalScore:0},{merge:!0}),window.location.reload()}catch(st){alert("Save Failed: "+st.message),qt(!1)}}},Hs=()=>{Te.current&&clearInterval(Te.current),t("menu")},Fs=async()=>{console.log(" [handleLogin] Button Clicked. Setting flag to TRUE."),Mi.current=!0,Tt(!0);try{Pt.play("click"),console.log(" [handleLogin] Calling signInWithPopup...");const B=await $A(xt,j);console.log(" [handleLogin] Success! User:",B.user.uid),_t(B.user);const st=la(Ji,"users",B.user.uid),gt=await np(st);console.log(" [handleLogin] Profile Check. Exists?",gt.exists()),gt.exists()?(ne(gt.data().username),dt(!0)):(console.log(" [handleLogin] No profile found. Staying on setup screen."),dt(!1))}catch(B){console.error(" [handleLogin] FAILED:",B),Pt.play("error"),Mi.current=!1}finally{console.log(" [handleLogin] Finished. Resetting flag/loading."),Tt(!1),Mi.current=!1}},Ts=B=>new Promise((st,gt)=>{const Ct=new Image;Ct.src=B,Ct.onload=()=>st(B),Ct.onerror=()=>gt(B)}),Kt=()=>{Pt.play("start"),hf(ap,"level_start",{level_name:"wild_guess_standard"}),t("countdown")},re=()=>{MA(xt).then(()=>{ne(""),dt(!1),_t(null)}).catch(B=>console.error("Error signing out:",B))},Fe=()=>{t("game"),et(0),ke(),Jn()},ke=(B=!1,st=!1)=>{st||Lt(15),Te.current&&clearInterval(Te.current),!(!l&&!B)&&(!B&&ge||(Te.current=setInterval(()=>{Lt(gt=>gt<=1?(Te.current&&clearInterval(Te.current),wi.current?gt:(wi.current=!0,On(),15)):gt-1)},1e3)))},On=()=>{et(B=>{const st=B+1;return st>4?(xn("loss"),4):(Ne(!1),kt(5-st),ct(st),st)})},Gs=()=>{wi.current||k<4&&(wi.current=!0,Lt(15),On())},Et=()=>{ge?(Un(!1),localStorage.setItem("wildGuess_tutorial_complete","true"),D([]),ke(!0)):(Un(!0),we(0),et(0),ct(0),kt(5),D([]),U(null),Te.current&&clearInterval(Te.current))},xe=B=>{Pt.play("click"),U(B),ge&&Qt===4&&We()},hi=()=>{U(null),ge&&(Qt===5||Qt===6)&&we(4)},ji=async()=>{const B=`I just discovered the ${v.correctName} in Wild Guess! 

Score: ${jt}/5
Location: ${v.location}

Can you beat me? Play here:
https://www.wildguess.co.za`;if(navigator.share)try{await navigator.share({title:"Wild Guess Expedition",text:B}),hf(ap,"share",{method:"native"})}catch{}else try{await navigator.clipboard.writeText(B),alert("Score copied to clipboard!")}catch{}},Pe=()=>{const B=`I just discovered the ${v.correctName} in Wild Guess! 
Score: ${jt}/5
Location: ${v.location}
Play here: https://www.wildguess.co.za`;window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(B)}`,"_blank")},pr=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent("https://www.wildguess.co.za")}`,"_blank")},Zs=()=>{const B=`I found the ${v.correctName} in Wild Guess!  Score: ${jt}/5. Play here: https://www.wildguess.co.za`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(B)}`,"_blank")},Ci=async()=>{if(!(!v||!v.id)&&window.confirm("Report this listing as bad data (dead, blurry, or wrong location)?"))try{const B=localStorage.getItem("wildGuess_reported");let st=B?JSON.parse(B):[];st.includes(v.id)||(st.push(v.id),localStorage.setItem("wildGuess_reported",JSON.stringify(st)));const gt=la(Ji,"system","blacklist");await $h(gt,{ids:arrayUnion(v.id)},{merge:!0}),await fb(Gl(Ji,"reports"),{animalId:v.id,animalName:v.correctName,reason:"User Reported",reportedBy:K?K.uid:"anonymous",timestamp:sc()}),alert("Report received.")}catch{alert("Could not submit report.")}},be=B=>{if(typeof B=="string"){const Ct=bn.find(Xt=>Xt.name===B);if(Ct)B=Ct;else return}const st=B.name,gt=bn.find(Ct=>Ct.name===v.correctName)?.id;if(ge){const Ct=B.id===gt;Qt===5?Ct?(Pt.playWin(),xn("win"),we(7)):(Pt.play("incorrect",.3),D([st]),et(4),kt(1),we(6)):Qt===6&&(Ct?(Pt.playWin(),xn("win"),we(7)):(Pt.play("incorrect",.3),xn("loss"),we(8)));return}Jt||r!=="game"||wi.current||(B.id===gt?(Pt.playWin(),xn("win")):(Pt.play("incorrect",.3),D(Ct=>[...Ct,st]),k===4?xn("loss"):(wi.current=!0,Lt(15),On())))},xn=async B=>{Te.current&&clearInterval(Te.current);let st=B==="win"?jt:0,gt=!1;if(B==="loss"&&Pt.play("error"),V(B),t("summary"),K)try{if(B==="win"){const Yt=rc(Gl(Ji,"games"),Xa("userId","==",K.uid),Xa("animalName","==",v.correctName),Xa("result","==","win"),rN(1));if((await Jh(Yt)).empty){gt=!0;const Je=JSON.parse(localStorage.getItem("journal_queue")||"[]");Je.includes(v.correctName)||(Je.push(v.correctName),localStorage.setItem("journal_queue",JSON.stringify(Je)),Qn(Je))}}hf(ap,"level_end",{level_name:"wild_guess_standard",success:B==="win",score:st});const Ct=fb(Gl(Ji,"games"),{userId:K.uid,animalName:v.correctName,animalSciName:v.sciName,location:v.location,result:B,pointsEarned:st,timestamp:sc()}),{dayKey:Xt,weekKey:ae}=Lk(),Le=la(Ji,"users",K.uid),De=la(Ji,"leaderboards","daily",Xt,K.uid),Ee=la(Ji,"leaderboards","weekly",ae,K.uid),Rt=oN(Le,{totalScore:Zl(st),gamesPlayed:Zl(1),discoveries:Zl(gt?1:0),lastPlayed:sc()}),Ge={username:ft,photoURL:K.photoURL||null,score:Zl(st),gamesPlayed:Zl(1),discoveries:Zl(gt?1:0)};await Promise.all([Ct,Rt,$h(De,Ge,{merge:!0}),$h(Ee,Ge,{merge:!0})])}catch(Ct){console.error("Error saving game:",Ct)}},$n=()=>{const[B,st]=vt.useState(!1);return S.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:S.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-xs shadow-2xl overflow-hidden border-2 border-slate-200",children:[S.jsxs("div",{className:"bg-slate-50 p-4 border-b border-slate-200 flex justify-between items-center",children:[S.jsx("h3",{className:"font-bold text-slate-700 uppercase tracking-wider text-sm",children:"Expedition Settings"}),S.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-700",children:""})]}),S.jsxs("div",{className:"p-4 space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-xl",children:n?"":""}),S.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Sound Effects"})]}),S.jsx("button",{onClick:Ai,className:`w-12 h-6 rounded-full transition-colors relative ${n?"bg-slate-200":"bg-emerald-500"}`,children:S.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n?"left-1":"right-1"}`})})]}),S.jsxs("div",{className:`flex items-center justify-between ${ge?"opacity-50 pointer-events-none":""}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-xl",children:""}),S.jsxs("div",{children:[S.jsx("span",{className:"text-sm font-bold text-slate-700 block",children:"Round Timer"}),S.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:l?"15 Seconds":"Unlimited"})]})]}),S.jsx("button",{onClick:()=>h(!l),className:`w-12 h-6 rounded-full transition-colors relative ${l?"bg-emerald-500":"bg-slate-200"}`,children:S.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${l?"right-1":"left-1"}`})})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-xl",children:""}),S.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Tutorial Mode"})]}),S.jsx("button",{onClick:()=>{Et(),b(!1)},className:`w-12 h-6 rounded-full transition-colors relative ${ge?"bg-emerald-500":"bg-slate-200"}`,children:S.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${ge?"right-1":"left-1"}`})})]})]}),S.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200 transition-all duration-300",children:B?S.jsxs("div",{className:"flex flex-col gap-2 animate-pop",children:[S.jsx("p",{className:"text-center text-[10px] font-bold text-red-500 uppercase tracking-wider mb-1",children:"Abandon current game?"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>st(!1),className:"flex-1 bg-slate-200 text-slate-600 font-bold py-2 rounded-xl hover:bg-slate-300 transition-colors text-xs uppercase tracking-wide",children:"Cancel"}),S.jsx("button",{onClick:()=>{Hs(),b(!1)},className:"flex-1 bg-red-500 text-white font-bold py-2 rounded-xl hover:bg-red-600 transition-colors text-xs uppercase tracking-wide",children:"Yes, Exit"})]})]}):S.jsxs("button",{onClick:()=>st(!0),className:"w-full bg-red-50 text-red-500 border border-red-200 font-bold py-3 rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[S.jsx("span",{children:""})," Exit Expedition"]})})]})})},sn=bn.filter(B=>{if(ws==="All")return!0;const gt=(B.region||B.Region||"").replace(/\s+/g,"").toLowerCase(),Ct=ws.replace(/\s+/g,"").toLowerCase();return gt===Ct}),gr=sn.filter(B=>ui.has(B.name)).length,Ui=Qe&&S.jsx("div",{className:"fixed inset-0 z-[90] bg-slate-900/95 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",children:S.jsxs("div",{className:"bg-amber-50 rounded-2xl w-full max-w-4xl h-[85vh] flex flex-col shadow-2xl overflow-hidden border-4 border-amber-200 relative animate-pop",children:[S.jsx("button",{onClick:()=>{Pt.play("click"),Xe(!1)},className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/10 hover:bg-black/20 rounded-full text-amber-900 font-bold flex items-center justify-center transition-colors text-xl",children:""}),S.jsxs("div",{className:"bg-amber-100 p-6 border-b border-amber-200 text-center flex-shrink-0 relative",children:[S.jsx("h2",{className:"font-freckle text-3xl text-amber-900 uppercase tracking-wide",children:"Field Journal"}),S.jsx("div",{className:"mt-4 flex justify-center",children:S.jsxs("div",{className:"relative inline-block w-48",children:[S.jsxs("select",{value:ws,onChange:B=>{Pt.play("click"),Br(B.target.value)},className:"w-full bg-white text-amber-900 font-bold py-2 px-3 rounded-lg border-2 border-amber-300 shadow-sm appearance-none cursor-pointer focus:outline-none focus:border-amber-500 text-sm uppercase tracking-wider text-center",children:[S.jsx("option",{value:"All",children:" All Regions"}),S.jsx("option",{value:"Africa",children:"Africa"}),S.jsx("option",{value:"Asia",children:"Asia"}),S.jsx("option",{value:"Europe",children:"Europe"}),S.jsx("option",{value:"NorthAmerica",children:"North America"}),S.jsx("option",{value:"SouthAmerica",children:"South America"}),S.jsx("option",{value:"Oceania",children:"Oceania"})]}),S.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-amber-700 text-xs",children:""})]})}),S.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[S.jsx("span",{className:"text-amber-800/60 text-xs font-bold uppercase tracking-widest",children:ws==="All"?"Global Progress:":`${ws} Progress:`}),S.jsxs("span",{className:"bg-amber-300 text-amber-900 px-2 py-0.5 rounded text-xs font-black shadow-sm",children:[gr," / ",sn.length]})]})]}),S.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-4 md:p-8 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]",children:S.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-3 md:gap-4",children:[sn.map((B,st)=>{const gt=ui.has(B.name);return S.jsxs("div",{className:`aspect-square rounded-xl flex flex-col items-center justify-center p-2 transition-all duration-500 border-2 ${gt?"bg-white border-amber-200 shadow-md rotate-0 opacity-100":"bg-slate-100 border-slate-200 shadow-none opacity-60"}`,children:[S.jsx("div",{className:"text-4xl md:text-5xl mb-2 transition-all duration-500",style:gt?{}:{color:"transparent",textShadow:"0 0 0 #94a3b8",filter:"blur(1px)"},children:B.emoji||B.groupEmoji||""}),S.jsx("div",{className:`text-[9px] md:text-[10px] font-bold text-center uppercase tracking-tight leading-tight transition-opacity duration-500 ${gt?"text-slate-700 opacity-100":"text-slate-400 opacity-0"}`,children:B.name})]},st)}),sn.length===0&&S.jsx("div",{className:"col-span-full text-center py-10 text-amber-900/50 font-bold uppercase tracking-widest",children:"No animals found for this region."})]})})]})});return r==="menu"?S.jsxs("div",{className:"h-screen w-full bg-gradient-to-b from-green-900 to-green-700 overflow-x-hidden overflow-y-auto md:overflow-hidden relative flex flex-col md:flex-row items-center justify-start md:justify-center p-4 gap-6 py-12 md:py-0",children:[S.jsx("button",{onClick:()=>{Pt.play("click"),b(!0)},className:"absolute top-4 right-4 z-50 w-12 h-12 bg-white/10 backdrop-blur-md border-2 border-white/20 rounded-full shadow-lg text-white flex items-center justify-center hover:bg-white/20 hover:scale-110 hover:rotate-90 transition-all duration-500 group",title:"Settings",children:S.jsx("span",{className:"text-2xl drop-shadow-md",children:""})}),S.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:mr.map(B=>S.jsx("div",{className:"absolute emoji-sticker transition-transform duration-1000 ease-in-out hover:scale-110",style:{top:`${B.top}%`,left:`${B.left}%`,fontSize:`${B.size}rem`,transform:`rotate(${B.rotation}deg)`,opacity:B.opacity},children:B.emoji},B.id))}),S.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full max-w-md md:w-1/2 md:items-end md:pr-8 flex-shrink-0",children:[S.jsxs("h1",{className:"font-freckle text-5xl md:text-7xl text-green-950 sticker-text drop-shadow-2xl mb-4 tracking-wider leading-none whitespace-nowrap",children:["W",S.jsx("span",{className:"-mx-4 md:-mx-7 relative -top-1",children:""}),"LD GUESS"]}),S.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-5 md:p-6 rounded-3xl shadow-2xl w-full text-center border-4 border-white transform -rotate-1 mb-6",children:[S.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px] mb-3",children:"HOW TO PLAY"}),S.jsxs("div",{className:"flex justify-between items-start px-1 mb-2 gap-1",children:[S.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[S.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),S.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Real-Life Animal Sighting"})]}),S.jsx("div",{className:"text-slate-300 text-xl mt-2",children:""}),S.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[S.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),S.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Analyze the Clues"})]}),S.jsx("div",{className:"text-slate-300 text-xl mt-2",children:""}),S.jsxs("div",{className:"flex flex-col items-center w-1/3",children:[S.jsx("span",{className:"text-4xl mb-2 filter drop-shadow-sm",children:""}),S.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase tracking-tight leading-tight",children:"Identify the Animal"})]})]})]}),S.jsxs("div",{className:"w-full mb-4 relative z-20",children:[S.jsx("select",{value:nn,onChange:B=>{Pt.play("click"),_a(B.target.value)},className:"w-full bg-emerald-800 text-white font-bold py-3 px-4 rounded-xl border-4 border-white/20 shadow-lg appearance-none cursor-pointer focus:outline-none focus:border-emerald-400 text-center uppercase tracking-wide",children:Dk.map(B=>S.jsx("option",{value:B.value,className:"bg-white text-slate-800 font-bold text-sm py-2",children:B.label},B.value))}),S.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-white text-xl",children:""})]}),S.jsx("button",{onClick:Kt,onMouseEnter:()=>Pt.play("hover",.2),className:"relative overflow-hidden text-white font-bold py-4 rounded-full shadow-[0_6px_0_#14532d] active:shadow-none active:translate-y-1 transform transition-all border-4 border-white w-full hover:scale-105 bg-green-600 hover:bg-green-500",children:S.jsx("span",{className:"text-2xl font-black tracking-widest uppercase drop-shadow-md",children:"START EXPEDITION"})}),S.jsx("div",{className:"mt-4 flex flex-col items-center gap-3 w-full",children:K?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"bg-black/20 text-white/80 px-4 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-2",children:[K.photoURL&&S.jsx("img",{src:K.photoURL,alt:"User",className:"w-4 h-4 rounded-full border border-white/50"}),"Playing as: ",S.jsx("span",{className:"text-white",children:ft})]}),S.jsxs("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:qs,className:"bg-amber-100 text-amber-900 border-2 border-amber-300 px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[S.jsx("span",{className:"text-lg",children:""})," Field Journal"]}),S.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click"),re()},className:"text-[10px] text-green-200/70 hover:text-white font-bold uppercase tracking-widest transition-colors hover:underline decoration-green-400 decoration-2 underline-offset-4",children:"( Logout )"})]}):S.jsxs(S.Fragment,{children:[S.jsxs("button",{onClick:Fs,onMouseEnter:()=>Pt.play("hover",.2),className:"bg-white text-slate-700 border-2 border-slate-200 px-5 py-2 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg hover:scale-105 transition-transform flex items-center gap-2",children:[S.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[S.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),S.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),S.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),S.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Login with Google"]}),S.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[S.jsx("div",{className:"h-px bg-slate-200 flex-1"}),S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Or Play as Guest"}),S.jsx("div",{className:"h-px bg-slate-200 flex-1"})]}),S.jsxs("form",{onSubmit:B=>{B.preventDefault();const st=new FormData(B.target);zi(st.get("username"))},className:"space-y-4",children:[S.jsx("input",{name:"username",type:"text",placeholder:"Enter Guest Name...",maxLength:15,required:!0,className:"w-full px-4 py-3 text-lg border-2 border-slate-200 rounded-xl focus:border-emerald-500 focus:outline-none text-center font-bold text-slate-700 bg-slate-50"}),S.jsx("button",{type:"submit",disabled:bt,className:`w-full font-bold py-3 rounded-xl transition transform shadow-lg text-white ${bt?"bg-slate-400 cursor-not-allowed":"bg-slate-400 hover:bg-slate-500 hover:scale-[1.02]"}`,children:bt?"STARTING...":"PLAY AS GUEST"})]})]})})]}),S.jsx("div",{className:"relative z-10 w-full max-w-md md:w-1/2 h-[500px] md:h-[80vh] flex flex-col md:pl-8 flex-shrink-0 mb-12 md:mb-0",children:S.jsxs("div",{className:"bg-orange-50/95 backdrop-blur-sm rounded-3xl shadow-2xl border-4 border-orange-100 overflow-hidden flex flex-col h-full max-h-[500px] md:max-h-full",children:[S.jsxs("div",{className:"bg-orange-100 p-2 border-b border-orange-200 flex flex-col gap-2",children:[S.jsx("div",{className:"flex justify-between items-center px-2",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xl",children:""}),S.jsx("h2",{className:"text-orange-800 font-black tracking-wide text-sm uppercase",children:"Top Explorers"})]})}),S.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:["daily","weekly","monthly"].map(B=>{let st="";return B==="daily"&&(st="24 Hours"),B==="weekly"&&(st="7 Days"),B==="monthly"&&(st="30 Days"),S.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.1),ns(B)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${zn===B?"bg-white text-orange-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:st},B)})}),S.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:[{id:"hobbyist",label:"Hobbyist (10 games or less)"},{id:"explorer",label:"Expert Explorers"}].map(B=>S.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.1),Ds(B.id)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${jn===B.id?"bg-white text-emerald-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:B.label},B.id))})]}),S.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-3 space-y-2",children:ai.length===0?S.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-orange-300 opacity-50",children:[S.jsx("span",{className:"text-4xl mb-2",children:""}),S.jsx("span",{className:"font-bold text-sm uppercase",children:"Loading Scores..."})]}):ai.map((B,st)=>S.jsxs("div",{onMouseEnter:()=>Pt.play("hover",.2),className:`flex items-center justify-between p-3 rounded-xl border-b-4 transition-transform hover:scale-[1.01] ${B.id===K?.uid?"bg-white border-emerald-200 shadow-sm ring-2 ring-emerald-400 ring-offset-1":"bg-white border-orange-100 shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`font-black text-sm w-8 h-8 flex items-center justify-center rounded-lg ${st===0?"bg-yellow-400 text-yellow-900":st===1?"bg-slate-300 text-slate-700":st===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400"}`,children:st+1}),S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("span",{className:`font-bold text-sm leading-tight ${B.id===K?.uid?"text-emerald-700":"text-slate-700"}`,children:[B.username," ",B.id===K?.uid&&"(You)"]}),S.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[S.jsxs("span",{className:"text-[9px] text-slate-400 uppercase font-bold tracking-wider",children:[B.gamesPlayed||0," Expeditions"]}),S.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[B.discoveries||0," Animals Found"]})]})]})]}),S.jsxs("div",{className:"bg-orange-100 px-3 py-1 rounded-lg flex items-center gap-1",children:[S.jsx("span",{className:"font-mono font-black text-orange-600 text-sm",children:B.averageScore.toFixed(1)}),S.jsx("span",{className:"text-[9px] opacity-60 font-bold text-orange-800 pt-0.5",children:"AVG"})]})]},B.id))})]})}),!mt&&!nt&&S.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/90 backdrop-blur-sm flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-8 shadow-2xl text-center border-4 border-emerald-100 relative overflow-hidden",children:[S.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),K&&!K.isAnonymous?S.jsxs(S.Fragment,{children:[S.jsx("h2",{className:"text-3xl font-freckle text-emerald-600 mb-2",children:"Login Successful!"}),S.jsx("p",{className:"text-slate-500 mb-6 font-bold",children:"You are authenticated. Please choose a nickname to complete your profile."})]}):S.jsxs(S.Fragment,{children:[S.jsx("h2",{className:"text-3xl font-freckle text-green-950 mb-2",children:"Welcome to Wild Guess!"}),S.jsx("p",{className:"text-slate-500 mb-6",children:"Join the expedition to track your scores and compete on the leaderboard."}),S.jsxs("button",{onClick:Fs,onMouseEnter:()=>Pt.play("hover",.2),className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-slate-200 text-slate-700 font-bold py-3 rounded-xl shadow-sm hover:bg-slate-50 hover:border-slate-300 transition-all mb-6 group",children:[S.jsxs("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",children:[S.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),S.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),S.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),S.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]}),S.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[S.jsx("div",{className:"h-px bg-slate-200 flex-1"}),S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Or Play as Guest"}),S.jsx("div",{className:"h-px bg-slate-200 flex-1"})]})]}),S.jsxs("form",{onSubmit:B=>{B.preventDefault();const st=new FormData(B.target);zi(st.get("username"))},className:"space-y-4",children:[S.jsx("input",{name:"username",type:"text",placeholder:"Enter Explorer Name...",maxLength:15,required:!0,className:"w-full px-4 py-3 text-lg border-2 border-slate-200 rounded-xl focus:border-emerald-500 focus:outline-none text-center font-bold text-slate-700 bg-slate-50"}),S.jsx("button",{type:"submit",disabled:bt,className:`w-full font-bold py-3 rounded-xl transition transform shadow-lg text-white ${bt?"bg-slate-400 cursor-not-allowed":"bg-slate-400 hover:bg-slate-500 hover:scale-[1.02]"}`,children:bt?"SAVING...":K&&!K.isAnonymous?"COMPLETE PROFILE":"PLAY AS GUEST"})]})]})}),p&&S.jsx($n,{}),Ui,Di&&S.jsx("div",{className:"fixed inset-0 z-[130] bg-slate-900/80 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl border-4 border-green-400 relative animate-pop flex flex-col",children:[S.jsxs("div",{className:"bg-green-50 pt-8 pb-6 px-6 flex flex-col items-center relative flex-shrink-0",children:[S.jsx("button",{onClick:Wn,className:"absolute top-3 right-3 w-8 h-8 bg-green-200/50 rounded-full text-green-800 font-bold hover:bg-green-200 transition-colors flex items-center justify-center",children:""}),S.jsx("div",{className:"text-6xl mb-4 animate-pulse drop-shadow-md",children:""}),S.jsx("h2",{className:"text-2xl font-black text-green-800 uppercase tracking-widest text-center leading-none",children:"Ready for a Challenge?"})]}),S.jsxs("div",{className:"px-6 pb-6 pt-6 text-slate-700 flex flex-col items-center text-center",children:[S.jsxs("p",{className:"text-sm font-medium mb-2",children:["You've successfully observed ",S.jsx("span",{className:"font-bold text-green-600",children:"10+ animals!"})]}),S.jsxs("p",{className:"text-sm font-medium mb-6",children:["Turn on the ",S.jsx("span",{className:"font-bold text-green-600",children:"15-Second Timer"})," for a bit more of a challenge."]}),S.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-3 w-full mb-6 text-xs text-slate-500 font-bold uppercase tracking-wider flex items-center justify-center gap-2 shadow-inner",children:[S.jsx("span",{children:""})," You can always turn it off in settings"]}),S.jsxs("div",{className:"flex flex-col w-full gap-3",children:[S.jsxs("button",{onClick:li,className:"w-full bg-green-500 hover:bg-green-600 text-white font-black py-4 rounded-xl uppercase tracking-widest transition-transform hover:scale-[1.02] shadow-lg shadow-green-200/50 flex items-center justify-center gap-2",children:[S.jsx("span",{children:""})," Turn Timer On"]}),S.jsx("button",{onClick:Wn,className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-500 font-bold py-3 rounded-xl uppercase tracking-wider transition-colors text-xs",children:"No Thanks, Keep It Chill"})]})]})]})}),_o&&S.jsx("div",{className:"fixed inset-0 z-[120] bg-slate-900/80 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl border-4 border-emerald-400 relative animate-pop flex flex-col max-h-[90vh]",children:[S.jsxs("div",{className:"bg-emerald-50 pt-8 pb-4 px-6 flex flex-col items-center relative flex-shrink-0",children:[S.jsx("button",{onClick:At,className:"absolute top-3 right-3 w-8 h-8 bg-emerald-200/50 rounded-full text-emerald-800 font-bold hover:bg-emerald-200 transition-colors flex items-center justify-center",children:""}),S.jsx("img",{src:"/richard.jpg",alt:"Richard Bolland",className:"w-24 h-24 rounded-full shadow-lg border-4 border-white object-cover mb-4"}),S.jsx("h2",{className:"text-2xl font-black text-emerald-800 uppercase tracking-widest text-center leading-none",children:"Huge Update!"})]}),S.jsxs("div",{className:"px-6 pb-6 pt-2 overflow-y-auto custom-scroll text-slate-700 flex-1",children:[S.jsx("p",{className:"text-sm font-medium text-center mb-5 leading-relaxed",children:"A massive thanks to everyone who has played the game and offered feedback! It's been incredibly fun building this. Here's what's new:"}),S.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-2xl border border-slate-200 shadow-inner mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),S.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["Expanded to over ",S.jsx("span",{className:"text-emerald-600",children:"600 Animals"})]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),S.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["Including ",S.jsx("span",{className:"text-emerald-600",children:"6 Continents"})]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),S.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["Fresh ",S.jsx("span",{className:"text-emerald-600",children:"Categories"})]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),S.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["Restructed ",S.jsx("span",{className:"text-emerald-600",children:"Hints & Clues"})]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 bg-white rounded-lg shadow-sm flex items-center justify-center text-lg flex-shrink-0",children:""}),S.jsxs("span",{className:"text-sm font-bold text-slate-700 leading-tight",children:["A revamped ",S.jsx("span",{className:"text-emerald-600",children:"Scoring System"})]})]})]}),S.jsxs("p",{className:"text-xs text-center text-slate-500 font-bold mb-4 uppercase tracking-widest",children:["Hope you find some fun animals,",S.jsx("br",{}),S.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 hover:text-emerald-500 underline decoration-2 underline-offset-4 mt-1 inline-block transition-colors",children:"Richard Bolland"}),S.jsx("span",{className:"block text-[8px] mt-7 opacity-60",children:"A special shoutout to Clayden Knighton-Fitt who helped to add the extra animals."})]}),S.jsx("button",{onClick:At,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-black py-4 rounded-xl uppercase tracking-widest transition-transform hover:scale-[1.02] shadow-lg shadow-emerald-200/50",children:"Let's Play!"})]})]})})]}):r==="countdown"?S.jsx(Ok,{onComplete:Fe,stickers:mr,isReady:!!v&&ys}):S.jsxs("div",{className:"h-screen w-full flex flex-col md:flex-row bg-slate-100 overflow-hidden relative",children:[S.jsxs("div",{id:"landscape-warning",className:"fixed inset-0 z-[100] bg-slate-900 text-white flex-col items-center justify-center p-6 text-center",children:[S.jsx("div",{className:"text-6xl mb-6",children:""}),S.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Please Rotate Device"}),S.jsx("p",{className:"text-slate-300",children:"This game is designed for portrait mode."})]}),S.jsxs("div",{className:"flex-1 flex flex-col bg-white m-2 rounded-xl shadow-sm overflow-hidden relative order-1",children:[S.jsx("div",{className:"h-2 bg-slate-200 w-full flex-shrink-0",children:S.jsx("div",{className:`h-full transition-all duration-1000 linear ${l?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]":"bg-slate-300"}`,style:{width:`${pt/15*100}%`}})}),S.jsxs("div",{className:"flex-1 relative",children:[S.jsx("button",{onClick:()=>{Pt.play("click"),b(!0)},className:"absolute top-2 right-2 z-[60] w-10 h-10 bg-white/90 border-2 border-slate-300 rounded-full shadow-md text-slate-600 font-bold flex items-center justify-center hover:bg-slate-50 active:scale-95 transition-all",children:S.jsx("span",{className:"text-xl",children:""})}),p&&S.jsx($n,{}),js&&S.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 z-[80] bg-amber-500 text-white text-xs font-bold px-4 py-2 rounded-full shadow-lg animate-bounce flex items-center gap-2 whitespace-nowrap",children:[S.jsx("span",{children:""})," Server Offline: Using Backup Data"]}),Pi&&S.jsxs("div",{className:"absolute top-12 right-2 z-[70] bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-lg animate-pop max-w-[150px] text-right",children:["Tutorial hidden.",S.jsx("br",{}),'Tap "OFF" to restart.']}),S.jsxs("div",{className:"absolute inset-0",children:[S.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ${k>=0?"opacity-100":"opacity-0"}`,children:v&&S.jsx(kk,{lat:v.lat,lng:v.lng,zoom:at<1?2:11})}),S.jsx("div",{className:`hidden md:block absolute inset-0 z-10 transition-opacity duration-1000 bg-slate-200 overflow-hidden ${k>=4?"opacity-100":"opacity-0 pointer-events-none"}`,children:v?.image&&S.jsxs("div",{className:"w-full h-full relative",children:[S.jsx("img",{src:v.image,className:"w-full h-full object-cover blur-xl scale-110 transform",alt:"Revealed Animal"}),S.jsx("div",{className:"absolute inset-0 bg-black/10"})]})})]},F),S.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none flex flex-col items-center pb-2 px-2 md:pb-4 md:px-4",children:[at>=1&&v?.image&&S.jsx("div",{className:`absolute top-2 md:top-4 w-full flex justify-center pointer-events-auto ${k===4?"hidden md:flex":""}`,children:S.jsxs("div",{className:"relative bg-slate-200 rounded-2xl shadow-2xl overflow-hidden border-4 border-white w-48 h-32 md:w-64 md:h-48 flex-shrink-0 animate-pop",children:[S.jsx("img",{src:v.image,className:"w-full h-full object-cover blur-[4px] scale-110",alt:"Mystery Clue"}),S.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:S.jsx("span",{className:"text-6xl md:text-8xl font-black text-white/90 drop-shadow-md",children:"?"})})]})}),S.jsxs("div",{className:`mt-auto w-full flex items-center justify-center gap-2 md:gap-4 pointer-events-auto pb-2 ${k===4?"hidden md:flex":""}`,children:[S.jsx("button",{onClick:()=>{Pt.play("click",.1),ct(B=>B-1)},disabled:at===0,className:`w-10 h-10 md:w-12 md:h-12 flex-shrink-0 rounded-full bg-white/90 backdrop-blur-md shadow-lg border border-slate-200 text-slate-600 font-black flex items-center justify-center hover:bg-emerald-50 hover:text-emerald-600 transition-all active:scale-95 ${at===0?"opacity-0 pointer-events-none":"opacity-100 animate-pop"}`,children:""}),S.jsxs("div",{className:"relative min-w-[200px] max-w-sm w-full transition-all duration-300 flex justify-center",children:[at===0&&S.jsxs("div",{className:"bg-white/90 backdrop-blur-md px-3 py-2 md:px-6 md:py-4 rounded-xl shadow-xl border border-white/50 text-center w-full animate-pop",children:[S.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block tracking-wider mb-0.5 md:mb-1",children:"Scientific Name"}),S.jsx("span",{className:"text-emerald-800 italic font-serif text-base md:text-xl leading-none",children:v?.sciName||v?.displayLatin})]}),at===1&&S.jsxs("div",{className:"bg-white/90 backdrop-blur-md px-3 py-2 md:px-6 md:py-4 rounded-xl shadow-xl border border-white/50 text-center w-full animate-pop",children:[S.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-slate-400 uppercase block tracking-wider mb-0.5",children:"Location"}),S.jsx("span",{className:"text-slate-800 font-bold text-sm md:text-lg leading-tight block",children:v?.location})]}),at===2&&S.jsxs("div",{className:"bg-emerald-50/95 backdrop-blur-md px-4 py-3 md:px-6 md:py-4 rounded-xl shadow-xl border border-emerald-100 text-center w-full animate-pop",children:[S.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-emerald-600 uppercase block mb-1 tracking-wider",children:"Clue 1"}),S.jsxs("div",{className:"text-emerald-900 font-medium italic text-sm md:text-lg leading-tight",children:['"',v?.stats?.clue1,'"']})]}),at===3&&S.jsxs("div",{className:"bg-emerald-50/95 backdrop-blur-md px-4 py-3 md:px-6 md:py-4 rounded-xl shadow-xl border border-emerald-100 text-center w-full animate-pop",children:[S.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-emerald-600 uppercase block mb-1 tracking-wider",children:"Clue 2"}),S.jsxs("div",{className:"text-emerald-900 font-medium italic text-sm md:text-lg leading-tight",children:['"',v?.stats?.clue2,'"']})]})]}),S.jsx("button",{onClick:()=>{Pt.play("click",.1),ct(B=>B+1)},disabled:at>=k,className:`w-10 h-10 md:w-12 md:h-12 flex-shrink-0 rounded-full bg-white/90 backdrop-blur-md shadow-lg border border-slate-200 text-slate-600 font-black flex items-center justify-center hover:bg-emerald-50 hover:text-emerald-600 transition-all active:scale-95 ${at>=k||k===4?"opacity-0 pointer-events-none":"opacity-100 animate-pop"}`,children:""})]})]})]}),S.jsxs("div",{className:"h-14 bg-white border-t border-slate-100 flex items-center justify-between px-4 z-10 flex-shrink-0",children:[S.jsxs("div",{className:"flex items-center gap-3 bg-emerald-50 border-2 border-emerald-200 px-3 py-1 rounded-lg shadow-sm",children:[S.jsxs("div",{className:"flex flex-col items-end leading-none",children:[S.jsx("span",{className:"text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:"Potential"}),S.jsx("span",{className:"text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:"Points"})]}),S.jsx("div",{className:"text-4xl font-black text-emerald-600 drop-shadow-sm",children:jt})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onMouseEnter:()=>Pt.play("hover"),onClick:()=>xn("surrender"),disabled:ge,className:`px-4 py-2 text-xs rounded-full transition-all duration-300 ${k===4?"bg-red-500 text-white font-black tracking-widest shadow-lg hover:bg-red-600 hover:scale-105 animate-pulse":"text-slate-400 hover:text-red-500 font-medium"} ${ge?"opacity-30 cursor-not-allowed pointer-events-none":""}`,children:"GIVE UP"}),k<4&&S.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.2),Gs()},disabled:ge,className:`bg-blue-50 text-blue-600 px-4 py-1 rounded-full text-xs font-bold hover:bg-blue-100 transition ${ge?"opacity-30 cursor-not-allowed pointer-events-none":""}`,children:l?"NEXT CLUE":"REVEAL NEXT"})]})]})]}),S.jsx("div",{className:"h-[45%] md:h-full md:w-96 bg-slate-50 overflow-hidden border-t md:border-t-0 md:border-l border-slate-200 order-2 flex flex-col shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-40 relative",children:k===4?S.jsxs("div",{className:"flex-1 flex flex-col p-4 items-center bg-slate-100 overflow-hidden",children:[S.jsxs("div",{className:"flex-shrink-0 mb-4 text-center",children:[S.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-wide",children:"Final Guess"}),S.jsx("p",{className:"text-xs text-slate-500 font-bold mt-1",children:"Scroll to see all options"})]}),S.jsx("div",{className:"w-full space-y-3 flex-1 overflow-y-auto custom-scroll px-1 pb-2",children:Ur(v).map((B,st)=>S.jsxs("button",{onClick:()=>be(B),className:"w-full bg-white hover:bg-emerald-50 text-slate-700 hover:text-emerald-700 font-bold py-4 px-6 rounded-xl shadow-sm border-2 border-slate-200 hover:border-emerald-400 transition-all text-left flex items-center justify-between",children:[S.jsx("span",{className:"uppercase tracking-wider",children:B.name}),S.jsx("span",{children:""})]},st))})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"p-2 border-b border-slate-200 bg-slate-100 flex-shrink-0 z-10",children:S.jsxs("div",{className:"relative",children:[S.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:""}),S.jsx("input",{type:"text",value:ee,onChange:B=>{tn(B.target.value),ge&&Qt===4&&We()},placeholder:"Search animals...",onClick:()=>Pt.play("click",.2),disabled:Jt||ge&&Qt<4,className:"w-full pl-8 pr-3 py-2 bg-white border border-slate-300 rounded-lg text-xs font-bold text-slate-700 placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all shadow-sm disabled:opacity-50 disabled:bg-slate-50"}),ee&&S.jsx("button",{onClick:()=>tn(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 text-xs font-bold px-1",children:""})]})}),S.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-2 content-start",children:ee?S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Si.filter(B=>B.name.toLowerCase().includes(ee.toLowerCase())).map((B,st)=>{const gt=se.includes(B.name);return S.jsxs("button",{disabled:Jt||gt||ge&&Qt!==5&&Qt!==6,onClick:()=>{be(B.name),tn("")},className:`rounded-lg font-bold shadow-sm border border-slate-100 transition-all py-2 px-2 text-xs text-left flex items-center ${gt?"bg-red-50 text-red-300 border-red-100 cursor-not-allowed":"bg-white text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"} ${Jt||ge&&Qt!==5&&Qt!==6?"opacity-50":""}`,children:[S.jsx("span",{className:"mr-2 text-base",children:B.groupEmoji}),S.jsx("span",{className:"truncate",children:B.name})]},st)}),Si.filter(B=>B.name.toLowerCase().includes(ee.toLowerCase())).length===0&&S.jsx("div",{className:"col-span-2 text-center text-slate-400 text-xs py-4 italic",children:"No animals found"})]}):S.jsxs(S.Fragment,{children:[!H&&S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 h-full content-start",children:[S.jsxs("button",{onClick:()=>xe("ALL"),disabled:Jt||ge&&Qt<4,className:`rounded-xl flex items-center shadow-sm transition-all duration-200 bg-slate-200 text-slate-700 hover:bg-slate-300 hover:shadow-md cursor-pointer border border-slate-300 flex-row justify-start px-2 py-1 h-11 md:flex-col md:justify-center md:aspect-square md:h-auto md:px-0 ${Jt||ge&&Qt<4?"opacity-50":""}`,children:[S.jsx("span",{className:"text-xl mr-2 md:mr-0 md:mb-1",children:""}),S.jsx("span",{className:"text-[10px] md:text-[10px] font-bold uppercase tracking-tight text-left md:text-center leading-tight",children:"All Animals"})]}),wn.map((B,st)=>S.jsxs("button",{disabled:Jt||ge&&Qt<4,onClick:()=>xe(B),className:`rounded-xl flex items-center shadow-sm transition-all duration-200 bg-white hover:bg-emerald-50 hover:shadow-md cursor-pointer border border-slate-100 flex-row justify-start px-2 py-1 h-11 md:flex-col md:justify-center md:aspect-square md:h-auto md:px-0 ${Jt||ge&&Qt<4?"opacity-50":""}`,children:[S.jsx("span",{className:"text-xl mr-2 md:mr-0 md:mb-1",children:B.emoji}),S.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-tight text-left md:text-center leading-tight",children:B.name})]},st))]}),H&&S.jsxs("div",{className:"flex flex-col h-full",children:[S.jsx("button",{onMouseEnter:()=>Pt.play("hover",.1),onClick:()=>{Pt.play("click",.2),hi()},disabled:ge&&Qt!==5&&Qt!==6,className:`mb-2 flex items-center justify-center bg-slate-100 border border-slate-200 rounded-lg text-slate-500 hover:text-emerald-600 hover:bg-emerald-50 text-[10px] uppercase font-bold px-2 py-1.5 flex-shrink-0 transition-colors ${ge&&Qt!==5&&Qt!==6?"opacity-50":""}`,children:" Back to Categories"}),S.jsxs("div",{className:"text-center mb-2 flex-shrink-0",children:[S.jsx("span",{className:"text-xl inline-block mr-2",children:H==="ALL"?"":H.emoji}),S.jsx("span",{className:"text-sm font-bold text-slate-700",children:H==="ALL"?"All Animals":H.name})]}),S.jsx("div",{className:`grid gap-2 flex-1 content-start ${H==="ALL"?"grid-cols-3":"grid-cols-2"}`,children:(H==="ALL"?Si:H.animals).map((B,st)=>{const gt=se.includes(B.name);return S.jsxs("button",{disabled:Jt||gt||ge&&Qt!==5&&Qt!==6,onClick:()=>be(B),className:`rounded-lg font-bold shadow-sm border border-slate-100 transition-all leading-tight ${H==="ALL"?"py-1 px-1 text-[9px] h-10 flex flex-col justify-center items-center":"py-2 px-2 text-xs"} ${gt?"bg-red-50 text-red-300 border-red-100 cursor-not-allowed":"bg-white text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"} ${Jt||ge&&Qt!==5&&Qt!==6?"opacity-50":""}`,children:[H==="ALL"&&S.jsx("span",{className:"opacity-60 text-xs mb-0.5",children:B.groupEmoji}),S.jsx("span",{className:"truncate w-full text-center",children:B.name})]},st)})})]})]})})]})}),r==="summary"&&S.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm overflow-y-auto custom-scroll p-4 md:p-8 flex items-start md:items-center justify-center",children:S.jsxs("div",{className:"flex flex-col md:flex-row gap-6 w-full max-w-5xl my-auto justify-center items-center md:items-stretch",children:[S.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm flex-shrink-0 overflow-hidden shadow-2xl animate-pop flex flex-col h-fit",children:[S.jsxs("div",{className:"h-64 bg-slate-200 relative flex-shrink-0",children:[v?.image?S.jsx("img",{src:v.image,className:"w-full h-full object-cover",alt:"Animal"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:"No Image"}),v?.wikiSummary&&S.jsxs("button",{onClick:B=>{B.stopPropagation(),console.log(" STAR CLICKED! Wiki text exists:",!!v?.wikiSummary),Pt.play("click"),bs(!0)},className:"absolute top-3 right-3 z-[60] w-14 h-14 group hover:scale-110 transition-transform flex items-center justify-center",title:"Did You Know?",children:[S.jsx("svg",{className:"absolute inset-0 w-full h-full text-amber-400 animate-[spin_6s_linear_infinite] drop-shadow-lg group-hover:text-amber-300",viewBox:"0 0 100 100",children:S.jsx("polygon",{fill:"currentColor",points:"50,0 61,25 88,15 76,40 100,50 76,60 88,85 61,75 50,100 39,75 12,85 24,60 0,50 24,40 12,15 39,25"})}),S.jsx("span",{className:"relative z-10 text-xl font-black text-amber-900",children:""})]}),S.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 pt-12",children:[S.jsx("h2",{className:"text-white text-3xl font-bold leading-none",children:v?.correctName}),S.jsx("p",{className:"text-white/80 text-sm italic font-serif mt-1",children:v?.sciName})]})]}),S.jsxs("div",{className:"p-6 text-center flex-1 overflow-y-auto custom-scroll",children:[M==="win"?S.jsxs("div",{className:"mb-6",children:[S.jsx("h3",{className:"text-2xl font-bold text-emerald-600 mb-1",children:"Correct!"}),S.jsxs("p",{className:"text-slate-600 font-medium",children:["You earned ",S.jsxs("span",{className:"text-emerald-600 font-bold",children:[jt," points"]}),"."]})]}):S.jsxs("div",{className:"mb-6",children:[S.jsx("h3",{className:"text-2xl font-bold text-red-600 mb-1",children:"Missed it!"}),S.jsx("p",{className:"text-slate-600",children:"Better luck next time."})]}),S.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-left space-y-3 text-sm border border-slate-100 shadow-inner",children:[S.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[S.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Observed By"}),v?.link?S.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 font-medium hover:underline truncate max-w-[150px]",children:[v.recordedBy," "]}):S.jsx("span",{className:"text-slate-700 font-medium",children:v?.recordedBy})]}),S.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[S.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Date"}),S.jsx("span",{className:"text-slate-700 font-medium",children:v?.stats?.date})]}),S.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[S.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-wider",children:"Location"}),S.jsx("span",{className:"text-slate-700 text-right max-w-[60%] font-medium",children:v?.location})]}),S.jsxs("div",{className:"pt-4 mt-2 border-t border-slate-100 flex items-center justify-between text-[10px] text-slate-400",children:[S.jsxs("div",{children:["Source: ",S.jsx("a",{href:"https://www.inaturalist.org",target:"_blank",rel:"noopener noreferrer",className:"hover:text-emerald-600 underline",children:"iNaturalist"})]}),S.jsxs("button",{onClick:Ci,className:"flex items-center gap-1 text-slate-300 hover:text-red-400 transition-colors font-bold uppercase tracking-wider",title:"Report bad data, wrong location, or dead animal",children:[S.jsx("span",{children:""})," Report Issue"]})]})]})]}),S.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex-shrink-0 flex flex-col gap-2",children:[S.jsx("button",{onClick:Kt,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 rounded-xl transition shadow-lg shadow-emerald-200 transform hover:scale-[1.02] uppercase tracking-widest",children:"Play Again"}),S.jsxs("button",{onClick:()=>{Pt.play("click"),is(!Oi)},className:`w-full font-bold py-3 rounded-xl transition-all shadow-lg transform flex items-center justify-center gap-2 uppercase tracking-widest ${Oi?"bg-slate-100 text-slate-600 shadow-inner scale-95":"bg-blue-600 hover:bg-blue-700 text-white hover:scale-[1.02] shadow-blue-200"}`,children:[S.jsx("span",{children:Oi?"":""}),Oi?"Close Options":"Share Discovery"]}),S.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${Oi?"max-h-24 opacity-100 mb-1":"max-h-0 opacity-0"}`,children:S.jsxs("div",{className:"flex gap-2 justify-center pt-2",children:[S.jsx("button",{onClick:()=>{Pt.play("click"),Pe()},className:"flex-1 bg-[#25D366] hover:bg-[#20bd5a] text-white py-3 rounded-xl shadow-md flex flex-col items-center justify-center gap-1 transition-transform hover:scale-105 active:scale-95",children:S.jsx("span",{className:"text-xl",children:""})}),S.jsx("button",{onClick:()=>{Pt.play("click"),pr()},className:"flex-1 bg-[#1877F2] hover:bg-[#166fe5] text-white py-3 rounded-xl shadow-md flex flex-col items-center justify-center gap-1 transition-transform hover:scale-105 active:scale-95",children:S.jsx("span",{className:"text-xl",children:"fb"})}),S.jsx("button",{onClick:()=>{Pt.play("click"),Zs()},className:"flex-1 bg-black hover:bg-gray-800 text-white py-3 rounded-xl shadow-md flex flex-col items-center justify-center gap-1 transition-transform hover:scale-105 active:scale-95",children:S.jsx("span",{className:"text-xl",children:""})}),S.jsx("button",{onClick:()=>{Pt.play("click"),ji()},className:"flex-1 bg-slate-200 hover:bg-slate-300 text-slate-600 py-3 rounded-xl shadow-md flex flex-col items-center justify-center gap-1 transition-transform hover:scale-105 active:scale-95",children:S.jsx("span",{className:"text-xl",children:""})})]})}),S.jsxs("div",{className:"flex gap-3 mt-0",children:[S.jsx("button",{onClick:qs,className:`flex-1 font-bold py-3 rounded-xl transition border-2 flex items-center justify-center text-1xl shadow-sm hover:scale-105 active:scale-95 ${He.length>0?"bg-emerald-100 border-emerald-400 text-emerald-800 animate-wiggle shadow-emerald-200":"bg-amber-100 border-amber-200 text-amber-900 hover:bg-amber-200"}`,title:"Open Field Journal",children:""}),S.jsx("button",{onClick:()=>{Pt.play("click"),Hs()},className:"flex-1 bg-red-400 hover:bg-red-600 text-slate-600 font-bold py-3 rounded-xl shadow-sm border-2 border-slate-300 flex items-center justify-center text-1xl transition-transform hover:scale-105 active:scale-95",title:"Exit to Main Menu",children:"]"})]})]})]}),S.jsxs("div",{className:"w-full max-w-sm bg-orange-50/95 backdrop-blur-sm rounded-3xl shadow-2xl border-4 border-orange-100 overflow-hidden flex flex-col h-[500px] md:h-auto md:max-h-full animate-pop delay-100",children:[S.jsxs("div",{className:"bg-orange-100 p-2 border-b border-orange-200 flex flex-col gap-2",children:[S.jsx("div",{className:"flex justify-between items-center px-2",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xl",children:""}),S.jsx("h2",{className:"text-orange-800 font-black tracking-wide text-sm uppercase",children:"Top Explorers"})]})}),S.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:["daily","weekly","allTime"].map(B=>S.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.1),ns(B)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${zn===B?"bg-white text-orange-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:B==="allTime"?"All Time":B},B))}),S.jsx("div",{className:"flex bg-orange-200/50 p-1 rounded-lg",children:[{id:"hobbyist",label:"Hobbyist (10 games or less)"},{id:"explorer",label:"Explorer (11+)"}].map(B=>S.jsx("button",{onMouseEnter:()=>Pt.play("hover",.2),onClick:()=>{Pt.play("click",.1),Ds(B.id)},className:`flex-1 text-[10px] font-bold uppercase py-1.5 rounded-md transition-all ${jn===B.id?"bg-white text-emerald-600 shadow-sm scale-105":"text-orange-800/60 hover:text-orange-800"}`,children:B.label},B.id))})]}),S.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll p-3 space-y-2",children:ai.length===0?S.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-orange-300 opacity-50",children:[S.jsx("span",{className:"text-4xl mb-2",children:""}),S.jsx("span",{className:"font-bold text-sm uppercase",children:"Loading Scores..."})]}):ai.map((B,st)=>S.jsxs("div",{onMouseEnter:()=>Pt.play("hover",.2),className:`flex items-center justify-between p-3 rounded-xl border-b-4 transition-transform hover:scale-[1.01] ${B.id===K?.uid?"bg-white border-emerald-200 shadow-sm ring-2 ring-emerald-400 ring-offset-1":"bg-white border-orange-100 shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`font-black text-sm w-8 h-8 flex items-center justify-center rounded-lg ${st===0?"bg-yellow-400 text-yellow-900":st===1?"bg-slate-300 text-slate-700":st===2?"bg-amber-600 text-amber-100":"bg-slate-100 text-slate-400"}`,children:st+1}),S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("span",{className:`font-bold text-sm leading-tight ${B.id===K?.uid?"text-emerald-700":"text-slate-700"}`,children:[B.username," ",B.id===K?.uid&&"(You)"]}),S.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[S.jsxs("span",{className:"text-[9px] text-slate-400 uppercase font-bold tracking-wider",children:[B.gamesPlayed||0," Expeditions"]}),S.jsxs("span",{className:"text-[9px] text-emerald-600/80 uppercase font-bold tracking-wider",children:[B.discoveries||0," Animals Found"]})]})]})]}),S.jsxs("div",{className:"bg-orange-100 px-3 py-1 rounded-lg flex items-center gap-1",children:[S.jsx("span",{className:"font-mono font-black text-orange-600 text-sm",children:B.averageScore.toFixed(1)}),S.jsx("span",{className:"text-[9px] opacity-60 font-bold text-orange-800 pt-0.5",children:"AVG"})]})]},B.id))})]})]})}),Qe&&He.length>0?S.jsx(Pk,{pendingAnimals:He,onConfirmOne:Vi,onConfirmAll:dr,allAnimalsFlat:bn}):Ui,ge&&S.jsx("div",{className:`absolute z-[100] max-w-[280px] ${Mn[Qt].positionClasses}`,children:S.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-4 border-2 border-emerald-500 relative animate-pop",children:[S.jsx("div",{className:`absolute w-0 h-0 border-[10px] ${Mn[Qt].arrowClasses}`}),S.jsx("p",{className:"text-slate-700 font-bold text-sm mb-3 leading-snug",children:Mn[Qt].text.split("**").map((B,st)=>st%2===1?S.jsx("span",{className:"text-emerald-600 font-black",children:B},st):B)}),!Mn[Qt].hideButton&&S.jsx("button",{onMouseEnter:()=>Pt.play("hover"),onClick:We,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 rounded-lg text-xs uppercase tracking-wider shadow-sm",children:Mn[Qt].buttonText})]})}),yo&&S.jsx("div",{style:{zIndex:9999},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:S.jsxs("div",{className:"bg-amber-50 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden border-4 border-amber-300 relative animate-pop flex flex-col max-h-[85vh]",children:[S.jsxs("div",{className:"bg-amber-200/50 p-4 border-b border-amber-300 flex justify-between items-center flex-shrink-0",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-2xl animate-pulse drop-shadow-sm",children:""}),S.jsx("h2",{className:"font-black text-amber-900 uppercase tracking-widest text-lg",children:"Did You Know?"})]}),S.jsx("button",{onClick:()=>{Pt.play("click"),bs(!1)},className:"w-8 h-8 bg-amber-300 hover:bg-amber-400 rounded-full text-amber-900 font-bold flex items-center justify-center transition-colors shadow-sm",children:""})]}),S.jsxs("div",{className:"p-6 overflow-y-auto custom-scroll text-slate-700 leading-relaxed text-sm",children:[S.jsxs("div",{className:"mb-5 border-b border-amber-200/50 pb-3",children:[S.jsx("h3",{className:"text-2xl font-black text-amber-800 mb-1 leading-none",children:v.correctName}),S.jsx("p",{className:"text-sm italic text-amber-700 opacity-80 font-serif",children:v.sciName})]}),S.jsx("div",{className:"space-y-4",dangerouslySetInnerHTML:{__html:v.wikiSummary}}),S.jsx("div",{className:"mt-6 pt-4 border-t border-amber-200/50 text-right",children:S.jsxs("a",{href:`https://en.wikipedia.org/wiki/${v.correctName.replace(/\s+/g,"_")}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-bold uppercase tracking-wider text-amber-600 hover:text-amber-800 flex items-center justify-end gap-1 transition-colors",children:["Read full article on Wikipedia ",S.jsx("span",{children:""})]})})]})]})})]})};JE.createRoot(document.getElementById("root")).render(S.jsx(FE.StrictMode,{children:S.jsx(Vk,{})}));
